// src/agents/code-review-executor.ts
class CodeReviewExecutor {
  coordinator;
  constructor(coordinator) {
    this.coordinator = coordinator;
  }
  async executeCodeReview(input) {
    const startTime = Date.now();
    try {
      const tasks = this.createReviewTasks(input);
      const results = await this.coordinator.executeTasks(tasks, {
        type: "parallel",
        weights: {
          ["code-reviewer" /* CODE_REVIEWER */]: 0.3,
          ["security-scanner" /* SECURITY_SCANNER */]: 0.25,
          ["performance-engineer" /* PERFORMANCE_ENGINEER */]: 0.2,
          ["frontend-reviewer" /* FRONTEND_REVIEWER */]: 0.25
        },
        conflictResolution: "highest_confidence"
      });
      const findings = this.aggregateFindings(results);
      const summary = this.generateSummary(findings);
      const recommendations = this.generateRecommendations(findings, results);
      const overallScore = this.calculateOverallScore(findings);
      const executionTime = Date.now() - startTime;
      return {
        findings,
        summary,
        recommendations,
        overallScore
      };
    } catch (error) {
      throw new Error(`Code review execution failed: ${error instanceof Error ? error.message : "Unknown error"}`);
    }
  }
  async executeFocusedReview(input, focus) {
    const focusedInput = {
      ...input,
      reviewType: focus === "general" ? "full" : focus
    };
    return this.executeCodeReview(focusedInput);
  }
  async executeIncrementalReview(input, baseBranch) {
    const incrementalInput = {
      ...input,
      reviewType: "incremental",
      context: {
        ...input.context,
        baseBranch,
        incremental: true
      }
    };
    return this.executeCodeReview(incrementalInput);
  }
  createReviewTasks(input) {
    const tasks = [];
    const baseContext = {
      files: input.files,
      reviewType: input.reviewType,
      severity: input.severity,
      context: input.context
    };
    tasks.push({
      id: "review-general",
      type: "code-reviewer" /* CODE_REVIEWER */,
      name: "General Code Review",
      description: "Review code quality, style, and best practices",
      input: {
        type: "code-reviewer" /* CODE_REVIEWER */,
        context: {
          ...baseContext,
          focus: "general",
          checks: [
            "style",
            "best-practices",
            "maintainability",
            "documentation"
          ]
        },
        parameters: {
          strictMode: input.severity === "critical",
          includeSuggestions: true
        }
      },
      strategy: "sequential" /* SEQUENTIAL */,
      timeout: 15000
    });
    if (this.shouldIncludeSecurityReview(input)) {
      tasks.push({
        id: "review-security",
        type: "security-scanner" /* SECURITY_SCANNER */,
        name: "Security Review",
        description: "Review code for security vulnerabilities and issues",
        input: {
          type: "security-scanner" /* SECURITY_SCANNER */,
          context: {
            ...baseContext,
            focus: "security",
            checks: [
              "vulnerabilities",
              "authentication",
              "authorization",
              "data-validation"
            ]
          },
          parameters: {
            severity: input.severity,
            scanDepth: "deep"
          }
        },
        strategy: "sequential" /* SEQUENTIAL */,
        timeout: 12000
      });
    }
    if (this.shouldIncludePerformanceReview(input)) {
      tasks.push({
        id: "review-performance",
        type: "performance-engineer" /* PERFORMANCE_ENGINEER */,
        name: "Performance Review",
        description: "Review code for performance issues and optimizations",
        input: {
          type: "performance-engineer" /* PERFORMANCE_ENGINEER */,
          context: {
            ...baseContext,
            focus: "performance",
            checks: [
              "complexity",
              "memory-usage",
              "algorithm-efficiency",
              "bottlenecks"
            ]
          },
          parameters: {
            threshold: input.severity === "critical" ? "strict" : "moderate",
            includeOptimizations: true
          }
        },
        strategy: "sequential" /* SEQUENTIAL */,
        timeout: 1e4
      });
    }
    if (this.shouldIncludeFrontendReview(input)) {
      tasks.push({
        id: "review-frontend",
        type: "frontend-reviewer" /* FRONTEND_REVIEWER */,
        name: "Frontend Review",
        description: "Review frontend code for UX, accessibility, and best practices",
        input: {
          type: "frontend-reviewer" /* FRONTEND_REVIEWER */,
          context: {
            ...baseContext,
            focus: "frontend",
            checks: [
              "accessibility",
              "responsive-design",
              "user-experience",
              "browser-compatibility"
            ]
          },
          parameters: {
            includeAccessibility: true,
            includeResponsive: true,
            browserTargets: ["chrome", "firefox", "safari", "edge"]
          }
        },
        strategy: "sequential" /* SEQUENTIAL */,
        timeout: 12000
      });
    }
    return tasks;
  }
  aggregateFindings(results) {
    const allFindings = [];
    const seen = new Set;
    for (const result of results) {
      if (result.status === "completed" /* COMPLETED */ && result.output?.success) {
        const agentFindings = result.output?.result?.findings || [];
        for (const finding of agentFindings) {
          const key = `${finding.file}:${finding.line}:${finding.message}`;
          if (!seen.has(key)) {
            seen.add(key);
            allFindings.push({
              file: finding.file,
              line: finding.line,
              severity: finding.severity || "medium",
              category: finding.category || "general",
              message: finding.message,
              suggestion: finding.suggestion,
              confidence: finding.confidence || "medium" /* MEDIUM */,
              agent: result.type
            });
          }
        }
      }
    }
    return allFindings.sort((a, b) => {
      const severityOrder = { critical: 4, high: 3, medium: 2, low: 1 };
      const severityDiff = (severityOrder[b.severity] || 0) - (severityOrder[a.severity] || 0);
      if (severityDiff !== 0)
        return severityDiff;
      return a.file.localeCompare(b.file) || a.line - b.line;
    });
  }
  generateSummary(findings) {
    const summary = {
      total: findings.length,
      bySeverity: {},
      byCategory: {}
    };
    for (const finding of findings) {
      summary.bySeverity[finding.severity] = (summary.bySeverity[finding.severity] || 0) + 1;
      summary.byCategory[finding.category] = (summary.byCategory[finding.category] || 0) + 1;
    }
    return summary;
  }
  generateRecommendations(findings, results) {
    const recommendations = [];
    for (const result of results) {
      if (result.status === "completed" /* COMPLETED */ && result.output?.result?.recommendations) {
        recommendations.push(...result.output.result.recommendations);
      }
    }
    const criticalFindings = findings.filter((f) => f.severity === "critical");
    const highFindings = findings.filter((f) => f.severity === "high");
    if (criticalFindings.length > 0) {
      recommendations.push(`Address ${criticalFindings.length} critical security/stability issues immediately`);
    }
    if (highFindings.length > 0) {
      recommendations.push(`Prioritize fixing ${highFindings.length} high-priority issues`);
    }
    if (findings.length > 10) {
      recommendations.push("Consider breaking down this review into smaller, focused reviews");
    }
    const securityFindings = findings.filter((f) => f.category === "security");
    if (securityFindings.length > 0) {
      recommendations.push("Schedule a dedicated security review to address all security concerns");
    }
    const performanceFindings = findings.filter((f) => f.category === "performance");
    if (performanceFindings.length > 0) {
      recommendations.push("Consider performance testing to validate optimization improvements");
    }
    return [...new Set(recommendations)];
  }
  calculateOverallScore(findings) {
    if (findings.length === 0) {
      return 100;
    }
    let score = 100;
    for (const finding of findings) {
      switch (finding.severity) {
        case "critical":
          score -= 20;
          break;
        case "high":
          score -= 10;
          break;
        case "medium":
          score -= 5;
          break;
        case "low":
          score -= 2;
          break;
      }
    }
    const avgConfidence = findings.reduce((sum, f) => {
      const confValue = this.getConfidenceValue(f.confidence);
      return sum + confValue;
    }, 0) / findings.length;
    score = score * avgConfidence;
    return Math.max(0, Math.min(100, Math.round(score)));
  }
  shouldIncludeSecurityReview(input) {
    return input.reviewType === "full" || input.reviewType === "security" || input.severity === "critical";
  }
  shouldIncludePerformanceReview(input) {
    return input.reviewType === "full" || input.reviewType === "performance";
  }
  shouldIncludeFrontendReview(input) {
    return input.reviewType === "full" || this.hasFrontendFiles(input.files);
  }
  hasFrontendFiles(files) {
    const frontendExtensions = [
      ".js",
      ".jsx",
      ".ts",
      ".tsx",
      ".vue",
      ".svelte",
      ".html",
      ".css",
      ".scss",
      ".less"
    ];
    return files.some((file) => frontendExtensions.some((ext) => file.endsWith(ext)));
  }
  getConfidenceValue(confidence) {
    switch (confidence) {
      case "very_high" /* VERY_HIGH */:
        return 1;
      case "high" /* HIGH */:
        return 0.9;
      case "medium" /* MEDIUM */:
        return 0.7;
      case "low" /* LOW */:
        return 0.5;
      default:
        return 0.7;
    }
  }
}
export {
  CodeReviewExecutor
};

//# debugId=04673D6AB71AF95D64756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2FnZW50cy9jb2RlLXJldmlldy1leGVjdXRvci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIvKipcbiAqIE11bHRpLWFnZW50IGNvZGUgcmV2aWV3IGV4ZWN1dG9yIGZvciB0aGUgRmVyZyBFbmdpbmVlcmluZyBTeXN0ZW0uXG4gKiBDb29yZGluYXRlcyBtdWx0aXBsZSBzcGVjaWFsaXplZCBhZ2VudHMgdG8gcGVyZm9ybSBjb21wcmVoZW5zaXZlIGNvZGUgcmV2aWV3cy5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IEFnZW50Q29vcmRpbmF0b3IgfSBmcm9tIFwiLi9jb29yZGluYXRvclwiO1xuaW1wb3J0IHtcbiAgICB0eXBlIEFnZW50VGFzayxcbiAgICBBZ2VudFRhc2tTdGF0dXMsXG4gICAgQWdlbnRUeXBlLFxuICAgIEFnZ3JlZ2F0aW9uU3RyYXRlZ3ksXG4gICAgdHlwZSBDb2RlUmV2aWV3RmluZGluZyxcbiAgICB0eXBlIENvZGVSZXZpZXdJbnB1dCxcbiAgICB0eXBlIENvZGVSZXZpZXdPdXRwdXQsXG4gICAgQ29uZmlkZW5jZUxldmVsLFxuICAgIEV4ZWN1dGlvblN0cmF0ZWd5LFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29kZVJldmlld0V4ZWN1dG9yIHtcbiAgICBwcml2YXRlIGNvb3JkaW5hdG9yOiBBZ2VudENvb3JkaW5hdG9yO1xuXG4gICAgY29uc3RydWN0b3IoY29vcmRpbmF0b3I6IEFnZW50Q29vcmRpbmF0b3IpIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRvciA9IGNvb3JkaW5hdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSBjb21wcmVoZW5zaXZlIGNvZGUgcmV2aWV3IHVzaW5nIG11bHRpcGxlIGFnZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBleGVjdXRlQ29kZVJldmlldyhcbiAgICAgICAgaW5wdXQ6IENvZGVSZXZpZXdJbnB1dCxcbiAgICApOiBQcm9taXNlPENvZGVSZXZpZXdPdXRwdXQ+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHJldmlldyB0YXNrcyBmb3IgZGlmZmVyZW50IGFzcGVjdHNcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gdGhpcy5jcmVhdGVSZXZpZXdUYXNrcyhpbnB1dCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGFza3MgaW4gcGFyYWxsZWwgZm9yIGVmZmljaWVuY3lcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmNvb3JkaW5hdG9yLmV4ZWN1dGVUYXNrcyh0YXNrcywge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicGFyYWxsZWxcIixcbiAgICAgICAgICAgICAgICB3ZWlnaHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIFtBZ2VudFR5cGUuQ09ERV9SRVZJRVdFUl06IDAuMyxcbiAgICAgICAgICAgICAgICAgICAgW0FnZW50VHlwZS5TRUNVUklUWV9TQ0FOTkVSXTogMC4yNSxcbiAgICAgICAgICAgICAgICAgICAgW0FnZW50VHlwZS5QRVJGT1JNQU5DRV9FTkdJTkVFUl06IDAuMixcbiAgICAgICAgICAgICAgICAgICAgW0FnZW50VHlwZS5GUk9OVEVORF9SRVZJRVdFUl06IDAuMjUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb25mbGljdFJlc29sdXRpb246IFwiaGlnaGVzdF9jb25maWRlbmNlXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQWdncmVnYXRlIGZpbmRpbmdzIGZyb20gYWxsIGFnZW50c1xuICAgICAgICAgICAgY29uc3QgZmluZGluZ3MgPSB0aGlzLmFnZ3JlZ2F0ZUZpbmRpbmdzKHJlc3VsdHMpO1xuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBzdW1tYXJ5IGFuZCByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IHN1bW1hcnkgPSB0aGlzLmdlbmVyYXRlU3VtbWFyeShmaW5kaW5ncyk7XG4gICAgICAgICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSB0aGlzLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKFxuICAgICAgICAgICAgICAgIGZpbmRpbmdzLFxuICAgICAgICAgICAgICAgIHJlc3VsdHMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbFNjb3JlID0gdGhpcy5jYWxjdWxhdGVPdmVyYWxsU2NvcmUoZmluZGluZ3MpO1xuXG4gICAgICAgICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaW5kaW5ncyxcbiAgICAgICAgICAgICAgICBzdW1tYXJ5LFxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9ucyxcbiAgICAgICAgICAgICAgICBvdmVyYWxsU2NvcmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBDb2RlIHJldmlldyBleGVjdXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJ9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGEgZm9jdXNlZCBjb2RlIHJldmlldyBmb3Igc3BlY2lmaWMgYXNwZWN0c1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBleGVjdXRlRm9jdXNlZFJldmlldyhcbiAgICAgICAgaW5wdXQ6IENvZGVSZXZpZXdJbnB1dCxcbiAgICAgICAgZm9jdXM6IFwic2VjdXJpdHlcIiB8IFwicGVyZm9ybWFuY2VcIiB8IFwiZnJvbnRlbmRcIiB8IFwiZ2VuZXJhbFwiLFxuICAgICk6IFByb21pc2U8Q29kZVJldmlld091dHB1dD4ge1xuICAgICAgICBjb25zdCBmb2N1c2VkSW5wdXQgPSB7XG4gICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgIHJldmlld1R5cGU6XG4gICAgICAgICAgICAgICAgZm9jdXMgPT09IFwiZ2VuZXJhbFwiXG4gICAgICAgICAgICAgICAgICAgID8gXCJmdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoZm9jdXMgYXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBcInNlY3VyaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBcInBlcmZvcm1hbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBcImZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB8IFwiaW5jcmVtZW50YWxcIiksXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZUNvZGVSZXZpZXcoZm9jdXNlZElucHV0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGluY3JlbWVudGFsIGNvZGUgcmV2aWV3IGZvciBjaGFuZ2VkIGZpbGVzXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIGV4ZWN1dGVJbmNyZW1lbnRhbFJldmlldyhcbiAgICAgICAgaW5wdXQ6IENvZGVSZXZpZXdJbnB1dCxcbiAgICAgICAgYmFzZUJyYW5jaD86IHN0cmluZyxcbiAgICApOiBQcm9taXNlPENvZGVSZXZpZXdPdXRwdXQ+IHtcbiAgICAgICAgY29uc3QgaW5jcmVtZW50YWxJbnB1dCA9IHtcbiAgICAgICAgICAgIC4uLmlucHV0LFxuICAgICAgICAgICAgcmV2aWV3VHlwZTogXCJpbmNyZW1lbnRhbFwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgIC4uLmlucHV0LmNvbnRleHQsXG4gICAgICAgICAgICAgICAgYmFzZUJyYW5jaCxcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRhbDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZUNvZGVSZXZpZXcoaW5jcmVtZW50YWxJbnB1dCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJldmlldyB0YXNrcyBmb3IgZGlmZmVyZW50IGNvZGUgYXNwZWN0c1xuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlUmV2aWV3VGFza3MoaW5wdXQ6IENvZGVSZXZpZXdJbnB1dCk6IEFnZW50VGFza1tdIHtcbiAgICAgICAgY29uc3QgdGFza3M6IEFnZW50VGFza1tdID0gW107XG4gICAgICAgIGNvbnN0IGJhc2VDb250ZXh0ID0ge1xuICAgICAgICAgICAgZmlsZXM6IGlucHV0LmZpbGVzLFxuICAgICAgICAgICAgcmV2aWV3VHlwZTogaW5wdXQucmV2aWV3VHlwZSxcbiAgICAgICAgICAgIHNldmVyaXR5OiBpbnB1dC5zZXZlcml0eSxcbiAgICAgICAgICAgIGNvbnRleHQ6IGlucHV0LmNvbnRleHQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gR2VuZXJhbCBjb2RlIHJldmlldyB0YXNrXG4gICAgICAgIHRhc2tzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IFwicmV2aWV3LWdlbmVyYWxcIixcbiAgICAgICAgICAgIHR5cGU6IEFnZW50VHlwZS5DT0RFX1JFVklFV0VSLFxuICAgICAgICAgICAgbmFtZTogXCJHZW5lcmFsIENvZGUgUmV2aWV3XCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXZpZXcgY29kZSBxdWFsaXR5LCBzdHlsZSwgYW5kIGJlc3QgcHJhY3RpY2VzXCIsXG4gICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IEFnZW50VHlwZS5DT0RFX1JFVklFV0VSLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzOiBcImdlbmVyYWxcIixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJlc3QtcHJhY3RpY2VzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1haW50YWluYWJpbGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkb2N1bWVudGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmljdE1vZGU6IGlucHV0LnNldmVyaXR5ID09PSBcImNyaXRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVTdWdnZXN0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmF0ZWd5OiBFeGVjdXRpb25TdHJhdGVneS5TRVFVRU5USUFMLFxuICAgICAgICAgICAgdGltZW91dDogMTUwMDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNlY3VyaXR5IHJldmlldyB0YXNrXG4gICAgICAgIGlmICh0aGlzLnNob3VsZEluY2x1ZGVTZWN1cml0eVJldmlldyhpbnB1dCkpIHtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBcInJldmlldy1zZWN1cml0eVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IEFnZW50VHlwZS5TRUNVUklUWV9TQ0FOTkVSLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiU2VjdXJpdHkgUmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgICAgICAgIFwiUmV2aWV3IGNvZGUgZm9yIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBhbmQgaXNzdWVzXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWdlbnRUeXBlLlNFQ1VSSVRZX1NDQU5ORVIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IFwic2VjdXJpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidnVsbmVyYWJpbGl0aWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXV0aG9yaXphdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS12YWxpZGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogaW5wdXQuc2V2ZXJpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FuRGVwdGg6IFwiZGVlcFwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3k6IEV4ZWN1dGlvblN0cmF0ZWd5LlNFUVVFTlRJQUwsXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTIwMDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIHJldmlldyB0YXNrXG4gICAgICAgIGlmICh0aGlzLnNob3VsZEluY2x1ZGVQZXJmb3JtYW5jZVJldmlldyhpbnB1dCkpIHtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBcInJldmlldy1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IEFnZW50VHlwZS5QRVJGT1JNQU5DRV9FTkdJTkVFUixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlBlcmZvcm1hbmNlIFJldmlld1wiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgICBcIlJldmlldyBjb2RlIGZvciBwZXJmb3JtYW5jZSBpc3N1ZXMgYW5kIG9wdGltaXphdGlvbnNcIixcbiAgICAgICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZ2VudFR5cGUuUEVSRk9STUFOQ0VfRU5HSU5FRVIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmJhc2VDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IFwicGVyZm9ybWFuY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tcGxleGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWVtb3J5LXVzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGdvcml0aG0tZWZmaWNpZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYm90dGxlbmVja3NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXZlcml0eSA9PT0gXCJjcml0aWNhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJzdHJpY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwibW9kZXJhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVPcHRpbWl6YXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3k6IEV4ZWN1dGlvblN0cmF0ZWd5LlNFUVVFTlRJQUwsXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZyb250ZW5kIHJldmlldyB0YXNrXG4gICAgICAgIGlmICh0aGlzLnNob3VsZEluY2x1ZGVGcm9udGVuZFJldmlldyhpbnB1dCkpIHtcbiAgICAgICAgICAgIHRhc2tzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBcInJldmlldy1mcm9udGVuZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IEFnZW50VHlwZS5GUk9OVEVORF9SRVZJRVdFUixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkZyb250ZW5kIFJldmlld1wiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgICBcIlJldmlldyBmcm9udGVuZCBjb2RlIGZvciBVWCwgYWNjZXNzaWJpbGl0eSwgYW5kIGJlc3QgcHJhY3RpY2VzXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWdlbnRUeXBlLkZST05URU5EX1JFVklFV0VSLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5iYXNlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBcImZyb250ZW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFjY2Vzc2liaWxpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlc3BvbnNpdmUtZGVzaWduXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1c2VyLWV4cGVyaWVuY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJyb3dzZXItY29tcGF0aWJpbGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZUFjY2Vzc2liaWxpdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlUmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb3dzZXJUYXJnZXRzOiBbXCJjaHJvbWVcIiwgXCJmaXJlZm94XCIsIFwic2FmYXJpXCIsIFwiZWRnZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBFeGVjdXRpb25TdHJhdGVneS5TRVFVRU5USUFMLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEyMDAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFza3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlIGZpbmRpbmdzIGZyb20gbXVsdGlwbGUgYWdlbnRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZ2dyZWdhdGVGaW5kaW5ncyhyZXN1bHRzOiBhbnlbXSk6IENvZGVSZXZpZXdGaW5kaW5nW10ge1xuICAgICAgICBjb25zdCBhbGxGaW5kaW5nczogQ29kZVJldmlld0ZpbmRpbmdbXSA9IFtdO1xuICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPT09IEFnZW50VGFza1N0YXR1cy5DT01QTEVURUQgJiZcbiAgICAgICAgICAgICAgICByZXN1bHQub3V0cHV0Py5zdWNjZXNzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2VudEZpbmRpbmdzID0gcmVzdWx0Lm91dHB1dD8ucmVzdWx0Py5maW5kaW5ncyB8fCBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmluZGluZyBvZiBhZ2VudEZpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBrZXkgdG8gZGVkdXBsaWNhdGUgZmluZGluZ3NcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYCR7ZmluZGluZy5maWxlfToke2ZpbmRpbmcubGluZX06JHtmaW5kaW5nLm1lc3NhZ2V9YDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW4uaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxGaW5kaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBmaW5kaW5nLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogZmluZGluZy5saW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBmaW5kaW5nLnNldmVyaXR5IHx8IFwibWVkaXVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpbmRpbmcuY2F0ZWdvcnkgfHwgXCJnZW5lcmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZmluZGluZy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb246IGZpbmRpbmcuc3VnZ2VzdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWRlbmNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kaW5nLmNvbmZpZGVuY2UgfHwgQ29uZmlkZW5jZUxldmVsLk1FRElVTSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VudDogcmVzdWx0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvcnQgZmluZGluZ3MgYnkgc2V2ZXJpdHkgYW5kIGZpbGVcbiAgICAgICAgcmV0dXJuIGFsbEZpbmRpbmdzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNldmVyaXR5T3JkZXIgPSB7IGNyaXRpY2FsOiA0LCBoaWdoOiAzLCBtZWRpdW06IDIsIGxvdzogMSB9O1xuICAgICAgICAgICAgY29uc3Qgc2V2ZXJpdHlEaWZmID1cbiAgICAgICAgICAgICAgICAoc2V2ZXJpdHlPcmRlcltiLnNldmVyaXR5IGFzIGtleW9mIHR5cGVvZiBzZXZlcml0eU9yZGVyXSB8fCAwKSAtXG4gICAgICAgICAgICAgICAgKHNldmVyaXR5T3JkZXJbYS5zZXZlcml0eSBhcyBrZXlvZiB0eXBlb2Ygc2V2ZXJpdHlPcmRlcl0gfHwgMCk7XG5cbiAgICAgICAgICAgIGlmIChzZXZlcml0eURpZmYgIT09IDApIHJldHVybiBzZXZlcml0eURpZmY7XG5cbiAgICAgICAgICAgIHJldHVybiBhLmZpbGUubG9jYWxlQ29tcGFyZShiLmZpbGUpIHx8IGEubGluZSAtIGIubGluZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgc3VtbWFyeSBvZiBmaW5kaW5nc1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVTdW1tYXJ5KGZpbmRpbmdzOiBDb2RlUmV2aWV3RmluZGluZ1tdKToge1xuICAgICAgICB0b3RhbDogbnVtYmVyO1xuICAgICAgICBieVNldmVyaXR5OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgICAgICBieUNhdGVnb3J5OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIH0ge1xuICAgICAgICBjb25zdCBzdW1tYXJ5ID0ge1xuICAgICAgICAgICAgdG90YWw6IGZpbmRpbmdzLmxlbmd0aCxcbiAgICAgICAgICAgIGJ5U2V2ZXJpdHk6IHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXG4gICAgICAgICAgICBieUNhdGVnb3J5OiB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoY29uc3QgZmluZGluZyBvZiBmaW5kaW5ncykge1xuICAgICAgICAgICAgLy8gQ291bnQgYnkgc2V2ZXJpdHlcbiAgICAgICAgICAgIHN1bW1hcnkuYnlTZXZlcml0eVtmaW5kaW5nLnNldmVyaXR5XSA9XG4gICAgICAgICAgICAgICAgKHN1bW1hcnkuYnlTZXZlcml0eVtmaW5kaW5nLnNldmVyaXR5XSB8fCAwKSArIDE7XG5cbiAgICAgICAgICAgIC8vIENvdW50IGJ5IGNhdGVnb3J5XG4gICAgICAgICAgICBzdW1tYXJ5LmJ5Q2F0ZWdvcnlbZmluZGluZy5jYXRlZ29yeV0gPVxuICAgICAgICAgICAgICAgIChzdW1tYXJ5LmJ5Q2F0ZWdvcnlbZmluZGluZy5jYXRlZ29yeV0gfHwgMCkgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bW1hcnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIGZpbmRpbmdzXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhcbiAgICAgICAgZmluZGluZ3M6IENvZGVSZXZpZXdGaW5kaW5nW10sXG4gICAgICAgIHJlc3VsdHM6IGFueVtdLFxuICAgICk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIC8vIEFkZCByZWNvbW1lbmRhdGlvbnMgZnJvbSBpbmRpdmlkdWFsIGFnZW50c1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyA9PT0gQWdlbnRUYXNrU3RhdHVzLkNPTVBMRVRFRCAmJlxuICAgICAgICAgICAgICAgIHJlc3VsdC5vdXRwdXQ/LnJlc3VsdD8ucmVjb21tZW5kYXRpb25zXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCguLi5yZXN1bHQub3V0cHV0LnJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHJlY29tbWVuZGF0aW9ucyBiYXNlZCBvbiBhZ2dyZWdhdGVkIGZpbmRpbmdzXG4gICAgICAgIGNvbnN0IGNyaXRpY2FsRmluZGluZ3MgPSBmaW5kaW5ncy5maWx0ZXIoXG4gICAgICAgICAgICAoZikgPT4gZi5zZXZlcml0eSA9PT0gXCJjcml0aWNhbFwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBoaWdoRmluZGluZ3MgPSBmaW5kaW5ncy5maWx0ZXIoKGYpID0+IGYuc2V2ZXJpdHkgPT09IFwiaGlnaFwiKTtcblxuICAgICAgICBpZiAoY3JpdGljYWxGaW5kaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBgQWRkcmVzcyAke2NyaXRpY2FsRmluZGluZ3MubGVuZ3RofSBjcml0aWNhbCBzZWN1cml0eS9zdGFiaWxpdHkgaXNzdWVzIGltbWVkaWF0ZWx5YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaEZpbmRpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKFxuICAgICAgICAgICAgICAgIGBQcmlvcml0aXplIGZpeGluZyAke2hpZ2hGaW5kaW5ncy5sZW5ndGh9IGhpZ2gtcHJpb3JpdHkgaXNzdWVzYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZ2VuZXJhbCByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgaWYgKGZpbmRpbmdzLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBcIkNvbnNpZGVyIGJyZWFraW5nIGRvd24gdGhpcyByZXZpZXcgaW50byBzbWFsbGVyLCBmb2N1c2VkIHJldmlld3NcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWN1cml0eUZpbmRpbmdzID0gZmluZGluZ3MuZmlsdGVyKFxuICAgICAgICAgICAgKGYpID0+IGYuY2F0ZWdvcnkgPT09IFwic2VjdXJpdHlcIixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlY3VyaXR5RmluZGluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgXCJTY2hlZHVsZSBhIGRlZGljYXRlZCBzZWN1cml0eSByZXZpZXcgdG8gYWRkcmVzcyBhbGwgc2VjdXJpdHkgY29uY2VybnNcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwZXJmb3JtYW5jZUZpbmRpbmdzID0gZmluZGluZ3MuZmlsdGVyKFxuICAgICAgICAgICAgKGYpID0+IGYuY2F0ZWdvcnkgPT09IFwicGVyZm9ybWFuY2VcIixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlRmluZGluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgXCJDb25zaWRlciBwZXJmb3JtYW5jZSB0ZXN0aW5nIHRvIHZhbGlkYXRlIG9wdGltaXphdGlvbiBpbXByb3ZlbWVudHNcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBhbmQgcmV0dXJuXG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldChyZWNvbW1lbmRhdGlvbnMpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgb3ZlcmFsbCBjb2RlIHF1YWxpdHkgc2NvcmVcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbGN1bGF0ZU92ZXJhbGxTY29yZShmaW5kaW5nczogQ29kZVJldmlld0ZpbmRpbmdbXSk6IG51bWJlciB7XG4gICAgICAgIGlmIChmaW5kaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAxMDA7IC8vIFBlcmZlY3Qgc2NvcmUgaWYgbm8gZmluZGluZ3NcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzY29yZSA9IDEwMDtcblxuICAgICAgICAvLyBEZWR1Y3QgcG9pbnRzIGJhc2VkIG9uIHNldmVyaXR5XG4gICAgICAgIGZvciAoY29uc3QgZmluZGluZyBvZiBmaW5kaW5ncykge1xuICAgICAgICAgICAgc3dpdGNoIChmaW5kaW5nLnNldmVyaXR5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNyaXRpY2FsXCI6XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlIC09IDIwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGlnaFwiOlxuICAgICAgICAgICAgICAgICAgICBzY29yZSAtPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lZGl1bVwiOlxuICAgICAgICAgICAgICAgICAgICBzY29yZSAtPSA1O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibG93XCI6XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlIC09IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgY29uZmlkZW5jZSB3ZWlnaHRpbmdcbiAgICAgICAgY29uc3QgYXZnQ29uZmlkZW5jZSA9XG4gICAgICAgICAgICBmaW5kaW5ncy5yZWR1Y2UoKHN1bSwgZikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZWYWx1ZSA9IHRoaXMuZ2V0Q29uZmlkZW5jZVZhbHVlKGYuY29uZmlkZW5jZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvbmZWYWx1ZTtcbiAgICAgICAgICAgIH0sIDApIC8gZmluZGluZ3MubGVuZ3RoO1xuXG4gICAgICAgIHNjb3JlID0gc2NvcmUgKiBhdmdDb25maWRlbmNlO1xuXG4gICAgICAgIC8vIEVuc3VyZSBzY29yZSBpcyB3aXRoaW4gYm91bmRzXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIE1hdGgucm91bmQoc2NvcmUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHNlY3VyaXR5IHJldmlldyBzaG91bGQgYmUgaW5jbHVkZWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHNob3VsZEluY2x1ZGVTZWN1cml0eVJldmlldyhpbnB1dDogQ29kZVJldmlld0lucHV0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpbnB1dC5yZXZpZXdUeXBlID09PSBcImZ1bGxcIiB8fFxuICAgICAgICAgICAgaW5wdXQucmV2aWV3VHlwZSA9PT0gXCJzZWN1cml0eVwiIHx8XG4gICAgICAgICAgICBpbnB1dC5zZXZlcml0eSA9PT0gXCJjcml0aWNhbFwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHBlcmZvcm1hbmNlIHJldmlldyBzaG91bGQgYmUgaW5jbHVkZWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHNob3VsZEluY2x1ZGVQZXJmb3JtYW5jZVJldmlldyhpbnB1dDogQ29kZVJldmlld0lucHV0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpbnB1dC5yZXZpZXdUeXBlID09PSBcImZ1bGxcIiB8fCBpbnB1dC5yZXZpZXdUeXBlID09PSBcInBlcmZvcm1hbmNlXCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgZnJvbnRlbmQgcmV2aWV3IHNob3VsZCBiZSBpbmNsdWRlZFxuICAgICAqL1xuICAgIHByaXZhdGUgc2hvdWxkSW5jbHVkZUZyb250ZW5kUmV2aWV3KGlucHV0OiBDb2RlUmV2aWV3SW5wdXQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGlucHV0LnJldmlld1R5cGUgPT09IFwiZnVsbFwiIHx8IHRoaXMuaGFzRnJvbnRlbmRGaWxlcyhpbnB1dC5maWxlcylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBmaWxlcyBsaXN0IGNvbnRhaW5zIGZyb250ZW5kIGZpbGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBoYXNGcm9udGVuZEZpbGVzKGZpbGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmcm9udGVuZEV4dGVuc2lvbnMgPSBbXG4gICAgICAgICAgICBcIi5qc1wiLFxuICAgICAgICAgICAgXCIuanN4XCIsXG4gICAgICAgICAgICBcIi50c1wiLFxuICAgICAgICAgICAgXCIudHN4XCIsXG4gICAgICAgICAgICBcIi52dWVcIixcbiAgICAgICAgICAgIFwiLnN2ZWx0ZVwiLFxuICAgICAgICAgICAgXCIuaHRtbFwiLFxuICAgICAgICAgICAgXCIuY3NzXCIsXG4gICAgICAgICAgICBcIi5zY3NzXCIsXG4gICAgICAgICAgICBcIi5sZXNzXCIsXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBmaWxlcy5zb21lKChmaWxlKSA9PlxuICAgICAgICAgICAgZnJvbnRlbmRFeHRlbnNpb25zLnNvbWUoKGV4dCkgPT4gZmlsZS5lbmRzV2l0aChleHQpKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGNvbmZpZGVuY2UgbGV2ZWwgdG8gbnVtZXJpYyB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Q29uZmlkZW5jZVZhbHVlKGNvbmZpZGVuY2U6IENvbmZpZGVuY2VMZXZlbCk6IG51bWJlciB7XG4gICAgICAgIHN3aXRjaCAoY29uZmlkZW5jZSkge1xuICAgICAgICAgICAgY2FzZSBDb25maWRlbmNlTGV2ZWwuVkVSWV9ISUdIOlxuICAgICAgICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgICAgICBjYXNlIENvbmZpZGVuY2VMZXZlbC5ISUdIOlxuICAgICAgICAgICAgICAgIHJldHVybiAwLjk7XG4gICAgICAgICAgICBjYXNlIENvbmZpZGVuY2VMZXZlbC5NRURJVU06XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNztcbiAgICAgICAgICAgIGNhc2UgQ29uZmlkZW5jZUxldmVsLkxPVzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMC41O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMC43O1xuICAgICAgICB9XG4gICAgfVxufVxuIgogIF0sCiAgIm1hcHBpbmdzIjogIjtBQWtCTyxNQUFNLG1CQUFtQjtBQUFBLEVBQ3BCO0FBQUEsRUFFUixXQUFXLENBQUMsYUFBK0I7QUFBQSxJQUN2QyxL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QUFlLFVBQVUsTUFBTSxlQUFlO0FBQUE7QUFBQSxFQU9wRCwyQkFBMkIsQ0FBQyxPQUFpQztBQUFBLElBQ2pFLE9BQ0ksTUFBTSxlQUFlLFVBQVUsS0FBSyxpQkFBaUIsTUFBTSxLQUFLO0FBQUE7QUFBQSxFQU9oRSxnQkFBZ0IsQ0FBQyxPQUEwQjtBQUFBLElBQy9DLE1BQU0scUJBQXFCO0FBQUEsTUFDdkI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNKO0FBQUEsSUFDQSxPQUFPLE1BQU0sS0FBSyxDQUFDLFNBQ2YsbUJBQW1CLEtBQUssQ0FBQyxRQUFRLEtBQUssU0FBUyxHQUFHLENBQUMsQ0FDdkQ7QUFBQTtBQUFBLEVBTUksa0JBQWtCLENBQUMsWUFBcUM7QUFBQSxJQUM1RCxRQUFRO0FBQUE7QUFBQSxRQUVBLE9BQU87QUFBQTtBQUFBLFFBRVAsT0FBTztBQUFBO0FBQUEsUUFFUCxPQUFPO0FBQUE7QUFBQSxRQUVQLE9BQU87QUFBQTtBQUFBLFFBRVAsT0FBTztBQUFBO0FBQUE7QUFHdkI7IiwKICAiZGVidWdJZCI6ICIwNDY3M0Q2QUI3MUFGOTVENjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
