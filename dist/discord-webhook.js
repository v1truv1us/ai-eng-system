// src/util/log.ts
import fs from "node:fs/promises";
import path from "node:path";
var Log;
((Log) => {
  const levelPriority = {
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3
  };
  let currentLevel = "INFO";
  let logPath = "";
  let write = (msg) => process.stderr.write(msg);
  function shouldLog(level) {
    return levelPriority[level] >= levelPriority[currentLevel];
  }
  function file() {
    return logPath;
  }
  Log.file = file;
  async function init(options) {
    if (options.level)
      currentLevel = options.level;
    const stderrWriter = (msg) => {
      process.stderr.write(msg);
    };
    if (options.logDir) {
      const timestamp = new Date().toISOString().replace(/[:.]/g, "-").slice(0, -1);
      logPath = path.join(options.logDir, `ralph-${timestamp}.log`);
      await fs.mkdir(options.logDir, { recursive: true });
      const file2 = Bun.file(logPath);
      const fileWriter = file2.writer();
      write = (msg) => {
        if (options.print) {
          stderrWriter(msg);
        }
        fileWriter.write(msg);
        fileWriter.flush();
      };
    } else if (options.print) {
      write = stderrWriter;
    }
  }
  Log.init = init;
  function formatExtra(extra) {
    if (!extra)
      return "";
    const extraStr = Object.entries(extra).map(([k, v]) => `${k}=${typeof v === "object" ? JSON.stringify(v) : v}`).join(" ");
    return extraStr ? ` ${extraStr}` : "";
  }
  function create(tags) {
    const tagStr = tags ? Object.entries(tags).map(([k, v]) => `${k}=${v}`).join(" ") : "";
    const tagStrWithSpace = tagStr ? `${tagStr} ` : "";
    return {
      debug(message, extra) {
        if (shouldLog("DEBUG")) {
          write(`DEBUG ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      info(message, extra) {
        if (shouldLog("INFO")) {
          write(`INFO  ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      warn(message, extra) {
        if (shouldLog("WARN")) {
          write(`WARN  ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      error(message, extra) {
        if (shouldLog("ERROR")) {
          write(`ERROR ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      }
    };
  }
  Log.create = create;
  Log.Default = create({ service: "ralph" });
})(Log ||= {});

// src/util/discord-webhook.ts
var log = Log.create({ service: "discord-webhook" });

class DiscordWebhookClient {
  webhookUrl;
  username;
  avatarUrl;
  enabled = false;
  constructor(options) {
    this.webhookUrl = options.webhookUrl;
    this.username = options.username ?? "Ralph";
    this.avatarUrl = options.avatarUrl;
    this.enabled = true;
    if (!this.webhookUrl || !this.isValidWebhookUrl(this.webhookUrl)) {
      log.warn("Invalid Discord webhook URL, notifications disabled", {
        webhookUrl: this.maskWebhookUrl(this.webhookUrl)
      });
      this.enabled = false;
    }
    log.info("Discord webhook client initialized", {
      enabled: this.enabled,
      username: this.username
    });
  }
  isValidWebhookUrl(url) {
    return /^https:\/\/discord(?:app)?\.com\/api\/webhooks\/\d+\/[a-zA-Z0-9_-]+$/.test(url);
  }
  maskWebhookUrl(url) {
    if (!url)
      return "(not set)";
    return url.replace(/\/[a-zA-Z0-9_-]+$/, "/********");
  }
  async send(message) {
    if (!this.enabled) {
      log.debug("Discord notifications disabled, skipping send");
      return false;
    }
    try {
      const payload = {
        content: message.content,
        username: message.username ?? this.username,
        avatarUrl: message.avatarUrl ?? this.avatarUrl,
        tts: message.tts ?? false,
        embeds: message.embeds
      };
      log.debug("Sending Discord notification", {
        hasContent: !!message.content,
        embedCount: message.embeds?.length ?? 0
      });
      const response = await fetch(this.webhookUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      });
      if (!response.ok) {
        const errorText = await response.text();
        log.error("Discord webhook request failed", {
          status: response.status,
          statusText: response.statusText,
          error: errorText
        });
        return false;
      }
      log.debug("Discord notification sent successfully");
      return true;
    } catch (error) {
      log.error("Failed to send Discord notification", {
        error: error instanceof Error ? error.message : String(error)
      });
      return false;
    }
  }
  async notify(content) {
    return this.send({ content });
  }
  async notifyWithEmbed(embed, content) {
    return this.send({
      content,
      embeds: [embed]
    });
  }
  async notifyCycleStart(cycleNumber, maxCycles, prompt) {
    const embed = {
      title: `\uD83D\uDD04 Cycle ${cycleNumber}/${maxCycles} Started`,
      description: `\`\`\`
${prompt.slice(0, 500)}${prompt.length > 500 ? "..." : ""}
\`\`\``,
      color: 5793266,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDCCB Phase",
          value: "Research → Specify → Plan → Work → Review",
          inline: true
        },
        {
          name: "⏱️ Status",
          value: "Running",
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, `\uD83D\uDE80 **Ralph Cycle ${cycleNumber}/${maxCycles} Started**`);
  }
  async notifyCycleComplete(cycleNumber, completedCycles, summary, durationMs) {
    const durationMinutes = Math.floor(durationMs / 60000);
    const durationSeconds = Math.floor(durationMs % 60000 / 1000);
    const embed = {
      title: `✅ Cycle ${cycleNumber} Completed`,
      description: summary.slice(0, 2000) || "No summary available",
      color: 5763719,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDCCA Progress",
          value: `${completedCycles} cycles completed`,
          inline: true
        },
        {
          name: "⏱️ Duration",
          value: `${durationMinutes}m ${durationSeconds}s`,
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, `✅ **Ralph Cycle ${cycleNumber} Complete**`);
  }
  async notifyPhaseComplete(cycleNumber, phase, summary) {
    const embed = {
      title: `\uD83D\uDCDD Phase Complete: ${phase}`,
      description: summary.slice(0, 1000),
      color: 16705372,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDD04 Cycle",
          value: String(cycleNumber),
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed);
  }
  async notifyError(cycleNumber, phase, error) {
    const embed = {
      title: `❌ Error in Cycle ${cycleNumber}`,
      description: `**Phase:** ${phase}

**Error:**
\`\`\`
${error.slice(0, 1500)}
\`\`\``,
      color: 15548997,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, "\uD83D\uDEA8 **Ralph Error**");
  }
  async notifyTimeout(cycleNumber, phase, timeoutMs) {
    const timeoutMinutes = Math.floor(timeoutMs / 60000);
    const embed = {
      title: `⏰ Timeout in Cycle ${cycleNumber}`,
      description: `**Phase:** ${phase}
**Timeout:** ${timeoutMinutes} minutes`,
      color: 15418782,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, "⏰ **Ralph Timeout**");
  }
  async notifyRunComplete(totalCycles, durationMs, finalSummary) {
    const durationHours = Math.floor(durationMs / 3600000);
    const durationMinutes = Math.floor(durationMs % 3600000 / 60000);
    const embed = {
      title: "\uD83C\uDFC1 Run Complete",
      description: finalSummary.slice(0, 2000),
      color: 5763719,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDD04 Total Cycles",
          value: String(totalCycles),
          inline: true
        },
        {
          name: "⏱️ Total Duration",
          value: durationHours > 0 ? `${durationHours}h ${durationMinutes}m` : `${durationMinutes}m`,
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, "\uD83C\uDFC1 **Ralph Run Complete**");
  }
  async notifyStuckOrAborted(cycleNumber, reason) {
    const embed = {
      title: `\uD83D\uDED1 Run ${reason}`,
      description: `Cycle ${cycleNumber} reached stuck threshold or was aborted`,
      color: 5793266,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, `\uD83D\uDED1 **Ralph ${reason}**`);
  }
}
function createDiscordWebhookFromEnv() {
  const webhookUrl = process.env.DISCORD_WEBHOOK_URL?.trim();
  if (!webhookUrl) {
    log.debug("No DISCORD_WEBHOOK_URL env var set, Discord notifications disabled");
    return null;
  }
  return new DiscordWebhookClient({
    webhookUrl,
    username: process.env.DISCORD_BOT_USERNAME ?? "Ralph",
    avatarUrl: process.env.DISCORD_BOT_AVATAR_URL
  });
}
export {
  createDiscordWebhookFromEnv,
  DiscordWebhookClient
};

//# debugId=B409774488A24BD664756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3V0aWwvbG9nLnRzIiwgIi4uL3NyYy91dGlsL2Rpc2NvcmQtd2ViaG9vay50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICJpbXBvcnQgZnMgZnJvbSBcIm5vZGU6ZnMvcHJvbWlzZXNcIjtcbi8qKlxuICogU3RydWN0dXJlZCBsb2dnaW5nIGZvciBhaS1lbmcgcmFscGhcbiAqXG4gKiBTdXBwb3J0cyBib3RoIHN0ZGVyciBvdXRwdXQgKHdpdGggLS1wcmludC1sb2dzKSBhbmQgZmlsZS1iYXNlZCBsb2dnaW5nXG4gKi9cbmltcG9ydCBwYXRoIGZyb20gXCJub2RlOnBhdGhcIjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMb2cge1xuICAgIGV4cG9ydCB0eXBlIExldmVsID0gXCJERUJVR1wiIHwgXCJJTkZPXCIgfCBcIldBUk5cIiB8IFwiRVJST1JcIjtcblxuICAgIGNvbnN0IGxldmVsUHJpb3JpdHk6IFJlY29yZDxMZXZlbCwgbnVtYmVyPiA9IHtcbiAgICAgICAgREVCVUc6IDAsXG4gICAgICAgIElORk86IDEsXG4gICAgICAgIFdBUk46IDIsXG4gICAgICAgIEVSUk9SOiAzLFxuICAgIH07XG5cbiAgICBsZXQgY3VycmVudExldmVsOiBMZXZlbCA9IFwiSU5GT1wiO1xuICAgIGxldCBsb2dQYXRoID0gXCJcIjtcbiAgICBsZXQgd3JpdGU6IChtc2c6IHN0cmluZykgPT4gYW55ID0gKG1zZykgPT4gcHJvY2Vzcy5zdGRlcnIud3JpdGUobXNnKTtcblxuICAgIGZ1bmN0aW9uIHNob3VsZExvZyhsZXZlbDogTGV2ZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGxldmVsUHJpb3JpdHlbbGV2ZWxdID49IGxldmVsUHJpb3JpdHlbY3VycmVudExldmVsXTtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIE9wdGlvbnMge1xuICAgICAgICBwcmludDogYm9vbGVhbjsgLy8gV2hlbiB0cnVlLCB3cml0ZSB0byBzdGRlcnJcbiAgICAgICAgbGV2ZWw/OiBMZXZlbDtcbiAgICAgICAgbG9nRGlyPzogc3RyaW5nOyAvLyBEaXJlY3RvcnkgZm9yIGxvZyBmaWxlc1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBmaWxlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBsb2dQYXRoO1xuICAgIH1cblxuICAgIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KG9wdGlvbnM6IE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMubGV2ZWwpIGN1cnJlbnRMZXZlbCA9IG9wdGlvbnMubGV2ZWw7XG5cbiAgICAgICAgLy8gQnVpbGQgdGhlIHdyaXRlIGZ1bmN0aW9uIHRoYXQgb3V0cHV0cyB0byBCT1RIIHN0ZGVyciBBTkQgZmlsZVxuICAgICAgICBjb25zdCBzdGRlcnJXcml0ZXIgPSAobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKG1zZyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubG9nRGlyKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvWzouXS9nLCBcIi1cIilcbiAgICAgICAgICAgICAgICAuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgbG9nUGF0aCA9IHBhdGguam9pbihvcHRpb25zLmxvZ0RpciwgYHJhbHBoLSR7dGltZXN0YW1wfS5sb2dgKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLm1rZGlyKG9wdGlvbnMubG9nRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgY29uc3QgZmlsZSA9IEJ1bi5maWxlKGxvZ1BhdGgpO1xuICAgICAgICAgICAgY29uc3QgZmlsZVdyaXRlciA9IGZpbGUud3JpdGVyKCk7XG5cbiAgICAgICAgICAgIC8vIEFsd2F5cyB3cml0ZSB0byBzdGRlcnIgaWYgcHJpbnQgaXMgZW5hYmxlZFxuICAgICAgICAgICAgLy8gQWxzbyBhbHdheXMgd3JpdGUgdG8gZmlsZSBpZiBsb2dEaXIgaXMgcHJvdmlkZWRcbiAgICAgICAgICAgIHdyaXRlID0gKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycldyaXRlcihtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWxlV3JpdGVyLndyaXRlKG1zZyk7XG4gICAgICAgICAgICAgICAgZmlsZVdyaXRlci5mbHVzaCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnByaW50KSB7XG4gICAgICAgICAgICAvLyBPbmx5IHByaW50IHRvIHN0ZGVyclxuICAgICAgICAgICAgd3JpdGUgPSBzdGRlcnJXcml0ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIExvZ2dlciB7XG4gICAgICAgIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZDtcbiAgICAgICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQ7XG4gICAgICAgIHdhcm4obWVzc2FnZTogc3RyaW5nLCBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT4pOiB2b2lkO1xuICAgICAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXh0cmEoZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFleHRyYSkgcmV0dXJuIFwiXCI7XG4gICAgICAgIGNvbnN0IGV4dHJhU3RyID0gT2JqZWN0LmVudHJpZXMoZXh0cmEpXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgIChbaywgdl0pID0+XG4gICAgICAgICAgICAgICAgICAgIGAke2t9PSR7dHlwZW9mIHYgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2KSA6IHZ9YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiIFwiKTtcbiAgICAgICAgcmV0dXJuIGV4dHJhU3RyID8gYCAke2V4dHJhU3RyfWAgOiBcIlwiO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGUodGFncz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBMb2dnZXIge1xuICAgICAgICBjb25zdCB0YWdTdHIgPSB0YWdzXG4gICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKHRhZ3MpXG4gICAgICAgICAgICAgICAgICAubWFwKChbaywgdl0pID0+IGAke2t9PSR7dn1gKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oXCIgXCIpXG4gICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHRhZ1N0cldpdGhTcGFjZSA9IHRhZ1N0ciA/IGAke3RhZ1N0cn0gYCA6IFwiXCI7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZExvZyhcIkRFQlVHXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgYERFQlVHICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAke3RhZ1N0cn0ke21lc3NhZ2V9JHtmb3JtYXRFeHRyYShleHRyYSl9XFxuYCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRMb2coXCJJTkZPXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgYElORk8gICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAke3RhZ1N0cn0ke21lc3NhZ2V9JHtmb3JtYXRFeHRyYShleHRyYSl9XFxuYCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRMb2coXCJXQVJOXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFdBUk4gICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAke3RhZ1N0cn0ke21lc3NhZ2V9JHtmb3JtYXRFeHRyYShleHRyYSl9XFxuYCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkTG9nKFwiRVJST1JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgRVJST1IgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9ICR7dGFnU3RyfSR7bWVzc2FnZX0ke2Zvcm1hdEV4dHJhKGV4dHJhKX1cXG5gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZXhwb3J0IGNvbnN0IERlZmF1bHQgPSBjcmVhdGUoeyBzZXJ2aWNlOiBcInJhbHBoXCIgfSk7XG59XG4iLAogICAgIi8qKlxuICogRGlzY29yZCBXZWJob29rIEludGVncmF0aW9uXG4gKlxuICogU2VuZHMgbm90aWZpY2F0aW9ucyB0byBEaXNjb3JkIGNoYW5uZWxzIHZpYSB3ZWJob29rcy5cbiAqIFN1cHBvcnRzIHJpY2ggZW1iZWRzIGZvciBjeWNsZSBwcm9ncmVzcywgZXJyb3JzLCBhbmQgY29tcGxldGlvbnMuXG4gKi9cblxuaW1wb3J0IHsgTG9nIH0gZnJvbSBcIi4vbG9nXCI7XG5cbmNvbnN0IGxvZyA9IExvZy5jcmVhdGUoeyBzZXJ2aWNlOiBcImRpc2NvcmQtd2ViaG9va1wiIH0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIERpc2NvcmRXZWJob29rT3B0aW9ucyB7XG4gICAgLyoqIERpc2NvcmQgd2ViaG9vayBVUkwgKi9cbiAgICB3ZWJob29rVXJsOiBzdHJpbmc7XG4gICAgLyoqIEJvdCB1c2VybmFtZSAob3B0aW9uYWwsIGRlZmF1bHRzIHRvIFwiUmFscGhcIikgKi9cbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICAvKiogQm90IGF2YXRhciBVUkwgKG9wdGlvbmFsKSAqL1xuICAgIGF2YXRhclVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb3JkRW1iZWQge1xuICAgIC8qKiBFbWJlZCB0aXRsZSAqL1xuICAgIHRpdGxlPzogc3RyaW5nO1xuICAgIC8qKiBFbWJlZCBkZXNjcmlwdGlvbiAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIC8qKiBFbWJlZCBjb2xvciAoZGVjaW1hbCwgZS5nLiwgMHgwMEZGMDAgZm9yIGdyZWVuKSAqL1xuICAgIGNvbG9yPzogbnVtYmVyO1xuICAgIC8qKiBGb290ZXIgdGV4dCAqL1xuICAgIGZvb3Rlcj86IHN0cmluZztcbiAgICAvKiogRm9vdGVyIGljb24gVVJMICovXG4gICAgZm9vdGVySWNvblVybD86IHN0cmluZztcbiAgICAvKiogVGltZXN0YW1wIChJU08gODYwMSBmb3JtYXQpICovXG4gICAgdGltZXN0YW1wPzogc3RyaW5nO1xuICAgIC8qKiBUaHVtYm5haWwgaW1hZ2UgVVJMICovXG4gICAgdGh1bWJuYWlsVXJsPzogc3RyaW5nO1xuICAgIC8qKiBJbWFnZSBVUkwgKi9cbiAgICBpbWFnZVVybD86IHN0cmluZztcbiAgICAvKiogQXV0aG9yIG5hbWUgKi9cbiAgICBhdXRob3JOYW1lPzogc3RyaW5nO1xuICAgIC8qKiBBdXRob3IgVVJMICovXG4gICAgYXV0aG9yVXJsPzogc3RyaW5nO1xuICAgIC8qKiBBdXRob3IgaWNvbiBVUkwgKi9cbiAgICBhdXRob3JJY29uVXJsPzogc3RyaW5nO1xuICAgIC8qKiBGaWVsZHMgKG5hbWUvdmFsdWUgcGFpcnMpICovXG4gICAgZmllbGRzPzogQXJyYXk8e1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgIGlubGluZT86IGJvb2xlYW47XG4gICAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzY29yZE1lc3NhZ2Uge1xuICAgIC8qKiBNZXNzYWdlIGNvbnRlbnQgKHBsYWluIHRleHQpICovXG4gICAgY29udGVudD86IHN0cmluZztcbiAgICAvKiogVXNlcm5hbWUgb3ZlcnJpZGUgKi9cbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICAvKiogQXZhdGFyIFVSTCBvdmVycmlkZSAqL1xuICAgIGF2YXRhclVybD86IHN0cmluZztcbiAgICAvKiogV2hldGhlciB0byBwcm9jZXNzIEBldmVyeW9uZSBtZW50aW9ucyAqL1xuICAgIHR0cz86IGJvb2xlYW47XG4gICAgLyoqIEVtYmVkcyB0byBzZW5kICovXG4gICAgZW1iZWRzPzogRGlzY29yZEVtYmVkW107XG59XG5cbi8qKlxuICogRGlzY29yZCBXZWJob29rIENsaWVudFxuICovXG5leHBvcnQgY2xhc3MgRGlzY29yZFdlYmhvb2tDbGllbnQge1xuICAgIHByaXZhdGUgd2ViaG9va1VybDogc3RyaW5nO1xuICAgIHByaXZhdGUgdXNlcm5hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIGF2YXRhclVybD86IHN0cmluZztcbiAgICBwcml2YXRlIGVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IERpc2NvcmRXZWJob29rT3B0aW9ucykge1xuICAgICAgICB0aGlzLndlYmhvb2tVcmwgPSBvcHRpb25zLndlYmhvb2tVcmw7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBvcHRpb25zLnVzZXJuYW1lID8/IFwiUmFscGhcIjtcbiAgICAgICAgdGhpcy5hdmF0YXJVcmwgPSBvcHRpb25zLmF2YXRhclVybDtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSB3ZWJob29rIFVSTCBmb3JtYXRcbiAgICAgICAgaWYgKCF0aGlzLndlYmhvb2tVcmwgfHwgIXRoaXMuaXNWYWxpZFdlYmhvb2tVcmwodGhpcy53ZWJob29rVXJsKSkge1xuICAgICAgICAgICAgbG9nLndhcm4oXCJJbnZhbGlkIERpc2NvcmQgd2ViaG9vayBVUkwsIG5vdGlmaWNhdGlvbnMgZGlzYWJsZWRcIiwge1xuICAgICAgICAgICAgICAgIHdlYmhvb2tVcmw6IHRoaXMubWFza1dlYmhvb2tVcmwodGhpcy53ZWJob29rVXJsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsb2cuaW5mbyhcIkRpc2NvcmQgd2ViaG9vayBjbGllbnQgaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5lbmFibGVkLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNWYWxpZFdlYmhvb2tVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgLy8gRGlzY29yZCB3ZWJob29rIFVSTHMgbG9vayBsaWtlOiBodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy97aWR9L3t0b2tlbn1cbiAgICAgICAgcmV0dXJuIC9eaHR0cHM6XFwvXFwvZGlzY29yZCg/OmFwcCk/XFwuY29tXFwvYXBpXFwvd2ViaG9va3NcXC9cXGQrXFwvW2EtekEtWjAtOV8tXSskLy50ZXN0KFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWFza1dlYmhvb2tVcmwodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXVybCkgcmV0dXJuIFwiKG5vdCBzZXQpXCI7XG4gICAgICAgIC8vIE1hc2sgdGhlIHRva2VuIHBhcnRcbiAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXC9bYS16QS1aMC05Xy1dKyQvLCBcIi8qKioqKioqKlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byBEaXNjb3JkXG4gICAgICovXG4gICAgYXN5bmMgc2VuZChtZXNzYWdlOiBEaXNjb3JkTWVzc2FnZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwiRGlzY29yZCBub3RpZmljYXRpb25zIGRpc2FibGVkLCBza2lwcGluZyBzZW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQ6IERpc2NvcmRNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogbWVzc2FnZS51c2VybmFtZSA/PyB0aGlzLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGF2YXRhclVybDogbWVzc2FnZS5hdmF0YXJVcmwgPz8gdGhpcy5hdmF0YXJVcmwsXG4gICAgICAgICAgICAgICAgdHRzOiBtZXNzYWdlLnR0cyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbWJlZHM6IG1lc3NhZ2UuZW1iZWRzLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbG9nLmRlYnVnKFwiU2VuZGluZyBEaXNjb3JkIG5vdGlmaWNhdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgaGFzQ29udGVudDogISFtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgZW1iZWRDb3VudDogbWVzc2FnZS5lbWJlZHM/Lmxlbmd0aCA/PyAwLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy53ZWJob29rVXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgICAgICBsb2cuZXJyb3IoXCJEaXNjb3JkIHdlYmhvb2sgcmVxdWVzdCBmYWlsZWRcIiwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIkRpc2NvcmQgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBEaXNjb3JkIG5vdGlmaWNhdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIHNpbXBsZSB0ZXh0IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnkoY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoeyBjb250ZW50IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZW1iZWQgbWVzc2FnZVxuICAgICAqL1xuICAgIGFzeW5jIG5vdGlmeVdpdGhFbWJlZChcbiAgICAgICAgZW1iZWQ6IERpc2NvcmRFbWJlZCxcbiAgICAgICAgY29udGVudD86IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZCh7XG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgZW1iZWRzOiBbZW1iZWRdLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGN5Y2xlIHN0YXJ0IG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIG5vdGlmeUN5Y2xlU3RhcnQoXG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIG1heEN5Y2xlczogbnVtYmVyLFxuICAgICAgICBwcm9tcHQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZW1iZWQ6IERpc2NvcmRFbWJlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBg8J+UhCBDeWNsZSAke2N5Y2xlTnVtYmVyfS8ke21heEN5Y2xlc30gU3RhcnRlZGAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYFxcYFxcYFxcYFxcbiR7cHJvbXB0LnNsaWNlKDAsIDUwMCl9JHtwcm9tcHQubGVuZ3RoID4gNTAwID8gXCIuLi5cIiA6IFwiXCJ9XFxuXFxgXFxgXFxgYCxcbiAgICAgICAgICAgIGNvbG9yOiAweDU4NjVmMiwgLy8gRGlzY29yZCBibHVycGxlXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLwn5OLIFBoYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlJlc2VhcmNoIOKGkiBTcGVjaWZ5IOKGkiBQbGFuIOKGkiBXb3JrIOKGkiBSZXZpZXdcIixcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIuKPse+4jyBTdGF0dXNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiUnVubmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5V2l0aEVtYmVkKFxuICAgICAgICAgICAgZW1iZWQsXG4gICAgICAgICAgICBg8J+agCAqKlJhbHBoIEN5Y2xlICR7Y3ljbGVOdW1iZXJ9LyR7bWF4Q3ljbGVzfSBTdGFydGVkKipgLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgY3ljbGUgY29tcGxldGlvbiBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlDeWNsZUNvbXBsZXRlKFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBjb21wbGV0ZWRDeWNsZXM6IG51bWJlcixcbiAgICAgICAgc3VtbWFyeTogc3RyaW5nLFxuICAgICAgICBkdXJhdGlvbk1zOiBudW1iZXIsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uTWludXRlcyA9IE1hdGguZmxvb3IoZHVyYXRpb25NcyAvIDYwMDAwKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb25TZWNvbmRzID0gTWF0aC5mbG9vcigoZHVyYXRpb25NcyAlIDYwMDAwKSAvIDEwMDApO1xuXG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogYOKchSBDeWNsZSAke2N5Y2xlTnVtYmVyfSBDb21wbGV0ZWRgLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHN1bW1hcnkuc2xpY2UoMCwgMjAwMCkgfHwgXCJObyBzdW1tYXJ5IGF2YWlsYWJsZVwiLFxuICAgICAgICAgICAgY29sb3I6IDB4NTdmMjg3LCAvLyBEaXNjb3JkIGdyZWVuXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLwn5OKIFByb2dyZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHtjb21wbGV0ZWRDeWNsZXN9IGN5Y2xlcyBjb21wbGV0ZWRgLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi4o+x77iPIER1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgJHtkdXJhdGlvbk1pbnV0ZXN9bSAke2R1cmF0aW9uU2Vjb25kc31zYCxcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmeVdpdGhFbWJlZChcbiAgICAgICAgICAgIGVtYmVkLFxuICAgICAgICAgICAgYOKchSAqKlJhbHBoIEN5Y2xlICR7Y3ljbGVOdW1iZXJ9IENvbXBsZXRlKipgLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgcGhhc2UgY29tcGxldGlvbiBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlQaGFzZUNvbXBsZXRlKFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBwaGFzZTogc3RyaW5nLFxuICAgICAgICBzdW1tYXJ5OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogYPCfk50gUGhhc2UgQ29tcGxldGU6ICR7cGhhc2V9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdW1tYXJ5LnNsaWNlKDAsIDEwMDApLFxuICAgICAgICAgICAgY29sb3I6IDB4ZmVlNzVjLCAvLyBEaXNjb3JkIHllbGxvd1xuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi8J+UhCBDeWNsZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogU3RyaW5nKGN5Y2xlTnVtYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmeVdpdGhFbWJlZChlbWJlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBlcnJvciBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlFcnJvcihcbiAgICAgICAgY3ljbGVOdW1iZXI6IG51bWJlcixcbiAgICAgICAgcGhhc2U6IHN0cmluZyxcbiAgICAgICAgZXJyb3I6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZW1iZWQ6IERpc2NvcmRFbWJlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBg4p2MIEVycm9yIGluIEN5Y2xlICR7Y3ljbGVOdW1iZXJ9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgKipQaGFzZToqKiAke3BoYXNlfVxcblxcbioqRXJyb3I6KipcXG5cXGBcXGBcXGBcXG4ke2Vycm9yLnNsaWNlKDAsIDE1MDApfVxcblxcYFxcYFxcYGAsXG4gICAgICAgICAgICBjb2xvcjogMHhlZDQyNDUsIC8vIERpc2NvcmQgcmVkXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnlXaXRoRW1iZWQoZW1iZWQsIFwi8J+aqCAqKlJhbHBoIEVycm9yKipcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCB0aW1lb3V0IG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIG5vdGlmeVRpbWVvdXQoXG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIHBoYXNlOiBzdHJpbmcsXG4gICAgICAgIHRpbWVvdXRNczogbnVtYmVyLFxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCB0aW1lb3V0TWludXRlcyA9IE1hdGguZmxvb3IodGltZW91dE1zIC8gNjAwMDApO1xuXG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogYOKPsCBUaW1lb3V0IGluIEN5Y2xlICR7Y3ljbGVOdW1iZXJ9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgKipQaGFzZToqKiAke3BoYXNlfVxcbioqVGltZW91dDoqKiAke3RpbWVvdXRNaW51dGVzfSBtaW51dGVzYCxcbiAgICAgICAgICAgIGNvbG9yOiAweGViNDU5ZSwgLy8gRGlzY29yZCBwaW5rXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnlXaXRoRW1iZWQoZW1iZWQsIFwi4o+wICoqUmFscGggVGltZW91dCoqXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgcnVuIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5UnVuQ29tcGxldGUoXG4gICAgICAgIHRvdGFsQ3ljbGVzOiBudW1iZXIsXG4gICAgICAgIGR1cmF0aW9uTXM6IG51bWJlcixcbiAgICAgICAgZmluYWxTdW1tYXJ5OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uSG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uTXMgLyAzNjAwMDAwKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb25NaW51dGVzID0gTWF0aC5mbG9vcigoZHVyYXRpb25NcyAlIDM2MDAwMDApIC8gNjAwMDApO1xuXG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogXCLwn4+BIFJ1biBDb21wbGV0ZVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGZpbmFsU3VtbWFyeS5zbGljZSgwLCAyMDAwKSxcbiAgICAgICAgICAgIGNvbG9yOiAweDU3ZjI4NywgLy8gRGlzY29yZCBncmVlblxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi8J+UhCBUb3RhbCBDeWNsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFN0cmluZyh0b3RhbEN5Y2xlcyksXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLij7HvuI8gVG90YWwgRHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbkhvdXJzID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7ZHVyYXRpb25Ib3Vyc31oICR7ZHVyYXRpb25NaW51dGVzfW1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtkdXJhdGlvbk1pbnV0ZXN9bWAsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnlXaXRoRW1iZWQoZW1iZWQsIFwi8J+PgSAqKlJhbHBoIFJ1biBDb21wbGV0ZSoqXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgc3R1Y2svYWJvcnQgbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5U3R1Y2tPckFib3J0ZWQoXG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIHJlYXNvbjogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBlbWJlZDogRGlzY29yZEVtYmVkID0ge1xuICAgICAgICAgICAgdGl0bGU6IGDwn5uRIFJ1biAke3JlYXNvbn1gLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBDeWNsZSAke2N5Y2xlTnVtYmVyfSByZWFjaGVkIHN0dWNrIHRocmVzaG9sZCBvciB3YXMgYWJvcnRlZGAsXG4gICAgICAgICAgICBjb2xvcjogMHg1ODY1ZjIsIC8vIERpc2NvcmQgYmx1cnBsZVxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5V2l0aEVtYmVkKGVtYmVkLCBg8J+bkSAqKlJhbHBoICR7cmVhc29ufSoqYCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIERpc2NvcmQgd2ViaG9vayBjbGllbnQgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpc2NvcmRXZWJob29rRnJvbUVudigpOiBEaXNjb3JkV2ViaG9va0NsaWVudCB8IG51bGwge1xuICAgIGNvbnN0IHdlYmhvb2tVcmwgPSBwcm9jZXNzLmVudi5ESVNDT1JEX1dFQkhPT0tfVVJMPy50cmltKCk7XG5cbiAgICBpZiAoIXdlYmhvb2tVcmwpIHtcbiAgICAgICAgbG9nLmRlYnVnKFxuICAgICAgICAgICAgXCJObyBESVNDT1JEX1dFQkhPT0tfVVJMIGVudiB2YXIgc2V0LCBEaXNjb3JkIG5vdGlmaWNhdGlvbnMgZGlzYWJsZWRcIixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEaXNjb3JkV2ViaG9va0NsaWVudCh7XG4gICAgICAgIHdlYmhvb2tVcmwsXG4gICAgICAgIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5ESVNDT1JEX0JPVF9VU0VSTkFNRSA/PyBcIlJhbHBoXCIsXG4gICAgICAgIGF2YXRhclVybDogcHJvY2Vzcy5lbnYuRElTQ09SRF9CT1RfQVZBVEFSX1VSTCxcbiAgICB9KTtcbn1cbiIKICBdLAogICJtYXBwaW5ncyI6ICI7QUFBQTtBQU1BO0FBRU8sSUFBVTtBQUFBLENBQVYsQ0FBVSxRQUFWO0FBQUEsRUFHSCxNQUFNLGdCQUF1QztBQUFBLElBQ3pDLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxFQUNYO0FBQUEsRUFFQSxJQUFJLGVBQXNCO0FBQUEsRUFDMUIsSUFBSSxVQUFVO0FBQUEsRUFDZCxJQUFJLFFBQThCLENBQUMsUUFBUSxRQUFRLE9BQU8sTUFBTSxHQUFHO0FBQUEsRUFFbkUsU0FBUyxTQUFTLENBQUMsT0FBdUI7QUFBQSxJQUN0QyxPQUFPLGNBQWMsVUFBVSxjQUFjO0FBQUE7QUFBQSxFQVMxQyxTQUFTLElBQUksR0FBVztBQUFBLElBQzNCLE9BQU87QUFBQTtBQUFBLEVBREosSUFBUztBQUFBLEVBSWhCLGVBQXNCLElBQUksQ0FBQyxTQUFpQztBQUFBLElBQ3hELElBQUksUUFBUTtBQUFBLE1BQU8sZUFBZSxRQUFRO0FBQUEsSUFHMUMsTUFBTSxlQUFlLENBQUMsUUFBZ0I7QUFBQSxNQUNsQyxRQUFRLE9BQU8sTUFBTSxHQUFHO0FBQUE7QUFBQSxJQUc1QixJQUFJLFFBQVEsUUFBUTtBQUFBLE1BQ2hCLE1BQU0sWUFBWSxJQUFJLEtBQUssRUFDdEIsWUFBWSxFQUNaLFFBQVEsU0FBUyxHQUFHLEVBQ3BCLE1BQU0sR0FBRyxFQUFFO0FBQUEsTUFDaEIsVUFBVSxLQUFLLEtBQUssUUFBUSxRQUFRLFNBQVMsZUFBZTtBQUFBLE1BQzVELE1BQU0sR0FBRyxNQUFNLFFBQVEsUUFBUSxFQUFFLFdBQVcsS0FBSyxD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QUNiLFFBQVE7QUFBQSxRQUNaO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUVBLE9BQU8sS0FBSyxnQkFBZ0IsT0FBTyxxQ0FBMEI7QUFBQTtBQUFBLE9BTTNELHFCQUFvQixDQUN0QixhQUNBLFFBQ2dCO0FBQUEsSUFDaEIsTUFBTSxRQUFzQjtBQUFBLE1BQ3hCLE9BQU8sb0JBQVM7QUFBQSxNQUNoQixhQUFhLFNBQVM7QUFBQSxNQUN0QixPQUFPO0FBQUEsTUFDUCxXQUFXLElBQUksS0FBSyxFQUFFLFlBQVk7QUFBQSxJQUN0QztBQUFBLElBRUEsT0FBTyxLQUFLLGdCQUFnQixPQUFPLHdCQUFhLFVBQVU7QUFBQTtBQUVsRTtBQUtPLFNBQVMsMkJBQTJCLEdBQWdDO0FBQUEsRUFDdkUsTUFBTSxhQUFhLFFBQVEsSUFBSSxxQkFBcUIsS0FBSztBQUFBLEVBRXpELElBQUksQ0FBQyxZQUFZO0FBQUEsSUFDYixJQUFJLE1BQ0Esb0VBQ0o7QUFBQSxJQUNBLE9BQU87QUFBQSxFQUNYO0FBQUEsRUFFQSxPQUFPLElBQUkscUJBQXFCO0FBQUEsSUFDNUI7QUFBQSxJQUNBLFVBQVUsUUFBUSxJQUFJLHdCQUF3QjtBQUFBLElBQzlDLFdBQVcsUUFBUSxJQUFJO0FBQUEsRUFDM0IsQ0FBQztBQUFBOyIsCiAgImRlYnVnSWQiOiAiQjQwOTc3NDQ4OEEyNEJENjY0NzU2RTIxNjQ3NTZFMjEiLAogICJuYW1lcyI6IFtdCn0=
