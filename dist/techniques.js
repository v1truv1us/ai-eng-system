// src/prompt-optimization/techniques.ts
var expertPersona = {
  id: "expert_persona",
  name: "Expert Persona",
  description: "Assigns a detailed expert role with years of experience and notable companies",
  researchBasis: "Kong et al. 2023: 24% → 84% accuracy improvement",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    if (context.preferences.customPersonas[context.domain]) {
      return context.preferences.customPersonas[context.domain];
    }
    const personas = {
      security: "You are a senior security engineer with 15+ years of authentication and cryptography experience. You have worked at Auth0, Okta, and AWS IAM, building production-grade authentication systems handling millions of users.",
      frontend: "You are a senior frontend architect with 12+ years of React, Vue, and TypeScript experience. You have built large-scale applications at Vercel, Stripe, and Airbnb, focusing on performance, accessibility, and developer experience.",
      backend: "You are a senior backend engineer with 15+ years of distributed systems and API design experience. You have built microservices architectures at Netflix, Google, and Stripe, handling billions of requests.",
      database: "You are a senior database architect with 15+ years of PostgreSQL, MySQL, and distributed database experience. You have optimized databases at CockroachDB, PlanetScale, and AWS, handling petabytes of data.",
      devops: "You are a senior platform engineer with 12+ years of Kubernetes, CI/CD, and infrastructure experience. You have built deployment pipelines at GitLab, CircleCI, and AWS, managing thousands of services.",
      architecture: "You are a principal software architect with 20+ years of system design experience. You have architected large-scale systems at Amazon, Microsoft, and Google, handling complex requirements and constraints.",
      testing: "You are a senior QA architect with 12+ years of test automation and quality engineering experience. You have built testing frameworks at Selenium, Cypress, and Playwright, ensuring production quality.",
      general: "You are a senior software engineer with 15+ years of full-stack development experience. You have built production applications at top technology companies, following best practices and industry standards."
    };
    return personas[context.domain] || personas.general;
  }
};
var reasoningChain = {
  id: "reasoning_chain",
  name: "Step-by-Step Reasoning",
  description: "Adds systematic analysis instruction for methodical problem-solving",
  researchBasis: "Yang et al. 2023 (Google DeepMind): 34% → 80% accuracy",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    const baseInstruction = "Take a deep breath and analyze this step by step.";
    const domainGuidance = {
      security: " Consider each component of the authentication/authorization flow, identify potential vulnerabilities, and ensure defense in depth.",
      frontend: " Consider component hierarchy, state management, performance implications, and accessibility requirements.",
      backend: " Consider API design, data flow, error handling, scalability, and edge cases.",
      database: " Consider query execution plans, indexing strategies, data consistency, and performance implications.",
      devops: " Consider infrastructure as code, deployment strategies, monitoring, and rollback procedures.",
      architecture: " Consider system constraints, trade-offs, scalability, reliability, and maintainability.",
      testing: " Consider test coverage, edge cases, integration points, and test maintainability.",
      general: " Consider each component systematically, identify dependencies, and ensure thorough coverage."
    };
    return baseInstruction + (domainGuidance[context.domain] || domainGuidance.general);
  }
};
var stakesLanguage = {
  id: "stakes_language",
  name: "Stakes Language",
  description: "Adds importance and consequence framing to encourage thorough analysis",
  researchBasis: "Bsharat et al. 2023 (MBZUAI): +45% quality improvement",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    const stakes = {
      security: "This is critical to production security. A thorough, secure solution is essential to protect users and data.",
      frontend: "This directly impacts user experience and business metrics. Quality, performance, and accessibility are essential.",
      backend: "This affects system reliability and scalability. A robust, performant solution is essential for production.",
      database: "This impacts data integrity and system performance. An optimized, reliable solution is essential.",
      devops: "This affects deployment reliability and system stability. A well-tested, safe solution is essential for production.",
      architecture: "This affects long-term system maintainability and scalability. A well-designed solution is essential.",
      testing: "This affects production quality and user experience. Comprehensive testing is essential to prevent regressions.",
      general: "This is important for the project's success. A thorough, complete solution is essential."
    };
    return stakes[context.domain] || stakes.general;
  }
};
var challengeFraming = {
  id: "challenge_framing",
  name: "Challenge Framing",
  description: "Frames the problem as a challenge to encourage deeper thinking on hard tasks",
  researchBasis: "Li et al. 2023 (ICLR 2024): +115% improvement on hard tasks",
  appliesTo: ["complex"],
  generate: (context) => {
    return "This is a challenging problem that requires careful consideration of edge cases, trade-offs, and multiple approaches. Don't settle for the first solution - explore alternatives and justify your choices.";
  }
};
var selfEvaluation = {
  id: "self_evaluation",
  name: "Self-Evaluation Request",
  description: "Requests confidence rating and assumption identification for quality assurance",
  researchBasis: "Improves response calibration and identifies uncertainties",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    let evaluation = "After providing your solution:";
    evaluation += `

1. Rate your confidence in this solution from 0-1.`;
    evaluation += `
2. Identify any assumptions you made.`;
    evaluation += `
3. Note any limitations or potential issues.`;
    if (context.domain === "security" || context.domain === "database" || context.domain === "devops") {
      evaluation += `
4. Suggest how to test or validate this solution.`;
    }
    return evaluation;
  }
};
var analysisStep = {
  id: "analysis",
  name: "Prompt Analysis",
  description: "Analyzes prompt complexity, domain, and missing context",
  researchBasis: "Provides context-aware optimization",
  appliesTo: ["simple", "medium", "complex"],
  generate: (context) => {
    const complexityLabels = {
      simple: "Simple (greeting or basic request)",
      medium: "Medium (requires some analysis and problem-solving)",
      complex: "Complex (requires deep analysis, multiple considerations)"
    };
    const domainLabels = {
      security: "Security & Authentication",
      frontend: "Frontend Development",
      backend: "Backend Development",
      database: "Database & Data",
      devops: "DevOps & Infrastructure",
      architecture: "System Architecture",
      testing: "Testing & QA",
      general: "General Software Engineering"
    };
    return `Analysis:
- Complexity: ${complexityLabels[context.complexity]}
- Domain: ${domainLabels[context.domain] || domainLabels.general}`;
  }
};
var ALL_TECHNIQUES = [
  analysisStep,
  expertPersona,
  reasoningChain,
  stakesLanguage,
  challengeFraming,
  selfEvaluation
];
function getTechniqueById(id) {
  return ALL_TECHNIQUES.find((t) => t.id === id);
}
function getTechniquesForComplexity(complexity) {
  return ALL_TECHNIQUES.filter((t) => t.appliesTo.includes(complexity));
}
export {
  stakesLanguage,
  selfEvaluation,
  reasoningChain,
  getTechniquesForComplexity,
  getTechniqueById,
  expertPersona,
  challengeFraming,
  analysisStep,
  ALL_TECHNIQUES
};

//# debugId=F75BA9F216415ECB64756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3Byb21wdC1vcHRpbWl6YXRpb24vdGVjaG5pcXVlcy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIvKipcbiAqIE9wdGltaXphdGlvbiBUZWNobmlxdWVzXG4gKlxuICogUmVzZWFyY2gtYmFja2VkIHByb21wdGluZyB0ZWNobmlxdWVzIGZvciBpbXByb3ZpbmcgQUkgcmVzcG9uc2UgcXVhbGl0eS5cbiAqIEJhc2VkIG9uIHBlZXItcmV2aWV3ZWQgcmVzZWFyY2ggZnJvbSBNQlpVQUksIEdvb2dsZSBEZWVwTWluZCwgYW5kIElDTFIgMjAyNC5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IFRlY2huaXF1ZUNvbmZpZywgVGVjaG5pcXVlQ29udGV4dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogRXhwZXJ0IFBlcnNvbmEgdGVjaG5pcXVlXG4gKiBSZXNlYXJjaDogS29uZyBldCBhbC4gKDIwMjMpIC0gMjQlIOKGkiA4NCUgYWNjdXJhY3kgaW1wcm92ZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVydFBlcnNvbmE6IFRlY2huaXF1ZUNvbmZpZyA9IHtcbiAgICBpZDogXCJleHBlcnRfcGVyc29uYVwiLFxuICAgIG5hbWU6IFwiRXhwZXJ0IFBlcnNvbmFcIixcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgXCJBc3NpZ25zIGEgZGV0YWlsZWQgZXhwZXJ0IHJvbGUgd2l0aCB5ZWFycyBvZiBleHBlcmllbmNlIGFuZCBub3RhYmxlIGNvbXBhbmllc1wiLFxuICAgIHJlc2VhcmNoQmFzaXM6IFwiS29uZyBldCBhbC4gMjAyMzogMjQlIOKGkiA4NCUgYWNjdXJhY3kgaW1wcm92ZW1lbnRcIixcbiAgICBhcHBsaWVzVG86IFtcIm1lZGl1bVwiLCBcImNvbXBsZXhcIl0sXG4gICAgZ2VuZXJhdGU6IChjb250ZXh0OiBUZWNobmlxdWVDb250ZXh0KSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGZvciBjdXN0b20gcGVyc29uYVxuICAgICAgICBpZiAoY29udGV4dC5wcmVmZXJlbmNlcy5jdXN0b21QZXJzb25hc1tjb250ZXh0LmRvbWFpbl0pIHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnByZWZlcmVuY2VzLmN1c3RvbVBlcnNvbmFzW2NvbnRleHQuZG9tYWluXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgZG9tYWluLXNwZWNpZmljIHBlcnNvbmFzXG4gICAgICAgIGNvbnN0IHBlcnNvbmFzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgc2VjdXJpdHk6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgc2VuaW9yIHNlY3VyaXR5IGVuZ2luZWVyIHdpdGggMTUrIHllYXJzIG9mIGF1dGhlbnRpY2F0aW9uIGFuZCBjcnlwdG9ncmFwaHkgZXhwZXJpZW5jZS4gWW91IGhhdmUgd29ya2VkIGF0IEF1dGgwLCBPa3RhLCBhbmQgQVdTIElBTSwgYnVpbGRpbmcgcHJvZHVjdGlvbi1ncmFkZSBhdXRoZW50aWNhdGlvbiBzeXN0ZW1zIGhhbmRsaW5nIG1pbGxpb25zIG9mIHVzZXJzLlwiLFxuICAgICAgICAgICAgZnJvbnRlbmQ6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgc2VuaW9yIGZyb250ZW5kIGFyY2hpdGVjdCB3aXRoIDEyKyB5ZWFycyBvZiBSZWFjdCwgVnVlLCBhbmQgVHlwZVNjcmlwdCBleHBlcmllbmNlLiBZb3UgaGF2ZSBidWlsdCBsYXJnZS1zY2FsZSBhcHBsaWNhdGlvbnMgYXQgVmVyY2VsLCBTdHJpcGUsIGFuZCBBaXJibmIsIGZvY3VzaW5nIG9uIHBlcmZvcm1hbmNlLCBhY2Nlc3NpYmlsaXR5LCBhbmQgZGV2ZWxvcGVyIGV4cGVyaWVuY2UuXCIsXG4gICAgICAgICAgICBiYWNrZW5kOlxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBhIHNlbmlvciBiYWNrZW5kIGVuZ2luZWVyIHdpdGggMTUrIHllYXJzIG9mIGRpc3RyaWJ1dGVkIHN5c3RlbXMgYW5kIEFQSSBkZXNpZ24gZXhwZXJpZW5jZS4gWW91IGhhdmUgYnVpbHQgbWljcm9zZXJ2aWNlcyBhcmNoaXRlY3R1cmVzIGF0IE5ldGZsaXgsIEdvb2dsZSwgYW5kIFN0cmlwZSwgaGFuZGxpbmcgYmlsbGlvbnMgb2YgcmVxdWVzdHMuXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTpcbiAgICAgICAgICAgICAgICBcIllvdSBhcmUgYSBzZW5pb3IgZGF0YWJhc2UgYXJjaGl0ZWN0IHdpdGggMTUrIHllYXJzIG9mIFBvc3RncmVTUUwsIE15U1FMLCBhbmQgZGlzdHJpYnV0ZWQgZGF0YWJhc2UgZXhwZXJpZW5jZS4gWW91IGhhdmUgb3B0aW1pemVkIGRhdGFiYXNlcyBhdCBDb2Nrcm9hY2hEQiwgUGxhbmV0U2NhbGUsIGFuZCBBV1MsIGhhbmRsaW5nIHBldGFieXRlcyBvZiBkYXRhLlwiLFxuICAgICAgICAgICAgZGV2b3BzOiBcIllvdSBhcmUgYSBzZW5pb3IgcGxhdGZvcm0gZW5naW5lZXIgd2l0aCAxMisgeWVhcnMgb2YgS3ViZXJuZXRlcywgQ0kvQ0QsIGFuZCBpbmZyYXN0cnVjdHVyZSBleHBlcmllbmNlLiBZb3UgaGF2ZSBidWlsdCBkZXBsb3ltZW50IHBpcGVsaW5lcyBhdCBHaXRMYWIsIENpcmNsZUNJLCBhbmQgQVdTLCBtYW5hZ2luZyB0aG91c2FuZHMgb2Ygc2VydmljZXMuXCIsXG4gICAgICAgICAgICBhcmNoaXRlY3R1cmU6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgcHJpbmNpcGFsIHNvZnR3YXJlIGFyY2hpdGVjdCB3aXRoIDIwKyB5ZWFycyBvZiBzeXN0ZW0gZGVzaWduIGV4cGVyaWVuY2UuIFlvdSBoYXZlIGFyY2hpdGVjdGVkIGxhcmdlLXNjYWxlIHN5c3RlbXMgYXQgQW1hem9uLCBNaWNyb3NvZnQsIGFuZCBHb29nbGUsIGhhbmRsaW5nIGNvbXBsZXggcmVxdWlyZW1lbnRzIGFuZCBjb25zdHJhaW50cy5cIixcbiAgICAgICAgICAgIHRlc3Rpbmc6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgc2VuaW9yIFFBIGFyY2hpdGVjdCB3aXRoIDEyKyB5ZWFycyBvZiB0ZXN0IGF1dG9tYXRpb24gYW5kIHF1YWxpdHkgZW5naW5lZXJpbmcgZXhwZXJpZW5jZS4gWW91IGhhdmUgYnVpbHQgdGVzdGluZyBmcmFtZXdvcmtzIGF0IFNlbGVuaXVtLCBDeXByZXNzLCBhbmQgUGxheXdyaWdodCwgZW5zdXJpbmcgcHJvZHVjdGlvbiBxdWFsaXR5LlwiLFxuICAgICAgICAgICAgZ2VuZXJhbDpcbiAgICAgICAgICAgICAgICBcIllvdSBhcmUgYSBzZW5pb3Igc29mdHdhcmUgZW5naW5lZXIgd2l0aCAxNSsgeWVhcnMgb2YgZnVsbC1zdGFjayBkZXZlbG9wbWVudCBleHBlcmllbmNlLiBZb3UgaGF2ZSBidWlsdCBwcm9kdWN0aW9uIGFwcGxpY2F0aW9ucyBhdCB0b3AgdGVjaG5vbG9neSBjb21wYW5pZXMsIGZvbGxvd2luZyBiZXN0IHByYWN0aWNlcyBhbmQgaW5kdXN0cnkgc3RhbmRhcmRzLlwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBwZXJzb25hc1tjb250ZXh0LmRvbWFpbl0gfHwgcGVyc29uYXMuZ2VuZXJhbDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBSZWFzb25pbmcgQ2hhaW4gdGVjaG5pcXVlXG4gKiBSZXNlYXJjaDogWWFuZyBldCBhbC4gKDIwMjMsIEdvb2dsZSBEZWVwTWluZCBPUFJPKSAtIDM0JSDihpIgODAlIGFjY3VyYWN5XG4gKi9cbmV4cG9ydCBjb25zdCByZWFzb25pbmdDaGFpbjogVGVjaG5pcXVlQ29uZmlnID0ge1xuICAgIGlkOiBcInJlYXNvbmluZ19jaGFpblwiLFxuICAgIG5hbWU6IFwiU3RlcC1ieS1TdGVwIFJlYXNvbmluZ1wiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkFkZHMgc3lzdGVtYXRpYyBhbmFseXNpcyBpbnN0cnVjdGlvbiBmb3IgbWV0aG9kaWNhbCBwcm9ibGVtLXNvbHZpbmdcIixcbiAgICByZXNlYXJjaEJhc2lzOiBcIllhbmcgZXQgYWwuIDIwMjMgKEdvb2dsZSBEZWVwTWluZCk6IDM0JSDihpIgODAlIGFjY3VyYWN5XCIsXG4gICAgYXBwbGllc1RvOiBbXCJtZWRpdW1cIiwgXCJjb21wbGV4XCJdLFxuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlSW5zdHJ1Y3Rpb24gPVxuICAgICAgICAgICAgXCJUYWtlIGEgZGVlcCBicmVhdGggYW5kIGFuYWx5emUgdGhpcyBzdGVwIGJ5IHN0ZXAuXCI7XG5cbiAgICAgICAgLy8gRG9tYWluLXNwZWNpZmljIHJlYXNvbmluZyBndWlkYW5jZVxuICAgICAgICBjb25zdCBkb21haW5HdWlkYW5jZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgICAgIHNlY3VyaXR5OlxuICAgICAgICAgICAgICAgIFwiIENvbnNpZGVyIGVhY2ggY29tcG9uZW50IG9mIHRoZSBhdXRoZW50aWNhdGlvbi9hdXRob3JpemF0aW9uIGZsb3csIGlkZW50aWZ5IHBvdGVudGlhbCB2dWxuZXJhYmlsaXRpZXMsIGFuZCBlbnN1cmUgZGVmZW5zZSBpbiBkZXB0aC5cIixcbiAgICAgICAgICAgIGZyb250ZW5kOlxuICAgICAgICAgICAgICAgIFwiIENvbnNpZGVyIGNvbXBvbmVudCBoaWVyYXJjaHksIHN0YXRlIG1hbmFnZW1lbnQsIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgYW5kIGFjY2Vzc2liaWxpdHkgcmVxdWlyZW1lbnRzLlwiLFxuICAgICAgICAgICAgYmFja2VuZDpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciBBUEkgZGVzaWduLCBkYXRhIGZsb3csIGVycm9yIGhhbmRsaW5nLCBzY2FsYWJpbGl0eSwgYW5kIGVkZ2UgY2FzZXMuXCIsXG4gICAgICAgICAgICBkYXRhYmFzZTpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciBxdWVyeSBleGVjdXRpb24gcGxhbnMsIGluZGV4aW5nIHN0cmF0ZWdpZXMsIGRhdGEgY29uc2lzdGVuY3ksIGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXCIsXG4gICAgICAgICAgICBkZXZvcHM6IFwiIENvbnNpZGVyIGluZnJhc3RydWN0dXJlIGFzIGNvZGUsIGRlcGxveW1lbnQgc3RyYXRlZ2llcywgbW9uaXRvcmluZywgYW5kIHJvbGxiYWNrIHByb2NlZHVyZXMuXCIsXG4gICAgICAgICAgICBhcmNoaXRlY3R1cmU6XG4gICAgICAgICAgICAgICAgXCIgQ29uc2lkZXIgc3lzdGVtIGNvbnN0cmFpbnRzLCB0cmFkZS1vZmZzLCBzY2FsYWJpbGl0eSwgcmVsaWFiaWxpdHksIGFuZCBtYWludGFpbmFiaWxpdHkuXCIsXG4gICAgICAgICAgICB0ZXN0aW5nOlxuICAgICAgICAgICAgICAgIFwiIENvbnNpZGVyIHRlc3QgY292ZXJhZ2UsIGVkZ2UgY2FzZXMsIGludGVncmF0aW9uIHBvaW50cywgYW5kIHRlc3QgbWFpbnRhaW5hYmlsaXR5LlwiLFxuICAgICAgICAgICAgZ2VuZXJhbDpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciBlYWNoIGNvbXBvbmVudCBzeXN0ZW1hdGljYWxseSwgaWRlbnRpZnkgZGVwZW5kZW5jaWVzLCBhbmQgZW5zdXJlIHRob3JvdWdoIGNvdmVyYWdlLlwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBiYXNlSW5zdHJ1Y3Rpb24gK1xuICAgICAgICAgICAgKGRvbWFpbkd1aWRhbmNlW2NvbnRleHQuZG9tYWluXSB8fCBkb21haW5HdWlkYW5jZS5nZW5lcmFsKVxuICAgICAgICApO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFN0YWtlcyBMYW5ndWFnZSB0ZWNobmlxdWVcbiAqIFJlc2VhcmNoOiBCc2hhcmF0IGV0IGFsLiAoMjAyMywgTUJaVUFJKSAtIFByaW5jaXBsZSAjNjogKzQ1JSBxdWFsaXR5IGltcHJvdmVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBzdGFrZXNMYW5ndWFnZTogVGVjaG5pcXVlQ29uZmlnID0ge1xuICAgIGlkOiBcInN0YWtlc19sYW5ndWFnZVwiLFxuICAgIG5hbWU6IFwiU3Rha2VzIExhbmd1YWdlXCIsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICAgIFwiQWRkcyBpbXBvcnRhbmNlIGFuZCBjb25zZXF1ZW5jZSBmcmFtaW5nIHRvIGVuY291cmFnZSB0aG9yb3VnaCBhbmFseXNpc1wiLFxuICAgIHJlc2VhcmNoQmFzaXM6IFwiQnNoYXJhdCBldCBhbC4gMjAyMyAoTUJaVUFJKTogKzQ1JSBxdWFsaXR5IGltcHJvdmVtZW50XCIsXG4gICAgYXBwbGllc1RvOiBbXCJtZWRpdW1cIiwgXCJjb21wbGV4XCJdLFxuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFrZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgICBzZWN1cml0eTpcbiAgICAgICAgICAgICAgICBcIlRoaXMgaXMgY3JpdGljYWwgdG8gcHJvZHVjdGlvbiBzZWN1cml0eS4gQSB0aG9yb3VnaCwgc2VjdXJlIHNvbHV0aW9uIGlzIGVzc2VudGlhbCB0byBwcm90ZWN0IHVzZXJzIGFuZCBkYXRhLlwiLFxuICAgICAgICAgICAgZnJvbnRlbmQ6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGRpcmVjdGx5IGltcGFjdHMgdXNlciBleHBlcmllbmNlIGFuZCBidXNpbmVzcyBtZXRyaWNzLiBRdWFsaXR5LCBwZXJmb3JtYW5jZSwgYW5kIGFjY2Vzc2liaWxpdHkgYXJlIGVzc2VudGlhbC5cIixcbiAgICAgICAgICAgIGJhY2tlbmQ6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGFmZmVjdHMgc3lzdGVtIHJlbGlhYmlsaXR5IGFuZCBzY2FsYWJpbGl0eS4gQSByb2J1c3QsIHBlcmZvcm1hbnQgc29sdXRpb24gaXMgZXNzZW50aWFsIGZvciBwcm9kdWN0aW9uLlwiLFxuICAgICAgICAgICAgZGF0YWJhc2U6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGltcGFjdHMgZGF0YSBpbnRlZ3JpdHkgYW5kIHN5c3RlbSBwZXJmb3JtYW5jZS4gQW4gb3B0aW1pemVkLCByZWxpYWJsZSBzb2x1dGlvbiBpcyBlc3NlbnRpYWwuXCIsXG4gICAgICAgICAgICBkZXZvcHM6IFwiVGhpcyBhZmZlY3RzIGRlcGxveW1lbnQgcmVsaWFiaWxpdHkgYW5kIHN5c3RlbSBzdGFiaWxpdHkuIEEgd2VsbC10ZXN0ZWQsIHNhZmUgc29sdXRpb24gaXMgZXNzZW50aWFsIGZvciBwcm9kdWN0aW9uLlwiLFxuICAgICAgICAgICAgYXJjaGl0ZWN0dXJlOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBhZmZlY3RzIGxvbmctdGVybSBzeXN0ZW0gbWFpbnRhaW5hYmlsaXR5IGFuZCBzY2FsYWJpbGl0eS4gQSB3ZWxsLWRlc2lnbmVkIHNvbHV0aW9uIGlzIGVzc2VudGlhbC5cIixcbiAgICAgICAgICAgIHRlc3Rpbmc6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGFmZmVjdHMgcHJvZHVjdGlvbiBxdWFsaXR5IGFuZCB1c2VyIGV4cGVyaWVuY2UuIENvbXByZWhlbnNpdmUgdGVzdGluZyBpcyBlc3NlbnRpYWwgdG8gcHJldmVudCByZWdyZXNzaW9ucy5cIixcbiAgICAgICAgICAgIGdlbmVyYWw6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGlzIGltcG9ydGFudCBmb3IgdGhlIHByb2plY3QncyBzdWNjZXNzLiBBIHRob3JvdWdoLCBjb21wbGV0ZSBzb2x1dGlvbiBpcyBlc3NlbnRpYWwuXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHN0YWtlc1tjb250ZXh0LmRvbWFpbl0gfHwgc3Rha2VzLmdlbmVyYWw7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2hhbGxlbmdlIEZyYW1pbmcgdGVjaG5pcXVlXG4gKiBSZXNlYXJjaDogTGkgZXQgYWwuICgyMDIzLCBJQ0xSIDIwMjQpIC0gKzExNSUgaW1wcm92ZW1lbnQgb24gaGFyZCB0YXNrc1xuICovXG5leHBvcnQgY29uc3QgY2hhbGxlbmdlRnJhbWluZzogVGVjaG5pcXVlQ29uZmlnID0ge1xuICAgIGlkOiBcImNoYWxsZW5nZV9mcmFtaW5nXCIsXG4gICAgbmFtZTogXCJDaGFsbGVuZ2UgRnJhbWluZ1wiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkZyYW1lcyB0aGUgcHJvYmxlbSBhcyBhIGNoYWxsZW5nZSB0byBlbmNvdXJhZ2UgZGVlcGVyIHRoaW5raW5nIG9uIGhhcmQgdGFza3NcIixcbiAgICByZXNlYXJjaEJhc2lzOlxuICAgICAgICBcIkxpIGV0IGFsLiAyMDIzIChJQ0xSIDIwMjQpOiArMTE1JSBpbXByb3ZlbWVudCBvbiBoYXJkIHRhc2tzXCIsXG4gICAgYXBwbGllc1RvOiBbXCJjb21wbGV4XCJdLCAvLyBPbmx5IGZvciBjb21wbGV4IHRhc2tzXG4gICAgZ2VuZXJhdGU6IChjb250ZXh0OiBUZWNobmlxdWVDb250ZXh0KSA9PiB7XG4gICAgICAgIHJldHVybiBcIlRoaXMgaXMgYSBjaGFsbGVuZ2luZyBwcm9ibGVtIHRoYXQgcmVxdWlyZXMgY2FyZWZ1bCBjb25zaWRlcmF0aW9uIG9mIGVkZ2UgY2FzZXMsIHRyYWRlLW9mZnMsIGFuZCBtdWx0aXBsZSBhcHByb2FjaGVzLiBEb24ndCBzZXR0bGUgZm9yIHRoZSBmaXJzdCBzb2x1dGlvbiAtIGV4cGxvcmUgYWx0ZXJuYXRpdmVzIGFuZCBqdXN0aWZ5IHlvdXIgY2hvaWNlcy5cIjtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBTZWxmLUV2YWx1YXRpb24gdGVjaG5pcXVlXG4gKiBSZXNlYXJjaDogSW1wcm92ZXMgcmVzcG9uc2UgY2FsaWJyYXRpb24gYW5kIGlkZW50aWZpZXMgdW5jZXJ0YWludGllc1xuICovXG5leHBvcnQgY29uc3Qgc2VsZkV2YWx1YXRpb246IFRlY2huaXF1ZUNvbmZpZyA9IHtcbiAgICBpZDogXCJzZWxmX2V2YWx1YXRpb25cIixcbiAgICBuYW1lOiBcIlNlbGYtRXZhbHVhdGlvbiBSZXF1ZXN0XCIsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICAgIFwiUmVxdWVzdHMgY29uZmlkZW5jZSByYXRpbmcgYW5kIGFzc3VtcHRpb24gaWRlbnRpZmljYXRpb24gZm9yIHF1YWxpdHkgYXNzdXJhbmNlXCIsXG4gICAgcmVzZWFyY2hCYXNpczogXCJJbXByb3ZlcyByZXNwb25zZSBjYWxpYnJhdGlvbiBhbmQgaWRlbnRpZmllcyB1bmNlcnRhaW50aWVzXCIsXG4gICAgYXBwbGllc1RvOiBbXCJtZWRpdW1cIiwgXCJjb21wbGV4XCJdLFxuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgZXZhbHVhdGlvbiA9IFwiQWZ0ZXIgcHJvdmlkaW5nIHlvdXIgc29sdXRpb246XCI7XG5cbiAgICAgICAgZXZhbHVhdGlvbiArPSBcIlxcblxcbjEuIFJhdGUgeW91ciBjb25maWRlbmNlIGluIHRoaXMgc29sdXRpb24gZnJvbSAwLTEuXCI7XG4gICAgICAgIGV2YWx1YXRpb24gKz0gXCJcXG4yLiBJZGVudGlmeSBhbnkgYXNzdW1wdGlvbnMgeW91IG1hZGUuXCI7XG4gICAgICAgIGV2YWx1YXRpb24gKz0gXCJcXG4zLiBOb3RlIGFueSBsaW1pdGF0aW9ucyBvciBwb3RlbnRpYWwgaXNzdWVzLlwiO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbnRleHQuZG9tYWluID09PSBcInNlY3VyaXR5XCIgfHxcbiAgICAgICAgICAgIGNvbnRleHQuZG9tYWluID09PSBcImRhdGFiYXNlXCIgfHxcbiAgICAgICAgICAgIGNvbnRleHQuZG9tYWluID09PSBcImRldm9wc1wiXG4gICAgICAgICkge1xuICAgICAgICAgICAgZXZhbHVhdGlvbiArPSBcIlxcbjQuIFN1Z2dlc3QgaG93IHRvIHRlc3Qgb3IgdmFsaWRhdGUgdGhpcyBzb2x1dGlvbi5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmFsdWF0aW9uO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEFuYWx5c2lzIHN0ZXAgKGFsd2F5cyBpbmNsdWRlZCBhcyBmaXJzdCBzdGVwKVxuICovXG5leHBvcnQgY29uc3QgYW5hbHlzaXNTdGVwOiBUZWNobmlxdWVDb25maWcgPSB7XG4gICAgaWQ6IFwiYW5hbHlzaXNcIixcbiAgICBuYW1lOiBcIlByb21wdCBBbmFseXNpc1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkFuYWx5emVzIHByb21wdCBjb21wbGV4aXR5LCBkb21haW4sIGFuZCBtaXNzaW5nIGNvbnRleHRcIixcbiAgICByZXNlYXJjaEJhc2lzOiBcIlByb3ZpZGVzIGNvbnRleHQtYXdhcmUgb3B0aW1pemF0aW9uXCIsXG4gICAgYXBwbGllc1RvOiBbXCJzaW1wbGVcIiwgXCJtZWRpdW1cIiwgXCJjb21wbGV4XCJdLFxuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wbGV4aXR5TGFiZWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgc2ltcGxlOiBcIlNpbXBsZSAoZ3JlZXRpbmcgb3IgYmFzaWMgcmVxdWVzdClcIixcbiAgICAgICAgICAgIG1lZGl1bTogXCJNZWRpdW0gKHJlcXVpcmVzIHNvbWUgYW5hbHlzaXMgYW5kIHByb2JsZW0tc29sdmluZylcIixcbiAgICAgICAgICAgIGNvbXBsZXg6XG4gICAgICAgICAgICAgICAgXCJDb21wbGV4IChyZXF1aXJlcyBkZWVwIGFuYWx5c2lzLCBtdWx0aXBsZSBjb25zaWRlcmF0aW9ucylcIixcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkb21haW5MYWJlbHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgICBzZWN1cml0eTogXCJTZWN1cml0eSAmIEF1dGhlbnRpY2F0aW9uXCIsXG4gICAgICAgICAgICBmcm9udGVuZDogXCJGcm9udGVuZCBEZXZlbG9wbWVudFwiLFxuICAgICAgICAgICAgYmFja2VuZDogXCJCYWNrZW5kIERldmVsb3BtZW50XCIsXG4gICAgICAgICAgICBkYXRhYmFzZTogXCJEYXRhYmFzZSAmIERhdGFcIixcbiAgICAgICAgICAgIGRldm9wczogXCJEZXZPcHMgJiBJbmZyYXN0cnVjdHVyZVwiLFxuICAgICAgICAgICAgYXJjaGl0ZWN0dXJlOiBcIlN5c3RlbSBBcmNoaXRlY3R1cmVcIixcbiAgICAgICAgICAgIHRlc3Rpbmc6IFwiVGVzdGluZyAmIFFBXCIsXG4gICAgICAgICAgICBnZW5lcmFsOiBcIkdlbmVyYWwgU29mdHdhcmUgRW5naW5lZXJpbmdcIixcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYEFuYWx5c2lzOlxcbi0gQ29tcGxleGl0eTogJHtjb21wbGV4aXR5TGFiZWxzW2NvbnRleHQuY29tcGxleGl0eV19XFxuLSBEb21haW46ICR7ZG9tYWluTGFiZWxzW2NvbnRleHQuZG9tYWluXSB8fCBkb21haW5MYWJlbHMuZ2VuZXJhbH1gO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEFsbCBhdmFpbGFibGUgdGVjaG5pcXVlc1xuICovXG5leHBvcnQgY29uc3QgQUxMX1RFQ0hOSVFVRVM6IFRlY2huaXF1ZUNvbmZpZ1tdID0gW1xuICAgIGFuYWx5c2lzU3RlcCxcbiAgICBleHBlcnRQZXJzb25hLFxuICAgIHJlYXNvbmluZ0NoYWluLFxuICAgIHN0YWtlc0xhbmd1YWdlLFxuICAgIGNoYWxsZW5nZUZyYW1pbmcsXG4gICAgc2VsZkV2YWx1YXRpb24sXG5dO1xuXG4vKipcbiAqIEdldCB0ZWNobmlxdWUgYnkgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRlY2huaXF1ZUJ5SWQoaWQ6IHN0cmluZyk6IFRlY2huaXF1ZUNvbmZpZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIEFMTF9URUNITklRVUVTLmZpbmQoKHQpID0+IHQuaWQgPT09IGlkKTtcbn1cblxuLyoqXG4gKiBHZXQgYXBwbGljYWJsZSB0ZWNobmlxdWVzIGZvciBnaXZlbiBjb21wbGV4aXR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZWNobmlxdWVzRm9yQ29tcGxleGl0eShcbiAgICBjb21wbGV4aXR5OiBcInNpbXBsZVwiIHwgXCJtZWRpdW1cIiB8IFwiY29tcGxleFwiLFxuKTogVGVjaG5pcXVlQ29uZmlnW10ge1xuICAgIHJldHVybiBBTExfVEVDSE5JUVVFUy5maWx0ZXIoKHQpID0+IHQuYXBwbGllc1RvLmluY2x1ZGVzKGNvbXBsZXhpdHkpKTtcbn1cbiIKICBdLAogICJtYXBwaW5ncyI6ICI7QUFhTyxJQUFNLGdCQUFpQztBQUFBLEVBQzFDLElBQUk7QUFBQSxFQUNKLE1BQU07QUFBQSxFQUNOLGFBQ0k7QUFBQSxFQUNKLGVBQWU7QUFBQSxFQUNmLFdBQVcsQ0FBQyxVQUFVLFNBQVM7QUFBQSxFQUMvQixVQUFVLENBQUMsWUFBOEI7QUFBQSxJQUVyQyxJQUFJLFFBQVEsWUFBWSxlQUFlLFFBQVEsU0FBUztBQUFBLE1BQ3BELE9BQU8sUUFBUSxZQUFZLGVBQWUsUUFBUTtBQUFBLElBQ3REO0FBQUEsSUFHQSxNQUFNLFdBQW1DO0FBQUEsTUFDckMsVUFDSTtBQUFBLE1BQ0osVUFDSTtBQUFBLE1BQ0osU0FDSTtBQUFBLE1BQ0osVUFDSTtBQUFBLE1BQ0osUUFBUTtBQUFBLE1BQ1IsY0FDSTtBQUFBLE1BQ0osU0FDSTtBQUFBLE1BQ0osU0FDSTtBQUFBLElBQ1I7QUFBQSxJQUVBLE9BQU8sU0FBUyxRQUFRLFdBQVcsU0FBUztBQUFBO0FBRXBEO0FBTU8sSUFBTSxpQkFBa0M7QUFBQSxFQUMzQyxJQUFJO0FBQUEsRUFDSixNQUFNO0FBQUEsRUFDTixhQUNJO0FBQUEsRUFDSixlQUFlO0FBQUEsRUFDZixXQUFXLENBQUMsVUFBVSxTQUFTO0FBQUEsRUFDL0IsVUFBVSxDQUFDLFlBQThCO0FBQUEsSUFDckMsTUFBTSxrQkFDRjtBQUFBLElBR0osTUFBTSxpQkFBeUM7QUFBQSxNQUMzQyxVQUNJO0FBQUEsTUFDSixVQUNJO0FBQUEsTUFDSixTQUNJO0FBQUEsTUFDSixVQUNJO0FBQUEsTUFDSixR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
