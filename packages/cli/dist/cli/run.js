#!/usr/bin/env node
import { createRequire } from "node:module";
var __create = Object.create;
var __getProtoOf = Object.getPrototypeOf;
var __defProp = Object.defineProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __toESM = (mod, isNodeMode, target) => {
  target = mod != null ? __create(__getProtoOf(mod)) : {};
  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target;
  for (let key of __getOwnPropNames(mod))
    if (!__hasOwnProp.call(to, key))
      __defProp(to, key, {
        get: () => mod[key],
        enumerable: true
      });
  return to;
};
var __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {
      get: all[name],
      enumerable: true,
      configurable: true,
      set: (newValue) => all[name] = () => newValue
    });
};
var __esm = (fn, res) => () => (fn && (res = fn(fn = 0)), res);
var __require = /* @__PURE__ */ createRequire(import.meta.url);

// ../../node_modules/yaml/dist/nodes/identity.js
var require_identity = __commonJS((exports) => {
  var ALIAS = Symbol.for("yaml.alias");
  var DOC = Symbol.for("yaml.document");
  var MAP = Symbol.for("yaml.map");
  var PAIR = Symbol.for("yaml.pair");
  var SCALAR = Symbol.for("yaml.scalar");
  var SEQ = Symbol.for("yaml.seq");
  var NODE_TYPE = Symbol.for("yaml.node.type");
  var isAlias = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === ALIAS;
  var isDocument = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === DOC;
  var isMap = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === MAP;
  var isPair = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === PAIR;
  var isScalar = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === SCALAR;
  var isSeq = (node) => !!node && typeof node === "object" && node[NODE_TYPE] === SEQ;
  function isCollection(node) {
    if (node && typeof node === "object")
      switch (node[NODE_TYPE]) {
        case MAP:
        case SEQ:
          return true;
      }
    return false;
  }
  function isNode(node) {
    if (node && typeof node === "object")
      switch (node[NODE_TYPE]) {
        case ALIAS:
        case MAP:
        case SCALAR:
        case SEQ:
          return true;
      }
    return false;
  }
  var hasAnchor = (node) => (isScalar(node) || isCollection(node)) && !!node.anchor;
  exports.ALIAS = ALIAS;
  exports.DOC = DOC;
  exports.MAP = MAP;
  exports.NODE_TYPE = NODE_TYPE;
  exports.PAIR = PAIR;
  exports.SCALAR = SCALAR;
  exports.SEQ = SEQ;
  exports.hasAnchor = hasAnchor;
  exports.isAlias = isAlias;
  exports.isCollection = isCollection;
  exports.isDocument = isDocument;
  exports.isMap = isMap;
  exports.isNode = isNode;
  exports.isPair = isPair;
  exports.isScalar = isScalar;
  exports.isSeq = isSeq;
});

// ../../node_modules/yaml/dist/visit.js
var require_visit = __commonJS((exports) => {
  var identity = require_identity();
  var BREAK = Symbol("break visit");
  var SKIP = Symbol("skip children");
  var REMOVE = Symbol("remove node");
  function visit(node, visitor) {
    const visitor_ = initVisitor(visitor);
    if (identity.isDocument(node)) {
      const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));
      if (cd === REMOVE)
        node.contents = null;
    } else
      visit_(null, node, visitor_, Object.freeze([]));
  }
  visit.BREAK = BREAK;
  visit.SKIP = SKIP;
  visit.REMOVE = REMOVE;
  function visit_(key, node, visitor, path) {
    const ctrl = callVisitor(key, node, visitor, path);
    if (identity.isNode(ctrl) || identity.isPair(ctrl)) {
      replaceNode(key, path, ctrl);
      return visit_(key, ctrl, visitor, path);
    }
    if (typeof ctrl !== "symbol") {
      if (identity.isCollection(node)) {
        path = Object.freeze(path.concat(node));
        for (let i = 0;i < node.items.length; ++i) {
          const ci = visit_(i, node.items[i], visitor, path);
          if (typeof ci === "number")
            i = ci - 1;
          else if (ci === BREAK)
            return BREAK;
          else if (ci === REMOVE) {
            node.items.splice(i, 1);
            i -= 1;
          }
        }
      } else if (identity.isPair(node)) {
        path = Object.freeze(path.concat(node));
        const ck = visit_("key", node.key, visitor, path);
        if (ck === BREAK)
          return BREAK;
        else if (ck === REMOVE)
          node.key = null;
        const cv = visit_("value", node.value, visitor, path);
        if (cv === BREAK)
          return BREAK;
        else if (cv === REMOVE)
          node.value = null;
      }
    }
    return ctrl;
  }
  async function visitAsync(node, visitor) {
    const visitor_ = initVisitor(visitor);
    if (identity.isDocument(node)) {
      const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));
      if (cd === REMOVE)
        node.contents = null;
    } else
      await visitAsync_(null, node, visitor_, Object.freeze([]));
  }
  visitAsync.BREAK = BREAK;
  visitAsync.SKIP = SKIP;
  visitAsync.REMOVE = REMOVE;
  async function visitAsync_(key, node, visitor, path) {
    const ctrl = await callVisitor(key, node, visitor, path);
    if (identity.isNode(ctrl) || identity.isPair(ctrl)) {
      replaceNode(key, path, ctrl);
      return visitAsync_(key, ctrl, visitor, path);
    }
    if (typeof ctrl !== "symbol") {
      if (identity.isCollection(node)) {
        path = Object.freeze(path.concat(node));
        for (let i = 0;i < node.items.length; ++i) {
          const ci = await visitAsync_(i, node.items[i], visitor, path);
          if (typeof ci === "number")
            i = ci - 1;
          else if (ci === BREAK)
            return BREAK;
          else if (ci === REMOVE) {
            node.items.splice(i, 1);
            i -= 1;
          }
        }
      } else if (identity.isPair(node)) {
        path = Object.freeze(path.concat(node));
        const ck = await visitAsync_("key", node.key, visitor, path);
        if (ck === BREAK)
          return BREAK;
        else if (ck === REMOVE)
          node.key = null;
        const cv = await visitAsync_("value", node.value, visitor, path);
        if (cv === BREAK)
          return BREAK;
        else if (cv === REMOVE)
          node.value = null;
      }
    }
    return ctrl;
  }
  function initVisitor(visitor) {
    if (typeof visitor === "object" && (visitor.Collection || visitor.Node || visitor.Value)) {
      return Object.assign({
        Alias: visitor.Node,
        Map: visitor.Node,
        Scalar: visitor.Node,
        Seq: visitor.Node
      }, visitor.Value && {
        Map: visitor.Value,
        Scalar: visitor.Value,
        Seq: visitor.Value
      }, visitor.Collection && {
        Map: visitor.Collection,
        Seq: visitor.Collection
      }, visitor);
    }
    return visitor;
  }
  function callVisitor(key, node, visitor, path) {
    if (typeof visitor === "function")
      return visitor(key, node, path);
    if (identity.isMap(node))
      return visitor.Map?.(key, node, path);
    if (identity.isSeq(node))
      return visitor.Seq?.(key, node, path);
    if (identity.isPair(node))
      return visitor.Pair?.(key, node, path);
    if (identity.isScalar(node))
      return visitor.Scalar?.(key, node, path);
    if (identity.isAlias(node))
      return visitor.Alias?.(key, node, path);
    return;
  }
  function replaceNode(key, path, node) {
    const parent = path[path.length - 1];
    if (identity.isCollection(parent)) {
      parent.items[key] = node;
    } else if (identity.isPair(parent)) {
      if (key === "key")
        parent.key = node;
      else
        parent.value = node;
    } else if (identity.isDocument(parent)) {
      parent.contents = node;
    } else {
      const pt = identity.isAlias(parent) ? "alias" : "scalar";
      throw new Error(`Cannot replace node with ${pt} parent`);
    }
  }
  exports.visit = visit;
  exports.visitAsync = visitAsync;
});

// ../../node_modules/yaml/dist/doc/directives.js
var require_directives = __commonJS((exports) => {
  var identity = require_identity();
  var visit = require_visit();
  var escapeChars = {
    "!": "%21",
    ",": "%2C",
    "[": "%5B",
    "]": "%5D",
    "{": "%7B",
    "}": "%7D"
  };
  var escapeTagName = (tn) => tn.replace(/[!,[\]{}]/g, (ch) => escapeChars[ch]);

  class Directives {
    constructor(yaml, tags) {
      this.docStart = null;
      this.docEnd = false;
      this.yaml = Object.assign({}, Directives.defaultYaml, yaml);
      this.tags = Object.assign({}, Directives.defaultTags, tags);
    }
    clone() {
      const copy = new Directives(this.yaml, this.tags);
      copy.docStart = this.docStart;
      return copy;
    }
    atDocument() {
      const res = new Directives(this.yaml, this.tags);
      switch (this.yaml.version) {
        case "1.1":
          this.atNextDocument = true;
          break;
        case "1.2":
          this.atNextDocument = false;
          this.yaml = {
            explicit: Directives.defaultYaml.explicit,
            version: "1.2"
          };
          this.tags = Object.assign({}, Directives.defaultTags);
          break;
      }
      return res;
    }
    add(line, onError) {
      if (this.atNextDocument) {
        this.yaml = { explicit: Directives.defaultYaml.explicit, version: "1.1" };
        this.tags = Object.assign({}, Directives.defaultTags);
        this.atNextDocument = false;
      }
      const parts = line.trim().split(/[ \t]+/);
      const name = parts.shift();
      switch (name) {
        case "%TAG": {
          if (parts.length !== 2) {
            onError(0, "%TAG directive should contain exactly two parts");
            if (parts.length < 2)
              return false;
          }
          const [handle, prefix] = parts;
          this.tags[handle] = prefix;
          return true;
        }
        case "%YAML": {
          this.yaml.explicit = true;
          if (parts.length !== 1) {
            onError(0, "%YAML directive should contain exactly one part");
            return false;
          }
          const [version] = parts;
          if (version === "1.1" || version === "1.2") {
            this.yaml.version = version;
            return true;
          } else {
            const isValid = /^\d+\.\d+$/.test(version);
            onError(6, `Unsupported YAML version ${version}`, isValid);
            return false;
          }
        }
        default:
          onError(0, `Unknown directive ${name}`, true);
          return false;
      }
    }
    tagName(source, onError) {
      if (source === "!")
        return "!";
      if (source[0] !== "!") {
        onError(`Not a valid tag: ${source}`);
        return null;
      }
      if (source[1] === "<") {
        const verbatim = source.slice(2, -1);
        if (verbatim === "!" || verbatim === "!!") {
          onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);
          return null;
        }
        if (source[source.length - 1] !== ">")
          onError("Verbatim tags must end with a >");
        return verbatim;
      }
      const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/s);
      if (!suffix)
        onError(`The ${source} tag has no suffix`);
      const prefix = this.tags[handle];
      if (prefix) {
        try {
          return prefix + decodeURIComponent(suffix);
        } catch (error) {
          onError(String(error));
          return null;
        }
      }
      if (handle === "!")
        return source;
      onError(`Could not resolve tag: ${source}`);
      return null;
    }
    tagString(tag) {
      for (const [handle, prefix] of Object.entries(this.tags)) {
        if (tag.startsWith(prefix))
          return handle + escapeTagName(tag.substring(prefix.length));
      }
      return tag[0] === "!" ? tag : `!<${tag}>`;
    }
    toString(doc) {
      const lines = this.yaml.explicit ? [`%YAML ${this.yaml.version || "1.2"}`] : [];
      const tagEntries = Object.entries(this.tags);
      let tagNames;
      if (doc && tagEntries.length > 0 && identity.isNode(doc.contents)) {
        const tags = {};
        visit.visit(doc.contents, (_key, node) => {
          if (identity.isNode(node) && node.tag)
            tags[node.tag] = true;
        });
        tagNames = Object.keys(tags);
      } else
        tagNames = [];
      for (const [handle, prefix] of tagEntries) {
        if (handle === "!!" && prefix === "tag:yaml.org,2002:")
          continue;
        if (!doc || tagNames.some((tn) => tn.startsWith(prefix)))
          lines.push(`%TAG ${handle} ${prefix}`);
      }
      return lines.join(`
`);
    }
  }
  Directives.defaultYaml = { explicit: false, version: "1.2" };
  Directives.defaultTags = { "!!": "tag:yaml.org,2002:" };
  exports.Directives = Directives;
});

// ../../node_modules/yaml/dist/doc/anchors.js
var require_anchors = __commonJS((exports) => {
  var identity = require_identity();
  var visit = require_visit();
  function anchorIsValid(anchor) {
    if (/[\x00-\x19\s,[\]{}]/.test(anchor)) {
      const sa = JSON.stringify(anchor);
      const msg = `Anchor must not contain whitespace or control characters: ${sa}`;
      throw new Error(msg);
    }
    return true;
  }
  function anchorNames(root) {
    const anchors = new Set;
    visit.visit(root, {
      Value(_key, node) {
        if (node.anchor)
          anchors.add(node.anchor);
      }
    });
    return anchors;
  }
  function findNewAnchor(prefix, exclude) {
    for (let i = 1;; ++i) {
      const name = `${prefix}${i}`;
      if (!exclude.has(name))
        return name;
    }
  }
  function createNodeAnchors(doc, prefix) {
    const aliasObjects = [];
    const sourceObjects = new Map;
    let prevAnchors = null;
    return {
      onAnchor: (source) => {
        aliasObjects.push(source);
        prevAnchors ?? (prevAnchors = anchorNames(doc));
        const anchor = findNewAnchor(prefix, prevAnchors);
        prevAnchors.add(anchor);
        return anchor;
      },
      setAnchors: () => {
        for (const source of aliasObjects) {
          const ref = sourceObjects.get(source);
          if (typeof ref === "object" && ref.anchor && (identity.isScalar(ref.node) || identity.isCollection(ref.node))) {
            ref.node.anchor = ref.anchor;
          } else {
            const error = new Error("Failed to resolve repeated object (this should not happen)");
            error.source = source;
            throw error;
          }
        }
      },
      sourceObjects
    };
  }
  exports.anchorIsValid = anchorIsValid;
  exports.anchorNames = anchorNames;
  exports.createNodeAnchors = createNodeAnchors;
  exports.findNewAnchor = findNewAnchor;
});

// ../../node_modules/yaml/dist/doc/applyReviver.js
var require_applyReviver = __commonJS((exports) => {
  function applyReviver(reviver, obj, key, val) {
    if (val && typeof val === "object") {
      if (Array.isArray(val)) {
        for (let i = 0, len = val.length;i < len; ++i) {
          const v0 = val[i];
          const v1 = applyReviver(reviver, val, String(i), v0);
          if (v1 === undefined)
            delete val[i];
          else if (v1 !== v0)
            val[i] = v1;
        }
      } else if (val instanceof Map) {
        for (const k of Array.from(val.keys())) {
          const v0 = val.get(k);
          const v1 = applyReviver(reviver, val, k, v0);
          if (v1 === undefined)
            val.delete(k);
          else if (v1 !== v0)
            val.set(k, v1);
        }
      } else if (val instanceof Set) {
        for (const v0 of Array.from(val)) {
          const v1 = applyReviver(reviver, val, v0, v0);
          if (v1 === undefined)
            val.delete(v0);
          else if (v1 !== v0) {
            val.delete(v0);
            val.add(v1);
          }
        }
      } else {
        for (const [k, v0] of Object.entries(val)) {
          const v1 = applyReviver(reviver, val, k, v0);
          if (v1 === undefined)
            delete val[k];
          else if (v1 !== v0)
            val[k] = v1;
        }
      }
    }
    return reviver.call(obj, key, val);
  }
  exports.applyReviver = applyReviver;
});

// ../../node_modules/yaml/dist/nodes/toJS.js
var require_toJS = __commonJS((exports) => {
  var identity = require_identity();
  function toJS(value, arg, ctx) {
    if (Array.isArray(value))
      return value.map((v, i) => toJS(v, String(i), ctx));
    if (value && typeof value.toJSON === "function") {
      if (!ctx || !identity.hasAnchor(value))
        return value.toJSON(arg, ctx);
      const data = { aliasCount: 0, count: 1, res: undefined };
      ctx.anchors.set(value, data);
      ctx.onCreate = (res2) => {
        data.res = res2;
        delete ctx.onCreate;
      };
      const res = value.toJSON(arg, ctx);
      if (ctx.onCreate)
        ctx.onCreate(res);
      return res;
    }
    if (typeof value === "bigint" && !ctx?.keep)
      return Number(value);
    return value;
  }
  exports.toJS = toJS;
});

// ../../node_modules/yaml/dist/nodes/Node.js
var require_Node = __commonJS((exports) => {
  var applyReviver = require_applyReviver();
  var identity = require_identity();
  var toJS = require_toJS();

  class NodeBase {
    constructor(type) {
      Object.defineProperty(this, identity.NODE_TYPE, { value: type });
    }
    clone() {
      const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));
      if (this.range)
        copy.range = this.range.slice();
      return copy;
    }
    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {
      if (!identity.isDocument(doc))
        throw new TypeError("A document argument is required");
      const ctx = {
        anchors: new Map,
        doc,
        keep: true,
        mapAsMap: mapAsMap === true,
        mapKeyWarned: false,
        maxAliasCount: typeof maxAliasCount === "number" ? maxAliasCount : 100
      };
      const res = toJS.toJS(this, "", ctx);
      if (typeof onAnchor === "function")
        for (const { count, res: res2 } of ctx.anchors.values())
          onAnchor(res2, count);
      return typeof reviver === "function" ? applyReviver.applyReviver(reviver, { "": res }, "", res) : res;
    }
  }
  exports.NodeBase = NodeBase;
});

// ../../node_modules/yaml/dist/nodes/Alias.js
var require_Alias = __commonJS((exports) => {
  var anchors = require_anchors();
  var visit = require_visit();
  var identity = require_identity();
  var Node = require_Node();
  var toJS = require_toJS();

  class Alias extends Node.NodeBase {
    constructor(source) {
      super(identity.ALIAS);
      this.source = source;
      Object.defineProperty(this, "tag", {
        set() {
          throw new Error("Alias nodes cannot have tags");
        }
      });
    }
    resolve(doc, ctx) {
      let nodes;
      if (ctx?.aliasResolveCache) {
        nodes = ctx.aliasResolveCache;
      } else {
        nodes = [];
        visit.visit(doc, {
          Node: (_key, node) => {
            if (identity.isAlias(node) || identity.hasAnchor(node))
              nodes.push(node);
          }
        });
        if (ctx)
          ctx.aliasResolveCache = nodes;
      }
      let found = undefined;
      for (const node of nodes) {
        if (node === this)
          break;
        if (node.anchor === this.source)
          found = node;
      }
      return found;
    }
    toJSON(_arg, ctx) {
      if (!ctx)
        return { source: this.source };
      const { anchors: anchors2, doc, maxAliasCount } = ctx;
      const source = this.resolve(doc, ctx);
      if (!source) {
        const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;
        throw new ReferenceError(msg);
      }
      let data = anchors2.get(source);
      if (!data) {
        toJS.toJS(source, null, ctx);
        data = anchors2.get(source);
      }
      if (data?.res === undefined) {
        const msg = "This should not happen: Alias anchor was not resolved?";
        throw new ReferenceError(msg);
      }
      if (maxAliasCount >= 0) {
        data.count += 1;
        if (data.aliasCount === 0)
          data.aliasCount = getAliasCount(doc, source, anchors2);
        if (data.count * data.aliasCount > maxAliasCount) {
          const msg = "Excessive alias count indicates a resource exhaustion attack";
          throw new ReferenceError(msg);
        }
      }
      return data.res;
    }
    toString(ctx, _onComment, _onChompKeep) {
      const src = `*${this.source}`;
      if (ctx) {
        anchors.anchorIsValid(this.source);
        if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {
          const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;
          throw new Error(msg);
        }
        if (ctx.implicitKey)
          return `${src} `;
      }
      return src;
    }
  }
  function getAliasCount(doc, node, anchors2) {
    if (identity.isAlias(node)) {
      const source = node.resolve(doc);
      const anchor = anchors2 && source && anchors2.get(source);
      return anchor ? anchor.count * anchor.aliasCount : 0;
    } else if (identity.isCollection(node)) {
      let count = 0;
      for (const item of node.items) {
        const c = getAliasCount(doc, item, anchors2);
        if (c > count)
          count = c;
      }
      return count;
    } else if (identity.isPair(node)) {
      const kc = getAliasCount(doc, node.key, anchors2);
      const vc = getAliasCount(doc, node.value, anchors2);
      return Math.max(kc, vc);
    }
    return 1;
  }
  exports.Alias = Alias;
});

// ../../node_modules/yaml/dist/nodes/Scalar.js
var require_Scalar = __commonJS((exports) => {
  var identity = require_identity();
  var Node = require_Node();
  var toJS = require_toJS();
  var isScalarValue = (value) => !value || typeof value !== "function" && typeof value !== "object";

  class Scalar extends Node.NodeBase {
    constructor(value) {
      super(identity.SCALAR);
      this.value = value;
    }
    toJSON(arg, ctx) {
      return ctx?.keep ? this.value : toJS.toJS(this.value, arg, ctx);
    }
    toString() {
      return String(this.value);
    }
  }
  Scalar.BLOCK_FOLDED = "BLOCK_FOLDED";
  Scalar.BLOCK_LITERAL = "BLOCK_LITERAL";
  Scalar.PLAIN = "PLAIN";
  Scalar.QUOTE_DOUBLE = "QUOTE_DOUBLE";
  Scalar.QUOTE_SINGLE = "QUOTE_SINGLE";
  exports.Scalar = Scalar;
  exports.isScalarValue = isScalarValue;
});

// ../../node_modules/yaml/dist/doc/createNode.js
var require_createNode = __commonJS((exports) => {
  var Alias = require_Alias();
  var identity = require_identity();
  var Scalar = require_Scalar();
  var defaultTagPrefix = "tag:yaml.org,2002:";
  function findTagObject(value, tagName, tags) {
    if (tagName) {
      const match = tags.filter((t) => t.tag === tagName);
      const tagObj = match.find((t) => !t.format) ?? match[0];
      if (!tagObj)
        throw new Error(`Tag ${tagName} not found`);
      return tagObj;
    }
    return tags.find((t) => t.identify?.(value) && !t.format);
  }
  function createNode(value, tagName, ctx) {
    if (identity.isDocument(value))
      value = value.contents;
    if (identity.isNode(value))
      return value;
    if (identity.isPair(value)) {
      const map = ctx.schema[identity.MAP].createNode?.(ctx.schema, null, ctx);
      map.items.push(value);
      return map;
    }
    if (value instanceof String || value instanceof Number || value instanceof Boolean || typeof BigInt !== "undefined" && value instanceof BigInt) {
      value = value.valueOf();
    }
    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;
    let ref = undefined;
    if (aliasDuplicateObjects && value && typeof value === "object") {
      ref = sourceObjects.get(value);
      if (ref) {
        ref.anchor ?? (ref.anchor = onAnchor(value));
        return new Alias.Alias(ref.anchor);
      } else {
        ref = { anchor: null, node: null };
        sourceObjects.set(value, ref);
      }
    }
    if (tagName?.startsWith("!!"))
      tagName = defaultTagPrefix + tagName.slice(2);
    let tagObj = findTagObject(value, tagName, schema.tags);
    if (!tagObj) {
      if (value && typeof value.toJSON === "function") {
        value = value.toJSON();
      }
      if (!value || typeof value !== "object") {
        const node2 = new Scalar.Scalar(value);
        if (ref)
          ref.node = node2;
        return node2;
      }
      tagObj = value instanceof Map ? schema[identity.MAP] : (Symbol.iterator in Object(value)) ? schema[identity.SEQ] : schema[identity.MAP];
    }
    if (onTagObj) {
      onTagObj(tagObj);
      delete ctx.onTagObj;
    }
    const node = tagObj?.createNode ? tagObj.createNode(ctx.schema, value, ctx) : typeof tagObj?.nodeClass?.from === "function" ? tagObj.nodeClass.from(ctx.schema, value, ctx) : new Scalar.Scalar(value);
    if (tagName)
      node.tag = tagName;
    else if (!tagObj.default)
      node.tag = tagObj.tag;
    if (ref)
      ref.node = node;
    return node;
  }
  exports.createNode = createNode;
});

// ../../node_modules/yaml/dist/nodes/Collection.js
var require_Collection = __commonJS((exports) => {
  var createNode = require_createNode();
  var identity = require_identity();
  var Node = require_Node();
  function collectionFromPath(schema, path, value) {
    let v = value;
    for (let i = path.length - 1;i >= 0; --i) {
      const k = path[i];
      if (typeof k === "number" && Number.isInteger(k) && k >= 0) {
        const a = [];
        a[k] = v;
        v = a;
      } else {
        v = new Map([[k, v]]);
      }
    }
    return createNode.createNode(v, undefined, {
      aliasDuplicateObjects: false,
      keepUndefined: false,
      onAnchor: () => {
        throw new Error("This should not happen, please report a bug.");
      },
      schema,
      sourceObjects: new Map
    });
  }
  var isEmptyPath = (path) => path == null || typeof path === "object" && !!path[Symbol.iterator]().next().done;

  class Collection extends Node.NodeBase {
    constructor(type, schema) {
      super(type);
      Object.defineProperty(this, "schema", {
        value: schema,
        configurable: true,
        enumerable: false,
        writable: true
      });
    }
    clone(schema) {
      const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));
      if (schema)
        copy.schema = schema;
      copy.items = copy.items.map((it) => identity.isNode(it) || identity.isPair(it) ? it.clone(schema) : it);
      if (this.range)
        copy.range = this.range.slice();
      return copy;
    }
    addIn(path, value) {
      if (isEmptyPath(path))
        this.add(value);
      else {
        const [key, ...rest] = path;
        const node = this.get(key, true);
        if (identity.isCollection(node))
          node.addIn(rest, value);
        else if (node === undefined && this.schema)
          this.set(key, collectionFromPath(this.schema, rest, value));
        else
          throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);
      }
    }
    deleteIn(path) {
      const [key, ...rest] = path;
      if (rest.length === 0)
        return this.delete(key);
      const node = this.get(key, true);
      if (identity.isCollection(node))
        return node.deleteIn(rest);
      else
        throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);
    }
    getIn(path, keepScalar) {
      const [key, ...rest] = path;
      const node = this.get(key, true);
      if (rest.length === 0)
        return !keepScalar && identity.isScalar(node) ? node.value : node;
      else
        return identity.isCollection(node) ? node.getIn(rest, keepScalar) : undefined;
    }
    hasAllNullValues(allowScalar) {
      return this.items.every((node) => {
        if (!identity.isPair(node))
          return false;
        const n = node.value;
        return n == null || allowScalar && identity.isScalar(n) && n.value == null && !n.commentBefore && !n.comment && !n.tag;
      });
    }
    hasIn(path) {
      const [key, ...rest] = path;
      if (rest.length === 0)
        return this.has(key);
      const node = this.get(key, true);
      return identity.isCollection(node) ? node.hasIn(rest) : false;
    }
    setIn(path, value) {
      const [key, ...rest] = path;
      if (rest.length === 0) {
        this.set(key, value);
      } else {
        const node = this.get(key, true);
        if (identity.isCollection(node))
          node.setIn(rest, value);
        else if (node === undefined && this.schema)
          this.set(key, collectionFromPath(this.schema, rest, value));
        else
          throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);
      }
    }
  }
  exports.Collection = Collection;
  exports.collectionFromPath = collectionFromPath;
  exports.isEmptyPath = isEmptyPath;
});

// ../../node_modules/yaml/dist/stringify/stringifyComment.js
var require_stringifyComment = __commonJS((exports) => {
  var stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, "#");
  function indentComment(comment, indent) {
    if (/^\n+$/.test(comment))
      return comment.substring(1);
    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;
  }
  var lineComment = (str, indent, comment) => str.endsWith(`
`) ? indentComment(comment, indent) : comment.includes(`
`) ? `
` + indentComment(comment, indent) : (str.endsWith(" ") ? "" : " ") + comment;
  exports.indentComment = indentComment;
  exports.lineComment = lineComment;
  exports.stringifyComment = stringifyComment;
});

// ../../node_modules/yaml/dist/stringify/foldFlowLines.js
var require_foldFlowLines = __commonJS((exports) => {
  var FOLD_FLOW = "flow";
  var FOLD_BLOCK = "block";
  var FOLD_QUOTED = "quoted";
  function foldFlowLines(text, indent, mode = "flow", { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {
    if (!lineWidth || lineWidth < 0)
      return text;
    if (lineWidth < minContentWidth)
      minContentWidth = 0;
    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);
    if (text.length <= endStep)
      return text;
    const folds = [];
    const escapedFolds = {};
    let end = lineWidth - indent.length;
    if (typeof indentAtStart === "number") {
      if (indentAtStart > lineWidth - Math.max(2, minContentWidth))
        folds.push(0);
      else
        end = lineWidth - indentAtStart;
    }
    let split = undefined;
    let prev = undefined;
    let overflow = false;
    let i = -1;
    let escStart = -1;
    let escEnd = -1;
    if (mode === FOLD_BLOCK) {
      i = consumeMoreIndentedLines(text, i, indent.length);
      if (i !== -1)
        end = i + endStep;
    }
    for (let ch;ch = text[i += 1]; ) {
      if (mode === FOLD_QUOTED && ch === "\\") {
        escStart = i;
        switch (text[i + 1]) {
          case "x":
            i += 3;
            break;
          case "u":
            i += 5;
            break;
          case "U":
            i += 9;
            break;
          default:
            i += 1;
        }
        escEnd = i;
      }
      if (ch === `
`) {
        if (mode === FOLD_BLOCK)
          i = consumeMoreIndentedLines(text, i, indent.length);
        end = i + indent.length + endStep;
        split = undefined;
      } else {
        if (ch === " " && prev && prev !== " " && prev !== `
` && prev !== "\t") {
          const next = text[i + 1];
          if (next && next !== " " && next !== `
` && next !== "\t")
            split = i;
        }
        if (i >= end) {
          if (split) {
            folds.push(split);
            end = split + endStep;
            split = undefined;
          } else if (mode === FOLD_QUOTED) {
            while (prev === " " || prev === "\t") {
              prev = ch;
              ch = text[i += 1];
              overflow = true;
            }
            const j = i > escEnd + 1 ? i - 2 : escStart - 1;
            if (escapedFolds[j])
              return text;
            folds.push(j);
            escapedFolds[j] = true;
            end = j + endStep;
            split = undefined;
          } else {
            overflow = true;
          }
        }
      }
      prev = ch;
    }
    if (overflow && onOverflow)
      onOverflow();
    if (folds.length === 0)
      return text;
    if (onFold)
      onFold();
    let res = text.slice(0, folds[0]);
    for (let i2 = 0;i2 < folds.length; ++i2) {
      const fold = folds[i2];
      const end2 = folds[i2 + 1] || text.length;
      if (fold === 0)
        res = `
${indent}${text.slice(0, end2)}`;
      else {
        if (mode === FOLD_QUOTED && escapedFolds[fold])
          res += `${text[fold]}\\`;
        res += `
${indent}${text.slice(fold + 1, end2)}`;
      }
    }
    return res;
  }
  function consumeMoreIndentedLines(text, i, indent) {
    let end = i;
    let start = i + 1;
    let ch = text[start];
    while (ch === " " || ch === "\t") {
      if (i < start + indent) {
        ch = text[++i];
      } else {
        do {
          ch = text[++i];
        } while (ch && ch !== `
`);
        end = i;
        start = i + 1;
        ch = text[start];
      }
    }
    return end;
  }
  exports.FOLD_BLOCK = FOLD_BLOCK;
  exports.FOLD_FLOW = FOLD_FLOW;
  exports.FOLD_QUOTED = FOLD_QUOTED;
  exports.foldFlowLines = foldFlowLines;
});

// ../../node_modules/yaml/dist/stringify/stringifyString.js
var require_stringifyString = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var foldFlowLines = require_foldFlowLines();
  var getFoldOptions = (ctx, isBlock) => ({
    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,
    lineWidth: ctx.options.lineWidth,
    minContentWidth: ctx.options.minContentWidth
  });
  var containsDocumentMarker = (str) => /^(%|---|\.\.\.)/m.test(str);
  function lineLengthOverLimit(str, lineWidth, indentLength) {
    if (!lineWidth || lineWidth < 0)
      return false;
    const limit = lineWidth - indentLength;
    const strLen = str.length;
    if (strLen <= limit)
      return false;
    for (let i = 0, start = 0;i < strLen; ++i) {
      if (str[i] === `
`) {
        if (i - start > limit)
          return true;
        start = i + 1;
        if (strLen - start <= limit)
          return false;
      }
    }
    return true;
  }
  function doubleQuotedString(value, ctx) {
    const json = JSON.stringify(value);
    if (ctx.options.doubleQuotedAsJSON)
      return json;
    const { implicitKey } = ctx;
    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;
    const indent = ctx.indent || (containsDocumentMarker(value) ? "  " : "");
    let str = "";
    let start = 0;
    for (let i = 0, ch = json[i];ch; ch = json[++i]) {
      if (ch === " " && json[i + 1] === "\\" && json[i + 2] === "n") {
        str += json.slice(start, i) + "\\ ";
        i += 1;
        start = i;
        ch = "\\";
      }
      if (ch === "\\")
        switch (json[i + 1]) {
          case "u":
            {
              str += json.slice(start, i);
              const code = json.substr(i + 2, 4);
              switch (code) {
                case "0000":
                  str += "\\0";
                  break;
                case "0007":
                  str += "\\a";
                  break;
                case "000b":
                  str += "\\v";
                  break;
                case "001b":
                  str += "\\e";
                  break;
                case "0085":
                  str += "\\N";
                  break;
                case "00a0":
                  str += "\\_";
                  break;
                case "2028":
                  str += "\\L";
                  break;
                case "2029":
                  str += "\\P";
                  break;
                default:
                  if (code.substr(0, 2) === "00")
                    str += "\\x" + code.substr(2);
                  else
                    str += json.substr(i, 6);
              }
              i += 5;
              start = i + 1;
            }
            break;
          case "n":
            if (implicitKey || json[i + 2] === '"' || json.length < minMultiLineLength) {
              i += 1;
            } else {
              str += json.slice(start, i) + `

`;
              while (json[i + 2] === "\\" && json[i + 3] === "n" && json[i + 4] !== '"') {
                str += `
`;
                i += 2;
              }
              str += indent;
              if (json[i + 2] === " ")
                str += "\\";
              i += 1;
              start = i + 1;
            }
            break;
          default:
            i += 1;
        }
    }
    str = start ? str + json.slice(start) : json;
    return implicitKey ? str : foldFlowLines.foldFlowLines(str, indent, foldFlowLines.FOLD_QUOTED, getFoldOptions(ctx, false));
  }
  function singleQuotedString(value, ctx) {
    if (ctx.options.singleQuote === false || ctx.implicitKey && value.includes(`
`) || /[ \t]\n|\n[ \t]/.test(value))
      return doubleQuotedString(value, ctx);
    const indent = ctx.indent || (containsDocumentMarker(value) ? "  " : "");
    const res = "'" + value.replace(/'/g, "''").replace(/\n+/g, `$&
${indent}`) + "'";
    return ctx.implicitKey ? res : foldFlowLines.foldFlowLines(res, indent, foldFlowLines.FOLD_FLOW, getFoldOptions(ctx, false));
  }
  function quotedString(value, ctx) {
    const { singleQuote } = ctx.options;
    let qs;
    if (singleQuote === false)
      qs = doubleQuotedString;
    else {
      const hasDouble = value.includes('"');
      const hasSingle = value.includes("'");
      if (hasDouble && !hasSingle)
        qs = singleQuotedString;
      else if (hasSingle && !hasDouble)
        qs = doubleQuotedString;
      else
        qs = singleQuote ? singleQuotedString : doubleQuotedString;
    }
    return qs(value, ctx);
  }
  var blockEndNewlines;
  try {
    blockEndNewlines = new RegExp(`(^|(?<!
))
+(?!
|$)`, "g");
  } catch {
    blockEndNewlines = /\n+(?!\n|$)/g;
  }
  function blockString({ comment, type, value }, ctx, onComment, onChompKeep) {
    const { blockQuote, commentString, lineWidth } = ctx.options;
    if (!blockQuote || /\n[\t ]+$/.test(value)) {
      return quotedString(value, ctx);
    }
    const indent = ctx.indent || (ctx.forceBlockIndent || containsDocumentMarker(value) ? "  " : "");
    const literal = blockQuote === "literal" ? true : blockQuote === "folded" || type === Scalar.Scalar.BLOCK_FOLDED ? false : type === Scalar.Scalar.BLOCK_LITERAL ? true : !lineLengthOverLimit(value, lineWidth, indent.length);
    if (!value)
      return literal ? `|
` : `>
`;
    let chomp;
    let endStart;
    for (endStart = value.length;endStart > 0; --endStart) {
      const ch = value[endStart - 1];
      if (ch !== `
` && ch !== "\t" && ch !== " ")
        break;
    }
    let end = value.substring(endStart);
    const endNlPos = end.indexOf(`
`);
    if (endNlPos === -1) {
      chomp = "-";
    } else if (value === end || endNlPos !== end.length - 1) {
      chomp = "+";
      if (onChompKeep)
        onChompKeep();
    } else {
      chomp = "";
    }
    if (end) {
      value = value.slice(0, -end.length);
      if (end[end.length - 1] === `
`)
        end = end.slice(0, -1);
      end = end.replace(blockEndNewlines, `$&${indent}`);
    }
    let startWithSpace = false;
    let startEnd;
    let startNlPos = -1;
    for (startEnd = 0;startEnd < value.length; ++startEnd) {
      const ch = value[startEnd];
      if (ch === " ")
        startWithSpace = true;
      else if (ch === `
`)
        startNlPos = startEnd;
      else
        break;
    }
    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);
    if (start) {
      value = value.substring(start.length);
      start = start.replace(/\n+/g, `$&${indent}`);
    }
    const indentSize = indent ? "2" : "1";
    let header = (startWithSpace ? indentSize : "") + chomp;
    if (comment) {
      header += " " + commentString(comment.replace(/ ?[\r\n]+/g, " "));
      if (onComment)
        onComment();
    }
    if (!literal) {
      const foldedValue = value.replace(/\n+/g, `
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g, "$1$2").replace(/\n+/g, `$&${indent}`);
      let literalFallback = false;
      const foldOptions = getFoldOptions(ctx, true);
      if (blockQuote !== "folded" && type !== Scalar.Scalar.BLOCK_FOLDED) {
        foldOptions.onOverflow = () => {
          literalFallback = true;
        };
      }
      const body = foldFlowLines.foldFlowLines(`${start}${foldedValue}${end}`, indent, foldFlowLines.FOLD_BLOCK, foldOptions);
      if (!literalFallback)
        return `>${header}
${indent}${body}`;
    }
    value = value.replace(/\n+/g, `$&${indent}`);
    return `|${header}
${indent}${start}${value}${end}`;
  }
  function plainString(item, ctx, onComment, onChompKeep) {
    const { type, value } = item;
    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;
    if (implicitKey && value.includes(`
`) || inFlow && /[[\]{},]/.test(value)) {
      return quotedString(value, ctx);
    }
    if (/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(value)) {
      return implicitKey || inFlow || !value.includes(`
`) ? quotedString(value, ctx) : blockString(item, ctx, onComment, onChompKeep);
    }
    if (!implicitKey && !inFlow && type !== Scalar.Scalar.PLAIN && value.includes(`
`)) {
      return blockString(item, ctx, onComment, onChompKeep);
    }
    if (containsDocumentMarker(value)) {
      if (indent === "") {
        ctx.forceBlockIndent = true;
        return blockString(item, ctx, onComment, onChompKeep);
      } else if (implicitKey && indent === indentStep) {
        return quotedString(value, ctx);
      }
    }
    const str = value.replace(/\n+/g, `$&
${indent}`);
    if (actualString) {
      const test = (tag) => tag.default && tag.tag !== "tag:yaml.org,2002:str" && tag.test?.test(str);
      const { compat, tags } = ctx.doc.schema;
      if (tags.some(test) || compat?.some(test))
        return quotedString(value, ctx);
    }
    return implicitKey ? str : foldFlowLines.foldFlowLines(str, indent, foldFlowLines.FOLD_FLOW, getFoldOptions(ctx, false));
  }
  function stringifyString(item, ctx, onComment, onChompKeep) {
    const { implicitKey, inFlow } = ctx;
    const ss = typeof item.value === "string" ? item : Object.assign({}, item, { value: String(item.value) });
    let { type } = item;
    if (type !== Scalar.Scalar.QUOTE_DOUBLE) {
      if (/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(ss.value))
        type = Scalar.Scalar.QUOTE_DOUBLE;
    }
    const _stringify = (_type) => {
      switch (_type) {
        case Scalar.Scalar.BLOCK_FOLDED:
        case Scalar.Scalar.BLOCK_LITERAL:
          return implicitKey || inFlow ? quotedString(ss.value, ctx) : blockString(ss, ctx, onComment, onChompKeep);
        case Scalar.Scalar.QUOTE_DOUBLE:
          return doubleQuotedString(ss.value, ctx);
        case Scalar.Scalar.QUOTE_SINGLE:
          return singleQuotedString(ss.value, ctx);
        case Scalar.Scalar.PLAIN:
          return plainString(ss, ctx, onComment, onChompKeep);
        default:
          return null;
      }
    };
    let res = _stringify(type);
    if (res === null) {
      const { defaultKeyType, defaultStringType } = ctx.options;
      const t = implicitKey && defaultKeyType || defaultStringType;
      res = _stringify(t);
      if (res === null)
        throw new Error(`Unsupported default string type ${t}`);
    }
    return res;
  }
  exports.stringifyString = stringifyString;
});

// ../../node_modules/yaml/dist/stringify/stringify.js
var require_stringify = __commonJS((exports) => {
  var anchors = require_anchors();
  var identity = require_identity();
  var stringifyComment = require_stringifyComment();
  var stringifyString = require_stringifyString();
  function createStringifyContext(doc, options) {
    const opt = Object.assign({
      blockQuote: true,
      commentString: stringifyComment.stringifyComment,
      defaultKeyType: null,
      defaultStringType: "PLAIN",
      directives: null,
      doubleQuotedAsJSON: false,
      doubleQuotedMinMultiLineLength: 40,
      falseStr: "false",
      flowCollectionPadding: true,
      indentSeq: true,
      lineWidth: 80,
      minContentWidth: 20,
      nullStr: "null",
      simpleKeys: false,
      singleQuote: null,
      trueStr: "true",
      verifyAliasOrder: true
    }, doc.schema.toStringOptions, options);
    let inFlow;
    switch (opt.collectionStyle) {
      case "block":
        inFlow = false;
        break;
      case "flow":
        inFlow = true;
        break;
      default:
        inFlow = null;
    }
    return {
      anchors: new Set,
      doc,
      flowCollectionPadding: opt.flowCollectionPadding ? " " : "",
      indent: "",
      indentStep: typeof opt.indent === "number" ? " ".repeat(opt.indent) : "  ",
      inFlow,
      options: opt
    };
  }
  function getTagObject(tags, item) {
    if (item.tag) {
      const match = tags.filter((t) => t.tag === item.tag);
      if (match.length > 0)
        return match.find((t) => t.format === item.format) ?? match[0];
    }
    let tagObj = undefined;
    let obj;
    if (identity.isScalar(item)) {
      obj = item.value;
      let match = tags.filter((t) => t.identify?.(obj));
      if (match.length > 1) {
        const testMatch = match.filter((t) => t.test);
        if (testMatch.length > 0)
          match = testMatch;
      }
      tagObj = match.find((t) => t.format === item.format) ?? match.find((t) => !t.format);
    } else {
      obj = item;
      tagObj = tags.find((t) => t.nodeClass && obj instanceof t.nodeClass);
    }
    if (!tagObj) {
      const name = obj?.constructor?.name ?? (obj === null ? "null" : typeof obj);
      throw new Error(`Tag not resolved for ${name} value`);
    }
    return tagObj;
  }
  function stringifyProps(node, tagObj, { anchors: anchors$1, doc }) {
    if (!doc.directives)
      return "";
    const props = [];
    const anchor = (identity.isScalar(node) || identity.isCollection(node)) && node.anchor;
    if (anchor && anchors.anchorIsValid(anchor)) {
      anchors$1.add(anchor);
      props.push(`&${anchor}`);
    }
    const tag = node.tag ?? (tagObj.default ? null : tagObj.tag);
    if (tag)
      props.push(doc.directives.tagString(tag));
    return props.join(" ");
  }
  function stringify(item, ctx, onComment, onChompKeep) {
    if (identity.isPair(item))
      return item.toString(ctx, onComment, onChompKeep);
    if (identity.isAlias(item)) {
      if (ctx.doc.directives)
        return item.toString(ctx);
      if (ctx.resolvedAliases?.has(item)) {
        throw new TypeError(`Cannot stringify circular structure without alias nodes`);
      } else {
        if (ctx.resolvedAliases)
          ctx.resolvedAliases.add(item);
        else
          ctx.resolvedAliases = new Set([item]);
        item = item.resolve(ctx.doc);
      }
    }
    let tagObj = undefined;
    const node = identity.isNode(item) ? item : ctx.doc.createNode(item, { onTagObj: (o) => tagObj = o });
    tagObj ?? (tagObj = getTagObject(ctx.doc.schema.tags, node));
    const props = stringifyProps(node, tagObj, ctx);
    if (props.length > 0)
      ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;
    const str = typeof tagObj.stringify === "function" ? tagObj.stringify(node, ctx, onComment, onChompKeep) : identity.isScalar(node) ? stringifyString.stringifyString(node, ctx, onComment, onChompKeep) : node.toString(ctx, onComment, onChompKeep);
    if (!props)
      return str;
    return identity.isScalar(node) || str[0] === "{" || str[0] === "[" ? `${props} ${str}` : `${props}
${ctx.indent}${str}`;
  }
  exports.createStringifyContext = createStringifyContext;
  exports.stringify = stringify;
});

// ../../node_modules/yaml/dist/stringify/stringifyPair.js
var require_stringifyPair = __commonJS((exports) => {
  var identity = require_identity();
  var Scalar = require_Scalar();
  var stringify = require_stringify();
  var stringifyComment = require_stringifyComment();
  function stringifyPair({ key, value }, ctx, onComment, onChompKeep) {
    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;
    let keyComment = identity.isNode(key) && key.comment || null;
    if (simpleKeys) {
      if (keyComment) {
        throw new Error("With simple keys, key nodes cannot have comments");
      }
      if (identity.isCollection(key) || !identity.isNode(key) && typeof key === "object") {
        const msg = "With simple keys, collection cannot be used as a key value";
        throw new Error(msg);
      }
    }
    let explicitKey = !simpleKeys && (!key || keyComment && value == null && !ctx.inFlow || identity.isCollection(key) || (identity.isScalar(key) ? key.type === Scalar.Scalar.BLOCK_FOLDED || key.type === Scalar.Scalar.BLOCK_LITERAL : typeof key === "object"));
    ctx = Object.assign({}, ctx, {
      allNullValues: false,
      implicitKey: !explicitKey && (simpleKeys || !allNullValues),
      indent: indent + indentStep
    });
    let keyCommentDone = false;
    let chompKeep = false;
    let str = stringify.stringify(key, ctx, () => keyCommentDone = true, () => chompKeep = true);
    if (!explicitKey && !ctx.inFlow && str.length > 1024) {
      if (simpleKeys)
        throw new Error("With simple keys, single line scalar must not span more than 1024 characters");
      explicitKey = true;
    }
    if (ctx.inFlow) {
      if (allNullValues || value == null) {
        if (keyCommentDone && onComment)
          onComment();
        return str === "" ? "?" : explicitKey ? `? ${str}` : str;
      }
    } else if (allNullValues && !simpleKeys || value == null && explicitKey) {
      str = `? ${str}`;
      if (keyComment && !keyCommentDone) {
        str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));
      } else if (chompKeep && onChompKeep)
        onChompKeep();
      return str;
    }
    if (keyCommentDone)
      keyComment = null;
    if (explicitKey) {
      if (keyComment)
        str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));
      str = `? ${str}
${indent}:`;
    } else {
      str = `${str}:`;
      if (keyComment)
        str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));
    }
    let vsb, vcb, valueComment;
    if (identity.isNode(value)) {
      vsb = !!value.spaceBefore;
      vcb = value.commentBefore;
      valueComment = value.comment;
    } else {
      vsb = false;
      vcb = null;
      valueComment = null;
      if (value && typeof value === "object")
        value = doc.createNode(value);
    }
    ctx.implicitKey = false;
    if (!explicitKey && !keyComment && identity.isScalar(value))
      ctx.indentAtStart = str.length + 1;
    chompKeep = false;
    if (!indentSeq && indentStep.length >= 2 && !ctx.inFlow && !explicitKey && identity.isSeq(value) && !value.flow && !value.tag && !value.anchor) {
      ctx.indent = ctx.indent.substring(2);
    }
    let valueCommentDone = false;
    const valueStr = stringify.stringify(value, ctx, () => valueCommentDone = true, () => chompKeep = true);
    let ws = " ";
    if (keyComment || vsb || vcb) {
      ws = vsb ? `
` : "";
      if (vcb) {
        const cs = commentString(vcb);
        ws += `
${stringifyComment.indentComment(cs, ctx.indent)}`;
      }
      if (valueStr === "" && !ctx.inFlow) {
        if (ws === `
` && valueComment)
          ws = `

`;
      } else {
        ws += `
${ctx.indent}`;
      }
    } else if (!explicitKey && identity.isCollection(value)) {
      const vs0 = valueStr[0];
      const nl0 = valueStr.indexOf(`
`);
      const hasNewline = nl0 !== -1;
      const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;
      if (hasNewline || !flow) {
        let hasPropsLine = false;
        if (hasNewline && (vs0 === "&" || vs0 === "!")) {
          let sp0 = valueStr.indexOf(" ");
          if (vs0 === "&" && sp0 !== -1 && sp0 < nl0 && valueStr[sp0 + 1] === "!") {
            sp0 = valueStr.indexOf(" ", sp0 + 1);
          }
          if (sp0 === -1 || nl0 < sp0)
            hasPropsLine = true;
        }
        if (!hasPropsLine)
          ws = `
${ctx.indent}`;
      }
    } else if (valueStr === "" || valueStr[0] === `
`) {
      ws = "";
    }
    str += ws + valueStr;
    if (ctx.inFlow) {
      if (valueCommentDone && onComment)
        onComment();
    } else if (valueComment && !valueCommentDone) {
      str += stringifyComment.lineComment(str, ctx.indent, commentString(valueComment));
    } else if (chompKeep && onChompKeep) {
      onChompKeep();
    }
    return str;
  }
  exports.stringifyPair = stringifyPair;
});

// ../../node_modules/yaml/dist/log.js
var require_log = __commonJS((exports) => {
  var node_process = __require("process");
  function debug(logLevel, ...messages) {
    if (logLevel === "debug")
      console.log(...messages);
  }
  function warn(logLevel, warning) {
    if (logLevel === "debug" || logLevel === "warn") {
      if (typeof node_process.emitWarning === "function")
        node_process.emitWarning(warning);
      else
        console.warn(warning);
    }
  }
  exports.debug = debug;
  exports.warn = warn;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/merge.js
var require_merge = __commonJS((exports) => {
  var identity = require_identity();
  var Scalar = require_Scalar();
  var MERGE_KEY = "<<";
  var merge = {
    identify: (value) => value === MERGE_KEY || typeof value === "symbol" && value.description === MERGE_KEY,
    default: "key",
    tag: "tag:yaml.org,2002:merge",
    test: /^<<$/,
    resolve: () => Object.assign(new Scalar.Scalar(Symbol(MERGE_KEY)), {
      addToJSMap: addMergeToJSMap
    }),
    stringify: () => MERGE_KEY
  };
  var isMergeKey = (ctx, key) => (merge.identify(key) || identity.isScalar(key) && (!key.type || key.type === Scalar.Scalar.PLAIN) && merge.identify(key.value)) && ctx?.doc.schema.tags.some((tag) => tag.tag === merge.tag && tag.default);
  function addMergeToJSMap(ctx, map, value) {
    value = ctx && identity.isAlias(value) ? value.resolve(ctx.doc) : value;
    if (identity.isSeq(value))
      for (const it of value.items)
        mergeValue(ctx, map, it);
    else if (Array.isArray(value))
      for (const it of value)
        mergeValue(ctx, map, it);
    else
      mergeValue(ctx, map, value);
  }
  function mergeValue(ctx, map, value) {
    const source = ctx && identity.isAlias(value) ? value.resolve(ctx.doc) : value;
    if (!identity.isMap(source))
      throw new Error("Merge sources must be maps or map aliases");
    const srcMap = source.toJSON(null, ctx, Map);
    for (const [key, value2] of srcMap) {
      if (map instanceof Map) {
        if (!map.has(key))
          map.set(key, value2);
      } else if (map instanceof Set) {
        map.add(key);
      } else if (!Object.prototype.hasOwnProperty.call(map, key)) {
        Object.defineProperty(map, key, {
          value: value2,
          writable: true,
          enumerable: true,
          configurable: true
        });
      }
    }
    return map;
  }
  exports.addMergeToJSMap = addMergeToJSMap;
  exports.isMergeKey = isMergeKey;
  exports.merge = merge;
});

// ../../node_modules/yaml/dist/nodes/addPairToJSMap.js
var require_addPairToJSMap = __commonJS((exports) => {
  var log = require_log();
  var merge = require_merge();
  var stringify = require_stringify();
  var identity = require_identity();
  var toJS = require_toJS();
  function addPairToJSMap(ctx, map, { key, value }) {
    if (identity.isNode(key) && key.addToJSMap)
      key.addToJSMap(ctx, map, value);
    else if (merge.isMergeKey(ctx, key))
      merge.addMergeToJSMap(ctx, map, value);
    else {
      const jsKey = toJS.toJS(key, "", ctx);
      if (map instanceof Map) {
        map.set(jsKey, toJS.toJS(value, jsKey, ctx));
      } else if (map instanceof Set) {
        map.add(jsKey);
      } else {
        const stringKey = stringifyKey(key, jsKey, ctx);
        const jsValue = toJS.toJS(value, stringKey, ctx);
        if (stringKey in map)
          Object.defineProperty(map, stringKey, {
            value: jsValue,
            writable: true,
            enumerable: true,
            configurable: true
          });
        else
          map[stringKey] = jsValue;
      }
    }
    return map;
  }
  function stringifyKey(key, jsKey, ctx) {
    if (jsKey === null)
      return "";
    if (typeof jsKey !== "object")
      return String(jsKey);
    if (identity.isNode(key) && ctx?.doc) {
      const strCtx = stringify.createStringifyContext(ctx.doc, {});
      strCtx.anchors = new Set;
      for (const node of ctx.anchors.keys())
        strCtx.anchors.add(node.anchor);
      strCtx.inFlow = true;
      strCtx.inStringifyKey = true;
      const strKey = key.toString(strCtx);
      if (!ctx.mapKeyWarned) {
        let jsonStr = JSON.stringify(strKey);
        if (jsonStr.length > 40)
          jsonStr = jsonStr.substring(0, 36) + '..."';
        log.warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);
        ctx.mapKeyWarned = true;
      }
      return strKey;
    }
    return JSON.stringify(jsKey);
  }
  exports.addPairToJSMap = addPairToJSMap;
});

// ../../node_modules/yaml/dist/nodes/Pair.js
var require_Pair = __commonJS((exports) => {
  var createNode = require_createNode();
  var stringifyPair = require_stringifyPair();
  var addPairToJSMap = require_addPairToJSMap();
  var identity = require_identity();
  function createPair(key, value, ctx) {
    const k = createNode.createNode(key, undefined, ctx);
    const v = createNode.createNode(value, undefined, ctx);
    return new Pair(k, v);
  }

  class Pair {
    constructor(key, value = null) {
      Object.defineProperty(this, identity.NODE_TYPE, { value: identity.PAIR });
      this.key = key;
      this.value = value;
    }
    clone(schema) {
      let { key, value } = this;
      if (identity.isNode(key))
        key = key.clone(schema);
      if (identity.isNode(value))
        value = value.clone(schema);
      return new Pair(key, value);
    }
    toJSON(_, ctx) {
      const pair = ctx?.mapAsMap ? new Map : {};
      return addPairToJSMap.addPairToJSMap(ctx, pair, this);
    }
    toString(ctx, onComment, onChompKeep) {
      return ctx?.doc ? stringifyPair.stringifyPair(this, ctx, onComment, onChompKeep) : JSON.stringify(this);
    }
  }
  exports.Pair = Pair;
  exports.createPair = createPair;
});

// ../../node_modules/yaml/dist/stringify/stringifyCollection.js
var require_stringifyCollection = __commonJS((exports) => {
  var identity = require_identity();
  var stringify = require_stringify();
  var stringifyComment = require_stringifyComment();
  function stringifyCollection(collection, ctx, options) {
    const flow = ctx.inFlow ?? collection.flow;
    const stringify2 = flow ? stringifyFlowCollection : stringifyBlockCollection;
    return stringify2(collection, ctx, options);
  }
  function stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {
    const { indent, options: { commentString } } = ctx;
    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });
    let chompKeep = false;
    const lines = [];
    for (let i = 0;i < items.length; ++i) {
      const item = items[i];
      let comment2 = null;
      if (identity.isNode(item)) {
        if (!chompKeep && item.spaceBefore)
          lines.push("");
        addCommentBefore(ctx, lines, item.commentBefore, chompKeep);
        if (item.comment)
          comment2 = item.comment;
      } else if (identity.isPair(item)) {
        const ik = identity.isNode(item.key) ? item.key : null;
        if (ik) {
          if (!chompKeep && ik.spaceBefore)
            lines.push("");
          addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);
        }
      }
      chompKeep = false;
      let str2 = stringify.stringify(item, itemCtx, () => comment2 = null, () => chompKeep = true);
      if (comment2)
        str2 += stringifyComment.lineComment(str2, itemIndent, commentString(comment2));
      if (chompKeep && comment2)
        chompKeep = false;
      lines.push(blockItemPrefix + str2);
    }
    let str;
    if (lines.length === 0) {
      str = flowChars.start + flowChars.end;
    } else {
      str = lines[0];
      for (let i = 1;i < lines.length; ++i) {
        const line = lines[i];
        str += line ? `
${indent}${line}` : `
`;
      }
    }
    if (comment) {
      str += `
` + stringifyComment.indentComment(commentString(comment), indent);
      if (onComment)
        onComment();
    } else if (chompKeep && onChompKeep)
      onChompKeep();
    return str;
  }
  function stringifyFlowCollection({ items }, ctx, { flowChars, itemIndent }) {
    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;
    itemIndent += indentStep;
    const itemCtx = Object.assign({}, ctx, {
      indent: itemIndent,
      inFlow: true,
      type: null
    });
    let reqNewline = false;
    let linesAtValue = 0;
    const lines = [];
    for (let i = 0;i < items.length; ++i) {
      const item = items[i];
      let comment = null;
      if (identity.isNode(item)) {
        if (item.spaceBefore)
          lines.push("");
        addCommentBefore(ctx, lines, item.commentBefore, false);
        if (item.comment)
          comment = item.comment;
      } else if (identity.isPair(item)) {
        const ik = identity.isNode(item.key) ? item.key : null;
        if (ik) {
          if (ik.spaceBefore)
            lines.push("");
          addCommentBefore(ctx, lines, ik.commentBefore, false);
          if (ik.comment)
            reqNewline = true;
        }
        const iv = identity.isNode(item.value) ? item.value : null;
        if (iv) {
          if (iv.comment)
            comment = iv.comment;
          if (iv.commentBefore)
            reqNewline = true;
        } else if (item.value == null && ik?.comment) {
          comment = ik.comment;
        }
      }
      if (comment)
        reqNewline = true;
      let str = stringify.stringify(item, itemCtx, () => comment = null);
      if (i < items.length - 1)
        str += ",";
      if (comment)
        str += stringifyComment.lineComment(str, itemIndent, commentString(comment));
      if (!reqNewline && (lines.length > linesAtValue || str.includes(`
`)))
        reqNewline = true;
      lines.push(str);
      linesAtValue = lines.length;
    }
    const { start, end } = flowChars;
    if (lines.length === 0) {
      return start + end;
    } else {
      if (!reqNewline) {
        const len = lines.reduce((sum, line) => sum + line.length + 2, 2);
        reqNewline = ctx.options.lineWidth > 0 && len > ctx.options.lineWidth;
      }
      if (reqNewline) {
        let str = start;
        for (const line of lines)
          str += line ? `
${indentStep}${indent}${line}` : `
`;
        return `${str}
${indent}${end}`;
      } else {
        return `${start}${fcPadding}${lines.join(" ")}${fcPadding}${end}`;
      }
    }
  }
  function addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {
    if (comment && chompKeep)
      comment = comment.replace(/^\n+/, "");
    if (comment) {
      const ic = stringifyComment.indentComment(commentString(comment), indent);
      lines.push(ic.trimStart());
    }
  }
  exports.stringifyCollection = stringifyCollection;
});

// ../../node_modules/yaml/dist/nodes/YAMLMap.js
var require_YAMLMap = __commonJS((exports) => {
  var stringifyCollection = require_stringifyCollection();
  var addPairToJSMap = require_addPairToJSMap();
  var Collection = require_Collection();
  var identity = require_identity();
  var Pair = require_Pair();
  var Scalar = require_Scalar();
  function findPair(items, key) {
    const k = identity.isScalar(key) ? key.value : key;
    for (const it of items) {
      if (identity.isPair(it)) {
        if (it.key === key || it.key === k)
          return it;
        if (identity.isScalar(it.key) && it.key.value === k)
          return it;
      }
    }
    return;
  }

  class YAMLMap extends Collection.Collection {
    static get tagName() {
      return "tag:yaml.org,2002:map";
    }
    constructor(schema) {
      super(identity.MAP, schema);
      this.items = [];
    }
    static from(schema, obj, ctx) {
      const { keepUndefined, replacer } = ctx;
      const map = new this(schema);
      const add = (key, value) => {
        if (typeof replacer === "function")
          value = replacer.call(obj, key, value);
        else if (Array.isArray(replacer) && !replacer.includes(key))
          return;
        if (value !== undefined || keepUndefined)
          map.items.push(Pair.createPair(key, value, ctx));
      };
      if (obj instanceof Map) {
        for (const [key, value] of obj)
          add(key, value);
      } else if (obj && typeof obj === "object") {
        for (const key of Object.keys(obj))
          add(key, obj[key]);
      }
      if (typeof schema.sortMapEntries === "function") {
        map.items.sort(schema.sortMapEntries);
      }
      return map;
    }
    add(pair, overwrite) {
      let _pair;
      if (identity.isPair(pair))
        _pair = pair;
      else if (!pair || typeof pair !== "object" || !("key" in pair)) {
        _pair = new Pair.Pair(pair, pair?.value);
      } else
        _pair = new Pair.Pair(pair.key, pair.value);
      const prev = findPair(this.items, _pair.key);
      const sortEntries = this.schema?.sortMapEntries;
      if (prev) {
        if (!overwrite)
          throw new Error(`Key ${_pair.key} already set`);
        if (identity.isScalar(prev.value) && Scalar.isScalarValue(_pair.value))
          prev.value.value = _pair.value;
        else
          prev.value = _pair.value;
      } else if (sortEntries) {
        const i = this.items.findIndex((item) => sortEntries(_pair, item) < 0);
        if (i === -1)
          this.items.push(_pair);
        else
          this.items.splice(i, 0, _pair);
      } else {
        this.items.push(_pair);
      }
    }
    delete(key) {
      const it = findPair(this.items, key);
      if (!it)
        return false;
      const del = this.items.splice(this.items.indexOf(it), 1);
      return del.length > 0;
    }
    get(key, keepScalar) {
      const it = findPair(this.items, key);
      const node = it?.value;
      return (!keepScalar && identity.isScalar(node) ? node.value : node) ?? undefined;
    }
    has(key) {
      return !!findPair(this.items, key);
    }
    set(key, value) {
      this.add(new Pair.Pair(key, value), true);
    }
    toJSON(_, ctx, Type) {
      const map = Type ? new Type : ctx?.mapAsMap ? new Map : {};
      if (ctx?.onCreate)
        ctx.onCreate(map);
      for (const item of this.items)
        addPairToJSMap.addPairToJSMap(ctx, map, item);
      return map;
    }
    toString(ctx, onComment, onChompKeep) {
      if (!ctx)
        return JSON.stringify(this);
      for (const item of this.items) {
        if (!identity.isPair(item))
          throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);
      }
      if (!ctx.allNullValues && this.hasAllNullValues(false))
        ctx = Object.assign({}, ctx, { allNullValues: true });
      return stringifyCollection.stringifyCollection(this, ctx, {
        blockItemPrefix: "",
        flowChars: { start: "{", end: "}" },
        itemIndent: ctx.indent || "",
        onChompKeep,
        onComment
      });
    }
  }
  exports.YAMLMap = YAMLMap;
  exports.findPair = findPair;
});

// ../../node_modules/yaml/dist/schema/common/map.js
var require_map = __commonJS((exports) => {
  var identity = require_identity();
  var YAMLMap = require_YAMLMap();
  var map = {
    collection: "map",
    default: true,
    nodeClass: YAMLMap.YAMLMap,
    tag: "tag:yaml.org,2002:map",
    resolve(map2, onError) {
      if (!identity.isMap(map2))
        onError("Expected a mapping for this tag");
      return map2;
    },
    createNode: (schema, obj, ctx) => YAMLMap.YAMLMap.from(schema, obj, ctx)
  };
  exports.map = map;
});

// ../../node_modules/yaml/dist/nodes/YAMLSeq.js
var require_YAMLSeq = __commonJS((exports) => {
  var createNode = require_createNode();
  var stringifyCollection = require_stringifyCollection();
  var Collection = require_Collection();
  var identity = require_identity();
  var Scalar = require_Scalar();
  var toJS = require_toJS();

  class YAMLSeq extends Collection.Collection {
    static get tagName() {
      return "tag:yaml.org,2002:seq";
    }
    constructor(schema) {
      super(identity.SEQ, schema);
      this.items = [];
    }
    add(value) {
      this.items.push(value);
    }
    delete(key) {
      const idx = asItemIndex(key);
      if (typeof idx !== "number")
        return false;
      const del = this.items.splice(idx, 1);
      return del.length > 0;
    }
    get(key, keepScalar) {
      const idx = asItemIndex(key);
      if (typeof idx !== "number")
        return;
      const it = this.items[idx];
      return !keepScalar && identity.isScalar(it) ? it.value : it;
    }
    has(key) {
      const idx = asItemIndex(key);
      return typeof idx === "number" && idx < this.items.length;
    }
    set(key, value) {
      const idx = asItemIndex(key);
      if (typeof idx !== "number")
        throw new Error(`Expected a valid index, not ${key}.`);
      const prev = this.items[idx];
      if (identity.isScalar(prev) && Scalar.isScalarValue(value))
        prev.value = value;
      else
        this.items[idx] = value;
    }
    toJSON(_, ctx) {
      const seq = [];
      if (ctx?.onCreate)
        ctx.onCreate(seq);
      let i = 0;
      for (const item of this.items)
        seq.push(toJS.toJS(item, String(i++), ctx));
      return seq;
    }
    toString(ctx, onComment, onChompKeep) {
      if (!ctx)
        return JSON.stringify(this);
      return stringifyCollection.stringifyCollection(this, ctx, {
        blockItemPrefix: "- ",
        flowChars: { start: "[", end: "]" },
        itemIndent: (ctx.indent || "") + "  ",
        onChompKeep,
        onComment
      });
    }
    static from(schema, obj, ctx) {
      const { replacer } = ctx;
      const seq = new this(schema);
      if (obj && Symbol.iterator in Object(obj)) {
        let i = 0;
        for (let it of obj) {
          if (typeof replacer === "function") {
            const key = obj instanceof Set ? it : String(i++);
            it = replacer.call(obj, key, it);
          }
          seq.items.push(createNode.createNode(it, undefined, ctx));
        }
      }
      return seq;
    }
  }
  function asItemIndex(key) {
    let idx = identity.isScalar(key) ? key.value : key;
    if (idx && typeof idx === "string")
      idx = Number(idx);
    return typeof idx === "number" && Number.isInteger(idx) && idx >= 0 ? idx : null;
  }
  exports.YAMLSeq = YAMLSeq;
});

// ../../node_modules/yaml/dist/schema/common/seq.js
var require_seq = __commonJS((exports) => {
  var identity = require_identity();
  var YAMLSeq = require_YAMLSeq();
  var seq = {
    collection: "seq",
    default: true,
    nodeClass: YAMLSeq.YAMLSeq,
    tag: "tag:yaml.org,2002:seq",
    resolve(seq2, onError) {
      if (!identity.isSeq(seq2))
        onError("Expected a sequence for this tag");
      return seq2;
    },
    createNode: (schema, obj, ctx) => YAMLSeq.YAMLSeq.from(schema, obj, ctx)
  };
  exports.seq = seq;
});

// ../../node_modules/yaml/dist/schema/common/string.js
var require_string = __commonJS((exports) => {
  var stringifyString = require_stringifyString();
  var string = {
    identify: (value) => typeof value === "string",
    default: true,
    tag: "tag:yaml.org,2002:str",
    resolve: (str) => str,
    stringify(item, ctx, onComment, onChompKeep) {
      ctx = Object.assign({ actualString: true }, ctx);
      return stringifyString.stringifyString(item, ctx, onComment, onChompKeep);
    }
  };
  exports.string = string;
});

// ../../node_modules/yaml/dist/schema/common/null.js
var require_null = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var nullTag = {
    identify: (value) => value == null,
    createNode: () => new Scalar.Scalar(null),
    default: true,
    tag: "tag:yaml.org,2002:null",
    test: /^(?:~|[Nn]ull|NULL)?$/,
    resolve: () => new Scalar.Scalar(null),
    stringify: ({ source }, ctx) => typeof source === "string" && nullTag.test.test(source) ? source : ctx.options.nullStr
  };
  exports.nullTag = nullTag;
});

// ../../node_modules/yaml/dist/schema/core/bool.js
var require_bool = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var boolTag = {
    identify: (value) => typeof value === "boolean",
    default: true,
    tag: "tag:yaml.org,2002:bool",
    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,
    resolve: (str) => new Scalar.Scalar(str[0] === "t" || str[0] === "T"),
    stringify({ source, value }, ctx) {
      if (source && boolTag.test.test(source)) {
        const sv = source[0] === "t" || source[0] === "T";
        if (value === sv)
          return source;
      }
      return value ? ctx.options.trueStr : ctx.options.falseStr;
    }
  };
  exports.boolTag = boolTag;
});

// ../../node_modules/yaml/dist/stringify/stringifyNumber.js
var require_stringifyNumber = __commonJS((exports) => {
  function stringifyNumber({ format, minFractionDigits, tag, value }) {
    if (typeof value === "bigint")
      return String(value);
    const num = typeof value === "number" ? value : Number(value);
    if (!isFinite(num))
      return isNaN(num) ? ".nan" : num < 0 ? "-.inf" : ".inf";
    let n = Object.is(value, -0) ? "-0" : JSON.stringify(value);
    if (!format && minFractionDigits && (!tag || tag === "tag:yaml.org,2002:float") && /^\d/.test(n)) {
      let i = n.indexOf(".");
      if (i < 0) {
        i = n.length;
        n += ".";
      }
      let d = minFractionDigits - (n.length - i - 1);
      while (d-- > 0)
        n += "0";
    }
    return n;
  }
  exports.stringifyNumber = stringifyNumber;
});

// ../../node_modules/yaml/dist/schema/core/float.js
var require_float = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var stringifyNumber = require_stringifyNumber();
  var floatNaN = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    test: /^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,
    resolve: (str) => str.slice(-3).toLowerCase() === "nan" ? NaN : str[0] === "-" ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,
    stringify: stringifyNumber.stringifyNumber
  };
  var floatExp = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    format: "EXP",
    test: /^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,
    resolve: (str) => parseFloat(str),
    stringify(node) {
      const num = Number(node.value);
      return isFinite(num) ? num.toExponential() : stringifyNumber.stringifyNumber(node);
    }
  };
  var float = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    test: /^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,
    resolve(str) {
      const node = new Scalar.Scalar(parseFloat(str));
      const dot = str.indexOf(".");
      if (dot !== -1 && str[str.length - 1] === "0")
        node.minFractionDigits = str.length - dot - 1;
      return node;
    },
    stringify: stringifyNumber.stringifyNumber
  };
  exports.float = float;
  exports.floatExp = floatExp;
  exports.floatNaN = floatNaN;
});

// ../../node_modules/yaml/dist/schema/core/int.js
var require_int = __commonJS((exports) => {
  var stringifyNumber = require_stringifyNumber();
  var intIdentify = (value) => typeof value === "bigint" || Number.isInteger(value);
  var intResolve = (str, offset, radix, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix);
  function intStringify(node, radix, prefix) {
    const { value } = node;
    if (intIdentify(value) && value >= 0)
      return prefix + value.toString(radix);
    return stringifyNumber.stringifyNumber(node);
  }
  var intOct = {
    identify: (value) => intIdentify(value) && value >= 0,
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "OCT",
    test: /^0o[0-7]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 2, 8, opt),
    stringify: (node) => intStringify(node, 8, "0o")
  };
  var int = {
    identify: intIdentify,
    default: true,
    tag: "tag:yaml.org,2002:int",
    test: /^[-+]?[0-9]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),
    stringify: stringifyNumber.stringifyNumber
  };
  var intHex = {
    identify: (value) => intIdentify(value) && value >= 0,
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "HEX",
    test: /^0x[0-9a-fA-F]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),
    stringify: (node) => intStringify(node, 16, "0x")
  };
  exports.int = int;
  exports.intHex = intHex;
  exports.intOct = intOct;
});

// ../../node_modules/yaml/dist/schema/core/schema.js
var require_schema = __commonJS((exports) => {
  var map = require_map();
  var _null = require_null();
  var seq = require_seq();
  var string = require_string();
  var bool = require_bool();
  var float = require_float();
  var int = require_int();
  var schema = [
    map.map,
    seq.seq,
    string.string,
    _null.nullTag,
    bool.boolTag,
    int.intOct,
    int.int,
    int.intHex,
    float.floatNaN,
    float.floatExp,
    float.float
  ];
  exports.schema = schema;
});

// ../../node_modules/yaml/dist/schema/json/schema.js
var require_schema2 = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var map = require_map();
  var seq = require_seq();
  function intIdentify(value) {
    return typeof value === "bigint" || Number.isInteger(value);
  }
  var stringifyJSON = ({ value }) => JSON.stringify(value);
  var jsonScalars = [
    {
      identify: (value) => typeof value === "string",
      default: true,
      tag: "tag:yaml.org,2002:str",
      resolve: (str) => str,
      stringify: stringifyJSON
    },
    {
      identify: (value) => value == null,
      createNode: () => new Scalar.Scalar(null),
      default: true,
      tag: "tag:yaml.org,2002:null",
      test: /^null$/,
      resolve: () => null,
      stringify: stringifyJSON
    },
    {
      identify: (value) => typeof value === "boolean",
      default: true,
      tag: "tag:yaml.org,2002:bool",
      test: /^true$|^false$/,
      resolve: (str) => str === "true",
      stringify: stringifyJSON
    },
    {
      identify: intIdentify,
      default: true,
      tag: "tag:yaml.org,2002:int",
      test: /^-?(?:0|[1-9][0-9]*)$/,
      resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),
      stringify: ({ value }) => intIdentify(value) ? value.toString() : JSON.stringify(value)
    },
    {
      identify: (value) => typeof value === "number",
      default: true,
      tag: "tag:yaml.org,2002:float",
      test: /^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,
      resolve: (str) => parseFloat(str),
      stringify: stringifyJSON
    }
  ];
  var jsonError = {
    default: true,
    tag: "",
    test: /^/,
    resolve(str, onError) {
      onError(`Unresolved plain scalar ${JSON.stringify(str)}`);
      return str;
    }
  };
  var schema = [map.map, seq.seq].concat(jsonScalars, jsonError);
  exports.schema = schema;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/binary.js
var require_binary = __commonJS((exports) => {
  var node_buffer = __require("buffer");
  var Scalar = require_Scalar();
  var stringifyString = require_stringifyString();
  var binary = {
    identify: (value) => value instanceof Uint8Array,
    default: false,
    tag: "tag:yaml.org,2002:binary",
    resolve(src, onError) {
      if (typeof node_buffer.Buffer === "function") {
        return node_buffer.Buffer.from(src, "base64");
      } else if (typeof atob === "function") {
        const str = atob(src.replace(/[\n\r]/g, ""));
        const buffer = new Uint8Array(str.length);
        for (let i = 0;i < str.length; ++i)
          buffer[i] = str.charCodeAt(i);
        return buffer;
      } else {
        onError("This environment does not support reading binary tags; either Buffer or atob is required");
        return src;
      }
    },
    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {
      if (!value)
        return "";
      const buf = value;
      let str;
      if (typeof node_buffer.Buffer === "function") {
        str = buf instanceof node_buffer.Buffer ? buf.toString("base64") : node_buffer.Buffer.from(buf.buffer).toString("base64");
      } else if (typeof btoa === "function") {
        let s = "";
        for (let i = 0;i < buf.length; ++i)
          s += String.fromCharCode(buf[i]);
        str = btoa(s);
      } else {
        throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");
      }
      type ?? (type = Scalar.Scalar.BLOCK_LITERAL);
      if (type !== Scalar.Scalar.QUOTE_DOUBLE) {
        const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);
        const n = Math.ceil(str.length / lineWidth);
        const lines = new Array(n);
        for (let i = 0, o = 0;i < n; ++i, o += lineWidth) {
          lines[i] = str.substr(o, lineWidth);
        }
        str = lines.join(type === Scalar.Scalar.BLOCK_LITERAL ? `
` : " ");
      }
      return stringifyString.stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);
    }
  };
  exports.binary = binary;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/pairs.js
var require_pairs = __commonJS((exports) => {
  var identity = require_identity();
  var Pair = require_Pair();
  var Scalar = require_Scalar();
  var YAMLSeq = require_YAMLSeq();
  function resolvePairs(seq, onError) {
    if (identity.isSeq(seq)) {
      for (let i = 0;i < seq.items.length; ++i) {
        let item = seq.items[i];
        if (identity.isPair(item))
          continue;
        else if (identity.isMap(item)) {
          if (item.items.length > 1)
            onError("Each pair must have its own sequence indicator");
          const pair = item.items[0] || new Pair.Pair(new Scalar.Scalar(null));
          if (item.commentBefore)
            pair.key.commentBefore = pair.key.commentBefore ? `${item.commentBefore}
${pair.key.commentBefore}` : item.commentBefore;
          if (item.comment) {
            const cn = pair.value ?? pair.key;
            cn.comment = cn.comment ? `${item.comment}
${cn.comment}` : item.comment;
          }
          item = pair;
        }
        seq.items[i] = identity.isPair(item) ? item : new Pair.Pair(item);
      }
    } else
      onError("Expected a sequence for this tag");
    return seq;
  }
  function createPairs(schema, iterable, ctx) {
    const { replacer } = ctx;
    const pairs2 = new YAMLSeq.YAMLSeq(schema);
    pairs2.tag = "tag:yaml.org,2002:pairs";
    let i = 0;
    if (iterable && Symbol.iterator in Object(iterable))
      for (let it of iterable) {
        if (typeof replacer === "function")
          it = replacer.call(iterable, String(i++), it);
        let key, value;
        if (Array.isArray(it)) {
          if (it.length === 2) {
            key = it[0];
            value = it[1];
          } else
            throw new TypeError(`Expected [key, value] tuple: ${it}`);
        } else if (it && it instanceof Object) {
          const keys = Object.keys(it);
          if (keys.length === 1) {
            key = keys[0];
            value = it[key];
          } else {
            throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);
          }
        } else {
          key = it;
        }
        pairs2.items.push(Pair.createPair(key, value, ctx));
      }
    return pairs2;
  }
  var pairs = {
    collection: "seq",
    default: false,
    tag: "tag:yaml.org,2002:pairs",
    resolve: resolvePairs,
    createNode: createPairs
  };
  exports.createPairs = createPairs;
  exports.pairs = pairs;
  exports.resolvePairs = resolvePairs;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/omap.js
var require_omap = __commonJS((exports) => {
  var identity = require_identity();
  var toJS = require_toJS();
  var YAMLMap = require_YAMLMap();
  var YAMLSeq = require_YAMLSeq();
  var pairs = require_pairs();

  class YAMLOMap extends YAMLSeq.YAMLSeq {
    constructor() {
      super();
      this.add = YAMLMap.YAMLMap.prototype.add.bind(this);
      this.delete = YAMLMap.YAMLMap.prototype.delete.bind(this);
      this.get = YAMLMap.YAMLMap.prototype.get.bind(this);
      this.has = YAMLMap.YAMLMap.prototype.has.bind(this);
      this.set = YAMLMap.YAMLMap.prototype.set.bind(this);
      this.tag = YAMLOMap.tag;
    }
    toJSON(_, ctx) {
      if (!ctx)
        return super.toJSON(_);
      const map = new Map;
      if (ctx?.onCreate)
        ctx.onCreate(map);
      for (const pair of this.items) {
        let key, value;
        if (identity.isPair(pair)) {
          key = toJS.toJS(pair.key, "", ctx);
          value = toJS.toJS(pair.value, key, ctx);
        } else {
          key = toJS.toJS(pair, "", ctx);
        }
        if (map.has(key))
          throw new Error("Ordered maps must not include duplicate keys");
        map.set(key, value);
      }
      return map;
    }
    static from(schema, iterable, ctx) {
      const pairs$1 = pairs.createPairs(schema, iterable, ctx);
      const omap2 = new this;
      omap2.items = pairs$1.items;
      return omap2;
    }
  }
  YAMLOMap.tag = "tag:yaml.org,2002:omap";
  var omap = {
    collection: "seq",
    identify: (value) => value instanceof Map,
    nodeClass: YAMLOMap,
    default: false,
    tag: "tag:yaml.org,2002:omap",
    resolve(seq, onError) {
      const pairs$1 = pairs.resolvePairs(seq, onError);
      const seenKeys = [];
      for (const { key } of pairs$1.items) {
        if (identity.isScalar(key)) {
          if (seenKeys.includes(key.value)) {
            onError(`Ordered maps must not include duplicate keys: ${key.value}`);
          } else {
            seenKeys.push(key.value);
          }
        }
      }
      return Object.assign(new YAMLOMap, pairs$1);
    },
    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)
  };
  exports.YAMLOMap = YAMLOMap;
  exports.omap = omap;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/bool.js
var require_bool2 = __commonJS((exports) => {
  var Scalar = require_Scalar();
  function boolStringify({ value, source }, ctx) {
    const boolObj = value ? trueTag : falseTag;
    if (source && boolObj.test.test(source))
      return source;
    return value ? ctx.options.trueStr : ctx.options.falseStr;
  }
  var trueTag = {
    identify: (value) => value === true,
    default: true,
    tag: "tag:yaml.org,2002:bool",
    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,
    resolve: () => new Scalar.Scalar(true),
    stringify: boolStringify
  };
  var falseTag = {
    identify: (value) => value === false,
    default: true,
    tag: "tag:yaml.org,2002:bool",
    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,
    resolve: () => new Scalar.Scalar(false),
    stringify: boolStringify
  };
  exports.falseTag = falseTag;
  exports.trueTag = trueTag;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/float.js
var require_float2 = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var stringifyNumber = require_stringifyNumber();
  var floatNaN = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    test: /^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,
    resolve: (str) => str.slice(-3).toLowerCase() === "nan" ? NaN : str[0] === "-" ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,
    stringify: stringifyNumber.stringifyNumber
  };
  var floatExp = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    format: "EXP",
    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,
    resolve: (str) => parseFloat(str.replace(/_/g, "")),
    stringify(node) {
      const num = Number(node.value);
      return isFinite(num) ? num.toExponential() : stringifyNumber.stringifyNumber(node);
    }
  };
  var float = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    test: /^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,
    resolve(str) {
      const node = new Scalar.Scalar(parseFloat(str.replace(/_/g, "")));
      const dot = str.indexOf(".");
      if (dot !== -1) {
        const f = str.substring(dot + 1).replace(/_/g, "");
        if (f[f.length - 1] === "0")
          node.minFractionDigits = f.length;
      }
      return node;
    },
    stringify: stringifyNumber.stringifyNumber
  };
  exports.float = float;
  exports.floatExp = floatExp;
  exports.floatNaN = floatNaN;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/int.js
var require_int2 = __commonJS((exports) => {
  var stringifyNumber = require_stringifyNumber();
  var intIdentify = (value) => typeof value === "bigint" || Number.isInteger(value);
  function intResolve(str, offset, radix, { intAsBigInt }) {
    const sign = str[0];
    if (sign === "-" || sign === "+")
      offset += 1;
    str = str.substring(offset).replace(/_/g, "");
    if (intAsBigInt) {
      switch (radix) {
        case 2:
          str = `0b${str}`;
          break;
        case 8:
          str = `0o${str}`;
          break;
        case 16:
          str = `0x${str}`;
          break;
      }
      const n2 = BigInt(str);
      return sign === "-" ? BigInt(-1) * n2 : n2;
    }
    const n = parseInt(str, radix);
    return sign === "-" ? -1 * n : n;
  }
  function intStringify(node, radix, prefix) {
    const { value } = node;
    if (intIdentify(value)) {
      const str = value.toString(radix);
      return value < 0 ? "-" + prefix + str.substr(1) : prefix + str;
    }
    return stringifyNumber.stringifyNumber(node);
  }
  var intBin = {
    identify: intIdentify,
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "BIN",
    test: /^[-+]?0b[0-1_]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),
    stringify: (node) => intStringify(node, 2, "0b")
  };
  var intOct = {
    identify: intIdentify,
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "OCT",
    test: /^[-+]?0[0-7_]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),
    stringify: (node) => intStringify(node, 8, "0")
  };
  var int = {
    identify: intIdentify,
    default: true,
    tag: "tag:yaml.org,2002:int",
    test: /^[-+]?[0-9][0-9_]*$/,
    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),
    stringify: stringifyNumber.stringifyNumber
  };
  var intHex = {
    identify: intIdentify,
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "HEX",
    test: /^[-+]?0x[0-9a-fA-F_]+$/,
    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),
    stringify: (node) => intStringify(node, 16, "0x")
  };
  exports.int = int;
  exports.intBin = intBin;
  exports.intHex = intHex;
  exports.intOct = intOct;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/set.js
var require_set = __commonJS((exports) => {
  var identity = require_identity();
  var Pair = require_Pair();
  var YAMLMap = require_YAMLMap();

  class YAMLSet extends YAMLMap.YAMLMap {
    constructor(schema) {
      super(schema);
      this.tag = YAMLSet.tag;
    }
    add(key) {
      let pair;
      if (identity.isPair(key))
        pair = key;
      else if (key && typeof key === "object" && "key" in key && "value" in key && key.value === null)
        pair = new Pair.Pair(key.key, null);
      else
        pair = new Pair.Pair(key, null);
      const prev = YAMLMap.findPair(this.items, pair.key);
      if (!prev)
        this.items.push(pair);
    }
    get(key, keepPair) {
      const pair = YAMLMap.findPair(this.items, key);
      return !keepPair && identity.isPair(pair) ? identity.isScalar(pair.key) ? pair.key.value : pair.key : pair;
    }
    set(key, value) {
      if (typeof value !== "boolean")
        throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);
      const prev = YAMLMap.findPair(this.items, key);
      if (prev && !value) {
        this.items.splice(this.items.indexOf(prev), 1);
      } else if (!prev && value) {
        this.items.push(new Pair.Pair(key));
      }
    }
    toJSON(_, ctx) {
      return super.toJSON(_, ctx, Set);
    }
    toString(ctx, onComment, onChompKeep) {
      if (!ctx)
        return JSON.stringify(this);
      if (this.hasAllNullValues(true))
        return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);
      else
        throw new Error("Set items must all have null values");
    }
    static from(schema, iterable, ctx) {
      const { replacer } = ctx;
      const set2 = new this(schema);
      if (iterable && Symbol.iterator in Object(iterable))
        for (let value of iterable) {
          if (typeof replacer === "function")
            value = replacer.call(iterable, value, value);
          set2.items.push(Pair.createPair(value, null, ctx));
        }
      return set2;
    }
  }
  YAMLSet.tag = "tag:yaml.org,2002:set";
  var set = {
    collection: "map",
    identify: (value) => value instanceof Set,
    nodeClass: YAMLSet,
    default: false,
    tag: "tag:yaml.org,2002:set",
    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),
    resolve(map, onError) {
      if (identity.isMap(map)) {
        if (map.hasAllNullValues(true))
          return Object.assign(new YAMLSet, map);
        else
          onError("Set items must all have null values");
      } else
        onError("Expected a mapping for this tag");
      return map;
    }
  };
  exports.YAMLSet = YAMLSet;
  exports.set = set;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/timestamp.js
var require_timestamp = __commonJS((exports) => {
  var stringifyNumber = require_stringifyNumber();
  function parseSexagesimal(str, asBigInt) {
    const sign = str[0];
    const parts = sign === "-" || sign === "+" ? str.substring(1) : str;
    const num = (n) => asBigInt ? BigInt(n) : Number(n);
    const res = parts.replace(/_/g, "").split(":").reduce((res2, p) => res2 * num(60) + num(p), num(0));
    return sign === "-" ? num(-1) * res : res;
  }
  function stringifySexagesimal(node) {
    let { value } = node;
    let num = (n) => n;
    if (typeof value === "bigint")
      num = (n) => BigInt(n);
    else if (isNaN(value) || !isFinite(value))
      return stringifyNumber.stringifyNumber(node);
    let sign = "";
    if (value < 0) {
      sign = "-";
      value *= num(-1);
    }
    const _60 = num(60);
    const parts = [value % _60];
    if (value < 60) {
      parts.unshift(0);
    } else {
      value = (value - parts[0]) / _60;
      parts.unshift(value % _60);
      if (value >= 60) {
        value = (value - parts[0]) / _60;
        parts.unshift(value);
      }
    }
    return sign + parts.map((n) => String(n).padStart(2, "0")).join(":").replace(/000000\d*$/, "");
  }
  var intTime = {
    identify: (value) => typeof value === "bigint" || Number.isInteger(value),
    default: true,
    tag: "tag:yaml.org,2002:int",
    format: "TIME",
    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,
    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),
    stringify: stringifySexagesimal
  };
  var floatTime = {
    identify: (value) => typeof value === "number",
    default: true,
    tag: "tag:yaml.org,2002:float",
    format: "TIME",
    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,
    resolve: (str) => parseSexagesimal(str, false),
    stringify: stringifySexagesimal
  };
  var timestamp = {
    identify: (value) => value instanceof Date,
    default: true,
    tag: "tag:yaml.org,2002:timestamp",
    test: RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})" + "(?:" + "(?:t|T|[ \\t]+)" + "([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)" + "(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?" + ")?$"),
    resolve(str) {
      const match = str.match(timestamp.test);
      if (!match)
        throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");
      const [, year, month, day, hour, minute, second] = match.map(Number);
      const millisec = match[7] ? Number((match[7] + "00").substr(1, 3)) : 0;
      let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);
      const tz = match[8];
      if (tz && tz !== "Z") {
        let d = parseSexagesimal(tz, false);
        if (Math.abs(d) < 30)
          d *= 60;
        date -= 60000 * d;
      }
      return new Date(date);
    },
    stringify: ({ value }) => value?.toISOString().replace(/(T00:00:00)?\.000Z$/, "") ?? ""
  };
  exports.floatTime = floatTime;
  exports.intTime = intTime;
  exports.timestamp = timestamp;
});

// ../../node_modules/yaml/dist/schema/yaml-1.1/schema.js
var require_schema3 = __commonJS((exports) => {
  var map = require_map();
  var _null = require_null();
  var seq = require_seq();
  var string = require_string();
  var binary = require_binary();
  var bool = require_bool2();
  var float = require_float2();
  var int = require_int2();
  var merge = require_merge();
  var omap = require_omap();
  var pairs = require_pairs();
  var set = require_set();
  var timestamp = require_timestamp();
  var schema = [
    map.map,
    seq.seq,
    string.string,
    _null.nullTag,
    bool.trueTag,
    bool.falseTag,
    int.intBin,
    int.intOct,
    int.int,
    int.intHex,
    float.floatNaN,
    float.floatExp,
    float.float,
    binary.binary,
    merge.merge,
    omap.omap,
    pairs.pairs,
    set.set,
    timestamp.intTime,
    timestamp.floatTime,
    timestamp.timestamp
  ];
  exports.schema = schema;
});

// ../../node_modules/yaml/dist/schema/tags.js
var require_tags = __commonJS((exports) => {
  var map = require_map();
  var _null = require_null();
  var seq = require_seq();
  var string = require_string();
  var bool = require_bool();
  var float = require_float();
  var int = require_int();
  var schema = require_schema();
  var schema$1 = require_schema2();
  var binary = require_binary();
  var merge = require_merge();
  var omap = require_omap();
  var pairs = require_pairs();
  var schema$2 = require_schema3();
  var set = require_set();
  var timestamp = require_timestamp();
  var schemas = new Map([
    ["core", schema.schema],
    ["failsafe", [map.map, seq.seq, string.string]],
    ["json", schema$1.schema],
    ["yaml11", schema$2.schema],
    ["yaml-1.1", schema$2.schema]
  ]);
  var tagsByName = {
    binary: binary.binary,
    bool: bool.boolTag,
    float: float.float,
    floatExp: float.floatExp,
    floatNaN: float.floatNaN,
    floatTime: timestamp.floatTime,
    int: int.int,
    intHex: int.intHex,
    intOct: int.intOct,
    intTime: timestamp.intTime,
    map: map.map,
    merge: merge.merge,
    null: _null.nullTag,
    omap: omap.omap,
    pairs: pairs.pairs,
    seq: seq.seq,
    set: set.set,
    timestamp: timestamp.timestamp
  };
  var coreKnownTags = {
    "tag:yaml.org,2002:binary": binary.binary,
    "tag:yaml.org,2002:merge": merge.merge,
    "tag:yaml.org,2002:omap": omap.omap,
    "tag:yaml.org,2002:pairs": pairs.pairs,
    "tag:yaml.org,2002:set": set.set,
    "tag:yaml.org,2002:timestamp": timestamp.timestamp
  };
  function getTags(customTags, schemaName, addMergeTag) {
    const schemaTags = schemas.get(schemaName);
    if (schemaTags && !customTags) {
      return addMergeTag && !schemaTags.includes(merge.merge) ? schemaTags.concat(merge.merge) : schemaTags.slice();
    }
    let tags = schemaTags;
    if (!tags) {
      if (Array.isArray(customTags))
        tags = [];
      else {
        const keys = Array.from(schemas.keys()).filter((key) => key !== "yaml11").map((key) => JSON.stringify(key)).join(", ");
        throw new Error(`Unknown schema "${schemaName}"; use one of ${keys} or define customTags array`);
      }
    }
    if (Array.isArray(customTags)) {
      for (const tag of customTags)
        tags = tags.concat(tag);
    } else if (typeof customTags === "function") {
      tags = customTags(tags.slice());
    }
    if (addMergeTag)
      tags = tags.concat(merge.merge);
    return tags.reduce((tags2, tag) => {
      const tagObj = typeof tag === "string" ? tagsByName[tag] : tag;
      if (!tagObj) {
        const tagName = JSON.stringify(tag);
        const keys = Object.keys(tagsByName).map((key) => JSON.stringify(key)).join(", ");
        throw new Error(`Unknown custom tag ${tagName}; use one of ${keys}`);
      }
      if (!tags2.includes(tagObj))
        tags2.push(tagObj);
      return tags2;
    }, []);
  }
  exports.coreKnownTags = coreKnownTags;
  exports.getTags = getTags;
});

// ../../node_modules/yaml/dist/schema/Schema.js
var require_Schema = __commonJS((exports) => {
  var identity = require_identity();
  var map = require_map();
  var seq = require_seq();
  var string = require_string();
  var tags = require_tags();
  var sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;

  class Schema {
    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {
      this.compat = Array.isArray(compat) ? tags.getTags(compat, "compat") : compat ? tags.getTags(null, compat) : null;
      this.name = typeof schema === "string" && schema || "core";
      this.knownTags = resolveKnownTags ? tags.coreKnownTags : {};
      this.tags = tags.getTags(customTags, this.name, merge);
      this.toStringOptions = toStringDefaults ?? null;
      Object.defineProperty(this, identity.MAP, { value: map.map });
      Object.defineProperty(this, identity.SCALAR, { value: string.string });
      Object.defineProperty(this, identity.SEQ, { value: seq.seq });
      this.sortMapEntries = typeof sortMapEntries === "function" ? sortMapEntries : sortMapEntries === true ? sortMapEntriesByKey : null;
    }
    clone() {
      const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));
      copy.tags = this.tags.slice();
      return copy;
    }
  }
  exports.Schema = Schema;
});

// ../../node_modules/yaml/dist/stringify/stringifyDocument.js
var require_stringifyDocument = __commonJS((exports) => {
  var identity = require_identity();
  var stringify = require_stringify();
  var stringifyComment = require_stringifyComment();
  function stringifyDocument(doc, options) {
    const lines = [];
    let hasDirectives = options.directives === true;
    if (options.directives !== false && doc.directives) {
      const dir = doc.directives.toString(doc);
      if (dir) {
        lines.push(dir);
        hasDirectives = true;
      } else if (doc.directives.docStart)
        hasDirectives = true;
    }
    if (hasDirectives)
      lines.push("---");
    const ctx = stringify.createStringifyContext(doc, options);
    const { commentString } = ctx.options;
    if (doc.commentBefore) {
      if (lines.length !== 1)
        lines.unshift("");
      const cs = commentString(doc.commentBefore);
      lines.unshift(stringifyComment.indentComment(cs, ""));
    }
    let chompKeep = false;
    let contentComment = null;
    if (doc.contents) {
      if (identity.isNode(doc.contents)) {
        if (doc.contents.spaceBefore && hasDirectives)
          lines.push("");
        if (doc.contents.commentBefore) {
          const cs = commentString(doc.contents.commentBefore);
          lines.push(stringifyComment.indentComment(cs, ""));
        }
        ctx.forceBlockIndent = !!doc.comment;
        contentComment = doc.contents.comment;
      }
      const onChompKeep = contentComment ? undefined : () => chompKeep = true;
      let body = stringify.stringify(doc.contents, ctx, () => contentComment = null, onChompKeep);
      if (contentComment)
        body += stringifyComment.lineComment(body, "", commentString(contentComment));
      if ((body[0] === "|" || body[0] === ">") && lines[lines.length - 1] === "---") {
        lines[lines.length - 1] = `--- ${body}`;
      } else
        lines.push(body);
    } else {
      lines.push(stringify.stringify(doc.contents, ctx));
    }
    if (doc.directives?.docEnd) {
      if (doc.comment) {
        const cs = commentString(doc.comment);
        if (cs.includes(`
`)) {
          lines.push("...");
          lines.push(stringifyComment.indentComment(cs, ""));
        } else {
          lines.push(`... ${cs}`);
        }
      } else {
        lines.push("...");
      }
    } else {
      let dc = doc.comment;
      if (dc && chompKeep)
        dc = dc.replace(/^\n+/, "");
      if (dc) {
        if ((!chompKeep || contentComment) && lines[lines.length - 1] !== "")
          lines.push("");
        lines.push(stringifyComment.indentComment(commentString(dc), ""));
      }
    }
    return lines.join(`
`) + `
`;
  }
  exports.stringifyDocument = stringifyDocument;
});

// ../../node_modules/yaml/dist/doc/Document.js
var require_Document = __commonJS((exports) => {
  var Alias = require_Alias();
  var Collection = require_Collection();
  var identity = require_identity();
  var Pair = require_Pair();
  var toJS = require_toJS();
  var Schema = require_Schema();
  var stringifyDocument = require_stringifyDocument();
  var anchors = require_anchors();
  var applyReviver = require_applyReviver();
  var createNode = require_createNode();
  var directives = require_directives();

  class Document {
    constructor(value, replacer, options) {
      this.commentBefore = null;
      this.comment = null;
      this.errors = [];
      this.warnings = [];
      Object.defineProperty(this, identity.NODE_TYPE, { value: identity.DOC });
      let _replacer = null;
      if (typeof replacer === "function" || Array.isArray(replacer)) {
        _replacer = replacer;
      } else if (options === undefined && replacer) {
        options = replacer;
        replacer = undefined;
      }
      const opt = Object.assign({
        intAsBigInt: false,
        keepSourceTokens: false,
        logLevel: "warn",
        prettyErrors: true,
        strict: true,
        stringKeys: false,
        uniqueKeys: true,
        version: "1.2"
      }, options);
      this.options = opt;
      let { version } = opt;
      if (options?._directives) {
        this.directives = options._directives.atDocument();
        if (this.directives.yaml.explicit)
          version = this.directives.yaml.version;
      } else
        this.directives = new directives.Directives({ version });
      this.setSchema(version, options);
      this.contents = value === undefined ? null : this.createNode(value, _replacer, options);
    }
    clone() {
      const copy = Object.create(Document.prototype, {
        [identity.NODE_TYPE]: { value: identity.DOC }
      });
      copy.commentBefore = this.commentBefore;
      copy.comment = this.comment;
      copy.errors = this.errors.slice();
      copy.warnings = this.warnings.slice();
      copy.options = Object.assign({}, this.options);
      if (this.directives)
        copy.directives = this.directives.clone();
      copy.schema = this.schema.clone();
      copy.contents = identity.isNode(this.contents) ? this.contents.clone(copy.schema) : this.contents;
      if (this.range)
        copy.range = this.range.slice();
      return copy;
    }
    add(value) {
      if (assertCollection(this.contents))
        this.contents.add(value);
    }
    addIn(path, value) {
      if (assertCollection(this.contents))
        this.contents.addIn(path, value);
    }
    createAlias(node, name) {
      if (!node.anchor) {
        const prev = anchors.anchorNames(this);
        node.anchor = !name || prev.has(name) ? anchors.findNewAnchor(name || "a", prev) : name;
      }
      return new Alias.Alias(node.anchor);
    }
    createNode(value, replacer, options) {
      let _replacer = undefined;
      if (typeof replacer === "function") {
        value = replacer.call({ "": value }, "", value);
        _replacer = replacer;
      } else if (Array.isArray(replacer)) {
        const keyToStr = (v) => typeof v === "number" || v instanceof String || v instanceof Number;
        const asStr = replacer.filter(keyToStr).map(String);
        if (asStr.length > 0)
          replacer = replacer.concat(asStr);
        _replacer = replacer;
      } else if (options === undefined && replacer) {
        options = replacer;
        replacer = undefined;
      }
      const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};
      const { onAnchor, setAnchors, sourceObjects } = anchors.createNodeAnchors(this, anchorPrefix || "a");
      const ctx = {
        aliasDuplicateObjects: aliasDuplicateObjects ?? true,
        keepUndefined: keepUndefined ?? false,
        onAnchor,
        onTagObj,
        replacer: _replacer,
        schema: this.schema,
        sourceObjects
      };
      const node = createNode.createNode(value, tag, ctx);
      if (flow && identity.isCollection(node))
        node.flow = true;
      setAnchors();
      return node;
    }
    createPair(key, value, options = {}) {
      const k = this.createNode(key, null, options);
      const v = this.createNode(value, null, options);
      return new Pair.Pair(k, v);
    }
    delete(key) {
      return assertCollection(this.contents) ? this.contents.delete(key) : false;
    }
    deleteIn(path) {
      if (Collection.isEmptyPath(path)) {
        if (this.contents == null)
          return false;
        this.contents = null;
        return true;
      }
      return assertCollection(this.contents) ? this.contents.deleteIn(path) : false;
    }
    get(key, keepScalar) {
      return identity.isCollection(this.contents) ? this.contents.get(key, keepScalar) : undefined;
    }
    getIn(path, keepScalar) {
      if (Collection.isEmptyPath(path))
        return !keepScalar && identity.isScalar(this.contents) ? this.contents.value : this.contents;
      return identity.isCollection(this.contents) ? this.contents.getIn(path, keepScalar) : undefined;
    }
    has(key) {
      return identity.isCollection(this.contents) ? this.contents.has(key) : false;
    }
    hasIn(path) {
      if (Collection.isEmptyPath(path))
        return this.contents !== undefined;
      return identity.isCollection(this.contents) ? this.contents.hasIn(path) : false;
    }
    set(key, value) {
      if (this.contents == null) {
        this.contents = Collection.collectionFromPath(this.schema, [key], value);
      } else if (assertCollection(this.contents)) {
        this.contents.set(key, value);
      }
    }
    setIn(path, value) {
      if (Collection.isEmptyPath(path)) {
        this.contents = value;
      } else if (this.contents == null) {
        this.contents = Collection.collectionFromPath(this.schema, Array.from(path), value);
      } else if (assertCollection(this.contents)) {
        this.contents.setIn(path, value);
      }
    }
    setSchema(version, options = {}) {
      if (typeof version === "number")
        version = String(version);
      let opt;
      switch (version) {
        case "1.1":
          if (this.directives)
            this.directives.yaml.version = "1.1";
          else
            this.directives = new directives.Directives({ version: "1.1" });
          opt = { resolveKnownTags: false, schema: "yaml-1.1" };
          break;
        case "1.2":
        case "next":
          if (this.directives)
            this.directives.yaml.version = version;
          else
            this.directives = new directives.Directives({ version });
          opt = { resolveKnownTags: true, schema: "core" };
          break;
        case null:
          if (this.directives)
            delete this.directives;
          opt = null;
          break;
        default: {
          const sv = JSON.stringify(version);
          throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);
        }
      }
      if (options.schema instanceof Object)
        this.schema = options.schema;
      else if (opt)
        this.schema = new Schema.Schema(Object.assign(opt, options));
      else
        throw new Error(`With a null YAML version, the { schema: Schema } option is required`);
    }
    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {
      const ctx = {
        anchors: new Map,
        doc: this,
        keep: !json,
        mapAsMap: mapAsMap === true,
        mapKeyWarned: false,
        maxAliasCount: typeof maxAliasCount === "number" ? maxAliasCount : 100
      };
      const res = toJS.toJS(this.contents, jsonArg ?? "", ctx);
      if (typeof onAnchor === "function")
        for (const { count, res: res2 } of ctx.anchors.values())
          onAnchor(res2, count);
      return typeof reviver === "function" ? applyReviver.applyReviver(reviver, { "": res }, "", res) : res;
    }
    toJSON(jsonArg, onAnchor) {
      return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });
    }
    toString(options = {}) {
      if (this.errors.length > 0)
        throw new Error("Document with errors cannot be stringified");
      if ("indent" in options && (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {
        const s = JSON.stringify(options.indent);
        throw new Error(`"indent" option must be a positive integer, not ${s}`);
      }
      return stringifyDocument.stringifyDocument(this, options);
    }
  }
  function assertCollection(contents) {
    if (identity.isCollection(contents))
      return true;
    throw new Error("Expected a YAML collection as document contents");
  }
  exports.Document = Document;
});

// ../../node_modules/yaml/dist/errors.js
var require_errors = __commonJS((exports) => {
  class YAMLError extends Error {
    constructor(name, pos, code, message) {
      super();
      this.name = name;
      this.code = code;
      this.message = message;
      this.pos = pos;
    }
  }

  class YAMLParseError extends YAMLError {
    constructor(pos, code, message) {
      super("YAMLParseError", pos, code, message);
    }
  }

  class YAMLWarning extends YAMLError {
    constructor(pos, code, message) {
      super("YAMLWarning", pos, code, message);
    }
  }
  var prettifyError = (src, lc) => (error) => {
    if (error.pos[0] === -1)
      return;
    error.linePos = error.pos.map((pos) => lc.linePos(pos));
    const { line, col } = error.linePos[0];
    error.message += ` at line ${line}, column ${col}`;
    let ci = col - 1;
    let lineStr = src.substring(lc.lineStarts[line - 1], lc.lineStarts[line]).replace(/[\n\r]+$/, "");
    if (ci >= 60 && lineStr.length > 80) {
      const trimStart = Math.min(ci - 39, lineStr.length - 79);
      lineStr = "" + lineStr.substring(trimStart);
      ci -= trimStart - 1;
    }
    if (lineStr.length > 80)
      lineStr = lineStr.substring(0, 79) + "";
    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {
      let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);
      if (prev.length > 80)
        prev = prev.substring(0, 79) + `
`;
      lineStr = prev + lineStr;
    }
    if (/[^ ]/.test(lineStr)) {
      let count = 1;
      const end = error.linePos[1];
      if (end?.line === line && end.col > col) {
        count = Math.max(1, Math.min(end.col - col, 80 - ci));
      }
      const pointer = " ".repeat(ci) + "^".repeat(count);
      error.message += `:

${lineStr}
${pointer}
`;
    }
  };
  exports.YAMLError = YAMLError;
  exports.YAMLParseError = YAMLParseError;
  exports.YAMLWarning = YAMLWarning;
  exports.prettifyError = prettifyError;
});

// ../../node_modules/yaml/dist/compose/resolve-props.js
var require_resolve_props = __commonJS((exports) => {
  function resolveProps(tokens, { flow, indicator, next, offset, onError, parentIndent, startOnNewline }) {
    let spaceBefore = false;
    let atNewline = startOnNewline;
    let hasSpace = startOnNewline;
    let comment = "";
    let commentSep = "";
    let hasNewline = false;
    let reqSpace = false;
    let tab = null;
    let anchor = null;
    let tag = null;
    let newlineAfterProp = null;
    let comma = null;
    let found = null;
    let start = null;
    for (const token of tokens) {
      if (reqSpace) {
        if (token.type !== "space" && token.type !== "newline" && token.type !== "comma")
          onError(token.offset, "MISSING_CHAR", "Tags and anchors must be separated from the next token by white space");
        reqSpace = false;
      }
      if (tab) {
        if (atNewline && token.type !== "comment" && token.type !== "newline") {
          onError(tab, "TAB_AS_INDENT", "Tabs are not allowed as indentation");
        }
        tab = null;
      }
      switch (token.type) {
        case "space":
          if (!flow && (indicator !== "doc-start" || next?.type !== "flow-collection") && token.source.includes("\t")) {
            tab = token;
          }
          hasSpace = true;
          break;
        case "comment": {
          if (!hasSpace)
            onError(token, "MISSING_CHAR", "Comments must be separated from other tokens by white space characters");
          const cb = token.source.substring(1) || " ";
          if (!comment)
            comment = cb;
          else
            comment += commentSep + cb;
          commentSep = "";
          atNewline = false;
          break;
        }
        case "newline":
          if (atNewline) {
            if (comment)
              comment += token.source;
            else if (!found || indicator !== "seq-item-ind")
              spaceBefore = true;
          } else
            commentSep += token.source;
          atNewline = true;
          hasNewline = true;
          if (anchor || tag)
            newlineAfterProp = token;
          hasSpace = true;
          break;
        case "anchor":
          if (anchor)
            onError(token, "MULTIPLE_ANCHORS", "A node can have at most one anchor");
          if (token.source.endsWith(":"))
            onError(token.offset + token.source.length - 1, "BAD_ALIAS", "Anchor ending in : is ambiguous", true);
          anchor = token;
          start ?? (start = token.offset);
          atNewline = false;
          hasSpace = false;
          reqSpace = true;
          break;
        case "tag": {
          if (tag)
            onError(token, "MULTIPLE_TAGS", "A node can have at most one tag");
          tag = token;
          start ?? (start = token.offset);
          atNewline = false;
          hasSpace = false;
          reqSpace = true;
          break;
        }
        case indicator:
          if (anchor || tag)
            onError(token, "BAD_PROP_ORDER", `Anchors and tags must be after the ${token.source} indicator`);
          if (found)
            onError(token, "UNEXPECTED_TOKEN", `Unexpected ${token.source} in ${flow ?? "collection"}`);
          found = token;
          atNewline = indicator === "seq-item-ind" || indicator === "explicit-key-ind";
          hasSpace = false;
          break;
        case "comma":
          if (flow) {
            if (comma)
              onError(token, "UNEXPECTED_TOKEN", `Unexpected , in ${flow}`);
            comma = token;
            atNewline = false;
            hasSpace = false;
            break;
          }
        default:
          onError(token, "UNEXPECTED_TOKEN", `Unexpected ${token.type} token`);
          atNewline = false;
          hasSpace = false;
      }
    }
    const last = tokens[tokens.length - 1];
    const end = last ? last.offset + last.source.length : offset;
    if (reqSpace && next && next.type !== "space" && next.type !== "newline" && next.type !== "comma" && (next.type !== "scalar" || next.source !== "")) {
      onError(next.offset, "MISSING_CHAR", "Tags and anchors must be separated from the next token by white space");
    }
    if (tab && (atNewline && tab.indent <= parentIndent || next?.type === "block-map" || next?.type === "block-seq"))
      onError(tab, "TAB_AS_INDENT", "Tabs are not allowed as indentation");
    return {
      comma,
      found,
      spaceBefore,
      comment,
      hasNewline,
      anchor,
      tag,
      newlineAfterProp,
      end,
      start: start ?? end
    };
  }
  exports.resolveProps = resolveProps;
});

// ../../node_modules/yaml/dist/compose/util-contains-newline.js
var require_util_contains_newline = __commonJS((exports) => {
  function containsNewline(key) {
    if (!key)
      return null;
    switch (key.type) {
      case "alias":
      case "scalar":
      case "double-quoted-scalar":
      case "single-quoted-scalar":
        if (key.source.includes(`
`))
          return true;
        if (key.end) {
          for (const st of key.end)
            if (st.type === "newline")
              return true;
        }
        return false;
      case "flow-collection":
        for (const it of key.items) {
          for (const st of it.start)
            if (st.type === "newline")
              return true;
          if (it.sep) {
            for (const st of it.sep)
              if (st.type === "newline")
                return true;
          }
          if (containsNewline(it.key) || containsNewline(it.value))
            return true;
        }
        return false;
      default:
        return true;
    }
  }
  exports.containsNewline = containsNewline;
});

// ../../node_modules/yaml/dist/compose/util-flow-indent-check.js
var require_util_flow_indent_check = __commonJS((exports) => {
  var utilContainsNewline = require_util_contains_newline();
  function flowIndentCheck(indent, fc, onError) {
    if (fc?.type === "flow-collection") {
      const end = fc.end[0];
      if (end.indent === indent && (end.source === "]" || end.source === "}") && utilContainsNewline.containsNewline(fc)) {
        const msg = "Flow end indicator should be more indented than parent";
        onError(end, "BAD_INDENT", msg, true);
      }
    }
  }
  exports.flowIndentCheck = flowIndentCheck;
});

// ../../node_modules/yaml/dist/compose/util-map-includes.js
var require_util_map_includes = __commonJS((exports) => {
  var identity = require_identity();
  function mapIncludes(ctx, items, search) {
    const { uniqueKeys } = ctx.options;
    if (uniqueKeys === false)
      return false;
    const isEqual = typeof uniqueKeys === "function" ? uniqueKeys : (a, b) => a === b || identity.isScalar(a) && identity.isScalar(b) && a.value === b.value;
    return items.some((pair) => isEqual(pair.key, search));
  }
  exports.mapIncludes = mapIncludes;
});

// ../../node_modules/yaml/dist/compose/resolve-block-map.js
var require_resolve_block_map = __commonJS((exports) => {
  var Pair = require_Pair();
  var YAMLMap = require_YAMLMap();
  var resolveProps = require_resolve_props();
  var utilContainsNewline = require_util_contains_newline();
  var utilFlowIndentCheck = require_util_flow_indent_check();
  var utilMapIncludes = require_util_map_includes();
  var startColMsg = "All mapping items must start at the same column";
  function resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {
    const NodeClass = tag?.nodeClass ?? YAMLMap.YAMLMap;
    const map = new NodeClass(ctx.schema);
    if (ctx.atRoot)
      ctx.atRoot = false;
    let offset = bm.offset;
    let commentEnd = null;
    for (const collItem of bm.items) {
      const { start, key, sep, value } = collItem;
      const keyProps = resolveProps.resolveProps(start, {
        indicator: "explicit-key-ind",
        next: key ?? sep?.[0],
        offset,
        onError,
        parentIndent: bm.indent,
        startOnNewline: true
      });
      const implicitKey = !keyProps.found;
      if (implicitKey) {
        if (key) {
          if (key.type === "block-seq")
            onError(offset, "BLOCK_AS_IMPLICIT_KEY", "A block sequence may not be used as an implicit map key");
          else if ("indent" in key && key.indent !== bm.indent)
            onError(offset, "BAD_INDENT", startColMsg);
        }
        if (!keyProps.anchor && !keyProps.tag && !sep) {
          commentEnd = keyProps.end;
          if (keyProps.comment) {
            if (map.comment)
              map.comment += `
` + keyProps.comment;
            else
              map.comment = keyProps.comment;
          }
          continue;
        }
        if (keyProps.newlineAfterProp || utilContainsNewline.containsNewline(key)) {
          onError(key ?? start[start.length - 1], "MULTILINE_IMPLICIT_KEY", "Implicit keys need to be on a single line");
        }
      } else if (keyProps.found?.indent !== bm.indent) {
        onError(offset, "BAD_INDENT", startColMsg);
      }
      ctx.atKey = true;
      const keyStart = keyProps.end;
      const keyNode = key ? composeNode(ctx, key, keyProps, onError) : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);
      if (ctx.schema.compat)
        utilFlowIndentCheck.flowIndentCheck(bm.indent, key, onError);
      ctx.atKey = false;
      if (utilMapIncludes.mapIncludes(ctx, map.items, keyNode))
        onError(keyStart, "DUPLICATE_KEY", "Map keys must be unique");
      const valueProps = resolveProps.resolveProps(sep ?? [], {
        indicator: "map-value-ind",
        next: value,
        offset: keyNode.range[2],
        onError,
        parentIndent: bm.indent,
        startOnNewline: !key || key.type === "block-scalar"
      });
      offset = valueProps.end;
      if (valueProps.found) {
        if (implicitKey) {
          if (value?.type === "block-map" && !valueProps.hasNewline)
            onError(offset, "BLOCK_AS_IMPLICIT_KEY", "Nested mappings are not allowed in compact mappings");
          if (ctx.options.strict && keyProps.start < valueProps.found.offset - 1024)
            onError(keyNode.range, "KEY_OVER_1024_CHARS", "The : indicator must be at most 1024 chars after the start of an implicit block mapping key");
        }
        const valueNode = value ? composeNode(ctx, value, valueProps, onError) : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);
        if (ctx.schema.compat)
          utilFlowIndentCheck.flowIndentCheck(bm.indent, value, onError);
        offset = valueNode.range[2];
        const pair = new Pair.Pair(keyNode, valueNode);
        if (ctx.options.keepSourceTokens)
          pair.srcToken = collItem;
        map.items.push(pair);
      } else {
        if (implicitKey)
          onError(keyNode.range, "MISSING_CHAR", "Implicit map keys need to be followed by map values");
        if (valueProps.comment) {
          if (keyNode.comment)
            keyNode.comment += `
` + valueProps.comment;
          else
            keyNode.comment = valueProps.comment;
        }
        const pair = new Pair.Pair(keyNode);
        if (ctx.options.keepSourceTokens)
          pair.srcToken = collItem;
        map.items.push(pair);
      }
    }
    if (commentEnd && commentEnd < offset)
      onError(commentEnd, "IMPOSSIBLE", "Map comment with trailing content");
    map.range = [bm.offset, offset, commentEnd ?? offset];
    return map;
  }
  exports.resolveBlockMap = resolveBlockMap;
});

// ../../node_modules/yaml/dist/compose/resolve-block-seq.js
var require_resolve_block_seq = __commonJS((exports) => {
  var YAMLSeq = require_YAMLSeq();
  var resolveProps = require_resolve_props();
  var utilFlowIndentCheck = require_util_flow_indent_check();
  function resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {
    const NodeClass = tag?.nodeClass ?? YAMLSeq.YAMLSeq;
    const seq = new NodeClass(ctx.schema);
    if (ctx.atRoot)
      ctx.atRoot = false;
    if (ctx.atKey)
      ctx.atKey = false;
    let offset = bs.offset;
    let commentEnd = null;
    for (const { start, value } of bs.items) {
      const props = resolveProps.resolveProps(start, {
        indicator: "seq-item-ind",
        next: value,
        offset,
        onError,
        parentIndent: bs.indent,
        startOnNewline: true
      });
      if (!props.found) {
        if (props.anchor || props.tag || value) {
          if (value?.type === "block-seq")
            onError(props.end, "BAD_INDENT", "All sequence items must start at the same column");
          else
            onError(offset, "MISSING_CHAR", "Sequence item without - indicator");
        } else {
          commentEnd = props.end;
          if (props.comment)
            seq.comment = props.comment;
          continue;
        }
      }
      const node = value ? composeNode(ctx, value, props, onError) : composeEmptyNode(ctx, props.end, start, null, props, onError);
      if (ctx.schema.compat)
        utilFlowIndentCheck.flowIndentCheck(bs.indent, value, onError);
      offset = node.range[2];
      seq.items.push(node);
    }
    seq.range = [bs.offset, offset, commentEnd ?? offset];
    return seq;
  }
  exports.resolveBlockSeq = resolveBlockSeq;
});

// ../../node_modules/yaml/dist/compose/resolve-end.js
var require_resolve_end = __commonJS((exports) => {
  function resolveEnd(end, offset, reqSpace, onError) {
    let comment = "";
    if (end) {
      let hasSpace = false;
      let sep = "";
      for (const token of end) {
        const { source, type } = token;
        switch (type) {
          case "space":
            hasSpace = true;
            break;
          case "comment": {
            if (reqSpace && !hasSpace)
              onError(token, "MISSING_CHAR", "Comments must be separated from other tokens by white space characters");
            const cb = source.substring(1) || " ";
            if (!comment)
              comment = cb;
            else
              comment += sep + cb;
            sep = "";
            break;
          }
          case "newline":
            if (comment)
              sep += source;
            hasSpace = true;
            break;
          default:
            onError(token, "UNEXPECTED_TOKEN", `Unexpected ${type} at node end`);
        }
        offset += source.length;
      }
    }
    return { comment, offset };
  }
  exports.resolveEnd = resolveEnd;
});

// ../../node_modules/yaml/dist/compose/resolve-flow-collection.js
var require_resolve_flow_collection = __commonJS((exports) => {
  var identity = require_identity();
  var Pair = require_Pair();
  var YAMLMap = require_YAMLMap();
  var YAMLSeq = require_YAMLSeq();
  var resolveEnd = require_resolve_end();
  var resolveProps = require_resolve_props();
  var utilContainsNewline = require_util_contains_newline();
  var utilMapIncludes = require_util_map_includes();
  var blockMsg = "Block collections are not allowed within flow collections";
  var isBlock = (token) => token && (token.type === "block-map" || token.type === "block-seq");
  function resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {
    const isMap = fc.start.source === "{";
    const fcName = isMap ? "flow map" : "flow sequence";
    const NodeClass = tag?.nodeClass ?? (isMap ? YAMLMap.YAMLMap : YAMLSeq.YAMLSeq);
    const coll = new NodeClass(ctx.schema);
    coll.flow = true;
    const atRoot = ctx.atRoot;
    if (atRoot)
      ctx.atRoot = false;
    if (ctx.atKey)
      ctx.atKey = false;
    let offset = fc.offset + fc.start.source.length;
    for (let i = 0;i < fc.items.length; ++i) {
      const collItem = fc.items[i];
      const { start, key, sep, value } = collItem;
      const props = resolveProps.resolveProps(start, {
        flow: fcName,
        indicator: "explicit-key-ind",
        next: key ?? sep?.[0],
        offset,
        onError,
        parentIndent: fc.indent,
        startOnNewline: false
      });
      if (!props.found) {
        if (!props.anchor && !props.tag && !sep && !value) {
          if (i === 0 && props.comma)
            onError(props.comma, "UNEXPECTED_TOKEN", `Unexpected , in ${fcName}`);
          else if (i < fc.items.length - 1)
            onError(props.start, "UNEXPECTED_TOKEN", `Unexpected empty item in ${fcName}`);
          if (props.comment) {
            if (coll.comment)
              coll.comment += `
` + props.comment;
            else
              coll.comment = props.comment;
          }
          offset = props.end;
          continue;
        }
        if (!isMap && ctx.options.strict && utilContainsNewline.containsNewline(key))
          onError(key, "MULTILINE_IMPLICIT_KEY", "Implicit keys of flow sequence pairs need to be on a single line");
      }
      if (i === 0) {
        if (props.comma)
          onError(props.comma, "UNEXPECTED_TOKEN", `Unexpected , in ${fcName}`);
      } else {
        if (!props.comma)
          onError(props.start, "MISSING_CHAR", `Missing , between ${fcName} items`);
        if (props.comment) {
          let prevItemComment = "";
          loop:
            for (const st of start) {
              switch (st.type) {
                case "comma":
                case "space":
                  break;
                case "comment":
                  prevItemComment = st.source.substring(1);
                  break loop;
                default:
                  break loop;
              }
            }
          if (prevItemComment) {
            let prev = coll.items[coll.items.length - 1];
            if (identity.isPair(prev))
              prev = prev.value ?? prev.key;
            if (prev.comment)
              prev.comment += `
` + prevItemComment;
            else
              prev.comment = prevItemComment;
            props.comment = props.comment.substring(prevItemComment.length + 1);
          }
        }
      }
      if (!isMap && !sep && !props.found) {
        const valueNode = value ? composeNode(ctx, value, props, onError) : composeEmptyNode(ctx, props.end, sep, null, props, onError);
        coll.items.push(valueNode);
        offset = valueNode.range[2];
        if (isBlock(value))
          onError(valueNode.range, "BLOCK_IN_FLOW", blockMsg);
      } else {
        ctx.atKey = true;
        const keyStart = props.end;
        const keyNode = key ? composeNode(ctx, key, props, onError) : composeEmptyNode(ctx, keyStart, start, null, props, onError);
        if (isBlock(key))
          onError(keyNode.range, "BLOCK_IN_FLOW", blockMsg);
        ctx.atKey = false;
        const valueProps = resolveProps.resolveProps(sep ?? [], {
          flow: fcName,
          indicator: "map-value-ind",
          next: value,
          offset: keyNode.range[2],
          onError,
          parentIndent: fc.indent,
          startOnNewline: false
        });
        if (valueProps.found) {
          if (!isMap && !props.found && ctx.options.strict) {
            if (sep)
              for (const st of sep) {
                if (st === valueProps.found)
                  break;
                if (st.type === "newline") {
                  onError(st, "MULTILINE_IMPLICIT_KEY", "Implicit keys of flow sequence pairs need to be on a single line");
                  break;
                }
              }
            if (props.start < valueProps.found.offset - 1024)
              onError(valueProps.found, "KEY_OVER_1024_CHARS", "The : indicator must be at most 1024 chars after the start of an implicit flow sequence key");
          }
        } else if (value) {
          if ("source" in value && value.source?.[0] === ":")
            onError(value, "MISSING_CHAR", `Missing space after : in ${fcName}`);
          else
            onError(valueProps.start, "MISSING_CHAR", `Missing , or : between ${fcName} items`);
        }
        const valueNode = value ? composeNode(ctx, value, valueProps, onError) : valueProps.found ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError) : null;
        if (valueNode) {
          if (isBlock(value))
            onError(valueNode.range, "BLOCK_IN_FLOW", blockMsg);
        } else if (valueProps.comment) {
          if (keyNode.comment)
            keyNode.comment += `
` + valueProps.comment;
          else
            keyNode.comment = valueProps.comment;
        }
        const pair = new Pair.Pair(keyNode, valueNode);
        if (ctx.options.keepSourceTokens)
          pair.srcToken = collItem;
        if (isMap) {
          const map = coll;
          if (utilMapIncludes.mapIncludes(ctx, map.items, keyNode))
            onError(keyStart, "DUPLICATE_KEY", "Map keys must be unique");
          map.items.push(pair);
        } else {
          const map = new YAMLMap.YAMLMap(ctx.schema);
          map.flow = true;
          map.items.push(pair);
          const endRange = (valueNode ?? keyNode).range;
          map.range = [keyNode.range[0], endRange[1], endRange[2]];
          coll.items.push(map);
        }
        offset = valueNode ? valueNode.range[2] : valueProps.end;
      }
    }
    const expectedEnd = isMap ? "}" : "]";
    const [ce, ...ee] = fc.end;
    let cePos = offset;
    if (ce?.source === expectedEnd)
      cePos = ce.offset + ce.source.length;
    else {
      const name = fcName[0].toUpperCase() + fcName.substring(1);
      const msg = atRoot ? `${name} must end with a ${expectedEnd}` : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;
      onError(offset, atRoot ? "MISSING_CHAR" : "BAD_INDENT", msg);
      if (ce && ce.source.length !== 1)
        ee.unshift(ce);
    }
    if (ee.length > 0) {
      const end = resolveEnd.resolveEnd(ee, cePos, ctx.options.strict, onError);
      if (end.comment) {
        if (coll.comment)
          coll.comment += `
` + end.comment;
        else
          coll.comment = end.comment;
      }
      coll.range = [fc.offset, cePos, end.offset];
    } else {
      coll.range = [fc.offset, cePos, cePos];
    }
    return coll;
  }
  exports.resolveFlowCollection = resolveFlowCollection;
});

// ../../node_modules/yaml/dist/compose/compose-collection.js
var require_compose_collection = __commonJS((exports) => {
  var identity = require_identity();
  var Scalar = require_Scalar();
  var YAMLMap = require_YAMLMap();
  var YAMLSeq = require_YAMLSeq();
  var resolveBlockMap = require_resolve_block_map();
  var resolveBlockSeq = require_resolve_block_seq();
  var resolveFlowCollection = require_resolve_flow_collection();
  function resolveCollection(CN, ctx, token, onError, tagName, tag) {
    const coll = token.type === "block-map" ? resolveBlockMap.resolveBlockMap(CN, ctx, token, onError, tag) : token.type === "block-seq" ? resolveBlockSeq.resolveBlockSeq(CN, ctx, token, onError, tag) : resolveFlowCollection.resolveFlowCollection(CN, ctx, token, onError, tag);
    const Coll = coll.constructor;
    if (tagName === "!" || tagName === Coll.tagName) {
      coll.tag = Coll.tagName;
      return coll;
    }
    if (tagName)
      coll.tag = tagName;
    return coll;
  }
  function composeCollection(CN, ctx, token, props, onError) {
    const tagToken = props.tag;
    const tagName = !tagToken ? null : ctx.directives.tagName(tagToken.source, (msg) => onError(tagToken, "TAG_RESOLVE_FAILED", msg));
    if (token.type === "block-seq") {
      const { anchor, newlineAfterProp: nl } = props;
      const lastProp = anchor && tagToken ? anchor.offset > tagToken.offset ? anchor : tagToken : anchor ?? tagToken;
      if (lastProp && (!nl || nl.offset < lastProp.offset)) {
        const message = "Missing newline after block sequence props";
        onError(lastProp, "MISSING_CHAR", message);
      }
    }
    const expType = token.type === "block-map" ? "map" : token.type === "block-seq" ? "seq" : token.start.source === "{" ? "map" : "seq";
    if (!tagToken || !tagName || tagName === "!" || tagName === YAMLMap.YAMLMap.tagName && expType === "map" || tagName === YAMLSeq.YAMLSeq.tagName && expType === "seq") {
      return resolveCollection(CN, ctx, token, onError, tagName);
    }
    let tag = ctx.schema.tags.find((t) => t.tag === tagName && t.collection === expType);
    if (!tag) {
      const kt = ctx.schema.knownTags[tagName];
      if (kt?.collection === expType) {
        ctx.schema.tags.push(Object.assign({}, kt, { default: false }));
        tag = kt;
      } else {
        if (kt) {
          onError(tagToken, "BAD_COLLECTION_TYPE", `${kt.tag} used for ${expType} collection, but expects ${kt.collection ?? "scalar"}`, true);
        } else {
          onError(tagToken, "TAG_RESOLVE_FAILED", `Unresolved tag: ${tagName}`, true);
        }
        return resolveCollection(CN, ctx, token, onError, tagName);
      }
    }
    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);
    const res = tag.resolve?.(coll, (msg) => onError(tagToken, "TAG_RESOLVE_FAILED", msg), ctx.options) ?? coll;
    const node = identity.isNode(res) ? res : new Scalar.Scalar(res);
    node.range = coll.range;
    node.tag = tagName;
    if (tag?.format)
      node.format = tag.format;
    return node;
  }
  exports.composeCollection = composeCollection;
});

// ../../node_modules/yaml/dist/compose/resolve-block-scalar.js
var require_resolve_block_scalar = __commonJS((exports) => {
  var Scalar = require_Scalar();
  function resolveBlockScalar(ctx, scalar, onError) {
    const start = scalar.offset;
    const header = parseBlockScalarHeader(scalar, ctx.options.strict, onError);
    if (!header)
      return { value: "", type: null, comment: "", range: [start, start, start] };
    const type = header.mode === ">" ? Scalar.Scalar.BLOCK_FOLDED : Scalar.Scalar.BLOCK_LITERAL;
    const lines = scalar.source ? splitLines(scalar.source) : [];
    let chompStart = lines.length;
    for (let i = lines.length - 1;i >= 0; --i) {
      const content = lines[i][1];
      if (content === "" || content === "\r")
        chompStart = i;
      else
        break;
    }
    if (chompStart === 0) {
      const value2 = header.chomp === "+" && lines.length > 0 ? `
`.repeat(Math.max(1, lines.length - 1)) : "";
      let end2 = start + header.length;
      if (scalar.source)
        end2 += scalar.source.length;
      return { value: value2, type, comment: header.comment, range: [start, end2, end2] };
    }
    let trimIndent = scalar.indent + header.indent;
    let offset = scalar.offset + header.length;
    let contentStart = 0;
    for (let i = 0;i < chompStart; ++i) {
      const [indent, content] = lines[i];
      if (content === "" || content === "\r") {
        if (header.indent === 0 && indent.length > trimIndent)
          trimIndent = indent.length;
      } else {
        if (indent.length < trimIndent) {
          const message = "Block scalars with more-indented leading empty lines must use an explicit indentation indicator";
          onError(offset + indent.length, "MISSING_CHAR", message);
        }
        if (header.indent === 0)
          trimIndent = indent.length;
        contentStart = i;
        if (trimIndent === 0 && !ctx.atRoot) {
          const message = "Block scalar values in collections must be indented";
          onError(offset, "BAD_INDENT", message);
        }
        break;
      }
      offset += indent.length + content.length + 1;
    }
    for (let i = lines.length - 1;i >= chompStart; --i) {
      if (lines[i][0].length > trimIndent)
        chompStart = i + 1;
    }
    let value = "";
    let sep = "";
    let prevMoreIndented = false;
    for (let i = 0;i < contentStart; ++i)
      value += lines[i][0].slice(trimIndent) + `
`;
    for (let i = contentStart;i < chompStart; ++i) {
      let [indent, content] = lines[i];
      offset += indent.length + content.length + 1;
      const crlf = content[content.length - 1] === "\r";
      if (crlf)
        content = content.slice(0, -1);
      if (content && indent.length < trimIndent) {
        const src = header.indent ? "explicit indentation indicator" : "first line";
        const message = `Block scalar lines must not be less indented than their ${src}`;
        onError(offset - content.length - (crlf ? 2 : 1), "BAD_INDENT", message);
        indent = "";
      }
      if (type === Scalar.Scalar.BLOCK_LITERAL) {
        value += sep + indent.slice(trimIndent) + content;
        sep = `
`;
      } else if (indent.length > trimIndent || content[0] === "\t") {
        if (sep === " ")
          sep = `
`;
        else if (!prevMoreIndented && sep === `
`)
          sep = `

`;
        value += sep + indent.slice(trimIndent) + content;
        sep = `
`;
        prevMoreIndented = true;
      } else if (content === "") {
        if (sep === `
`)
          value += `
`;
        else
          sep = `
`;
      } else {
        value += sep + content;
        sep = " ";
        prevMoreIndented = false;
      }
    }
    switch (header.chomp) {
      case "-":
        break;
      case "+":
        for (let i = chompStart;i < lines.length; ++i)
          value += `
` + lines[i][0].slice(trimIndent);
        if (value[value.length - 1] !== `
`)
          value += `
`;
        break;
      default:
        value += `
`;
    }
    const end = start + header.length + scalar.source.length;
    return { value, type, comment: header.comment, range: [start, end, end] };
  }
  function parseBlockScalarHeader({ offset, props }, strict, onError) {
    if (props[0].type !== "block-scalar-header") {
      onError(props[0], "IMPOSSIBLE", "Block scalar header not found");
      return null;
    }
    const { source } = props[0];
    const mode = source[0];
    let indent = 0;
    let chomp = "";
    let error = -1;
    for (let i = 1;i < source.length; ++i) {
      const ch = source[i];
      if (!chomp && (ch === "-" || ch === "+"))
        chomp = ch;
      else {
        const n = Number(ch);
        if (!indent && n)
          indent = n;
        else if (error === -1)
          error = offset + i;
      }
    }
    if (error !== -1)
      onError(error, "UNEXPECTED_TOKEN", `Block scalar header includes extra characters: ${source}`);
    let hasSpace = false;
    let comment = "";
    let length = source.length;
    for (let i = 1;i < props.length; ++i) {
      const token = props[i];
      switch (token.type) {
        case "space":
          hasSpace = true;
        case "newline":
          length += token.source.length;
          break;
        case "comment":
          if (strict && !hasSpace) {
            const message = "Comments must be separated from other tokens by white space characters";
            onError(token, "MISSING_CHAR", message);
          }
          length += token.source.length;
          comment = token.source.substring(1);
          break;
        case "error":
          onError(token, "UNEXPECTED_TOKEN", token.message);
          length += token.source.length;
          break;
        default: {
          const message = `Unexpected token in block scalar header: ${token.type}`;
          onError(token, "UNEXPECTED_TOKEN", message);
          const ts = token.source;
          if (ts && typeof ts === "string")
            length += ts.length;
        }
      }
    }
    return { mode, indent, chomp, comment, length };
  }
  function splitLines(source) {
    const split = source.split(/\n( *)/);
    const first = split[0];
    const m = first.match(/^( *)/);
    const line0 = m?.[1] ? [m[1], first.slice(m[1].length)] : ["", first];
    const lines = [line0];
    for (let i = 1;i < split.length; i += 2)
      lines.push([split[i], split[i + 1]]);
    return lines;
  }
  exports.resolveBlockScalar = resolveBlockScalar;
});

// ../../node_modules/yaml/dist/compose/resolve-flow-scalar.js
var require_resolve_flow_scalar = __commonJS((exports) => {
  var Scalar = require_Scalar();
  var resolveEnd = require_resolve_end();
  function resolveFlowScalar(scalar, strict, onError) {
    const { offset, type, source, end } = scalar;
    let _type;
    let value;
    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);
    switch (type) {
      case "scalar":
        _type = Scalar.Scalar.PLAIN;
        value = plainValue(source, _onError);
        break;
      case "single-quoted-scalar":
        _type = Scalar.Scalar.QUOTE_SINGLE;
        value = singleQuotedValue(source, _onError);
        break;
      case "double-quoted-scalar":
        _type = Scalar.Scalar.QUOTE_DOUBLE;
        value = doubleQuotedValue(source, _onError);
        break;
      default:
        onError(scalar, "UNEXPECTED_TOKEN", `Expected a flow scalar value, but found: ${type}`);
        return {
          value: "",
          type: null,
          comment: "",
          range: [offset, offset + source.length, offset + source.length]
        };
    }
    const valueEnd = offset + source.length;
    const re = resolveEnd.resolveEnd(end, valueEnd, strict, onError);
    return {
      value,
      type: _type,
      comment: re.comment,
      range: [offset, valueEnd, re.offset]
    };
  }
  function plainValue(source, onError) {
    let badChar = "";
    switch (source[0]) {
      case "\t":
        badChar = "a tab character";
        break;
      case ",":
        badChar = "flow indicator character ,";
        break;
      case "%":
        badChar = "directive indicator character %";
        break;
      case "|":
      case ">": {
        badChar = `block scalar indicator ${source[0]}`;
        break;
      }
      case "@":
      case "`": {
        badChar = `reserved character ${source[0]}`;
        break;
      }
    }
    if (badChar)
      onError(0, "BAD_SCALAR_START", `Plain value cannot start with ${badChar}`);
    return foldLines(source);
  }
  function singleQuotedValue(source, onError) {
    if (source[source.length - 1] !== "'" || source.length === 1)
      onError(source.length, "MISSING_CHAR", "Missing closing 'quote");
    return foldLines(source.slice(1, -1)).replace(/''/g, "'");
  }
  function foldLines(source) {
    let first, line;
    try {
      first = new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`, "sy");
      line = new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`, "sy");
    } catch {
      first = /(.*?)[ \t]*\r?\n/sy;
      line = /[ \t]*(.*?)[ \t]*\r?\n/sy;
    }
    let match = first.exec(source);
    if (!match)
      return source;
    let res = match[1];
    let sep = " ";
    let pos = first.lastIndex;
    line.lastIndex = pos;
    while (match = line.exec(source)) {
      if (match[1] === "") {
        if (sep === `
`)
          res += sep;
        else
          sep = `
`;
      } else {
        res += sep + match[1];
        sep = " ";
      }
      pos = line.lastIndex;
    }
    const last = /[ \t]*(.*)/sy;
    last.lastIndex = pos;
    match = last.exec(source);
    return res + sep + (match?.[1] ?? "");
  }
  function doubleQuotedValue(source, onError) {
    let res = "";
    for (let i = 1;i < source.length - 1; ++i) {
      const ch = source[i];
      if (ch === "\r" && source[i + 1] === `
`)
        continue;
      if (ch === `
`) {
        const { fold, offset } = foldNewline(source, i);
        res += fold;
        i = offset;
      } else if (ch === "\\") {
        let next = source[++i];
        const cc = escapeCodes[next];
        if (cc)
          res += cc;
        else if (next === `
`) {
          next = source[i + 1];
          while (next === " " || next === "\t")
            next = source[++i + 1];
        } else if (next === "\r" && source[i + 1] === `
`) {
          next = source[++i + 1];
          while (next === " " || next === "\t")
            next = source[++i + 1];
        } else if (next === "x" || next === "u" || next === "U") {
          const length = { x: 2, u: 4, U: 8 }[next];
          res += parseCharCode(source, i + 1, length, onError);
          i += length;
        } else {
          const raw = source.substr(i - 1, 2);
          onError(i - 1, "BAD_DQ_ESCAPE", `Invalid escape sequence ${raw}`);
          res += raw;
        }
      } else if (ch === " " || ch === "\t") {
        const wsStart = i;
        let next = source[i + 1];
        while (next === " " || next === "\t")
          next = source[++i + 1];
        if (next !== `
` && !(next === "\r" && source[i + 2] === `
`))
          res += i > wsStart ? source.slice(wsStart, i + 1) : ch;
      } else {
        res += ch;
      }
    }
    if (source[source.length - 1] !== '"' || source.length === 1)
      onError(source.length, "MISSING_CHAR", 'Missing closing "quote');
    return res;
  }
  function foldNewline(source, offset) {
    let fold = "";
    let ch = source[offset + 1];
    while (ch === " " || ch === "\t" || ch === `
` || ch === "\r") {
      if (ch === "\r" && source[offset + 2] !== `
`)
        break;
      if (ch === `
`)
        fold += `
`;
      offset += 1;
      ch = source[offset + 1];
    }
    if (!fold)
      fold = " ";
    return { fold, offset };
  }
  var escapeCodes = {
    "0": "\x00",
    a: "\x07",
    b: "\b",
    e: "\x1B",
    f: "\f",
    n: `
`,
    r: "\r",
    t: "\t",
    v: "\v",
    N: "",
    _: "",
    L: "\u2028",
    P: "\u2029",
    " ": " ",
    '"': '"',
    "/": "/",
    "\\": "\\",
    "\t": "\t"
  };
  function parseCharCode(source, offset, length, onError) {
    const cc = source.substr(offset, length);
    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);
    const code = ok ? parseInt(cc, 16) : NaN;
    if (isNaN(code)) {
      const raw = source.substr(offset - 2, length + 2);
      onError(offset - 2, "BAD_DQ_ESCAPE", `Invalid escape sequence ${raw}`);
      return raw;
    }
    return String.fromCodePoint(code);
  }
  exports.resolveFlowScalar = resolveFlowScalar;
});

// ../../node_modules/yaml/dist/compose/compose-scalar.js
var require_compose_scalar = __commonJS((exports) => {
  var identity = require_identity();
  var Scalar = require_Scalar();
  var resolveBlockScalar = require_resolve_block_scalar();
  var resolveFlowScalar = require_resolve_flow_scalar();
  function composeScalar(ctx, token, tagToken, onError) {
    const { value, type, comment, range } = token.type === "block-scalar" ? resolveBlockScalar.resolveBlockScalar(ctx, token, onError) : resolveFlowScalar.resolveFlowScalar(token, ctx.options.strict, onError);
    const tagName = tagToken ? ctx.directives.tagName(tagToken.source, (msg) => onError(tagToken, "TAG_RESOLVE_FAILED", msg)) : null;
    let tag;
    if (ctx.options.stringKeys && ctx.atKey) {
      tag = ctx.schema[identity.SCALAR];
    } else if (tagName)
      tag = findScalarTagByName(ctx.schema, value, tagName, tagToken, onError);
    else if (token.type === "scalar")
      tag = findScalarTagByTest(ctx, value, token, onError);
    else
      tag = ctx.schema[identity.SCALAR];
    let scalar;
    try {
      const res = tag.resolve(value, (msg) => onError(tagToken ?? token, "TAG_RESOLVE_FAILED", msg), ctx.options);
      scalar = identity.isScalar(res) ? res : new Scalar.Scalar(res);
    } catch (error) {
      const msg = error instanceof Error ? error.message : String(error);
      onError(tagToken ?? token, "TAG_RESOLVE_FAILED", msg);
      scalar = new Scalar.Scalar(value);
    }
    scalar.range = range;
    scalar.source = value;
    if (type)
      scalar.type = type;
    if (tagName)
      scalar.tag = tagName;
    if (tag.format)
      scalar.format = tag.format;
    if (comment)
      scalar.comment = comment;
    return scalar;
  }
  function findScalarTagByName(schema, value, tagName, tagToken, onError) {
    if (tagName === "!")
      return schema[identity.SCALAR];
    const matchWithTest = [];
    for (const tag of schema.tags) {
      if (!tag.collection && tag.tag === tagName) {
        if (tag.default && tag.test)
          matchWithTest.push(tag);
        else
          return tag;
      }
    }
    for (const tag of matchWithTest)
      if (tag.test?.test(value))
        return tag;
    const kt = schema.knownTags[tagName];
    if (kt && !kt.collection) {
      schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));
      return kt;
    }
    onError(tagToken, "TAG_RESOLVE_FAILED", `Unresolved tag: ${tagName}`, tagName !== "tag:yaml.org,2002:str");
    return schema[identity.SCALAR];
  }
  function findScalarTagByTest({ atKey, directives, schema }, value, token, onError) {
    const tag = schema.tags.find((tag2) => (tag2.default === true || atKey && tag2.default === "key") && tag2.test?.test(value)) || schema[identity.SCALAR];
    if (schema.compat) {
      const compat = schema.compat.find((tag2) => tag2.default && tag2.test?.test(value)) ?? schema[identity.SCALAR];
      if (tag.tag !== compat.tag) {
        const ts = directives.tagString(tag.tag);
        const cs = directives.tagString(compat.tag);
        const msg = `Value may be parsed as either ${ts} or ${cs}`;
        onError(token, "TAG_RESOLVE_FAILED", msg, true);
      }
    }
    return tag;
  }
  exports.composeScalar = composeScalar;
});

// ../../node_modules/yaml/dist/compose/util-empty-scalar-position.js
var require_util_empty_scalar_position = __commonJS((exports) => {
  function emptyScalarPosition(offset, before, pos) {
    if (before) {
      pos ?? (pos = before.length);
      for (let i = pos - 1;i >= 0; --i) {
        let st = before[i];
        switch (st.type) {
          case "space":
          case "comment":
          case "newline":
            offset -= st.source.length;
            continue;
        }
        st = before[++i];
        while (st?.type === "space") {
          offset += st.source.length;
          st = before[++i];
        }
        break;
      }
    }
    return offset;
  }
  exports.emptyScalarPosition = emptyScalarPosition;
});

// ../../node_modules/yaml/dist/compose/compose-node.js
var require_compose_node = __commonJS((exports) => {
  var Alias = require_Alias();
  var identity = require_identity();
  var composeCollection = require_compose_collection();
  var composeScalar = require_compose_scalar();
  var resolveEnd = require_resolve_end();
  var utilEmptyScalarPosition = require_util_empty_scalar_position();
  var CN = { composeNode, composeEmptyNode };
  function composeNode(ctx, token, props, onError) {
    const atKey = ctx.atKey;
    const { spaceBefore, comment, anchor, tag } = props;
    let node;
    let isSrcToken = true;
    switch (token.type) {
      case "alias":
        node = composeAlias(ctx, token, onError);
        if (anchor || tag)
          onError(token, "ALIAS_PROPS", "An alias node must not specify any properties");
        break;
      case "scalar":
      case "single-quoted-scalar":
      case "double-quoted-scalar":
      case "block-scalar":
        node = composeScalar.composeScalar(ctx, token, tag, onError);
        if (anchor)
          node.anchor = anchor.source.substring(1);
        break;
      case "block-map":
      case "block-seq":
      case "flow-collection":
        node = composeCollection.composeCollection(CN, ctx, token, props, onError);
        if (anchor)
          node.anchor = anchor.source.substring(1);
        break;
      default: {
        const message = token.type === "error" ? token.message : `Unsupported token (type: ${token.type})`;
        onError(token, "UNEXPECTED_TOKEN", message);
        node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);
        isSrcToken = false;
      }
    }
    if (anchor && node.anchor === "")
      onError(anchor, "BAD_ALIAS", "Anchor cannot be an empty string");
    if (atKey && ctx.options.stringKeys && (!identity.isScalar(node) || typeof node.value !== "string" || node.tag && node.tag !== "tag:yaml.org,2002:str")) {
      const msg = "With stringKeys, all keys must be strings";
      onError(tag ?? token, "NON_STRING_KEY", msg);
    }
    if (spaceBefore)
      node.spaceBefore = true;
    if (comment) {
      if (token.type === "scalar" && token.source === "")
        node.comment = comment;
      else
        node.commentBefore = comment;
    }
    if (ctx.options.keepSourceTokens && isSrcToken)
      node.srcToken = token;
    return node;
  }
  function composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {
    const token = {
      type: "scalar",
      offset: utilEmptyScalarPosition.emptyScalarPosition(offset, before, pos),
      indent: -1,
      source: ""
    };
    const node = composeScalar.composeScalar(ctx, token, tag, onError);
    if (anchor) {
      node.anchor = anchor.source.substring(1);
      if (node.anchor === "")
        onError(anchor, "BAD_ALIAS", "Anchor cannot be an empty string");
    }
    if (spaceBefore)
      node.spaceBefore = true;
    if (comment) {
      node.comment = comment;
      node.range[2] = end;
    }
    return node;
  }
  function composeAlias({ options }, { offset, source, end }, onError) {
    const alias = new Alias.Alias(source.substring(1));
    if (alias.source === "")
      onError(offset, "BAD_ALIAS", "Alias cannot be an empty string");
    if (alias.source.endsWith(":"))
      onError(offset + source.length - 1, "BAD_ALIAS", "Alias ending in : is ambiguous", true);
    const valueEnd = offset + source.length;
    const re = resolveEnd.resolveEnd(end, valueEnd, options.strict, onError);
    alias.range = [offset, valueEnd, re.offset];
    if (re.comment)
      alias.comment = re.comment;
    return alias;
  }
  exports.composeEmptyNode = composeEmptyNode;
  exports.composeNode = composeNode;
});

// ../../node_modules/yaml/dist/compose/compose-doc.js
var require_compose_doc = __commonJS((exports) => {
  var Document = require_Document();
  var composeNode = require_compose_node();
  var resolveEnd = require_resolve_end();
  var resolveProps = require_resolve_props();
  function composeDoc(options, directives, { offset, start, value, end }, onError) {
    const opts = Object.assign({ _directives: directives }, options);
    const doc = new Document.Document(undefined, opts);
    const ctx = {
      atKey: false,
      atRoot: true,
      directives: doc.directives,
      options: doc.options,
      schema: doc.schema
    };
    const props = resolveProps.resolveProps(start, {
      indicator: "doc-start",
      next: value ?? end?.[0],
      offset,
      onError,
      parentIndent: 0,
      startOnNewline: true
    });
    if (props.found) {
      doc.directives.docStart = true;
      if (value && (value.type === "block-map" || value.type === "block-seq") && !props.hasNewline)
        onError(props.end, "MISSING_CHAR", "Block collection cannot start on same line with directives-end marker");
    }
    doc.contents = value ? composeNode.composeNode(ctx, value, props, onError) : composeNode.composeEmptyNode(ctx, props.end, start, null, props, onError);
    const contentEnd = doc.contents.range[2];
    const re = resolveEnd.resolveEnd(end, contentEnd, false, onError);
    if (re.comment)
      doc.comment = re.comment;
    doc.range = [offset, contentEnd, re.offset];
    return doc;
  }
  exports.composeDoc = composeDoc;
});

// ../../node_modules/yaml/dist/compose/composer.js
var require_composer = __commonJS((exports) => {
  var node_process = __require("process");
  var directives = require_directives();
  var Document = require_Document();
  var errors = require_errors();
  var identity = require_identity();
  var composeDoc = require_compose_doc();
  var resolveEnd = require_resolve_end();
  function getErrorPos(src) {
    if (typeof src === "number")
      return [src, src + 1];
    if (Array.isArray(src))
      return src.length === 2 ? src : [src[0], src[1]];
    const { offset, source } = src;
    return [offset, offset + (typeof source === "string" ? source.length : 1)];
  }
  function parsePrelude(prelude) {
    let comment = "";
    let atComment = false;
    let afterEmptyLine = false;
    for (let i = 0;i < prelude.length; ++i) {
      const source = prelude[i];
      switch (source[0]) {
        case "#":
          comment += (comment === "" ? "" : afterEmptyLine ? `

` : `
`) + (source.substring(1) || " ");
          atComment = true;
          afterEmptyLine = false;
          break;
        case "%":
          if (prelude[i + 1]?.[0] !== "#")
            i += 1;
          atComment = false;
          break;
        default:
          if (!atComment)
            afterEmptyLine = true;
          atComment = false;
      }
    }
    return { comment, afterEmptyLine };
  }

  class Composer {
    constructor(options = {}) {
      this.doc = null;
      this.atDirectives = false;
      this.prelude = [];
      this.errors = [];
      this.warnings = [];
      this.onError = (source, code, message, warning) => {
        const pos = getErrorPos(source);
        if (warning)
          this.warnings.push(new errors.YAMLWarning(pos, code, message));
        else
          this.errors.push(new errors.YAMLParseError(pos, code, message));
      };
      this.directives = new directives.Directives({ version: options.version || "1.2" });
      this.options = options;
    }
    decorate(doc, afterDoc) {
      const { comment, afterEmptyLine } = parsePrelude(this.prelude);
      if (comment) {
        const dc = doc.contents;
        if (afterDoc) {
          doc.comment = doc.comment ? `${doc.comment}
${comment}` : comment;
        } else if (afterEmptyLine || doc.directives.docStart || !dc) {
          doc.commentBefore = comment;
        } else if (identity.isCollection(dc) && !dc.flow && dc.items.length > 0) {
          let it = dc.items[0];
          if (identity.isPair(it))
            it = it.key;
          const cb = it.commentBefore;
          it.commentBefore = cb ? `${comment}
${cb}` : comment;
        } else {
          const cb = dc.commentBefore;
          dc.commentBefore = cb ? `${comment}
${cb}` : comment;
        }
      }
      if (afterDoc) {
        Array.prototype.push.apply(doc.errors, this.errors);
        Array.prototype.push.apply(doc.warnings, this.warnings);
      } else {
        doc.errors = this.errors;
        doc.warnings = this.warnings;
      }
      this.prelude = [];
      this.errors = [];
      this.warnings = [];
    }
    streamInfo() {
      return {
        comment: parsePrelude(this.prelude).comment,
        directives: this.directives,
        errors: this.errors,
        warnings: this.warnings
      };
    }
    *compose(tokens, forceDoc = false, endOffset = -1) {
      for (const token of tokens)
        yield* this.next(token);
      yield* this.end(forceDoc, endOffset);
    }
    *next(token) {
      if (node_process.env.LOG_STREAM)
        console.dir(token, { depth: null });
      switch (token.type) {
        case "directive":
          this.directives.add(token.source, (offset, message, warning) => {
            const pos = getErrorPos(token);
            pos[0] += offset;
            this.onError(pos, "BAD_DIRECTIVE", message, warning);
          });
          this.prelude.push(token.source);
          this.atDirectives = true;
          break;
        case "document": {
          const doc = composeDoc.composeDoc(this.options, this.directives, token, this.onError);
          if (this.atDirectives && !doc.directives.docStart)
            this.onError(token, "MISSING_CHAR", "Missing directives-end/doc-start indicator line");
          this.decorate(doc, false);
          if (this.doc)
            yield this.doc;
          this.doc = doc;
          this.atDirectives = false;
          break;
        }
        case "byte-order-mark":
        case "space":
          break;
        case "comment":
        case "newline":
          this.prelude.push(token.source);
          break;
        case "error": {
          const msg = token.source ? `${token.message}: ${JSON.stringify(token.source)}` : token.message;
          const error = new errors.YAMLParseError(getErrorPos(token), "UNEXPECTED_TOKEN", msg);
          if (this.atDirectives || !this.doc)
            this.errors.push(error);
          else
            this.doc.errors.push(error);
          break;
        }
        case "doc-end": {
          if (!this.doc) {
            const msg = "Unexpected doc-end without preceding document";
            this.errors.push(new errors.YAMLParseError(getErrorPos(token), "UNEXPECTED_TOKEN", msg));
            break;
          }
          this.doc.directives.docEnd = true;
          const end = resolveEnd.resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);
          this.decorate(this.doc, true);
          if (end.comment) {
            const dc = this.doc.comment;
            this.doc.comment = dc ? `${dc}
${end.comment}` : end.comment;
          }
          this.doc.range[2] = end.offset;
          break;
        }
        default:
          this.errors.push(new errors.YAMLParseError(getErrorPos(token), "UNEXPECTED_TOKEN", `Unsupported token ${token.type}`));
      }
    }
    *end(forceDoc = false, endOffset = -1) {
      if (this.doc) {
        this.decorate(this.doc, true);
        yield this.doc;
        this.doc = null;
      } else if (forceDoc) {
        const opts = Object.assign({ _directives: this.directives }, this.options);
        const doc = new Document.Document(undefined, opts);
        if (this.atDirectives)
          this.onError(endOffset, "MISSING_CHAR", "Missing directives-end indicator line");
        doc.range = [0, endOffset, endOffset];
        this.decorate(doc, false);
        yield doc;
      }
    }
  }
  exports.Composer = Composer;
});

// ../../node_modules/yaml/dist/parse/cst-scalar.js
var require_cst_scalar = __commonJS((exports) => {
  var resolveBlockScalar = require_resolve_block_scalar();
  var resolveFlowScalar = require_resolve_flow_scalar();
  var errors = require_errors();
  var stringifyString = require_stringifyString();
  function resolveAsScalar(token, strict = true, onError) {
    if (token) {
      const _onError = (pos, code, message) => {
        const offset = typeof pos === "number" ? pos : Array.isArray(pos) ? pos[0] : pos.offset;
        if (onError)
          onError(offset, code, message);
        else
          throw new errors.YAMLParseError([offset, offset + 1], code, message);
      };
      switch (token.type) {
        case "scalar":
        case "single-quoted-scalar":
        case "double-quoted-scalar":
          return resolveFlowScalar.resolveFlowScalar(token, strict, _onError);
        case "block-scalar":
          return resolveBlockScalar.resolveBlockScalar({ options: { strict } }, token, _onError);
      }
    }
    return null;
  }
  function createScalarToken(value, context) {
    const { implicitKey = false, indent, inFlow = false, offset = -1, type = "PLAIN" } = context;
    const source = stringifyString.stringifyString({ type, value }, {
      implicitKey,
      indent: indent > 0 ? " ".repeat(indent) : "",
      inFlow,
      options: { blockQuote: true, lineWidth: -1 }
    });
    const end = context.end ?? [
      { type: "newline", offset: -1, indent, source: `
` }
    ];
    switch (source[0]) {
      case "|":
      case ">": {
        const he = source.indexOf(`
`);
        const head = source.substring(0, he);
        const body = source.substring(he + 1) + `
`;
        const props = [
          { type: "block-scalar-header", offset, indent, source: head }
        ];
        if (!addEndtoBlockProps(props, end))
          props.push({ type: "newline", offset: -1, indent, source: `
` });
        return { type: "block-scalar", offset, indent, props, source: body };
      }
      case '"':
        return { type: "double-quoted-scalar", offset, indent, source, end };
      case "'":
        return { type: "single-quoted-scalar", offset, indent, source, end };
      default:
        return { type: "scalar", offset, indent, source, end };
    }
  }
  function setScalarValue(token, value, context = {}) {
    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;
    let indent = "indent" in token ? token.indent : null;
    if (afterKey && typeof indent === "number")
      indent += 2;
    if (!type)
      switch (token.type) {
        case "single-quoted-scalar":
          type = "QUOTE_SINGLE";
          break;
        case "double-quoted-scalar":
          type = "QUOTE_DOUBLE";
          break;
        case "block-scalar": {
          const header = token.props[0];
          if (header.type !== "block-scalar-header")
            throw new Error("Invalid block scalar header");
          type = header.source[0] === ">" ? "BLOCK_FOLDED" : "BLOCK_LITERAL";
          break;
        }
        default:
          type = "PLAIN";
      }
    const source = stringifyString.stringifyString({ type, value }, {
      implicitKey: implicitKey || indent === null,
      indent: indent !== null && indent > 0 ? " ".repeat(indent) : "",
      inFlow,
      options: { blockQuote: true, lineWidth: -1 }
    });
    switch (source[0]) {
      case "|":
      case ">":
        setBlockScalarValue(token, source);
        break;
      case '"':
        setFlowScalarValue(token, source, "double-quoted-scalar");
        break;
      case "'":
        setFlowScalarValue(token, source, "single-quoted-scalar");
        break;
      default:
        setFlowScalarValue(token, source, "scalar");
    }
  }
  function setBlockScalarValue(token, source) {
    const he = source.indexOf(`
`);
    const head = source.substring(0, he);
    const body = source.substring(he + 1) + `
`;
    if (token.type === "block-scalar") {
      const header = token.props[0];
      if (header.type !== "block-scalar-header")
        throw new Error("Invalid block scalar header");
      header.source = head;
      token.source = body;
    } else {
      const { offset } = token;
      const indent = "indent" in token ? token.indent : -1;
      const props = [
        { type: "block-scalar-header", offset, indent, source: head }
      ];
      if (!addEndtoBlockProps(props, "end" in token ? token.end : undefined))
        props.push({ type: "newline", offset: -1, indent, source: `
` });
      for (const key of Object.keys(token))
        if (key !== "type" && key !== "offset")
          delete token[key];
      Object.assign(token, { type: "block-scalar", indent, props, source: body });
    }
  }
  function addEndtoBlockProps(props, end) {
    if (end)
      for (const st of end)
        switch (st.type) {
          case "space":
          case "comment":
            props.push(st);
            break;
          case "newline":
            props.push(st);
            return true;
        }
    return false;
  }
  function setFlowScalarValue(token, source, type) {
    switch (token.type) {
      case "scalar":
      case "double-quoted-scalar":
      case "single-quoted-scalar":
        token.type = type;
        token.source = source;
        break;
      case "block-scalar": {
        const end = token.props.slice(1);
        let oa = source.length;
        if (token.props[0].type === "block-scalar-header")
          oa -= token.props[0].source.length;
        for (const tok of end)
          tok.offset += oa;
        delete token.props;
        Object.assign(token, { type, source, end });
        break;
      }
      case "block-map":
      case "block-seq": {
        const offset = token.offset + source.length;
        const nl = { type: "newline", offset, indent: token.indent, source: `
` };
        delete token.items;
        Object.assign(token, { type, source, end: [nl] });
        break;
      }
      default: {
        const indent = "indent" in token ? token.indent : -1;
        const end = "end" in token && Array.isArray(token.end) ? token.end.filter((st) => st.type === "space" || st.type === "comment" || st.type === "newline") : [];
        for (const key of Object.keys(token))
          if (key !== "type" && key !== "offset")
            delete token[key];
        Object.assign(token, { type, indent, source, end });
      }
    }
  }
  exports.createScalarToken = createScalarToken;
  exports.resolveAsScalar = resolveAsScalar;
  exports.setScalarValue = setScalarValue;
});

// ../../node_modules/yaml/dist/parse/cst-stringify.js
var require_cst_stringify = __commonJS((exports) => {
  var stringify = (cst) => ("type" in cst) ? stringifyToken(cst) : stringifyItem(cst);
  function stringifyToken(token) {
    switch (token.type) {
      case "block-scalar": {
        let res = "";
        for (const tok of token.props)
          res += stringifyToken(tok);
        return res + token.source;
      }
      case "block-map":
      case "block-seq": {
        let res = "";
        for (const item of token.items)
          res += stringifyItem(item);
        return res;
      }
      case "flow-collection": {
        let res = token.start.source;
        for (const item of token.items)
          res += stringifyItem(item);
        for (const st of token.end)
          res += st.source;
        return res;
      }
      case "document": {
        let res = stringifyItem(token);
        if (token.end)
          for (const st of token.end)
            res += st.source;
        return res;
      }
      default: {
        let res = token.source;
        if ("end" in token && token.end)
          for (const st of token.end)
            res += st.source;
        return res;
      }
    }
  }
  function stringifyItem({ start, key, sep, value }) {
    let res = "";
    for (const st of start)
      res += st.source;
    if (key)
      res += stringifyToken(key);
    if (sep)
      for (const st of sep)
        res += st.source;
    if (value)
      res += stringifyToken(value);
    return res;
  }
  exports.stringify = stringify;
});

// ../../node_modules/yaml/dist/parse/cst-visit.js
var require_cst_visit = __commonJS((exports) => {
  var BREAK = Symbol("break visit");
  var SKIP = Symbol("skip children");
  var REMOVE = Symbol("remove item");
  function visit(cst, visitor) {
    if ("type" in cst && cst.type === "document")
      cst = { start: cst.start, value: cst.value };
    _visit(Object.freeze([]), cst, visitor);
  }
  visit.BREAK = BREAK;
  visit.SKIP = SKIP;
  visit.REMOVE = REMOVE;
  visit.itemAtPath = (cst, path) => {
    let item = cst;
    for (const [field, index] of path) {
      const tok = item?.[field];
      if (tok && "items" in tok) {
        item = tok.items[index];
      } else
        return;
    }
    return item;
  };
  visit.parentCollection = (cst, path) => {
    const parent = visit.itemAtPath(cst, path.slice(0, -1));
    const field = path[path.length - 1][0];
    const coll = parent?.[field];
    if (coll && "items" in coll)
      return coll;
    throw new Error("Parent collection not found");
  };
  function _visit(path, item, visitor) {
    let ctrl = visitor(item, path);
    if (typeof ctrl === "symbol")
      return ctrl;
    for (const field of ["key", "value"]) {
      const token = item[field];
      if (token && "items" in token) {
        for (let i = 0;i < token.items.length; ++i) {
          const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);
          if (typeof ci === "number")
            i = ci - 1;
          else if (ci === BREAK)
            return BREAK;
          else if (ci === REMOVE) {
            token.items.splice(i, 1);
            i -= 1;
          }
        }
        if (typeof ctrl === "function" && field === "key")
          ctrl = ctrl(item, path);
      }
    }
    return typeof ctrl === "function" ? ctrl(item, path) : ctrl;
  }
  exports.visit = visit;
});

// ../../node_modules/yaml/dist/parse/cst.js
var require_cst = __commonJS((exports) => {
  var cstScalar = require_cst_scalar();
  var cstStringify = require_cst_stringify();
  var cstVisit = require_cst_visit();
  var BOM = "\uFEFF";
  var DOCUMENT = "\x02";
  var FLOW_END = "\x18";
  var SCALAR = "\x1F";
  var isCollection = (token) => !!token && ("items" in token);
  var isScalar = (token) => !!token && (token.type === "scalar" || token.type === "single-quoted-scalar" || token.type === "double-quoted-scalar" || token.type === "block-scalar");
  function prettyToken(token) {
    switch (token) {
      case BOM:
        return "<BOM>";
      case DOCUMENT:
        return "<DOC>";
      case FLOW_END:
        return "<FLOW_END>";
      case SCALAR:
        return "<SCALAR>";
      default:
        return JSON.stringify(token);
    }
  }
  function tokenType(source) {
    switch (source) {
      case BOM:
        return "byte-order-mark";
      case DOCUMENT:
        return "doc-mode";
      case FLOW_END:
        return "flow-error-end";
      case SCALAR:
        return "scalar";
      case "---":
        return "doc-start";
      case "...":
        return "doc-end";
      case "":
      case `
`:
      case `\r
`:
        return "newline";
      case "-":
        return "seq-item-ind";
      case "?":
        return "explicit-key-ind";
      case ":":
        return "map-value-ind";
      case "{":
        return "flow-map-start";
      case "}":
        return "flow-map-end";
      case "[":
        return "flow-seq-start";
      case "]":
        return "flow-seq-end";
      case ",":
        return "comma";
    }
    switch (source[0]) {
      case " ":
      case "\t":
        return "space";
      case "#":
        return "comment";
      case "%":
        return "directive-line";
      case "*":
        return "alias";
      case "&":
        return "anchor";
      case "!":
        return "tag";
      case "'":
        return "single-quoted-scalar";
      case '"':
        return "double-quoted-scalar";
      case "|":
      case ">":
        return "block-scalar-header";
    }
    return null;
  }
  exports.createScalarToken = cstScalar.createScalarToken;
  exports.resolveAsScalar = cstScalar.resolveAsScalar;
  exports.setScalarValue = cstScalar.setScalarValue;
  exports.stringify = cstStringify.stringify;
  exports.visit = cstVisit.visit;
  exports.BOM = BOM;
  exports.DOCUMENT = DOCUMENT;
  exports.FLOW_END = FLOW_END;
  exports.SCALAR = SCALAR;
  exports.isCollection = isCollection;
  exports.isScalar = isScalar;
  exports.prettyToken = prettyToken;
  exports.tokenType = tokenType;
});

// ../../node_modules/yaml/dist/parse/lexer.js
var require_lexer = __commonJS((exports) => {
  var cst = require_cst();
  function isEmpty(ch) {
    switch (ch) {
      case undefined:
      case " ":
      case `
`:
      case "\r":
      case "\t":
        return true;
      default:
        return false;
    }
  }
  var hexDigits = new Set("0123456789ABCDEFabcdef");
  var tagChars = new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");
  var flowIndicatorChars = new Set(",[]{}");
  var invalidAnchorChars = new Set(` ,[]{}
\r	`);
  var isNotAnchorChar = (ch) => !ch || invalidAnchorChars.has(ch);

  class Lexer {
    constructor() {
      this.atEnd = false;
      this.blockScalarIndent = -1;
      this.blockScalarKeep = false;
      this.buffer = "";
      this.flowKey = false;
      this.flowLevel = 0;
      this.indentNext = 0;
      this.indentValue = 0;
      this.lineEndPos = null;
      this.next = null;
      this.pos = 0;
    }
    *lex(source, incomplete = false) {
      if (source) {
        if (typeof source !== "string")
          throw TypeError("source is not a string");
        this.buffer = this.buffer ? this.buffer + source : source;
        this.lineEndPos = null;
      }
      this.atEnd = !incomplete;
      let next = this.next ?? "stream";
      while (next && (incomplete || this.hasChars(1)))
        next = yield* this.parseNext(next);
    }
    atLineEnd() {
      let i = this.pos;
      let ch = this.buffer[i];
      while (ch === " " || ch === "\t")
        ch = this.buffer[++i];
      if (!ch || ch === "#" || ch === `
`)
        return true;
      if (ch === "\r")
        return this.buffer[i + 1] === `
`;
      return false;
    }
    charAt(n) {
      return this.buffer[this.pos + n];
    }
    continueScalar(offset) {
      let ch = this.buffer[offset];
      if (this.indentNext > 0) {
        let indent = 0;
        while (ch === " ")
          ch = this.buffer[++indent + offset];
        if (ch === "\r") {
          const next = this.buffer[indent + offset + 1];
          if (next === `
` || !next && !this.atEnd)
            return offset + indent + 1;
        }
        return ch === `
` || indent >= this.indentNext || !ch && !this.atEnd ? offset + indent : -1;
      }
      if (ch === "-" || ch === ".") {
        const dt = this.buffer.substr(offset, 3);
        if ((dt === "---" || dt === "...") && isEmpty(this.buffer[offset + 3]))
          return -1;
      }
      return offset;
    }
    getLine() {
      let end = this.lineEndPos;
      if (typeof end !== "number" || end !== -1 && end < this.pos) {
        end = this.buffer.indexOf(`
`, this.pos);
        this.lineEndPos = end;
      }
      if (end === -1)
        return this.atEnd ? this.buffer.substring(this.pos) : null;
      if (this.buffer[end - 1] === "\r")
        end -= 1;
      return this.buffer.substring(this.pos, end);
    }
    hasChars(n) {
      return this.pos + n <= this.buffer.length;
    }
    setNext(state) {
      this.buffer = this.buffer.substring(this.pos);
      this.pos = 0;
      this.lineEndPos = null;
      this.next = state;
      return null;
    }
    peek(n) {
      return this.buffer.substr(this.pos, n);
    }
    *parseNext(next) {
      switch (next) {
        case "stream":
          return yield* this.parseStream();
        case "line-start":
          return yield* this.parseLineStart();
        case "block-start":
          return yield* this.parseBlockStart();
        case "doc":
          return yield* this.parseDocument();
        case "flow":
          return yield* this.parseFlowCollection();
        case "quoted-scalar":
          return yield* this.parseQuotedScalar();
        case "block-scalar":
          return yield* this.parseBlockScalar();
        case "plain-scalar":
          return yield* this.parsePlainScalar();
      }
    }
    *parseStream() {
      let line = this.getLine();
      if (line === null)
        return this.setNext("stream");
      if (line[0] === cst.BOM) {
        yield* this.pushCount(1);
        line = line.substring(1);
      }
      if (line[0] === "%") {
        let dirEnd = line.length;
        let cs = line.indexOf("#");
        while (cs !== -1) {
          const ch = line[cs - 1];
          if (ch === " " || ch === "\t") {
            dirEnd = cs - 1;
            break;
          } else {
            cs = line.indexOf("#", cs + 1);
          }
        }
        while (true) {
          const ch = line[dirEnd - 1];
          if (ch === " " || ch === "\t")
            dirEnd -= 1;
          else
            break;
        }
        const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));
        yield* this.pushCount(line.length - n);
        this.pushNewline();
        return "stream";
      }
      if (this.atLineEnd()) {
        const sp = yield* this.pushSpaces(true);
        yield* this.pushCount(line.length - sp);
        yield* this.pushNewline();
        return "stream";
      }
      yield cst.DOCUMENT;
      return yield* this.parseLineStart();
    }
    *parseLineStart() {
      const ch = this.charAt(0);
      if (!ch && !this.atEnd)
        return this.setNext("line-start");
      if (ch === "-" || ch === ".") {
        if (!this.atEnd && !this.hasChars(4))
          return this.setNext("line-start");
        const s = this.peek(3);
        if ((s === "---" || s === "...") && isEmpty(this.charAt(3))) {
          yield* this.pushCount(3);
          this.indentValue = 0;
          this.indentNext = 0;
          return s === "---" ? "doc" : "stream";
        }
      }
      this.indentValue = yield* this.pushSpaces(false);
      if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))
        this.indentNext = this.indentValue;
      return yield* this.parseBlockStart();
    }
    *parseBlockStart() {
      const [ch0, ch1] = this.peek(2);
      if (!ch1 && !this.atEnd)
        return this.setNext("block-start");
      if ((ch0 === "-" || ch0 === "?" || ch0 === ":") && isEmpty(ch1)) {
        const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));
        this.indentNext = this.indentValue + 1;
        this.indentValue += n;
        return yield* this.parseBlockStart();
      }
      return "doc";
    }
    *parseDocument() {
      yield* this.pushSpaces(true);
      const line = this.getLine();
      if (line === null)
        return this.setNext("doc");
      let n = yield* this.pushIndicators();
      switch (line[n]) {
        case "#":
          yield* this.pushCount(line.length - n);
        case undefined:
          yield* this.pushNewline();
          return yield* this.parseLineStart();
        case "{":
        case "[":
          yield* this.pushCount(1);
          this.flowKey = false;
          this.flowLevel = 1;
          return "flow";
        case "}":
        case "]":
          yield* this.pushCount(1);
          return "doc";
        case "*":
          yield* this.pushUntil(isNotAnchorChar);
          return "doc";
        case '"':
        case "'":
          return yield* this.parseQuotedScalar();
        case "|":
        case ">":
          n += yield* this.parseBlockScalarHeader();
          n += yield* this.pushSpaces(true);
          yield* this.pushCount(line.length - n);
          yield* this.pushNewline();
          return yield* this.parseBlockScalar();
        default:
          return yield* this.parsePlainScalar();
      }
    }
    *parseFlowCollection() {
      let nl, sp;
      let indent = -1;
      do {
        nl = yield* this.pushNewline();
        if (nl > 0) {
          sp = yield* this.pushSpaces(false);
          this.indentValue = indent = sp;
        } else {
          sp = 0;
        }
        sp += yield* this.pushSpaces(true);
      } while (nl + sp > 0);
      const line = this.getLine();
      if (line === null)
        return this.setNext("flow");
      if (indent !== -1 && indent < this.indentNext && line[0] !== "#" || indent === 0 && (line.startsWith("---") || line.startsWith("...")) && isEmpty(line[3])) {
        const atFlowEndMarker = indent === this.indentNext - 1 && this.flowLevel === 1 && (line[0] === "]" || line[0] === "}");
        if (!atFlowEndMarker) {
          this.flowLevel = 0;
          yield cst.FLOW_END;
          return yield* this.parseLineStart();
        }
      }
      let n = 0;
      while (line[n] === ",") {
        n += yield* this.pushCount(1);
        n += yield* this.pushSpaces(true);
        this.flowKey = false;
      }
      n += yield* this.pushIndicators();
      switch (line[n]) {
        case undefined:
          return "flow";
        case "#":
          yield* this.pushCount(line.length - n);
          return "flow";
        case "{":
        case "[":
          yield* this.pushCount(1);
          this.flowKey = false;
          this.flowLevel += 1;
          return "flow";
        case "}":
        case "]":
          yield* this.pushCount(1);
          this.flowKey = true;
          this.flowLevel -= 1;
          return this.flowLevel ? "flow" : "doc";
        case "*":
          yield* this.pushUntil(isNotAnchorChar);
          return "flow";
        case '"':
        case "'":
          this.flowKey = true;
          return yield* this.parseQuotedScalar();
        case ":": {
          const next = this.charAt(1);
          if (this.flowKey || isEmpty(next) || next === ",") {
            this.flowKey = false;
            yield* this.pushCount(1);
            yield* this.pushSpaces(true);
            return "flow";
          }
        }
        default:
          this.flowKey = false;
          return yield* this.parsePlainScalar();
      }
    }
    *parseQuotedScalar() {
      const quote = this.charAt(0);
      let end = this.buffer.indexOf(quote, this.pos + 1);
      if (quote === "'") {
        while (end !== -1 && this.buffer[end + 1] === "'")
          end = this.buffer.indexOf("'", end + 2);
      } else {
        while (end !== -1) {
          let n = 0;
          while (this.buffer[end - 1 - n] === "\\")
            n += 1;
          if (n % 2 === 0)
            break;
          end = this.buffer.indexOf('"', end + 1);
        }
      }
      const qb = this.buffer.substring(0, end);
      let nl = qb.indexOf(`
`, this.pos);
      if (nl !== -1) {
        while (nl !== -1) {
          const cs = this.continueScalar(nl + 1);
          if (cs === -1)
            break;
          nl = qb.indexOf(`
`, cs);
        }
        if (nl !== -1) {
          end = nl - (qb[nl - 1] === "\r" ? 2 : 1);
        }
      }
      if (end === -1) {
        if (!this.atEnd)
          return this.setNext("quoted-scalar");
        end = this.buffer.length;
      }
      yield* this.pushToIndex(end + 1, false);
      return this.flowLevel ? "flow" : "doc";
    }
    *parseBlockScalarHeader() {
      this.blockScalarIndent = -1;
      this.blockScalarKeep = false;
      let i = this.pos;
      while (true) {
        const ch = this.buffer[++i];
        if (ch === "+")
          this.blockScalarKeep = true;
        else if (ch > "0" && ch <= "9")
          this.blockScalarIndent = Number(ch) - 1;
        else if (ch !== "-")
          break;
      }
      return yield* this.pushUntil((ch) => isEmpty(ch) || ch === "#");
    }
    *parseBlockScalar() {
      let nl = this.pos - 1;
      let indent = 0;
      let ch;
      loop:
        for (let i2 = this.pos;ch = this.buffer[i2]; ++i2) {
          switch (ch) {
            case " ":
              indent += 1;
              break;
            case `
`:
              nl = i2;
              indent = 0;
              break;
            case "\r": {
              const next = this.buffer[i2 + 1];
              if (!next && !this.atEnd)
                return this.setNext("block-scalar");
              if (next === `
`)
                break;
            }
            default:
              break loop;
          }
        }
      if (!ch && !this.atEnd)
        return this.setNext("block-scalar");
      if (indent >= this.indentNext) {
        if (this.blockScalarIndent === -1)
          this.indentNext = indent;
        else {
          this.indentNext = this.blockScalarIndent + (this.indentNext === 0 ? 1 : this.indentNext);
        }
        do {
          const cs = this.continueScalar(nl + 1);
          if (cs === -1)
            break;
          nl = this.buffer.indexOf(`
`, cs);
        } while (nl !== -1);
        if (nl === -1) {
          if (!this.atEnd)
            return this.setNext("block-scalar");
          nl = this.buffer.length;
        }
      }
      let i = nl + 1;
      ch = this.buffer[i];
      while (ch === " ")
        ch = this.buffer[++i];
      if (ch === "\t") {
        while (ch === "\t" || ch === " " || ch === "\r" || ch === `
`)
          ch = this.buffer[++i];
        nl = i - 1;
      } else if (!this.blockScalarKeep) {
        do {
          let i2 = nl - 1;
          let ch2 = this.buffer[i2];
          if (ch2 === "\r")
            ch2 = this.buffer[--i2];
          const lastChar = i2;
          while (ch2 === " ")
            ch2 = this.buffer[--i2];
          if (ch2 === `
` && i2 >= this.pos && i2 + 1 + indent > lastChar)
            nl = i2;
          else
            break;
        } while (true);
      }
      yield cst.SCALAR;
      yield* this.pushToIndex(nl + 1, true);
      return yield* this.parseLineStart();
    }
    *parsePlainScalar() {
      const inFlow = this.flowLevel > 0;
      let end = this.pos - 1;
      let i = this.pos - 1;
      let ch;
      while (ch = this.buffer[++i]) {
        if (ch === ":") {
          const next = this.buffer[i + 1];
          if (isEmpty(next) || inFlow && flowIndicatorChars.has(next))
            break;
          end = i;
        } else if (isEmpty(ch)) {
          let next = this.buffer[i + 1];
          if (ch === "\r") {
            if (next === `
`) {
              i += 1;
              ch = `
`;
              next = this.buffer[i + 1];
            } else
              end = i;
          }
          if (next === "#" || inFlow && flowIndicatorChars.has(next))
            break;
          if (ch === `
`) {
            const cs = this.continueScalar(i + 1);
            if (cs === -1)
              break;
            i = Math.max(i, cs - 2);
          }
        } else {
          if (inFlow && flowIndicatorChars.has(ch))
            break;
          end = i;
        }
      }
      if (!ch && !this.atEnd)
        return this.setNext("plain-scalar");
      yield cst.SCALAR;
      yield* this.pushToIndex(end + 1, true);
      return inFlow ? "flow" : "doc";
    }
    *pushCount(n) {
      if (n > 0) {
        yield this.buffer.substr(this.pos, n);
        this.pos += n;
        return n;
      }
      return 0;
    }
    *pushToIndex(i, allowEmpty) {
      const s = this.buffer.slice(this.pos, i);
      if (s) {
        yield s;
        this.pos += s.length;
        return s.length;
      } else if (allowEmpty)
        yield "";
      return 0;
    }
    *pushIndicators() {
      switch (this.charAt(0)) {
        case "!":
          return (yield* this.pushTag()) + (yield* this.pushSpaces(true)) + (yield* this.pushIndicators());
        case "&":
          return (yield* this.pushUntil(isNotAnchorChar)) + (yield* this.pushSpaces(true)) + (yield* this.pushIndicators());
        case "-":
        case "?":
        case ":": {
          const inFlow = this.flowLevel > 0;
          const ch1 = this.charAt(1);
          if (isEmpty(ch1) || inFlow && flowIndicatorChars.has(ch1)) {
            if (!inFlow)
              this.indentNext = this.indentValue + 1;
            else if (this.flowKey)
              this.flowKey = false;
            return (yield* this.pushCount(1)) + (yield* this.pushSpaces(true)) + (yield* this.pushIndicators());
          }
        }
      }
      return 0;
    }
    *pushTag() {
      if (this.charAt(1) === "<") {
        let i = this.pos + 2;
        let ch = this.buffer[i];
        while (!isEmpty(ch) && ch !== ">")
          ch = this.buffer[++i];
        return yield* this.pushToIndex(ch === ">" ? i + 1 : i, false);
      } else {
        let i = this.pos + 1;
        let ch = this.buffer[i];
        while (ch) {
          if (tagChars.has(ch))
            ch = this.buffer[++i];
          else if (ch === "%" && hexDigits.has(this.buffer[i + 1]) && hexDigits.has(this.buffer[i + 2])) {
            ch = this.buffer[i += 3];
          } else
            break;
        }
        return yield* this.pushToIndex(i, false);
      }
    }
    *pushNewline() {
      const ch = this.buffer[this.pos];
      if (ch === `
`)
        return yield* this.pushCount(1);
      else if (ch === "\r" && this.charAt(1) === `
`)
        return yield* this.pushCount(2);
      else
        return 0;
    }
    *pushSpaces(allowTabs) {
      let i = this.pos - 1;
      let ch;
      do {
        ch = this.buffer[++i];
      } while (ch === " " || allowTabs && ch === "\t");
      const n = i - this.pos;
      if (n > 0) {
        yield this.buffer.substr(this.pos, n);
        this.pos = i;
      }
      return n;
    }
    *pushUntil(test) {
      let i = this.pos;
      let ch = this.buffer[i];
      while (!test(ch))
        ch = this.buffer[++i];
      return yield* this.pushToIndex(i, false);
    }
  }
  exports.Lexer = Lexer;
});

// ../../node_modules/yaml/dist/parse/line-counter.js
var require_line_counter = __commonJS((exports) => {
  class LineCounter {
    constructor() {
      this.lineStarts = [];
      this.addNewLine = (offset) => this.lineStarts.push(offset);
      this.linePos = (offset) => {
        let low = 0;
        let high = this.lineStarts.length;
        while (low < high) {
          const mid = low + high >> 1;
          if (this.lineStarts[mid] < offset)
            low = mid + 1;
          else
            high = mid;
        }
        if (this.lineStarts[low] === offset)
          return { line: low + 1, col: 1 };
        if (low === 0)
          return { line: 0, col: offset };
        const start = this.lineStarts[low - 1];
        return { line: low, col: offset - start + 1 };
      };
    }
  }
  exports.LineCounter = LineCounter;
});

// ../../node_modules/yaml/dist/parse/parser.js
var require_parser = __commonJS((exports) => {
  var node_process = __require("process");
  var cst = require_cst();
  var lexer = require_lexer();
  function includesToken(list, type) {
    for (let i = 0;i < list.length; ++i)
      if (list[i].type === type)
        return true;
    return false;
  }
  function findNonEmptyIndex(list) {
    for (let i = 0;i < list.length; ++i) {
      switch (list[i].type) {
        case "space":
        case "comment":
        case "newline":
          break;
        default:
          return i;
      }
    }
    return -1;
  }
  function isFlowToken(token) {
    switch (token?.type) {
      case "alias":
      case "scalar":
      case "single-quoted-scalar":
      case "double-quoted-scalar":
      case "flow-collection":
        return true;
      default:
        return false;
    }
  }
  function getPrevProps(parent) {
    switch (parent.type) {
      case "document":
        return parent.start;
      case "block-map": {
        const it = parent.items[parent.items.length - 1];
        return it.sep ?? it.start;
      }
      case "block-seq":
        return parent.items[parent.items.length - 1].start;
      default:
        return [];
    }
  }
  function getFirstKeyStartProps(prev) {
    if (prev.length === 0)
      return [];
    let i = prev.length;
    loop:
      while (--i >= 0) {
        switch (prev[i].type) {
          case "doc-start":
          case "explicit-key-ind":
          case "map-value-ind":
          case "seq-item-ind":
          case "newline":
            break loop;
        }
      }
    while (prev[++i]?.type === "space") {}
    return prev.splice(i, prev.length);
  }
  function fixFlowSeqItems(fc) {
    if (fc.start.type === "flow-seq-start") {
      for (const it of fc.items) {
        if (it.sep && !it.value && !includesToken(it.start, "explicit-key-ind") && !includesToken(it.sep, "map-value-ind")) {
          if (it.key)
            it.value = it.key;
          delete it.key;
          if (isFlowToken(it.value)) {
            if (it.value.end)
              Array.prototype.push.apply(it.value.end, it.sep);
            else
              it.value.end = it.sep;
          } else
            Array.prototype.push.apply(it.start, it.sep);
          delete it.sep;
        }
      }
    }
  }

  class Parser {
    constructor(onNewLine) {
      this.atNewLine = true;
      this.atScalar = false;
      this.indent = 0;
      this.offset = 0;
      this.onKeyLine = false;
      this.stack = [];
      this.source = "";
      this.type = "";
      this.lexer = new lexer.Lexer;
      this.onNewLine = onNewLine;
    }
    *parse(source, incomplete = false) {
      if (this.onNewLine && this.offset === 0)
        this.onNewLine(0);
      for (const lexeme of this.lexer.lex(source, incomplete))
        yield* this.next(lexeme);
      if (!incomplete)
        yield* this.end();
    }
    *next(source) {
      this.source = source;
      if (node_process.env.LOG_TOKENS)
        console.log("|", cst.prettyToken(source));
      if (this.atScalar) {
        this.atScalar = false;
        yield* this.step();
        this.offset += source.length;
        return;
      }
      const type = cst.tokenType(source);
      if (!type) {
        const message = `Not a YAML token: ${source}`;
        yield* this.pop({ type: "error", offset: this.offset, message, source });
        this.offset += source.length;
      } else if (type === "scalar") {
        this.atNewLine = false;
        this.atScalar = true;
        this.type = "scalar";
      } else {
        this.type = type;
        yield* this.step();
        switch (type) {
          case "newline":
            this.atNewLine = true;
            this.indent = 0;
            if (this.onNewLine)
              this.onNewLine(this.offset + source.length);
            break;
          case "space":
            if (this.atNewLine && source[0] === " ")
              this.indent += source.length;
            break;
          case "explicit-key-ind":
          case "map-value-ind":
          case "seq-item-ind":
            if (this.atNewLine)
              this.indent += source.length;
            break;
          case "doc-mode":
          case "flow-error-end":
            return;
          default:
            this.atNewLine = false;
        }
        this.offset += source.length;
      }
    }
    *end() {
      while (this.stack.length > 0)
        yield* this.pop();
    }
    get sourceToken() {
      const st = {
        type: this.type,
        offset: this.offset,
        indent: this.indent,
        source: this.source
      };
      return st;
    }
    *step() {
      const top = this.peek(1);
      if (this.type === "doc-end" && top?.type !== "doc-end") {
        while (this.stack.length > 0)
          yield* this.pop();
        this.stack.push({
          type: "doc-end",
          offset: this.offset,
          source: this.source
        });
        return;
      }
      if (!top)
        return yield* this.stream();
      switch (top.type) {
        case "document":
          return yield* this.document(top);
        case "alias":
        case "scalar":
        case "single-quoted-scalar":
        case "double-quoted-scalar":
          return yield* this.scalar(top);
        case "block-scalar":
          return yield* this.blockScalar(top);
        case "block-map":
          return yield* this.blockMap(top);
        case "block-seq":
          return yield* this.blockSequence(top);
        case "flow-collection":
          return yield* this.flowCollection(top);
        case "doc-end":
          return yield* this.documentEnd(top);
      }
      yield* this.pop();
    }
    peek(n) {
      return this.stack[this.stack.length - n];
    }
    *pop(error) {
      const token = error ?? this.stack.pop();
      if (!token) {
        const message = "Tried to pop an empty stack";
        yield { type: "error", offset: this.offset, source: "", message };
      } else if (this.stack.length === 0) {
        yield token;
      } else {
        const top = this.peek(1);
        if (token.type === "block-scalar") {
          token.indent = "indent" in top ? top.indent : 0;
        } else if (token.type === "flow-collection" && top.type === "document") {
          token.indent = 0;
        }
        if (token.type === "flow-collection")
          fixFlowSeqItems(token);
        switch (top.type) {
          case "document":
            top.value = token;
            break;
          case "block-scalar":
            top.props.push(token);
            break;
          case "block-map": {
            const it = top.items[top.items.length - 1];
            if (it.value) {
              top.items.push({ start: [], key: token, sep: [] });
              this.onKeyLine = true;
              return;
            } else if (it.sep) {
              it.value = token;
            } else {
              Object.assign(it, { key: token, sep: [] });
              this.onKeyLine = !it.explicitKey;
              return;
            }
            break;
          }
          case "block-seq": {
            const it = top.items[top.items.length - 1];
            if (it.value)
              top.items.push({ start: [], value: token });
            else
              it.value = token;
            break;
          }
          case "flow-collection": {
            const it = top.items[top.items.length - 1];
            if (!it || it.value)
              top.items.push({ start: [], key: token, sep: [] });
            else if (it.sep)
              it.value = token;
            else
              Object.assign(it, { key: token, sep: [] });
            return;
          }
          default:
            yield* this.pop();
            yield* this.pop(token);
        }
        if ((top.type === "document" || top.type === "block-map" || top.type === "block-seq") && (token.type === "block-map" || token.type === "block-seq")) {
          const last = token.items[token.items.length - 1];
          if (last && !last.sep && !last.value && last.start.length > 0 && findNonEmptyIndex(last.start) === -1 && (token.indent === 0 || last.start.every((st) => st.type !== "comment" || st.indent < token.indent))) {
            if (top.type === "document")
              top.end = last.start;
            else
              top.items.push({ start: last.start });
            token.items.splice(-1, 1);
          }
        }
      }
    }
    *stream() {
      switch (this.type) {
        case "directive-line":
          yield { type: "directive", offset: this.offset, source: this.source };
          return;
        case "byte-order-mark":
        case "space":
        case "comment":
        case "newline":
          yield this.sourceToken;
          return;
        case "doc-mode":
        case "doc-start": {
          const doc = {
            type: "document",
            offset: this.offset,
            start: []
          };
          if (this.type === "doc-start")
            doc.start.push(this.sourceToken);
          this.stack.push(doc);
          return;
        }
      }
      yield {
        type: "error",
        offset: this.offset,
        message: `Unexpected ${this.type} token in YAML stream`,
        source: this.source
      };
    }
    *document(doc) {
      if (doc.value)
        return yield* this.lineEnd(doc);
      switch (this.type) {
        case "doc-start": {
          if (findNonEmptyIndex(doc.start) !== -1) {
            yield* this.pop();
            yield* this.step();
          } else
            doc.start.push(this.sourceToken);
          return;
        }
        case "anchor":
        case "tag":
        case "space":
        case "comment":
        case "newline":
          doc.start.push(this.sourceToken);
          return;
      }
      const bv = this.startBlockValue(doc);
      if (bv)
        this.stack.push(bv);
      else {
        yield {
          type: "error",
          offset: this.offset,
          message: `Unexpected ${this.type} token in YAML document`,
          source: this.source
        };
      }
    }
    *scalar(scalar) {
      if (this.type === "map-value-ind") {
        const prev = getPrevProps(this.peek(2));
        const start = getFirstKeyStartProps(prev);
        let sep;
        if (scalar.end) {
          sep = scalar.end;
          sep.push(this.sourceToken);
          delete scalar.end;
        } else
          sep = [this.sourceToken];
        const map = {
          type: "block-map",
          offset: scalar.offset,
          indent: scalar.indent,
          items: [{ start, key: scalar, sep }]
        };
        this.onKeyLine = true;
        this.stack[this.stack.length - 1] = map;
      } else
        yield* this.lineEnd(scalar);
    }
    *blockScalar(scalar) {
      switch (this.type) {
        case "space":
        case "comment":
        case "newline":
          scalar.props.push(this.sourceToken);
          return;
        case "scalar":
          scalar.source = this.source;
          this.atNewLine = true;
          this.indent = 0;
          if (this.onNewLine) {
            let nl = this.source.indexOf(`
`) + 1;
            while (nl !== 0) {
              this.onNewLine(this.offset + nl);
              nl = this.source.indexOf(`
`, nl) + 1;
            }
          }
          yield* this.pop();
          break;
        default:
          yield* this.pop();
          yield* this.step();
      }
    }
    *blockMap(map) {
      const it = map.items[map.items.length - 1];
      switch (this.type) {
        case "newline":
          this.onKeyLine = false;
          if (it.value) {
            const end = "end" in it.value ? it.value.end : undefined;
            const last = Array.isArray(end) ? end[end.length - 1] : undefined;
            if (last?.type === "comment")
              end?.push(this.sourceToken);
            else
              map.items.push({ start: [this.sourceToken] });
          } else if (it.sep) {
            it.sep.push(this.sourceToken);
          } else {
            it.start.push(this.sourceToken);
          }
          return;
        case "space":
        case "comment":
          if (it.value) {
            map.items.push({ start: [this.sourceToken] });
          } else if (it.sep) {
            it.sep.push(this.sourceToken);
          } else {
            if (this.atIndentedComment(it.start, map.indent)) {
              const prev = map.items[map.items.length - 2];
              const end = prev?.value?.end;
              if (Array.isArray(end)) {
                Array.prototype.push.apply(end, it.start);
                end.push(this.sourceToken);
                map.items.pop();
                return;
              }
            }
            it.start.push(this.sourceToken);
          }
          return;
      }
      if (this.indent >= map.indent) {
        const atMapIndent = !this.onKeyLine && this.indent === map.indent;
        const atNextItem = atMapIndent && (it.sep || it.explicitKey) && this.type !== "seq-item-ind";
        let start = [];
        if (atNextItem && it.sep && !it.value) {
          const nl = [];
          for (let i = 0;i < it.sep.length; ++i) {
            const st = it.sep[i];
            switch (st.type) {
              case "newline":
                nl.push(i);
                break;
              case "space":
                break;
              case "comment":
                if (st.indent > map.indent)
                  nl.length = 0;
                break;
              default:
                nl.length = 0;
            }
          }
          if (nl.length >= 2)
            start = it.sep.splice(nl[1]);
        }
        switch (this.type) {
          case "anchor":
          case "tag":
            if (atNextItem || it.value) {
              start.push(this.sourceToken);
              map.items.push({ start });
              this.onKeyLine = true;
            } else if (it.sep) {
              it.sep.push(this.sourceToken);
            } else {
              it.start.push(this.sourceToken);
            }
            return;
          case "explicit-key-ind":
            if (!it.sep && !it.explicitKey) {
              it.start.push(this.sourceToken);
              it.explicitKey = true;
            } else if (atNextItem || it.value) {
              start.push(this.sourceToken);
              map.items.push({ start, explicitKey: true });
            } else {
              this.stack.push({
                type: "block-map",
                offset: this.offset,
                indent: this.indent,
                items: [{ start: [this.sourceToken], explicitKey: true }]
              });
            }
            this.onKeyLine = true;
            return;
          case "map-value-ind":
            if (it.explicitKey) {
              if (!it.sep) {
                if (includesToken(it.start, "newline")) {
                  Object.assign(it, { key: null, sep: [this.sourceToken] });
                } else {
                  const start2 = getFirstKeyStartProps(it.start);
                  this.stack.push({
                    type: "block-map",
                    offset: this.offset,
                    indent: this.indent,
                    items: [{ start: start2, key: null, sep: [this.sourceToken] }]
                  });
                }
              } else if (it.value) {
                map.items.push({ start: [], key: null, sep: [this.sourceToken] });
              } else if (includesToken(it.sep, "map-value-ind")) {
                this.stack.push({
                  type: "block-map",
                  offset: this.offset,
                  indent: this.indent,
                  items: [{ start, key: null, sep: [this.sourceToken] }]
                });
              } else if (isFlowToken(it.key) && !includesToken(it.sep, "newline")) {
                const start2 = getFirstKeyStartProps(it.start);
                const key = it.key;
                const sep = it.sep;
                sep.push(this.sourceToken);
                delete it.key;
                delete it.sep;
                this.stack.push({
                  type: "block-map",
                  offset: this.offset,
                  indent: this.indent,
                  items: [{ start: start2, key, sep }]
                });
              } else if (start.length > 0) {
                it.sep = it.sep.concat(start, this.sourceToken);
              } else {
                it.sep.push(this.sourceToken);
              }
            } else {
              if (!it.sep) {
                Object.assign(it, { key: null, sep: [this.sourceToken] });
              } else if (it.value || atNextItem) {
                map.items.push({ start, key: null, sep: [this.sourceToken] });
              } else if (includesToken(it.sep, "map-value-ind")) {
                this.stack.push({
                  type: "block-map",
                  offset: this.offset,
                  indent: this.indent,
                  items: [{ start: [], key: null, sep: [this.sourceToken] }]
                });
              } else {
                it.sep.push(this.sourceToken);
              }
            }
            this.onKeyLine = true;
            return;
          case "alias":
          case "scalar":
          case "single-quoted-scalar":
          case "double-quoted-scalar": {
            const fs = this.flowScalar(this.type);
            if (atNextItem || it.value) {
              map.items.push({ start, key: fs, sep: [] });
              this.onKeyLine = true;
            } else if (it.sep) {
              this.stack.push(fs);
            } else {
              Object.assign(it, { key: fs, sep: [] });
              this.onKeyLine = true;
            }
            return;
          }
          default: {
            const bv = this.startBlockValue(map);
            if (bv) {
              if (bv.type === "block-seq") {
                if (!it.explicitKey && it.sep && !includesToken(it.sep, "newline")) {
                  yield* this.pop({
                    type: "error",
                    offset: this.offset,
                    message: "Unexpected block-seq-ind on same line with key",
                    source: this.source
                  });
                  return;
                }
              } else if (atMapIndent) {
                map.items.push({ start });
              }
              this.stack.push(bv);
              return;
            }
          }
        }
      }
      yield* this.pop();
      yield* this.step();
    }
    *blockSequence(seq) {
      const it = seq.items[seq.items.length - 1];
      switch (this.type) {
        case "newline":
          if (it.value) {
            const end = "end" in it.value ? it.value.end : undefined;
            const last = Array.isArray(end) ? end[end.length - 1] : undefined;
            if (last?.type === "comment")
              end?.push(this.sourceToken);
            else
              seq.items.push({ start: [this.sourceToken] });
          } else
            it.start.push(this.sourceToken);
          return;
        case "space":
        case "comment":
          if (it.value)
            seq.items.push({ start: [this.sourceToken] });
          else {
            if (this.atIndentedComment(it.start, seq.indent)) {
              const prev = seq.items[seq.items.length - 2];
              const end = prev?.value?.end;
              if (Array.isArray(end)) {
                Array.prototype.push.apply(end, it.start);
                end.push(this.sourceToken);
                seq.items.pop();
                return;
              }
            }
            it.start.push(this.sourceToken);
          }
          return;
        case "anchor":
        case "tag":
          if (it.value || this.indent <= seq.indent)
            break;
          it.start.push(this.sourceToken);
          return;
        case "seq-item-ind":
          if (this.indent !== seq.indent)
            break;
          if (it.value || includesToken(it.start, "seq-item-ind"))
            seq.items.push({ start: [this.sourceToken] });
          else
            it.start.push(this.sourceToken);
          return;
      }
      if (this.indent > seq.indent) {
        const bv = this.startBlockValue(seq);
        if (bv) {
          this.stack.push(bv);
          return;
        }
      }
      yield* this.pop();
      yield* this.step();
    }
    *flowCollection(fc) {
      const it = fc.items[fc.items.length - 1];
      if (this.type === "flow-error-end") {
        let top;
        do {
          yield* this.pop();
          top = this.peek(1);
        } while (top?.type === "flow-collection");
      } else if (fc.end.length === 0) {
        switch (this.type) {
          case "comma":
          case "explicit-key-ind":
            if (!it || it.sep)
              fc.items.push({ start: [this.sourceToken] });
            else
              it.start.push(this.sourceToken);
            return;
          case "map-value-ind":
            if (!it || it.value)
              fc.items.push({ start: [], key: null, sep: [this.sourceToken] });
            else if (it.sep)
              it.sep.push(this.sourceToken);
            else
              Object.assign(it, { key: null, sep: [this.sourceToken] });
            return;
          case "space":
          case "comment":
          case "newline":
          case "anchor":
          case "tag":
            if (!it || it.value)
              fc.items.push({ start: [this.sourceToken] });
            else if (it.sep)
              it.sep.push(this.sourceToken);
            else
              it.start.push(this.sourceToken);
            return;
          case "alias":
          case "scalar":
          case "single-quoted-scalar":
          case "double-quoted-scalar": {
            const fs = this.flowScalar(this.type);
            if (!it || it.value)
              fc.items.push({ start: [], key: fs, sep: [] });
            else if (it.sep)
              this.stack.push(fs);
            else
              Object.assign(it, { key: fs, sep: [] });
            return;
          }
          case "flow-map-end":
          case "flow-seq-end":
            fc.end.push(this.sourceToken);
            return;
        }
        const bv = this.startBlockValue(fc);
        if (bv)
          this.stack.push(bv);
        else {
          yield* this.pop();
          yield* this.step();
        }
      } else {
        const parent = this.peek(2);
        if (parent.type === "block-map" && (this.type === "map-value-ind" && parent.indent === fc.indent || this.type === "newline" && !parent.items[parent.items.length - 1].sep)) {
          yield* this.pop();
          yield* this.step();
        } else if (this.type === "map-value-ind" && parent.type !== "flow-collection") {
          const prev = getPrevProps(parent);
          const start = getFirstKeyStartProps(prev);
          fixFlowSeqItems(fc);
          const sep = fc.end.splice(1, fc.end.length);
          sep.push(this.sourceToken);
          const map = {
            type: "block-map",
            offset: fc.offset,
            indent: fc.indent,
            items: [{ start, key: fc, sep }]
          };
          this.onKeyLine = true;
          this.stack[this.stack.length - 1] = map;
        } else {
          yield* this.lineEnd(fc);
        }
      }
    }
    flowScalar(type) {
      if (this.onNewLine) {
        let nl = this.source.indexOf(`
`) + 1;
        while (nl !== 0) {
          this.onNewLine(this.offset + nl);
          nl = this.source.indexOf(`
`, nl) + 1;
        }
      }
      return {
        type,
        offset: this.offset,
        indent: this.indent,
        source: this.source
      };
    }
    startBlockValue(parent) {
      switch (this.type) {
        case "alias":
        case "scalar":
        case "single-quoted-scalar":
        case "double-quoted-scalar":
          return this.flowScalar(this.type);
        case "block-scalar-header":
          return {
            type: "block-scalar",
            offset: this.offset,
            indent: this.indent,
            props: [this.sourceToken],
            source: ""
          };
        case "flow-map-start":
        case "flow-seq-start":
          return {
            type: "flow-collection",
            offset: this.offset,
            indent: this.indent,
            start: this.sourceToken,
            items: [],
            end: []
          };
        case "seq-item-ind":
          return {
            type: "block-seq",
            offset: this.offset,
            indent: this.indent,
            items: [{ start: [this.sourceToken] }]
          };
        case "explicit-key-ind": {
          this.onKeyLine = true;
          const prev = getPrevProps(parent);
          const start = getFirstKeyStartProps(prev);
          start.push(this.sourceToken);
          return {
            type: "block-map",
            offset: this.offset,
            indent: this.indent,
            items: [{ start, explicitKey: true }]
          };
        }
        case "map-value-ind": {
          this.onKeyLine = true;
          const prev = getPrevProps(parent);
          const start = getFirstKeyStartProps(prev);
          return {
            type: "block-map",
            offset: this.offset,
            indent: this.indent,
            items: [{ start, key: null, sep: [this.sourceToken] }]
          };
        }
      }
      return null;
    }
    atIndentedComment(start, indent) {
      if (this.type !== "comment")
        return false;
      if (this.indent <= indent)
        return false;
      return start.every((st) => st.type === "newline" || st.type === "space");
    }
    *documentEnd(docEnd) {
      if (this.type !== "doc-mode") {
        if (docEnd.end)
          docEnd.end.push(this.sourceToken);
        else
          docEnd.end = [this.sourceToken];
        if (this.type === "newline")
          yield* this.pop();
      }
    }
    *lineEnd(token) {
      switch (this.type) {
        case "comma":
        case "doc-start":
        case "doc-end":
        case "flow-seq-end":
        case "flow-map-end":
        case "map-value-ind":
          yield* this.pop();
          yield* this.step();
          break;
        case "newline":
          this.onKeyLine = false;
        case "space":
        case "comment":
        default:
          if (token.end)
            token.end.push(this.sourceToken);
          else
            token.end = [this.sourceToken];
          if (this.type === "newline")
            yield* this.pop();
      }
    }
  }
  exports.Parser = Parser;
});

// ../../node_modules/yaml/dist/public-api.js
var require_public_api = __commonJS((exports) => {
  var composer = require_composer();
  var Document = require_Document();
  var errors = require_errors();
  var log = require_log();
  var identity = require_identity();
  var lineCounter = require_line_counter();
  var parser = require_parser();
  function parseOptions(options) {
    const prettyErrors = options.prettyErrors !== false;
    const lineCounter$1 = options.lineCounter || prettyErrors && new lineCounter.LineCounter || null;
    return { lineCounter: lineCounter$1, prettyErrors };
  }
  function parseAllDocuments(source, options = {}) {
    const { lineCounter: lineCounter2, prettyErrors } = parseOptions(options);
    const parser$1 = new parser.Parser(lineCounter2?.addNewLine);
    const composer$1 = new composer.Composer(options);
    const docs = Array.from(composer$1.compose(parser$1.parse(source)));
    if (prettyErrors && lineCounter2)
      for (const doc of docs) {
        doc.errors.forEach(errors.prettifyError(source, lineCounter2));
        doc.warnings.forEach(errors.prettifyError(source, lineCounter2));
      }
    if (docs.length > 0)
      return docs;
    return Object.assign([], { empty: true }, composer$1.streamInfo());
  }
  function parseDocument(source, options = {}) {
    const { lineCounter: lineCounter2, prettyErrors } = parseOptions(options);
    const parser$1 = new parser.Parser(lineCounter2?.addNewLine);
    const composer$1 = new composer.Composer(options);
    let doc = null;
    for (const _doc of composer$1.compose(parser$1.parse(source), true, source.length)) {
      if (!doc)
        doc = _doc;
      else if (doc.options.logLevel !== "silent") {
        doc.errors.push(new errors.YAMLParseError(_doc.range.slice(0, 2), "MULTIPLE_DOCS", "Source contains multiple documents; please use YAML.parseAllDocuments()"));
        break;
      }
    }
    if (prettyErrors && lineCounter2) {
      doc.errors.forEach(errors.prettifyError(source, lineCounter2));
      doc.warnings.forEach(errors.prettifyError(source, lineCounter2));
    }
    return doc;
  }
  function parse(src, reviver, options) {
    let _reviver = undefined;
    if (typeof reviver === "function") {
      _reviver = reviver;
    } else if (options === undefined && reviver && typeof reviver === "object") {
      options = reviver;
    }
    const doc = parseDocument(src, options);
    if (!doc)
      return null;
    doc.warnings.forEach((warning) => log.warn(doc.options.logLevel, warning));
    if (doc.errors.length > 0) {
      if (doc.options.logLevel !== "silent")
        throw doc.errors[0];
      else
        doc.errors = [];
    }
    return doc.toJS(Object.assign({ reviver: _reviver }, options));
  }
  function stringify(value, replacer, options) {
    let _replacer = null;
    if (typeof replacer === "function" || Array.isArray(replacer)) {
      _replacer = replacer;
    } else if (options === undefined && replacer) {
      options = replacer;
    }
    if (typeof options === "string")
      options = options.length;
    if (typeof options === "number") {
      const indent = Math.round(options);
      options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };
    }
    if (value === undefined) {
      const { keepUndefined } = options ?? replacer ?? {};
      if (!keepUndefined)
        return;
    }
    if (identity.isDocument(value) && !_replacer)
      return value.toString(options);
    return new Document.Document(value, _replacer, options).toString(options);
  }
  exports.parse = parse;
  exports.parseAllDocuments = parseAllDocuments;
  exports.parseDocument = parseDocument;
  exports.stringify = stringify;
});

// ../../node_modules/yaml/dist/index.js
var require_dist = __commonJS((exports) => {
  var composer = require_composer();
  var Document = require_Document();
  var Schema = require_Schema();
  var errors = require_errors();
  var Alias = require_Alias();
  var identity = require_identity();
  var Pair = require_Pair();
  var Scalar = require_Scalar();
  var YAMLMap = require_YAMLMap();
  var YAMLSeq = require_YAMLSeq();
  var cst = require_cst();
  var lexer = require_lexer();
  var lineCounter = require_line_counter();
  var parser = require_parser();
  var publicApi = require_public_api();
  var visit = require_visit();
  exports.Composer = composer.Composer;
  exports.Document = Document.Document;
  exports.Schema = Schema.Schema;
  exports.YAMLError = errors.YAMLError;
  exports.YAMLParseError = errors.YAMLParseError;
  exports.YAMLWarning = errors.YAMLWarning;
  exports.Alias = Alias.Alias;
  exports.isAlias = identity.isAlias;
  exports.isCollection = identity.isCollection;
  exports.isDocument = identity.isDocument;
  exports.isMap = identity.isMap;
  exports.isNode = identity.isNode;
  exports.isPair = identity.isPair;
  exports.isScalar = identity.isScalar;
  exports.isSeq = identity.isSeq;
  exports.Pair = Pair.Pair;
  exports.Scalar = Scalar.Scalar;
  exports.YAMLMap = YAMLMap.YAMLMap;
  exports.YAMLSeq = YAMLSeq.YAMLSeq;
  exports.CST = cst;
  exports.Lexer = lexer.Lexer;
  exports.LineCounter = lineCounter.LineCounter;
  exports.Parser = parser.Parser;
  exports.parse = publicApi.parse;
  exports.parseAllDocuments = publicApi.parseAllDocuments;
  exports.parseDocument = publicApi.parseDocument;
  exports.stringify = publicApi.stringify;
  exports.visit = visit.visit;
  exports.visitAsync = visit.visitAsync;
});

// src/config/schema.ts
var DEFAULT_CONFIG;
var init_schema = __esm(() => {
  DEFAULT_CONFIG = {
    version: 1,
    runner: {
      backend: "opencode",
      review: "opencode",
      artifactsDir: ".ai-eng/runs",
      maxIters: 3,
      printLogs: false,
      logLevel: "INFO"
    },
    loop: {
      maxCycles: 50,
      cycleRetries: 2,
      checkpointFrequency: 1,
      stuckThreshold: 5
    },
    debug: {
      work: false
    },
    opencode: {
      model: "claude-3-5-sonnet-latest",
      temperature: 0.2,
      serverUrl: undefined,
      directory: undefined,
      promptTimeoutMs: 120000
    },
    anthropic: {
      enabled: false,
      model: "claude-3-5-sonnet-latest"
    },
    gates: {
      lint: { command: "bun run lint" },
      typecheck: { command: "bun run typecheck" },
      test: { command: "bun test" },
      build: { command: "bun run build" },
      acceptance: { command: "git diff --name-only" }
    },
    models: {
      research: "github-copilot/gpt-5.2",
      planning: "github-copilot/gpt-5.2",
      exploration: "github-copilot/gpt-5.2",
      coding: "github-copilot/gpt-5.2",
      default: "github-copilot/gpt-5.2"
    },
    notifications: {
      discord: {
        enabled: false,
        username: "Ralph",
        avatarUrl: undefined,
        webhook: {
          source: "env",
          envVar: "DISCORD_WEBHOOK_URL"
        }
      }
    },
    ui: {
      silent: false
    }
  };
});

// ../../node_modules/sisteransi/src/index.js
var require_src = __commonJS((exports, module) => {
  var ESC = "\x1B";
  var CSI = `${ESC}[`;
  var beep = "\x07";
  var cursor = {
    to(x, y) {
      if (!y)
        return `${CSI}${x + 1}G`;
      return `${CSI}${y + 1};${x + 1}H`;
    },
    move(x, y) {
      let ret = "";
      if (x < 0)
        ret += `${CSI}${-x}D`;
      else if (x > 0)
        ret += `${CSI}${x}C`;
      if (y < 0)
        ret += `${CSI}${-y}A`;
      else if (y > 0)
        ret += `${CSI}${y}B`;
      return ret;
    },
    up: (count = 1) => `${CSI}${count}A`,
    down: (count = 1) => `${CSI}${count}B`,
    forward: (count = 1) => `${CSI}${count}C`,
    backward: (count = 1) => `${CSI}${count}D`,
    nextLine: (count = 1) => `${CSI}E`.repeat(count),
    prevLine: (count = 1) => `${CSI}F`.repeat(count),
    left: `${CSI}G`,
    hide: `${CSI}?25l`,
    show: `${CSI}?25h`,
    save: `${ESC}7`,
    restore: `${ESC}8`
  };
  var scroll = {
    up: (count = 1) => `${CSI}S`.repeat(count),
    down: (count = 1) => `${CSI}T`.repeat(count)
  };
  var erase = {
    screen: `${CSI}2J`,
    up: (count = 1) => `${CSI}1J`.repeat(count),
    down: (count = 1) => `${CSI}J`.repeat(count),
    line: `${CSI}2K`,
    lineEnd: `${CSI}K`,
    lineStart: `${CSI}1K`,
    lines(count) {
      let clear = "";
      for (let i = 0;i < count; i++)
        clear += this.line + (i < count - 1 ? cursor.up() : "");
      if (count)
        clear += cursor.left;
      return clear;
    }
  };
  module.exports = { cursor, scroll, erase, beep };
});

// ../../node_modules/picocolors/picocolors.js
var require_picocolors = __commonJS((exports, module) => {
  var p = process || {};
  var argv = p.argv || [];
  var env = p.env || {};
  var isColorSupported = !(!!env.NO_COLOR || argv.includes("--no-color")) && (!!env.FORCE_COLOR || argv.includes("--color") || p.platform === "win32" || (p.stdout || {}).isTTY && env.TERM !== "dumb" || !!env.CI);
  var formatter = (open, close, replace = open) => (input) => {
    let string = "" + input, index = string.indexOf(close, open.length);
    return ~index ? open + replaceClose(string, close, replace, index) + close : open + string + close;
  };
  var replaceClose = (string, close, replace, index) => {
    let result = "", cursor = 0;
    do {
      result += string.substring(cursor, index) + replace;
      cursor = index + close.length;
      index = string.indexOf(close, cursor);
    } while (~index);
    return result + string.substring(cursor);
  };
  var createColors = (enabled = isColorSupported) => {
    let f = enabled ? formatter : () => String;
    return {
      isColorSupported: enabled,
      reset: f("\x1B[0m", "\x1B[0m"),
      bold: f("\x1B[1m", "\x1B[22m", "\x1B[22m\x1B[1m"),
      dim: f("\x1B[2m", "\x1B[22m", "\x1B[22m\x1B[2m"),
      italic: f("\x1B[3m", "\x1B[23m"),
      underline: f("\x1B[4m", "\x1B[24m"),
      inverse: f("\x1B[7m", "\x1B[27m"),
      hidden: f("\x1B[8m", "\x1B[28m"),
      strikethrough: f("\x1B[9m", "\x1B[29m"),
      black: f("\x1B[30m", "\x1B[39m"),
      red: f("\x1B[31m", "\x1B[39m"),
      green: f("\x1B[32m", "\x1B[39m"),
      yellow: f("\x1B[33m", "\x1B[39m"),
      blue: f("\x1B[34m", "\x1B[39m"),
      magenta: f("\x1B[35m", "\x1B[39m"),
      cyan: f("\x1B[36m", "\x1B[39m"),
      white: f("\x1B[37m", "\x1B[39m"),
      gray: f("\x1B[90m", "\x1B[39m"),
      bgBlack: f("\x1B[40m", "\x1B[49m"),
      bgRed: f("\x1B[41m", "\x1B[49m"),
      bgGreen: f("\x1B[42m", "\x1B[49m"),
      bgYellow: f("\x1B[43m", "\x1B[49m"),
      bgBlue: f("\x1B[44m", "\x1B[49m"),
      bgMagenta: f("\x1B[45m", "\x1B[49m"),
      bgCyan: f("\x1B[46m", "\x1B[49m"),
      bgWhite: f("\x1B[47m", "\x1B[49m"),
      blackBright: f("\x1B[90m", "\x1B[39m"),
      redBright: f("\x1B[91m", "\x1B[39m"),
      greenBright: f("\x1B[92m", "\x1B[39m"),
      yellowBright: f("\x1B[93m", "\x1B[39m"),
      blueBright: f("\x1B[94m", "\x1B[39m"),
      magentaBright: f("\x1B[95m", "\x1B[39m"),
      cyanBright: f("\x1B[96m", "\x1B[39m"),
      whiteBright: f("\x1B[97m", "\x1B[39m"),
      bgBlackBright: f("\x1B[100m", "\x1B[49m"),
      bgRedBright: f("\x1B[101m", "\x1B[49m"),
      bgGreenBright: f("\x1B[102m", "\x1B[49m"),
      bgYellowBright: f("\x1B[103m", "\x1B[49m"),
      bgBlueBright: f("\x1B[104m", "\x1B[49m"),
      bgMagentaBright: f("\x1B[105m", "\x1B[49m"),
      bgCyanBright: f("\x1B[106m", "\x1B[49m"),
      bgWhiteBright: f("\x1B[107m", "\x1B[49m")
    };
  };
  module.exports = createColors();
  module.exports.createColors = createColors;
});

// src/cli/ui.ts
import { EOL } from "node:os";
var UI;
var init_ui = __esm(() => {
  ((UI) => {
    UI.Style = {
      TEXT_HIGHLIGHT: "\x1B[96m",
      TEXT_HIGHLIGHT_BOLD: "\x1B[96m\x1B[1m",
      TEXT_DIM: "\x1B[90m",
      TEXT_DIM_BOLD: "\x1B[90m\x1B[1m",
      TEXT_NORMAL: "\x1B[0m",
      TEXT_NORMAL_BOLD: "\x1B[1m",
      TEXT_WARNING: "\x1B[93m",
      TEXT_WARNING_BOLD: "\x1B[93m\x1B[1m",
      TEXT_DANGER: "\x1B[91m",
      TEXT_DANGER_BOLD: "\x1B[91m\x1B[1m",
      TEXT_SUCCESS: "\x1B[92m",
      TEXT_SUCCESS_BOLD: "\x1B[92m\x1B[1m",
      TEXT_INFO: "\x1B[94m",
      TEXT_INFO_BOLD: "\x1B[94m\x1B[1m"
    };
    function println(...message) {
      process.stderr.write(message.join(" ") + EOL);
    }
    UI.println = println;
    function print(...message) {
      process.stderr.write(message.join(" "));
    }
    UI.print = print;
    function error(message) {
      println(`${UI.Style.TEXT_DANGER_BOLD}Error: ${UI.Style.TEXT_NORMAL}${message}`);
    }
    UI.error = error;
    function success(message) {
      println(`${UI.Style.TEXT_SUCCESS_BOLD} ${UI.Style.TEXT_NORMAL}${message}`);
    }
    UI.success = success;
    function info(message) {
      println(`${UI.Style.TEXT_INFO_BOLD} ${UI.Style.TEXT_NORMAL}${message}`);
    }
    UI.info = info;
    function warn(message) {
      println(`${UI.Style.TEXT_WARNING_BOLD}! ${UI.Style.TEXT_NORMAL}${message}`);
    }
    UI.warn = warn;
    function header(title) {
      println();
      println(UI.Style.TEXT_HIGHLIGHT_BOLD + title + UI.Style.TEXT_NORMAL);
      println(UI.Style.TEXT_DIM + "".repeat(50) + UI.Style.TEXT_NORMAL);
    }
    UI.header = header;
  })(UI ||= {});
});

// src/install/init.ts
var exports_init = {};
__export(exports_init, {
  initConfig: () => initConfig
});
import { existsSync as existsSync2 } from "node:fs";
import { mkdir, writeFile } from "node:fs/promises";
import { join as join4 } from "node:path";
async function initConfig(flags) {
  const configDir = join4(process.cwd(), ".ai-eng");
  const configPath = join4(configDir, "config.yaml");
  if (existsSync2(configPath) && !flags.overwrite) {
    UI.error("Configuration file already exists:");
    console.error(`  ${configPath}`);
    console.error("Use --overwrite to replace it, or edit the existing file.");
    process.exit(1);
  }
  if (flags.interactive) {
    console.log("  Interactive mode requires additional dependencies.");
    console.log("  npm install @clack/prompts");
    console.log(`For now, creating config with defaults...
`);
  }
  try {
    await mkdir(configDir, { recursive: true });
    const yamlContent = import_yaml2.default.stringify(DEFAULT_CONFIG, {
      indent: 2,
      lineWidth: 0
    });
    await writeFile(configPath, yamlContent, "utf-8");
    console.log(" Initialized .ai-eng/config.yaml with defaults");
    console.log(`
\uD83D\uDCCB Next steps:`);
    console.log("  1. Edit .ai-eng/config.yaml to customize settings");
    console.log("  2. Set up AI models and backends");
    console.log("  3. Configure quality gates for your project");
    console.log(`  4. Run 'ai-eng ralph "your task"' to start development`);
  } catch (error) {
    console.error(`Failed to write configuration file: ${configPath}`);
    if (error instanceof Error) {
      console.error(`Error: ${error.message}`);
    }
    process.exit(1);
  }
}
var import_yaml2;
var init_init = __esm(() => {
  init_ui();
  init_schema();
  import_yaml2 = __toESM(require_dist(), 1);
});

// src/install/install.ts
var exports_install = {};
__export(exports_install, {
  runInstaller: () => runInstaller
});
import fs2 from "node:fs";
import path2 from "node:path";
import {
  getDistOpenCodeContent
} from "@ai-eng-system/core";
async function cleanNamespacedDirectory(baseDir, subdir, namespace, silent = false) {
  const dir = path2.join(baseDir, subdir, namespace);
  if (fs2.existsSync(dir)) {
    fs2.rmSync(dir, { recursive: true, force: true });
    if (!silent) {
      console.log(`   Cleaned existing ${subdir}/${namespace}/`);
    }
  }
}
async function cleanAiEngSkills(targetOpenCodeDir, distOpenCodeDir, silent = false) {
  const targetSkillDir = path2.join(targetOpenCodeDir, "skill");
  const distSkillDir = path2.join(distOpenCodeDir, "skill");
  if (!fs2.existsSync(distSkillDir))
    return;
  const aiEngSkillNames = fs2.readdirSync(distSkillDir, { withFileTypes: true }).filter((entry) => entry.isDirectory()).map((entry) => entry.name);
  if (aiEngSkillNames.length === 0)
    return;
  let cleanedCount = 0;
  for (const skillName of aiEngSkillNames) {
    const skillPath = path2.join(targetSkillDir, skillName);
    if (fs2.existsSync(skillPath)) {
      fs2.rmSync(skillPath, { recursive: true, force: true });
      cleanedCount++;
    }
  }
  if (!silent && cleanedCount > 0) {
    console.log(`   Cleaned ${cleanedCount} existing ai-eng skills`);
  }
}
function isPluginReferenced(configPath) {
  try {
    const configContent = fs2.readFileSync(configPath, "utf-8");
    const config = JSON.parse(configContent);
    if (Array.isArray(config.plugin)) {
      return config.plugin.includes("ai-eng-system");
    }
    return false;
  } catch {
    return false;
  }
}
function findOpenCodeConfig(projectDir) {
  const homeDir = process.env.HOME || process.env.USERPROFILE || "";
  const projectConfig = path2.join(projectDir, ".opencode", "opencode.jsonc");
  if (fs2.existsSync(projectConfig)) {
    return { path: projectConfig, isGlobal: false };
  }
  const globalConfig = path2.join(homeDir, ".config", "opencode", "opencode.jsonc");
  if (fs2.existsSync(globalConfig)) {
    return { path: globalConfig, isGlobal: true };
  }
  return null;
}
function detectInstallationScope(projectDir) {
  const config = findOpenCodeConfig(projectDir);
  if (config)
    return config.isGlobal ? "global" : "project";
  if (fs2.existsSync(path2.join(projectDir, "package.json"))) {
    return "project";
  }
  return "global";
}
async function runInstaller(flags) {
  const projectDir = process.cwd();
  const homeDir = process.env.HOME || process.env.USERPROFILE || "";
  const openCodeContent = await getDistOpenCodeContent();
  let scope = flags.scope;
  if (!scope || scope === "auto") {
    const detected = detectInstallationScope(projectDir);
    if (!detected) {
      console.log(" Could not detect installation scope. Use --scope project|global");
      process.exit(1);
    }
    scope = detected;
  }
  const targetOpenCodeDir = scope === "global" ? path2.join(homeDir, ".config", "opencode") : path2.join(projectDir, ".opencode");
  if (flags.verbose) {
    console.log(`Installing to: ${targetOpenCodeDir}`);
    console.log(`Scope: ${scope}`);
  }
  if (scope === "project") {
    const opencodeDir = path2.join(projectDir, ".opencode");
    if (!fs2.existsSync(opencodeDir)) {
      console.log(" No .opencode/ directory found in project");
      console.log("   Run 'opencode init' first or use --scope global");
      process.exit(1);
    }
  }
  const config = findOpenCodeConfig(projectDir);
  if (config && !isPluginReferenced(config.path)) {
    console.log("  opencode.jsonc does not reference ai-eng-system plugin");
    console.log("   Add 'ai-eng-system' to the plugin array in opencode.jsonc");
  }
  if (flags.dryRun) {
    console.log("\uD83D\uDD0D dry-run: Would install the following files:");
    console.log(`   Commands -> ${targetOpenCodeDir}/command/${NAMESPACE_PREFIX}/`);
    console.log(`   Agents   -> ${targetOpenCodeDir}/agent/${NAMESPACE_PREFIX}/`);
    console.log(`   Skills   -> ${targetOpenCodeDir}/skill/`);
    return;
  }
  await installContentFromCore(openCodeContent, targetOpenCodeDir);
  console.log(`
 Installation complete!`);
  console.log("   Restart OpenCode or Claude Code to use new commands and agents.");
}
async function installContentFromCore(content, targetOpenCodeDir) {
  if (content.commands.length > 0) {
    const commandsDir = path2.join(targetOpenCodeDir, "command", NAMESPACE_PREFIX);
    await cleanNamespacedDirectory(targetOpenCodeDir, "command", NAMESPACE_PREFIX);
    fs2.mkdirSync(commandsDir, { recursive: true });
    for (const command of content.commands) {
      const targetPath = path2.join(commandsDir, command.path);
      const targetDir = path2.dirname(targetPath);
      fs2.mkdirSync(targetDir, { recursive: true });
      if (command.content) {
        fs2.writeFileSync(targetPath, command.content, "utf-8");
      }
    }
    console.log(`   Installed ${content.commands.length} commands to ${commandsDir}`);
  }
  if (content.agents.length > 0) {
    const agentsDir = path2.join(targetOpenCodeDir, "agent", NAMESPACE_PREFIX);
    await cleanNamespacedDirectory(targetOpenCodeDir, "agent", NAMESPACE_PREFIX);
    fs2.mkdirSync(agentsDir, { recursive: true });
    for (const agent of content.agents) {
      const targetPath = path2.join(agentsDir, agent.path);
      const targetDir = path2.dirname(targetPath);
      fs2.mkdirSync(targetDir, { recursive: true });
      if (agent.content) {
        fs2.writeFileSync(targetPath, agent.content, "utf-8");
      }
    }
    console.log(`   Installed ${content.agents.length} agents to ${agentsDir}`);
  }
  if (content.skills.length > 0) {
    const skillsDir = path2.join(targetOpenCodeDir, "skill");
    await cleanAiEngSkills(targetOpenCodeDir, "");
    fs2.mkdirSync(skillsDir, { recursive: true });
    for (const skill of content.skills) {
      const targetPath = path2.join(skillsDir, skill.path);
      const targetDir = path2.dirname(targetPath);
      fs2.mkdirSync(targetDir, { recursive: true });
      if (skill.content) {
        fs2.writeFileSync(targetPath, skill.content, "utf-8");
      }
    }
    console.log(`   Installed ${content.skills.length} skills to ${skillsDir}`);
  }
  if (content.tools.length > 0) {
    const toolsDir = path2.join(targetOpenCodeDir, "tool");
    fs2.mkdirSync(toolsDir, { recursive: true });
    for (const tool of content.tools) {
      const targetPath = path2.join(toolsDir, tool.path);
      const targetDir = path2.dirname(targetPath);
      fs2.mkdirSync(targetDir, { recursive: true });
      if (tool.content) {
        fs2.writeFileSync(targetPath, tool.content, "utf-8");
      }
    }
    console.log(`   Installed ${content.tools.length} tools to ${toolsDir}`);
  }
}
var NAMESPACE_PREFIX = "ai-eng";
var init_install = () => {};

// src/cli/run.ts
import { parseArgs } from "node:util";

// src/config/loadConfig.ts
init_schema();
var import_yaml = __toESM(require_dist(), 1);
import { readFile } from "node:fs/promises";
import { join } from "node:path";
var ROOT = process.env.TEST_ROOT ?? process.cwd();
function applyEnvOverrides(config) {
  if (process.env.OPENCODE_URL) {
    config.opencode.serverUrl = process.env.OPENCODE_URL;
  }
  if (process.env.OPENCODE_DIRECTORY) {
    config.opencode.directory = process.env.OPENCODE_DIRECTORY;
  }
  if (process.env.OPENCODE_PROMPT_TIMEOUT_MS) {
    const timeout = Number.parseInt(process.env.OPENCODE_PROMPT_TIMEOUT_MS, 10);
    if (Number.isNaN(timeout)) {
      config.opencode.promptTimeoutMs = timeout;
    }
  }
  if (process.env.DISCORD_BOT_USERNAME) {
    config.notifications.discord.username = process.env.DISCORD_BOT_USERNAME;
  }
  if (process.env.DISCORD_BOT_AVATAR_URL) {
    config.notifications.discord.avatarUrl = process.env.DISCORD_BOT_AVATAR_URL;
  }
  if (process.env.AI_ENG_SILENT) {
    config.ui.silent = process.env.AI_ENG_SILENT === "1" || process.env.AI_ENG_SILENT === "true";
  }
  if (process.env.AI_ENG_CYCLE_RETRIES) {
    const retries = Number.parseInt(process.env.AI_ENG_CYCLE_RETRIES, 10);
    if (!Number.isNaN(retries)) {
      config.loop.cycleRetries = retries;
    }
  }
  if (process.env.AI_ENG_DEBUG_WORK) {
    config.debug.work = process.env.AI_ENG_DEBUG_WORK === "1" || process.env.AI_ENG_DEBUG_WORK === "true";
  }
  if (process.env.AI_ENG_TEST_CMD) {
    config.gates.test.command = process.env.AI_ENG_TEST_CMD;
  }
  if (process.env.AI_ENG_LINT_CMD) {
    config.gates.lint.command = process.env.AI_ENG_LINT_CMD;
  }
  if (process.env.AI_ENG_ACCEPTANCE_CMD) {
    config.gates.acceptance.command = process.env.AI_ENG_ACCEPTANCE_CMD;
  }
  if (process.env.AI_ENG_TYPECHECK_CMD) {
    config.gates.typecheck.command = process.env.AI_ENG_TYPECHECK_CMD;
  }
  if (process.env.AI_ENG_BUILD_CMD) {
    config.gates.build.command = process.env.AI_ENG_BUILD_CMD;
  }
}
function mergeGateConfig(existing, incoming) {
  if (typeof incoming === "string") {
    return { command: incoming };
  }
  return {
    command: incoming.command ?? existing.command
  };
}
async function loadConfig(flags) {
  const config = {
    version: DEFAULT_CONFIG.version,
    runner: { ...DEFAULT_CONFIG.runner },
    loop: { ...DEFAULT_CONFIG.loop },
    debug: { ...DEFAULT_CONFIG.debug },
    opencode: { ...DEFAULT_CONFIG.opencode },
    anthropic: { ...DEFAULT_CONFIG.anthropic },
    gates: {
      lint: { ...DEFAULT_CONFIG.gates.lint },
      typecheck: { ...DEFAULT_CONFIG.gates.typecheck },
      test: { ...DEFAULT_CONFIG.gates.test },
      build: { ...DEFAULT_CONFIG.gates.build },
      acceptance: { ...DEFAULT_CONFIG.gates.acceptance }
    },
    models: { ...DEFAULT_CONFIG.models },
    notifications: {
      discord: { ...DEFAULT_CONFIG.notifications.discord }
    },
    ui: { ...DEFAULT_CONFIG.ui }
  };
  const configPath = join(ROOT, ".ai-eng", "config.yaml");
  try {
    const configContent = await readFile(configPath, "utf-8");
    const userConfig = import_yaml.default.parse(configContent);
    if (userConfig.version) {
      config.version = userConfig.version;
    }
    if (userConfig.runner) {
      config.runner = { ...config.runner, ...userConfig.runner };
    }
    if (userConfig.loop) {
      config.loop = { ...config.loop, ...userConfig.loop };
    }
    if (userConfig.debug) {
      config.debug = { ...config.debug, ...userConfig.debug };
    }
    if (userConfig.opencode) {
      config.opencode = { ...config.opencode, ...userConfig.opencode };
    }
    if (userConfig.anthropic) {
      config.anthropic = { ...config.anthropic, ...userConfig.anthropic };
    }
    if (userConfig.gates) {
      if (userConfig.gates.lint) {
        config.gates.lint = mergeGateConfig(config.gates.lint, userConfig.gates.lint);
      }
      if (userConfig.gates.typecheck) {
        config.gates.typecheck = mergeGateConfig(config.gates.typecheck, userConfig.gates.typecheck);
      }
      if (userConfig.gates.test) {
        config.gates.test = mergeGateConfig(config.gates.test, userConfig.gates.test);
      }
      if (userConfig.gates.build) {
        config.gates.build = mergeGateConfig(config.gates.build, userConfig.gates.build);
      }
      if (userConfig.gates.acceptance) {
        config.gates.acceptance = mergeGateConfig(config.gates.acceptance, userConfig.gates.acceptance);
      }
    }
    if (userConfig.models) {
      config.models = { ...config.models, ...userConfig.models };
    }
    if (userConfig.notifications) {
      if (userConfig.notifications.discord) {
        config.notifications.discord = {
          ...config.notifications.discord,
          ...userConfig.notifications.discord
        };
      }
    }
    if (userConfig.ui) {
      config.ui = { ...config.ui, ...userConfig.ui };
    }
  } catch (error) {
    if (!(error instanceof Error && error.message.includes("ENOENT"))) {
      console.warn(`Warning: Failed to load config from ${configPath}, using defaults`);
    }
  }
  applyEnvOverrides(config);
  if (flags.maxIters !== undefined) {
    config.runner.maxIters = flags.maxIters;
  }
  if (flags.review !== undefined) {
    config.runner.review = flags.review;
  }
  if (flags.maxCycles !== undefined) {
    config.loop.maxCycles = flags.maxCycles;
  }
  if (flags.stuckThreshold !== undefined) {
    config.loop.stuckThreshold = flags.stuckThreshold;
  }
  if (flags.checkpointFrequency !== undefined) {
    config.loop.checkpointFrequency = flags.checkpointFrequency;
  }
  if (flags.printLogs !== undefined) {
    config.runner.printLogs = flags.printLogs;
  }
  if (flags.logLevel !== undefined) {
    config.runner.logLevel = flags.logLevel;
  }
  if (flags.verbose) {
    config.runner.logLevel = "DEBUG";
  }
  if (flags.workingDir !== undefined) {
    config.opencode.directory = flags.workingDir;
  }
  if (flags.dryRun !== undefined) {}
  return config;
}

// src/util/log.ts
import fs from "node:fs/promises";
import path from "node:path";
var Log;
((Log) => {
  const levelPriority = {
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3
  };
  let currentLevel = "INFO";
  let logPath = "";
  let write = (msg) => process.stderr.write(msg);
  function shouldLog(level) {
    return levelPriority[level] >= levelPriority[currentLevel];
  }
  function file() {
    return logPath;
  }
  Log.file = file;
  async function init(options) {
    if (options.level)
      currentLevel = options.level;
    const stderrWriter = (msg) => {
      process.stderr.write(msg);
    };
    if (options.logDir) {
      const timestamp = new Date().toISOString().replace(/[:.]/g, "-").slice(0, -1);
      logPath = path.join(options.logDir, `ralph-${timestamp}.log`);
      await fs.mkdir(options.logDir, { recursive: true });
      const file2 = Bun.file(logPath);
      const fileWriter = file2.writer();
      write = (msg) => {
        if (options.print) {
          stderrWriter(msg);
        }
        fileWriter.write(msg);
        fileWriter.flush();
      };
    } else if (options.print) {
      write = stderrWriter;
    }
  }
  Log.init = init;
  function formatExtra(extra) {
    if (!extra)
      return "";
    const extraStr = Object.entries(extra).map(([k, v]) => `${k}=${typeof v === "object" ? JSON.stringify(v) : v}`).join(" ");
    return extraStr ? ` ${extraStr}` : "";
  }
  function create(tags) {
    const tagStr = tags ? Object.entries(tags).map(([k, v]) => `${k}=${v}`).join(" ") : "";
    const tagStrWithSpace = tagStr ? `${tagStr} ` : "";
    return {
      debug(message, extra) {
        if (shouldLog("DEBUG")) {
          write(`DEBUG ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      info(message, extra) {
        if (shouldLog("INFO")) {
          write(`INFO  ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      warn(message, extra) {
        if (shouldLog("WARN")) {
          write(`WARN  ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      },
      error(message, extra) {
        if (shouldLog("ERROR")) {
          write(`ERROR ${new Date().toISOString()} ${tagStr}${message}${formatExtra(extra)}
`);
        }
      }
    };
  }
  Log.create = create;
  Log.Default = create({ service: "ralph" });
})(Log ||= {});

// ../../node_modules/@clack/core/dist/index.mjs
var import_sisteransi = __toESM(require_src(), 1);
import { stdin as j, stdout as M } from "node:process";
import * as g from "node:readline";
import O from "node:readline";
import { Writable as X } from "node:stream";
function DD({ onlyFirst: e = false } = {}) {
  const t = ["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))", "(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");
  return new RegExp(t, e ? undefined : "g");
}
var uD = DD();
function P(e) {
  if (typeof e != "string")
    throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);
  return e.replace(uD, "");
}
function L(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var W = { exports: {} };
(function(e) {
  var u = {};
  e.exports = u, u.eastAsianWidth = function(F) {
    var s = F.charCodeAt(0), i = F.length == 2 ? F.charCodeAt(1) : 0, D = s;
    return 55296 <= s && s <= 56319 && 56320 <= i && i <= 57343 && (s &= 1023, i &= 1023, D = s << 10 | i, D += 65536), D == 12288 || 65281 <= D && D <= 65376 || 65504 <= D && D <= 65510 ? "F" : D == 8361 || 65377 <= D && D <= 65470 || 65474 <= D && D <= 65479 || 65482 <= D && D <= 65487 || 65490 <= D && D <= 65495 || 65498 <= D && D <= 65500 || 65512 <= D && D <= 65518 ? "H" : 4352 <= D && D <= 4447 || 4515 <= D && D <= 4519 || 4602 <= D && D <= 4607 || 9001 <= D && D <= 9002 || 11904 <= D && D <= 11929 || 11931 <= D && D <= 12019 || 12032 <= D && D <= 12245 || 12272 <= D && D <= 12283 || 12289 <= D && D <= 12350 || 12353 <= D && D <= 12438 || 12441 <= D && D <= 12543 || 12549 <= D && D <= 12589 || 12593 <= D && D <= 12686 || 12688 <= D && D <= 12730 || 12736 <= D && D <= 12771 || 12784 <= D && D <= 12830 || 12832 <= D && D <= 12871 || 12880 <= D && D <= 13054 || 13056 <= D && D <= 19903 || 19968 <= D && D <= 42124 || 42128 <= D && D <= 42182 || 43360 <= D && D <= 43388 || 44032 <= D && D <= 55203 || 55216 <= D && D <= 55238 || 55243 <= D && D <= 55291 || 63744 <= D && D <= 64255 || 65040 <= D && D <= 65049 || 65072 <= D && D <= 65106 || 65108 <= D && D <= 65126 || 65128 <= D && D <= 65131 || 110592 <= D && D <= 110593 || 127488 <= D && D <= 127490 || 127504 <= D && D <= 127546 || 127552 <= D && D <= 127560 || 127568 <= D && D <= 127569 || 131072 <= D && D <= 194367 || 177984 <= D && D <= 196605 || 196608 <= D && D <= 262141 ? "W" : 32 <= D && D <= 126 || 162 <= D && D <= 163 || 165 <= D && D <= 166 || D == 172 || D == 175 || 10214 <= D && D <= 10221 || 10629 <= D && D <= 10630 ? "Na" : D == 161 || D == 164 || 167 <= D && D <= 168 || D == 170 || 173 <= D && D <= 174 || 176 <= D && D <= 180 || 182 <= D && D <= 186 || 188 <= D && D <= 191 || D == 198 || D == 208 || 215 <= D && D <= 216 || 222 <= D && D <= 225 || D == 230 || 232 <= D && D <= 234 || 236 <= D && D <= 237 || D == 240 || 242 <= D && D <= 243 || 247 <= D && D <= 250 || D == 252 || D == 254 || D == 257 || D == 273 || D == 275 || D == 283 || 294 <= D && D <= 295 || D == 299 || 305 <= D && D <= 307 || D == 312 || 319 <= D && D <= 322 || D == 324 || 328 <= D && D <= 331 || D == 333 || 338 <= D && D <= 339 || 358 <= D && D <= 359 || D == 363 || D == 462 || D == 464 || D == 466 || D == 468 || D == 470 || D == 472 || D == 474 || D == 476 || D == 593 || D == 609 || D == 708 || D == 711 || 713 <= D && D <= 715 || D == 717 || D == 720 || 728 <= D && D <= 731 || D == 733 || D == 735 || 768 <= D && D <= 879 || 913 <= D && D <= 929 || 931 <= D && D <= 937 || 945 <= D && D <= 961 || 963 <= D && D <= 969 || D == 1025 || 1040 <= D && D <= 1103 || D == 1105 || D == 8208 || 8211 <= D && D <= 8214 || 8216 <= D && D <= 8217 || 8220 <= D && D <= 8221 || 8224 <= D && D <= 8226 || 8228 <= D && D <= 8231 || D == 8240 || 8242 <= D && D <= 8243 || D == 8245 || D == 8251 || D == 8254 || D == 8308 || D == 8319 || 8321 <= D && D <= 8324 || D == 8364 || D == 8451 || D == 8453 || D == 8457 || D == 8467 || D == 8470 || 8481 <= D && D <= 8482 || D == 8486 || D == 8491 || 8531 <= D && D <= 8532 || 8539 <= D && D <= 8542 || 8544 <= D && D <= 8555 || 8560 <= D && D <= 8569 || D == 8585 || 8592 <= D && D <= 8601 || 8632 <= D && D <= 8633 || D == 8658 || D == 8660 || D == 8679 || D == 8704 || 8706 <= D && D <= 8707 || 8711 <= D && D <= 8712 || D == 8715 || D == 8719 || D == 8721 || D == 8725 || D == 8730 || 8733 <= D && D <= 8736 || D == 8739 || D == 8741 || 8743 <= D && D <= 8748 || D == 8750 || 8756 <= D && D <= 8759 || 8764 <= D && D <= 8765 || D == 8776 || D == 8780 || D == 8786 || 8800 <= D && D <= 8801 || 8804 <= D && D <= 8807 || 8810 <= D && D <= 8811 || 8814 <= D && D <= 8815 || 8834 <= D && D <= 8835 || 8838 <= D && D <= 8839 || D == 8853 || D == 8857 || D == 8869 || D == 8895 || D == 8978 || 9312 <= D && D <= 9449 || 9451 <= D && D <= 9547 || 9552 <= D && D <= 9587 || 9600 <= D && D <= 9615 || 9618 <= D && D <= 9621 || 9632 <= D && D <= 9633 || 9635 <= D && D <= 9641 || 9650 <= D && D <= 9651 || 9654 <= D && D <= 9655 || 9660 <= D && D <= 9661 || 9664 <= D && D <= 9665 || 9670 <= D && D <= 9672 || D == 9675 || 9678 <= D && D <= 9681 || 9698 <= D && D <= 9701 || D == 9711 || 9733 <= D && D <= 9734 || D == 9737 || 9742 <= D && D <= 9743 || 9748 <= D && D <= 9749 || D == 9756 || D == 9758 || D == 9792 || D == 9794 || 9824 <= D && D <= 9825 || 9827 <= D && D <= 9829 || 9831 <= D && D <= 9834 || 9836 <= D && D <= 9837 || D == 9839 || 9886 <= D && D <= 9887 || 9918 <= D && D <= 9919 || 9924 <= D && D <= 9933 || 9935 <= D && D <= 9953 || D == 9955 || 9960 <= D && D <= 9983 || D == 10045 || D == 10071 || 10102 <= D && D <= 10111 || 11093 <= D && D <= 11097 || 12872 <= D && D <= 12879 || 57344 <= D && D <= 63743 || 65024 <= D && D <= 65039 || D == 65533 || 127232 <= D && D <= 127242 || 127248 <= D && D <= 127277 || 127280 <= D && D <= 127337 || 127344 <= D && D <= 127386 || 917760 <= D && D <= 917999 || 983040 <= D && D <= 1048573 || 1048576 <= D && D <= 1114109 ? "A" : "N";
  }, u.characterLength = function(F) {
    var s = this.eastAsianWidth(F);
    return s == "F" || s == "W" || s == "A" ? 2 : 1;
  };
  function t(F) {
    return F.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g) || [];
  }
  u.length = function(F) {
    for (var s = t(F), i = 0, D = 0;D < s.length; D++)
      i = i + this.characterLength(s[D]);
    return i;
  }, u.slice = function(F, s, i) {
    textLen = u.length(F), s = s || 0, i = i || 1, s < 0 && (s = textLen + s), i < 0 && (i = textLen + i);
    for (var D = "", C = 0, n = t(F), E = 0;E < n.length; E++) {
      var a = n[E], o = u.length(a);
      if (C >= s - (o == 2 ? 1 : 0))
        if (C + o <= i)
          D += a;
        else
          break;
      C += o;
    }
    return D;
  };
})(W);
var tD = W.exports;
var eD = L(tD);
var FD = function() {
  return /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g;
};
var sD = L(FD);
function p(e, u = {}) {
  if (typeof e != "string" || e.length === 0 || (u = { ambiguousIsNarrow: true, ...u }, e = P(e), e.length === 0))
    return 0;
  e = e.replace(sD(), "  ");
  const t = u.ambiguousIsNarrow ? 1 : 2;
  let F = 0;
  for (const s of e) {
    const i = s.codePointAt(0);
    if (i <= 31 || i >= 127 && i <= 159 || i >= 768 && i <= 879)
      continue;
    switch (eD.eastAsianWidth(s)) {
      case "F":
      case "W":
        F += 2;
        break;
      case "A":
        F += t;
        break;
      default:
        F += 1;
    }
  }
  return F;
}
var w = 10;
var N = (e = 0) => (u) => `\x1B[${u + e}m`;
var I = (e = 0) => (u) => `\x1B[${38 + e};5;${u}m`;
var R = (e = 0) => (u, t, F) => `\x1B[${38 + e};2;${u};${t};${F}m`;
var r = { modifier: { reset: [0, 0], bold: [1, 22], dim: [2, 22], italic: [3, 23], underline: [4, 24], overline: [53, 55], inverse: [7, 27], hidden: [8, 28], strikethrough: [9, 29] }, color: { black: [30, 39], red: [31, 39], green: [32, 39], yellow: [33, 39], blue: [34, 39], magenta: [35, 39], cyan: [36, 39], white: [37, 39], blackBright: [90, 39], gray: [90, 39], grey: [90, 39], redBright: [91, 39], greenBright: [92, 39], yellowBright: [93, 39], blueBright: [94, 39], magentaBright: [95, 39], cyanBright: [96, 39], whiteBright: [97, 39] }, bgColor: { bgBlack: [40, 49], bgRed: [41, 49], bgGreen: [42, 49], bgYellow: [43, 49], bgBlue: [44, 49], bgMagenta: [45, 49], bgCyan: [46, 49], bgWhite: [47, 49], bgBlackBright: [100, 49], bgGray: [100, 49], bgGrey: [100, 49], bgRedBright: [101, 49], bgGreenBright: [102, 49], bgYellowBright: [103, 49], bgBlueBright: [104, 49], bgMagentaBright: [105, 49], bgCyanBright: [106, 49], bgWhiteBright: [107, 49] } };
Object.keys(r.modifier);
var iD = Object.keys(r.color);
var CD = Object.keys(r.bgColor);
[...iD, ...CD];
function rD() {
  const e = new Map;
  for (const [u, t] of Object.entries(r)) {
    for (const [F, s] of Object.entries(t))
      r[F] = { open: `\x1B[${s[0]}m`, close: `\x1B[${s[1]}m` }, t[F] = r[F], e.set(s[0], s[1]);
    Object.defineProperty(r, u, { value: t, enumerable: false });
  }
  return Object.defineProperty(r, "codes", { value: e, enumerable: false }), r.color.close = "\x1B[39m", r.bgColor.close = "\x1B[49m", r.color.ansi = N(), r.color.ansi256 = I(), r.color.ansi16m = R(), r.bgColor.ansi = N(w), r.bgColor.ansi256 = I(w), r.bgColor.ansi16m = R(w), Object.defineProperties(r, { rgbToAnsi256: { value: (u, t, F) => u === t && t === F ? u < 8 ? 16 : u > 248 ? 231 : Math.round((u - 8) / 247 * 24) + 232 : 16 + 36 * Math.round(u / 255 * 5) + 6 * Math.round(t / 255 * 5) + Math.round(F / 255 * 5), enumerable: false }, hexToRgb: { value: (u) => {
    const t = /[a-f\d]{6}|[a-f\d]{3}/i.exec(u.toString(16));
    if (!t)
      return [0, 0, 0];
    let [F] = t;
    F.length === 3 && (F = [...F].map((i) => i + i).join(""));
    const s = Number.parseInt(F, 16);
    return [s >> 16 & 255, s >> 8 & 255, s & 255];
  }, enumerable: false }, hexToAnsi256: { value: (u) => r.rgbToAnsi256(...r.hexToRgb(u)), enumerable: false }, ansi256ToAnsi: { value: (u) => {
    if (u < 8)
      return 30 + u;
    if (u < 16)
      return 90 + (u - 8);
    let t, F, s;
    if (u >= 232)
      t = ((u - 232) * 10 + 8) / 255, F = t, s = t;
    else {
      u -= 16;
      const C = u % 36;
      t = Math.floor(u / 36) / 5, F = Math.floor(C / 6) / 5, s = C % 6 / 5;
    }
    const i = Math.max(t, F, s) * 2;
    if (i === 0)
      return 30;
    let D = 30 + (Math.round(s) << 2 | Math.round(F) << 1 | Math.round(t));
    return i === 2 && (D += 60), D;
  }, enumerable: false }, rgbToAnsi: { value: (u, t, F) => r.ansi256ToAnsi(r.rgbToAnsi256(u, t, F)), enumerable: false }, hexToAnsi: { value: (u) => r.ansi256ToAnsi(r.hexToAnsi256(u)), enumerable: false } }), r;
}
var ED = rD();
var d = new Set(["\x1B", ""]);
var oD = 39;
var y = "\x07";
var V = "[";
var nD = "]";
var G = "m";
var _ = `${nD}8;;`;
var z = (e) => `${d.values().next().value}${V}${e}${G}`;
var K = (e) => `${d.values().next().value}${_}${e}${y}`;
var aD = (e) => e.split(" ").map((u) => p(u));
var k = (e, u, t) => {
  const F = [...u];
  let s = false, i = false, D = p(P(e[e.length - 1]));
  for (const [C, n] of F.entries()) {
    const E = p(n);
    if (D + E <= t ? e[e.length - 1] += n : (e.push(n), D = 0), d.has(n) && (s = true, i = F.slice(C + 1).join("").startsWith(_)), s) {
      i ? n === y && (s = false, i = false) : n === G && (s = false);
      continue;
    }
    D += E, D === t && C < F.length - 1 && (e.push(""), D = 0);
  }
  !D && e[e.length - 1].length > 0 && e.length > 1 && (e[e.length - 2] += e.pop());
};
var hD = (e) => {
  const u = e.split(" ");
  let t = u.length;
  for (;t > 0 && !(p(u[t - 1]) > 0); )
    t--;
  return t === u.length ? e : u.slice(0, t).join(" ") + u.slice(t).join("");
};
var lD = (e, u, t = {}) => {
  if (t.trim !== false && e.trim() === "")
    return "";
  let F = "", s, i;
  const D = aD(e);
  let C = [""];
  for (const [E, a] of e.split(" ").entries()) {
    t.trim !== false && (C[C.length - 1] = C[C.length - 1].trimStart());
    let o = p(C[C.length - 1]);
    if (E !== 0 && (o >= u && (t.wordWrap === false || t.trim === false) && (C.push(""), o = 0), (o > 0 || t.trim === false) && (C[C.length - 1] += " ", o++)), t.hard && D[E] > u) {
      const c = u - o, f = 1 + Math.floor((D[E] - c - 1) / u);
      Math.floor((D[E] - 1) / u) < f && C.push(""), k(C, a, u);
      continue;
    }
    if (o + D[E] > u && o > 0 && D[E] > 0) {
      if (t.wordWrap === false && o < u) {
        k(C, a, u);
        continue;
      }
      C.push("");
    }
    if (o + D[E] > u && t.wordWrap === false) {
      k(C, a, u);
      continue;
    }
    C[C.length - 1] += a;
  }
  t.trim !== false && (C = C.map((E) => hD(E)));
  const n = [...C.join(`
`)];
  for (const [E, a] of n.entries()) {
    if (F += a, d.has(a)) {
      const { groups: c } = new RegExp(`(?:\\${V}(?<code>\\d+)m|\\${_}(?<uri>.*)${y})`).exec(n.slice(E).join("")) || { groups: {} };
      if (c.code !== undefined) {
        const f = Number.parseFloat(c.code);
        s = f === oD ? undefined : f;
      } else
        c.uri !== undefined && (i = c.uri.length === 0 ? undefined : c.uri);
    }
    const o = ED.codes.get(Number(s));
    n[E + 1] === `
` ? (i && (F += K("")), s && o && (F += z(o))) : a === `
` && (s && o && (F += z(s)), i && (F += K(i)));
  }
  return F;
};
function Y(e, u, t) {
  return String(e).normalize().replace(/\r\n/g, `
`).split(`
`).map((F) => lD(F, u, t)).join(`
`);
}
var xD = ["up", "down", "left", "right", "space", "enter", "cancel"];
var B = { actions: new Set(xD), aliases: new Map([["k", "up"], ["j", "down"], ["h", "left"], ["l", "right"], ["\x03", "cancel"], ["escape", "cancel"]]) };
function $(e, u) {
  if (typeof e == "string")
    return B.aliases.get(e) === u;
  for (const t of e)
    if (t !== undefined && $(t, u))
      return true;
  return false;
}
function BD(e, u) {
  if (e === u)
    return;
  const t = e.split(`
`), F = u.split(`
`), s = [];
  for (let i = 0;i < Math.max(t.length, F.length); i++)
    t[i] !== F[i] && s.push(i);
  return s;
}
var AD = globalThis.process.platform.startsWith("win");
var S = Symbol("clack:cancel");
function pD(e) {
  return e === S;
}
function m(e, u) {
  const t = e;
  t.isTTY && t.setRawMode(u);
}
function fD({ input: e = j, output: u = M, overwrite: t = true, hideCursor: F = true } = {}) {
  const s = g.createInterface({ input: e, output: u, prompt: "", tabSize: 1 });
  g.emitKeypressEvents(e, s), e.isTTY && e.setRawMode(true);
  const i = (D, { name: C, sequence: n }) => {
    const E = String(D);
    if ($([E, C, n], "cancel")) {
      F && u.write(import_sisteransi.cursor.show), process.exit(0);
      return;
    }
    if (!t)
      return;
    const a = C === "return" ? 0 : -1, o = C === "return" ? -1 : 0;
    g.moveCursor(u, a, o, () => {
      g.clearLine(u, 1, () => {
        e.once("keypress", i);
      });
    });
  };
  return F && u.write(import_sisteransi.cursor.hide), e.once("keypress", i), () => {
    e.off("keypress", i), F && u.write(import_sisteransi.cursor.show), e.isTTY && !AD && e.setRawMode(false), s.terminal = false, s.close();
  };
}
var gD = Object.defineProperty;
var vD = (e, u, t) => (u in e) ? gD(e, u, { enumerable: true, configurable: true, writable: true, value: t }) : e[u] = t;
var h = (e, u, t) => (vD(e, typeof u != "symbol" ? u + "" : u, t), t);

class x {
  constructor(u, t = true) {
    h(this, "input"), h(this, "output"), h(this, "_abortSignal"), h(this, "rl"), h(this, "opts"), h(this, "_render"), h(this, "_track", false), h(this, "_prevFrame", ""), h(this, "_subscribers", new Map), h(this, "_cursor", 0), h(this, "state", "initial"), h(this, "error", ""), h(this, "value");
    const { input: F = j, output: s = M, render: i, signal: D, ...C } = u;
    this.opts = C, this.onKeypress = this.onKeypress.bind(this), this.close = this.close.bind(this), this.render = this.render.bind(this), this._render = i.bind(this), this._track = t, this._abortSignal = D, this.input = F, this.output = s;
  }
  unsubscribe() {
    this._subscribers.clear();
  }
  setSubscriber(u, t) {
    const F = this._subscribers.get(u) ?? [];
    F.push(t), this._subscribers.set(u, F);
  }
  on(u, t) {
    this.setSubscriber(u, { cb: t });
  }
  once(u, t) {
    this.setSubscriber(u, { cb: t, once: true });
  }
  emit(u, ...t) {
    const F = this._subscribers.get(u) ?? [], s = [];
    for (const i of F)
      i.cb(...t), i.once && s.push(() => F.splice(F.indexOf(i), 1));
    for (const i of s)
      i();
  }
  prompt() {
    return new Promise((u, t) => {
      if (this._abortSignal) {
        if (this._abortSignal.aborted)
          return this.state = "cancel", this.close(), u(S);
        this._abortSignal.addEventListener("abort", () => {
          this.state = "cancel", this.close();
        }, { once: true });
      }
      const F = new X;
      F._write = (s, i, D) => {
        this._track && (this.value = this.rl?.line.replace(/\t/g, ""), this._cursor = this.rl?.cursor ?? 0, this.emit("value", this.value)), D();
      }, this.input.pipe(F), this.rl = O.createInterface({ input: this.input, output: F, tabSize: 2, prompt: "", escapeCodeTimeout: 50, terminal: true }), O.emitKeypressEvents(this.input, this.rl), this.rl.prompt(), this.opts.initialValue !== undefined && this._track && this.rl.write(this.opts.initialValue), this.input.on("keypress", this.onKeypress), m(this.input, true), this.output.on("resize", this.render), this.render(), this.once("submit", () => {
        this.output.write(import_sisteransi.cursor.show), this.output.off("resize", this.render), m(this.input, false), u(this.value);
      }), this.once("cancel", () => {
        this.output.write(import_sisteransi.cursor.show), this.output.off("resize", this.render), m(this.input, false), u(S);
      });
    });
  }
  onKeypress(u, t) {
    if (this.state === "error" && (this.state = "active"), t?.name && (!this._track && B.aliases.has(t.name) && this.emit("cursor", B.aliases.get(t.name)), B.actions.has(t.name) && this.emit("cursor", t.name)), u && (u.toLowerCase() === "y" || u.toLowerCase() === "n") && this.emit("confirm", u.toLowerCase() === "y"), u === "\t" && this.opts.placeholder && (this.value || (this.rl?.write(this.opts.placeholder), this.emit("value", this.opts.placeholder))), u && this.emit("key", u.toLowerCase()), t?.name === "return") {
      if (this.opts.validate) {
        const F = this.opts.validate(this.value);
        F && (this.error = F instanceof Error ? F.message : F, this.state = "error", this.rl?.write(this.value));
      }
      this.state !== "error" && (this.state = "submit");
    }
    $([u, t?.name, t?.sequence], "cancel") && (this.state = "cancel"), (this.state === "submit" || this.state === "cancel") && this.emit("finalize"), this.render(), (this.state === "submit" || this.state === "cancel") && this.close();
  }
  close() {
    this.input.unpipe(), this.input.removeListener("keypress", this.onKeypress), this.output.write(`
`), m(this.input, false), this.rl?.close(), this.rl = undefined, this.emit(`${this.state}`, this.value), this.unsubscribe();
  }
  restoreCursor() {
    const u = Y(this._prevFrame, process.stdout.columns, { hard: true }).split(`
`).length - 1;
    this.output.write(import_sisteransi.cursor.move(-999, u * -1));
  }
  render() {
    const u = Y(this._render(this) ?? "", process.stdout.columns, { hard: true });
    if (u !== this._prevFrame) {
      if (this.state === "initial")
        this.output.write(import_sisteransi.cursor.hide);
      else {
        const t = BD(this._prevFrame, u);
        if (this.restoreCursor(), t && t?.length === 1) {
          const F = t[0];
          this.output.write(import_sisteransi.cursor.move(0, F)), this.output.write(import_sisteransi.erase.lines(1));
          const s = u.split(`
`);
          this.output.write(s[F]), this._prevFrame = u, this.output.write(import_sisteransi.cursor.move(0, s.length - F - 1));
          return;
        }
        if (t && t?.length > 1) {
          const F = t[0];
          this.output.write(import_sisteransi.cursor.move(0, F)), this.output.write(import_sisteransi.erase.down());
          const s = u.split(`
`).slice(F);
          this.output.write(s.join(`
`)), this._prevFrame = u;
          return;
        }
        this.output.write(import_sisteransi.erase.down());
      }
      this.output.write(u), this.state === "initial" && (this.state = "active"), this._prevFrame = u;
    }
  }
}
var A;
A = new WeakMap;
var OD = Object.defineProperty;
var PD = (e, u, t) => (u in e) ? OD(e, u, { enumerable: true, configurable: true, writable: true, value: t }) : e[u] = t;
var J = (e, u, t) => (PD(e, typeof u != "symbol" ? u + "" : u, t), t);

class LD extends x {
  constructor(u) {
    super(u, false), J(this, "options"), J(this, "cursor", 0), this.options = u.options, this.cursor = this.options.findIndex(({ value: t }) => t === u.initialValue), this.cursor === -1 && (this.cursor = 0), this.changeValue(), this.on("cursor", (t) => {
      switch (t) {
        case "left":
        case "up":
          this.cursor = this.cursor === 0 ? this.options.length - 1 : this.cursor - 1;
          break;
        case "down":
        case "right":
          this.cursor = this.cursor === this.options.length - 1 ? 0 : this.cursor + 1;
          break;
      }
      this.changeValue();
    });
  }
  get _value() {
    return this.options[this.cursor];
  }
  changeValue() {
    this.value = this._value.value;
  }
}

// ../../node_modules/@clack/prompts/dist/index.mjs
var import_picocolors = __toESM(require_picocolors(), 1);
var import_sisteransi2 = __toESM(require_src(), 1);
import y2 from "node:process";
function ce() {
  return y2.platform !== "win32" ? y2.env.TERM !== "linux" : !!y2.env.CI || !!y2.env.WT_SESSION || !!y2.env.TERMINUS_SUBLIME || y2.env.ConEmuTask === "{cmd::Cmder}" || y2.env.TERM_PROGRAM === "Terminus-Sublime" || y2.env.TERM_PROGRAM === "vscode" || y2.env.TERM === "xterm-256color" || y2.env.TERM === "alacritty" || y2.env.TERMINAL_EMULATOR === "JetBrains-JediTerm";
}
var V2 = ce();
var u = (t, n) => V2 ? t : n;
var le = u("", "*");
var L2 = u("", "x");
var W2 = u("", "x");
var C = u("", "o");
var ue = u("", "T");
var o = u("", "|");
var d2 = u("", "");
var k2 = u("", ">");
var P2 = u("", " ");
var A2 = u("", "[]");
var T = u("", "[+]");
var F = u("", "[ ]");
var $e = u("", "");
var _2 = u("", "-");
var me = u("", "+");
var de = u("", "+");
var pe = u("", "+");
var q = u("", "");
var D = u("", "*");
var U = u("", "!");
var K2 = u("", "x");
var b2 = (t) => {
  switch (t) {
    case "initial":
    case "active":
      return import_picocolors.default.cyan(le);
    case "cancel":
      return import_picocolors.default.red(L2);
    case "error":
      return import_picocolors.default.yellow(W2);
    case "submit":
      return import_picocolors.default.green(C);
  }
};
var G2 = (t) => {
  const { cursor: n, options: r2, style: i } = t, s = t.maxItems ?? Number.POSITIVE_INFINITY, c = Math.max(process.stdout.rows - 4, 0), a = Math.min(c, Math.max(s, 5));
  let l2 = 0;
  n >= l2 + a - 3 ? l2 = Math.max(Math.min(n - a + 3, r2.length - a), 0) : n < l2 + 2 && (l2 = Math.max(n - 2, 0));
  const $2 = a < r2.length && l2 > 0, g2 = a < r2.length && l2 + a < r2.length;
  return r2.slice(l2, l2 + a).map((p2, v, f) => {
    const j2 = v === 0 && $2, E = v === f.length - 1 && g2;
    return j2 || E ? import_picocolors.default.dim("...") : i(p2, v + l2 === n);
  });
};
var ve = (t) => {
  const n = (r2, i) => {
    const s = r2.label ?? String(r2.value);
    switch (i) {
      case "selected":
        return `${import_picocolors.default.dim(s)}`;
      case "active":
        return `${import_picocolors.default.green(k2)} ${s} ${r2.hint ? import_picocolors.default.dim(`(${r2.hint})`) : ""}`;
      case "cancelled":
        return `${import_picocolors.default.strikethrough(import_picocolors.default.dim(s))}`;
      default:
        return `${import_picocolors.default.dim(P2)} ${import_picocolors.default.dim(s)}`;
    }
  };
  return new LD({ options: t.options, initialValue: t.initialValue, render() {
    const r2 = `${import_picocolors.default.gray(o)}
${b2(this.state)}  ${t.message}
`;
    switch (this.state) {
      case "submit":
        return `${r2}${import_picocolors.default.gray(o)}  ${n(this.options[this.cursor], "selected")}`;
      case "cancel":
        return `${r2}${import_picocolors.default.gray(o)}  ${n(this.options[this.cursor], "cancelled")}
${import_picocolors.default.gray(o)}`;
      default:
        return `${r2}${import_picocolors.default.cyan(o)}  ${G2({ cursor: this.cursor, options: this.options, maxItems: t.maxItems, style: (i, s) => n(i, s ? "active" : "inactive") }).join(`
${import_picocolors.default.cyan(o)}  `)}
${import_picocolors.default.cyan(d2)}
`;
    }
  } }).prompt();
};
var Se = (t = "") => {
  process.stdout.write(`${import_picocolors.default.gray(o)}
${import_picocolors.default.gray(d2)}  ${t}

`);
};
var J2 = `${import_picocolors.default.gray(o)}  `;
var Y2 = ({ indicator: t = "dots" } = {}) => {
  const n = V2 ? ["", "", "", ""] : ["", "o", "O", "0"], r2 = V2 ? 80 : 120, i = process.env.CI === "true";
  let s, c, a = false, l2 = "", $2, g2 = performance.now();
  const p2 = (m2) => {
    const h2 = m2 > 1 ? "Something went wrong" : "Canceled";
    a && N2(h2, m2);
  }, v = () => p2(2), f = () => p2(1), j2 = () => {
    process.on("uncaughtExceptionMonitor", v), process.on("unhandledRejection", v), process.on("SIGINT", f), process.on("SIGTERM", f), process.on("exit", p2);
  }, E = () => {
    process.removeListener("uncaughtExceptionMonitor", v), process.removeListener("unhandledRejection", v), process.removeListener("SIGINT", f), process.removeListener("SIGTERM", f), process.removeListener("exit", p2);
  }, B2 = () => {
    if ($2 === undefined)
      return;
    i && process.stdout.write(`
`);
    const m2 = $2.split(`
`);
    process.stdout.write(import_sisteransi2.cursor.move(-999, m2.length - 1)), process.stdout.write(import_sisteransi2.erase.down(m2.length));
  }, R2 = (m2) => m2.replace(/\.+$/, ""), O2 = (m2) => {
    const h2 = (performance.now() - m2) / 1000, w2 = Math.floor(h2 / 60), I2 = Math.floor(h2 % 60);
    return w2 > 0 ? `[${w2}m ${I2}s]` : `[${I2}s]`;
  }, H = (m2 = "") => {
    a = true, s = fD(), l2 = R2(m2), g2 = performance.now(), process.stdout.write(`${import_picocolors.default.gray(o)}
`);
    let h2 = 0, w2 = 0;
    j2(), c = setInterval(() => {
      if (i && l2 === $2)
        return;
      B2(), $2 = l2;
      const I2 = import_picocolors.default.magenta(n[h2]);
      if (i)
        process.stdout.write(`${I2}  ${l2}...`);
      else if (t === "timer")
        process.stdout.write(`${I2}  ${l2} ${O2(g2)}`);
      else {
        const z2 = ".".repeat(Math.floor(w2)).slice(0, 3);
        process.stdout.write(`${I2}  ${l2}${z2}`);
      }
      h2 = h2 + 1 < n.length ? h2 + 1 : 0, w2 = w2 < n.length ? w2 + 0.125 : 0;
    }, r2);
  }, N2 = (m2 = "", h2 = 0) => {
    a = false, clearInterval(c), B2();
    const w2 = h2 === 0 ? import_picocolors.default.green(C) : h2 === 1 ? import_picocolors.default.red(L2) : import_picocolors.default.red(W2);
    l2 = R2(m2 ?? l2), t === "timer" ? process.stdout.write(`${w2}  ${l2} ${O2(g2)}
`) : process.stdout.write(`${w2}  ${l2}
`), E(), s();
  };
  return { start: H, stop: N2, message: (m2 = "") => {
    l2 = R2(m2 ?? l2);
  } };
};

// src/backends/opencode/client.ts
import { createServer } from "node:net";
// ../../node_modules/@opencode-ai/sdk/dist/gen/core/serverSentEvents.gen.js
var createSseClient = ({ onSseError, onSseEvent, responseTransformer, responseValidator, sseDefaultRetryDelay, sseMaxRetryAttempts, sseMaxRetryDelay, sseSleepFn, url, ...options }) => {
  let lastEventId;
  const sleep = sseSleepFn ?? ((ms) => new Promise((resolve) => setTimeout(resolve, ms)));
  const createStream = async function* () {
    let retryDelay = sseDefaultRetryDelay ?? 3000;
    let attempt = 0;
    const signal = options.signal ?? new AbortController().signal;
    while (true) {
      if (signal.aborted)
        break;
      attempt++;
      const headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers);
      if (lastEventId !== undefined) {
        headers.set("Last-Event-ID", lastEventId);
      }
      try {
        const response = await fetch(url, { ...options, headers, signal });
        if (!response.ok)
          throw new Error(`SSE failed: ${response.status} ${response.statusText}`);
        if (!response.body)
          throw new Error("No body in SSE response");
        const reader = response.body.pipeThrough(new TextDecoderStream).getReader();
        let buffer = "";
        const abortHandler = () => {
          try {
            reader.cancel();
          } catch {}
        };
        signal.addEventListener("abort", abortHandler);
        try {
          while (true) {
            const { done, value } = await reader.read();
            if (done)
              break;
            buffer += value;
            const chunks = buffer.split(`

`);
            buffer = chunks.pop() ?? "";
            for (const chunk of chunks) {
              const lines = chunk.split(`
`);
              const dataLines = [];
              let eventName;
              for (const line of lines) {
                if (line.startsWith("data:")) {
                  dataLines.push(line.replace(/^data:\s*/, ""));
                } else if (line.startsWith("event:")) {
                  eventName = line.replace(/^event:\s*/, "");
                } else if (line.startsWith("id:")) {
                  lastEventId = line.replace(/^id:\s*/, "");
                } else if (line.startsWith("retry:")) {
                  const parsed = Number.parseInt(line.replace(/^retry:\s*/, ""), 10);
                  if (!Number.isNaN(parsed)) {
                    retryDelay = parsed;
                  }
                }
              }
              let data;
              let parsedJson = false;
              if (dataLines.length) {
                const rawData = dataLines.join(`
`);
                try {
                  data = JSON.parse(rawData);
                  parsedJson = true;
                } catch {
                  data = rawData;
                }
              }
              if (parsedJson) {
                if (responseValidator) {
                  await responseValidator(data);
                }
                if (responseTransformer) {
                  data = await responseTransformer(data);
                }
              }
              onSseEvent?.({
                data,
                event: eventName,
                id: lastEventId,
                retry: retryDelay
              });
              if (dataLines.length) {
                yield data;
              }
            }
          }
        } finally {
          signal.removeEventListener("abort", abortHandler);
          reader.releaseLock();
        }
        break;
      } catch (error) {
        onSseError?.(error);
        if (sseMaxRetryAttempts !== undefined && attempt >= sseMaxRetryAttempts) {
          break;
        }
        const backoff = Math.min(retryDelay * 2 ** (attempt - 1), sseMaxRetryDelay ?? 30000);
        await sleep(backoff);
      }
    }
  };
  const stream = createStream();
  return { stream };
};

// ../../node_modules/@opencode-ai/sdk/dist/gen/core/auth.gen.js
var getAuthToken = async (auth, callback) => {
  const token = typeof callback === "function" ? await callback(auth) : callback;
  if (!token) {
    return;
  }
  if (auth.scheme === "bearer") {
    return `Bearer ${token}`;
  }
  if (auth.scheme === "basic") {
    return `Basic ${btoa(token)}`;
  }
  return token;
};

// ../../node_modules/@opencode-ai/sdk/dist/gen/core/bodySerializer.gen.js
var jsonBodySerializer = {
  bodySerializer: (body) => JSON.stringify(body, (_key, value) => typeof value === "bigint" ? value.toString() : value)
};

// ../../node_modules/@opencode-ai/sdk/dist/gen/core/pathSerializer.gen.js
var separatorArrayExplode = (style) => {
  switch (style) {
    case "label":
      return ".";
    case "matrix":
      return ";";
    case "simple":
      return ",";
    default:
      return "&";
  }
};
var separatorArrayNoExplode = (style) => {
  switch (style) {
    case "form":
      return ",";
    case "pipeDelimited":
      return "|";
    case "spaceDelimited":
      return "%20";
    default:
      return ",";
  }
};
var separatorObjectExplode = (style) => {
  switch (style) {
    case "label":
      return ".";
    case "matrix":
      return ";";
    case "simple":
      return ",";
    default:
      return "&";
  }
};
var serializeArrayParam = ({ allowReserved, explode, name, style, value }) => {
  if (!explode) {
    const joinedValues2 = (allowReserved ? value : value.map((v) => encodeURIComponent(v))).join(separatorArrayNoExplode(style));
    switch (style) {
      case "label":
        return `.${joinedValues2}`;
      case "matrix":
        return `;${name}=${joinedValues2}`;
      case "simple":
        return joinedValues2;
      default:
        return `${name}=${joinedValues2}`;
    }
  }
  const separator = separatorArrayExplode(style);
  const joinedValues = value.map((v) => {
    if (style === "label" || style === "simple") {
      return allowReserved ? v : encodeURIComponent(v);
    }
    return serializePrimitiveParam({
      allowReserved,
      name,
      value: v
    });
  }).join(separator);
  return style === "label" || style === "matrix" ? separator + joinedValues : joinedValues;
};
var serializePrimitiveParam = ({ allowReserved, name, value }) => {
  if (value === undefined || value === null) {
    return "";
  }
  if (typeof value === "object") {
    throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");
  }
  return `${name}=${allowReserved ? value : encodeURIComponent(value)}`;
};
var serializeObjectParam = ({ allowReserved, explode, name, style, value, valueOnly }) => {
  if (value instanceof Date) {
    return valueOnly ? value.toISOString() : `${name}=${value.toISOString()}`;
  }
  if (style !== "deepObject" && !explode) {
    let values = [];
    Object.entries(value).forEach(([key, v]) => {
      values = [...values, key, allowReserved ? v : encodeURIComponent(v)];
    });
    const joinedValues2 = values.join(",");
    switch (style) {
      case "form":
        return `${name}=${joinedValues2}`;
      case "label":
        return `.${joinedValues2}`;
      case "matrix":
        return `;${name}=${joinedValues2}`;
      default:
        return joinedValues2;
    }
  }
  const separator = separatorObjectExplode(style);
  const joinedValues = Object.entries(value).map(([key, v]) => serializePrimitiveParam({
    allowReserved,
    name: style === "deepObject" ? `${name}[${key}]` : key,
    value: v
  })).join(separator);
  return style === "label" || style === "matrix" ? separator + joinedValues : joinedValues;
};

// ../../node_modules/@opencode-ai/sdk/dist/gen/core/utils.gen.js
var PATH_PARAM_RE = /\{[^{}]+\}/g;
var defaultPathSerializer = ({ path: path2, url: _url }) => {
  let url = _url;
  const matches = _url.match(PATH_PARAM_RE);
  if (matches) {
    for (const match of matches) {
      let explode = false;
      let name = match.substring(1, match.length - 1);
      let style = "simple";
      if (name.endsWith("*")) {
        explode = true;
        name = name.substring(0, name.length - 1);
      }
      if (name.startsWith(".")) {
        name = name.substring(1);
        style = "label";
      } else if (name.startsWith(";")) {
        name = name.substring(1);
        style = "matrix";
      }
      const value = path2[name];
      if (value === undefined || value === null) {
        continue;
      }
      if (Array.isArray(value)) {
        url = url.replace(match, serializeArrayParam({ explode, name, style, value }));
        continue;
      }
      if (typeof value === "object") {
        url = url.replace(match, serializeObjectParam({
          explode,
          name,
          style,
          value,
          valueOnly: true
        }));
        continue;
      }
      if (style === "matrix") {
        url = url.replace(match, `;${serializePrimitiveParam({
          name,
          value
        })}`);
        continue;
      }
      const replaceValue = encodeURIComponent(style === "label" ? `.${value}` : value);
      url = url.replace(match, replaceValue);
    }
  }
  return url;
};
var getUrl = ({ baseUrl, path: path2, query, querySerializer, url: _url }) => {
  const pathUrl = _url.startsWith("/") ? _url : `/${_url}`;
  let url = (baseUrl ?? "") + pathUrl;
  if (path2) {
    url = defaultPathSerializer({ path: path2, url });
  }
  let search = query ? querySerializer(query) : "";
  if (search.startsWith("?")) {
    search = search.substring(1);
  }
  if (search) {
    url += `?${search}`;
  }
  return url;
};

// ../../node_modules/@opencode-ai/sdk/dist/gen/client/utils.gen.js
var createQuerySerializer = ({ allowReserved, array, object } = {}) => {
  const querySerializer = (queryParams) => {
    const search = [];
    if (queryParams && typeof queryParams === "object") {
      for (const name in queryParams) {
        const value = queryParams[name];
        if (value === undefined || value === null) {
          continue;
        }
        if (Array.isArray(value)) {
          const serializedArray = serializeArrayParam({
            allowReserved,
            explode: true,
            name,
            style: "form",
            value,
            ...array
          });
          if (serializedArray)
            search.push(serializedArray);
        } else if (typeof value === "object") {
          const serializedObject = serializeObjectParam({
            allowReserved,
            explode: true,
            name,
            style: "deepObject",
            value,
            ...object
          });
          if (serializedObject)
            search.push(serializedObject);
        } else {
          const serializedPrimitive = serializePrimitiveParam({
            allowReserved,
            name,
            value
          });
          if (serializedPrimitive)
            search.push(serializedPrimitive);
        }
      }
    }
    return search.join("&");
  };
  return querySerializer;
};
var getParseAs = (contentType) => {
  if (!contentType) {
    return "stream";
  }
  const cleanContent = contentType.split(";")[0]?.trim();
  if (!cleanContent) {
    return;
  }
  if (cleanContent.startsWith("application/json") || cleanContent.endsWith("+json")) {
    return "json";
  }
  if (cleanContent === "multipart/form-data") {
    return "formData";
  }
  if (["application/", "audio/", "image/", "video/"].some((type) => cleanContent.startsWith(type))) {
    return "blob";
  }
  if (cleanContent.startsWith("text/")) {
    return "text";
  }
  return;
};
var checkForExistence = (options, name) => {
  if (!name) {
    return false;
  }
  if (options.headers.has(name) || options.query?.[name] || options.headers.get("Cookie")?.includes(`${name}=`)) {
    return true;
  }
  return false;
};
var setAuthParams = async ({ security, ...options }) => {
  for (const auth of security) {
    if (checkForExistence(options, auth.name)) {
      continue;
    }
    const token = await getAuthToken(auth, options.auth);
    if (!token) {
      continue;
    }
    const name = auth.name ?? "Authorization";
    switch (auth.in) {
      case "query":
        if (!options.query) {
          options.query = {};
        }
        options.query[name] = token;
        break;
      case "cookie":
        options.headers.append("Cookie", `${name}=${token}`);
        break;
      case "header":
      default:
        options.headers.set(name, token);
        break;
    }
  }
};
var buildUrl = (options) => getUrl({
  baseUrl: options.baseUrl,
  path: options.path,
  query: options.query,
  querySerializer: typeof options.querySerializer === "function" ? options.querySerializer : createQuerySerializer(options.querySerializer),
  url: options.url
});
var mergeConfigs = (a, b3) => {
  const config = { ...a, ...b3 };
  if (config.baseUrl?.endsWith("/")) {
    config.baseUrl = config.baseUrl.substring(0, config.baseUrl.length - 1);
  }
  config.headers = mergeHeaders(a.headers, b3.headers);
  return config;
};
var mergeHeaders = (...headers) => {
  const mergedHeaders = new Headers;
  for (const header of headers) {
    if (!header || typeof header !== "object") {
      continue;
    }
    const iterator = header instanceof Headers ? header.entries() : Object.entries(header);
    for (const [key, value] of iterator) {
      if (value === null) {
        mergedHeaders.delete(key);
      } else if (Array.isArray(value)) {
        for (const v of value) {
          mergedHeaders.append(key, v);
        }
      } else if (value !== undefined) {
        mergedHeaders.set(key, typeof value === "object" ? JSON.stringify(value) : value);
      }
    }
  }
  return mergedHeaders;
};

class Interceptors {
  _fns;
  constructor() {
    this._fns = [];
  }
  clear() {
    this._fns = [];
  }
  getInterceptorIndex(id) {
    if (typeof id === "number") {
      return this._fns[id] ? id : -1;
    } else {
      return this._fns.indexOf(id);
    }
  }
  exists(id) {
    const index = this.getInterceptorIndex(id);
    return !!this._fns[index];
  }
  eject(id) {
    const index = this.getInterceptorIndex(id);
    if (this._fns[index]) {
      this._fns[index] = null;
    }
  }
  update(id, fn) {
    const index = this.getInterceptorIndex(id);
    if (this._fns[index]) {
      this._fns[index] = fn;
      return id;
    } else {
      return false;
    }
  }
  use(fn) {
    this._fns = [...this._fns, fn];
    return this._fns.length - 1;
  }
}
var createInterceptors = () => ({
  error: new Interceptors,
  request: new Interceptors,
  response: new Interceptors
});
var defaultQuerySerializer = createQuerySerializer({
  allowReserved: false,
  array: {
    explode: true,
    style: "form"
  },
  object: {
    explode: true,
    style: "deepObject"
  }
});
var defaultHeaders = {
  "Content-Type": "application/json"
};
var createConfig = (override = {}) => ({
  ...jsonBodySerializer,
  headers: defaultHeaders,
  parseAs: "auto",
  querySerializer: defaultQuerySerializer,
  ...override
});

// ../../node_modules/@opencode-ai/sdk/dist/gen/client/client.gen.js
var createClient = (config = {}) => {
  let _config = mergeConfigs(createConfig(), config);
  const getConfig = () => ({ ..._config });
  const setConfig = (config2) => {
    _config = mergeConfigs(_config, config2);
    return getConfig();
  };
  const interceptors = createInterceptors();
  const beforeRequest = async (options) => {
    const opts = {
      ..._config,
      ...options,
      fetch: options.fetch ?? _config.fetch ?? globalThis.fetch,
      headers: mergeHeaders(_config.headers, options.headers),
      serializedBody: undefined
    };
    if (opts.security) {
      await setAuthParams({
        ...opts,
        security: opts.security
      });
    }
    if (opts.requestValidator) {
      await opts.requestValidator(opts);
    }
    if (opts.body && opts.bodySerializer) {
      opts.serializedBody = opts.bodySerializer(opts.body);
    }
    if (opts.serializedBody === undefined || opts.serializedBody === "") {
      opts.headers.delete("Content-Type");
    }
    const url = buildUrl(opts);
    return { opts, url };
  };
  const request = async (options) => {
    const { opts, url } = await beforeRequest(options);
    const requestInit = {
      redirect: "follow",
      ...opts,
      body: opts.serializedBody
    };
    let request2 = new Request(url, requestInit);
    for (const fn of interceptors.request._fns) {
      if (fn) {
        request2 = await fn(request2, opts);
      }
    }
    const _fetch = opts.fetch;
    let response = await _fetch(request2);
    for (const fn of interceptors.response._fns) {
      if (fn) {
        response = await fn(response, request2, opts);
      }
    }
    const result = {
      request: request2,
      response
    };
    if (response.ok) {
      if (response.status === 204 || response.headers.get("Content-Length") === "0") {
        return opts.responseStyle === "data" ? {} : {
          data: {},
          ...result
        };
      }
      const parseAs = (opts.parseAs === "auto" ? getParseAs(response.headers.get("Content-Type")) : opts.parseAs) ?? "json";
      let data;
      switch (parseAs) {
        case "arrayBuffer":
        case "blob":
        case "formData":
        case "json":
        case "text":
          data = await response[parseAs]();
          break;
        case "stream":
          return opts.responseStyle === "data" ? response.body : {
            data: response.body,
            ...result
          };
      }
      if (parseAs === "json") {
        if (opts.responseValidator) {
          await opts.responseValidator(data);
        }
        if (opts.responseTransformer) {
          data = await opts.responseTransformer(data);
        }
      }
      return opts.responseStyle === "data" ? data : {
        data,
        ...result
      };
    }
    const textError = await response.text();
    let jsonError;
    try {
      jsonError = JSON.parse(textError);
    } catch {}
    const error = jsonError ?? textError;
    let finalError = error;
    for (const fn of interceptors.error._fns) {
      if (fn) {
        finalError = await fn(error, response, request2, opts);
      }
    }
    finalError = finalError || {};
    if (opts.throwOnError) {
      throw finalError;
    }
    return opts.responseStyle === "data" ? undefined : {
      error: finalError,
      ...result
    };
  };
  const makeMethod = (method) => {
    const fn = (options) => request({ ...options, method });
    fn.sse = async (options) => {
      const { opts, url } = await beforeRequest(options);
      return createSseClient({
        ...opts,
        body: opts.body,
        headers: opts.headers,
        method,
        url
      });
    };
    return fn;
  };
  return {
    buildUrl,
    connect: makeMethod("CONNECT"),
    delete: makeMethod("DELETE"),
    get: makeMethod("GET"),
    getConfig,
    head: makeMethod("HEAD"),
    interceptors,
    options: makeMethod("OPTIONS"),
    patch: makeMethod("PATCH"),
    post: makeMethod("POST"),
    put: makeMethod("PUT"),
    request,
    setConfig,
    trace: makeMethod("TRACE")
  };
};
// ../../node_modules/@opencode-ai/sdk/dist/gen/core/params.gen.js
var extraPrefixesMap = {
  $body_: "body",
  $headers_: "headers",
  $path_: "path",
  $query_: "query"
};
var extraPrefixes = Object.entries(extraPrefixesMap);
// ../../node_modules/@opencode-ai/sdk/dist/gen/client.gen.js
var client = createClient(createConfig({
  baseUrl: "http://localhost:4096"
}));

// ../../node_modules/@opencode-ai/sdk/dist/gen/sdk.gen.js
class _HeyApiClient {
  _client = client;
  constructor(args) {
    if (args?.client) {
      this._client = args.client;
    }
  }
}

class Global extends _HeyApiClient {
  event(options) {
    return (options?.client ?? this._client).get.sse({
      url: "/global/event",
      ...options
    });
  }
}

class Project extends _HeyApiClient {
  list(options) {
    return (options?.client ?? this._client).get({
      url: "/project",
      ...options
    });
  }
  current(options) {
    return (options?.client ?? this._client).get({
      url: "/project/current",
      ...options
    });
  }
}

class Pty extends _HeyApiClient {
  list(options) {
    return (options?.client ?? this._client).get({
      url: "/pty",
      ...options
    });
  }
  create(options) {
    return (options?.client ?? this._client).post({
      url: "/pty",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  remove(options) {
    return (options.client ?? this._client).delete({
      url: "/pty/{id}",
      ...options
    });
  }
  get(options) {
    return (options.client ?? this._client).get({
      url: "/pty/{id}",
      ...options
    });
  }
  update(options) {
    return (options.client ?? this._client).put({
      url: "/pty/{id}",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  connect(options) {
    return (options.client ?? this._client).get({
      url: "/pty/{id}/connect",
      ...options
    });
  }
}

class Config extends _HeyApiClient {
  get(options) {
    return (options?.client ?? this._client).get({
      url: "/config",
      ...options
    });
  }
  update(options) {
    return (options?.client ?? this._client).patch({
      url: "/config",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  providers(options) {
    return (options?.client ?? this._client).get({
      url: "/config/providers",
      ...options
    });
  }
}

class Tool extends _HeyApiClient {
  ids(options) {
    return (options?.client ?? this._client).get({
      url: "/experimental/tool/ids",
      ...options
    });
  }
  list(options) {
    return (options.client ?? this._client).get({
      url: "/experimental/tool",
      ...options
    });
  }
}

class Instance extends _HeyApiClient {
  dispose(options) {
    return (options?.client ?? this._client).post({
      url: "/instance/dispose",
      ...options
    });
  }
}

class Path extends _HeyApiClient {
  get(options) {
    return (options?.client ?? this._client).get({
      url: "/path",
      ...options
    });
  }
}

class Vcs extends _HeyApiClient {
  get(options) {
    return (options?.client ?? this._client).get({
      url: "/vcs",
      ...options
    });
  }
}

class Session extends _HeyApiClient {
  list(options) {
    return (options?.client ?? this._client).get({
      url: "/session",
      ...options
    });
  }
  create(options) {
    return (options?.client ?? this._client).post({
      url: "/session",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  status(options) {
    return (options?.client ?? this._client).get({
      url: "/session/status",
      ...options
    });
  }
  delete(options) {
    return (options.client ?? this._client).delete({
      url: "/session/{id}",
      ...options
    });
  }
  get(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}",
      ...options
    });
  }
  update(options) {
    return (options.client ?? this._client).patch({
      url: "/session/{id}",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  children(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}/children",
      ...options
    });
  }
  todo(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}/todo",
      ...options
    });
  }
  init(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/init",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  fork(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/fork",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  abort(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/abort",
      ...options
    });
  }
  unshare(options) {
    return (options.client ?? this._client).delete({
      url: "/session/{id}/share",
      ...options
    });
  }
  share(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/share",
      ...options
    });
  }
  diff(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}/diff",
      ...options
    });
  }
  summarize(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/summarize",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  messages(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}/message",
      ...options
    });
  }
  prompt(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/message",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  message(options) {
    return (options.client ?? this._client).get({
      url: "/session/{id}/message/{messageID}",
      ...options
    });
  }
  promptAsync(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/prompt_async",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  command(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/command",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  shell(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/shell",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  revert(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/revert",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  unrevert(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/unrevert",
      ...options
    });
  }
}

class Command extends _HeyApiClient {
  list(options) {
    return (options?.client ?? this._client).get({
      url: "/command",
      ...options
    });
  }
}

class Oauth extends _HeyApiClient {
  authorize(options) {
    return (options.client ?? this._client).post({
      url: "/provider/{id}/oauth/authorize",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  callback(options) {
    return (options.client ?? this._client).post({
      url: "/provider/{id}/oauth/callback",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
}

class Provider extends _HeyApiClient {
  list(options) {
    return (options?.client ?? this._client).get({
      url: "/provider",
      ...options
    });
  }
  auth(options) {
    return (options?.client ?? this._client).get({
      url: "/provider/auth",
      ...options
    });
  }
  oauth = new Oauth({ client: this._client });
}

class Find extends _HeyApiClient {
  text(options) {
    return (options.client ?? this._client).get({
      url: "/find",
      ...options
    });
  }
  files(options) {
    return (options.client ?? this._client).get({
      url: "/find/file",
      ...options
    });
  }
  symbols(options) {
    return (options.client ?? this._client).get({
      url: "/find/symbol",
      ...options
    });
  }
}

class File extends _HeyApiClient {
  list(options) {
    return (options.client ?? this._client).get({
      url: "/file",
      ...options
    });
  }
  read(options) {
    return (options.client ?? this._client).get({
      url: "/file/content",
      ...options
    });
  }
  status(options) {
    return (options?.client ?? this._client).get({
      url: "/file/status",
      ...options
    });
  }
}

class App extends _HeyApiClient {
  log(options) {
    return (options?.client ?? this._client).post({
      url: "/log",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  agents(options) {
    return (options?.client ?? this._client).get({
      url: "/agent",
      ...options
    });
  }
}

class Auth extends _HeyApiClient {
  remove(options) {
    return (options.client ?? this._client).delete({
      url: "/mcp/{name}/auth",
      ...options
    });
  }
  start(options) {
    return (options.client ?? this._client).post({
      url: "/mcp/{name}/auth",
      ...options
    });
  }
  callback(options) {
    return (options.client ?? this._client).post({
      url: "/mcp/{name}/auth/callback",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  authenticate(options) {
    return (options.client ?? this._client).post({
      url: "/mcp/{name}/auth/authenticate",
      ...options
    });
  }
  set(options) {
    return (options.client ?? this._client).put({
      url: "/auth/{id}",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
}

class Mcp extends _HeyApiClient {
  status(options) {
    return (options?.client ?? this._client).get({
      url: "/mcp",
      ...options
    });
  }
  add(options) {
    return (options?.client ?? this._client).post({
      url: "/mcp",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  connect(options) {
    return (options.client ?? this._client).post({
      url: "/mcp/{name}/connect",
      ...options
    });
  }
  disconnect(options) {
    return (options.client ?? this._client).post({
      url: "/mcp/{name}/disconnect",
      ...options
    });
  }
  auth = new Auth({ client: this._client });
}

class Lsp extends _HeyApiClient {
  status(options) {
    return (options?.client ?? this._client).get({
      url: "/lsp",
      ...options
    });
  }
}

class Formatter extends _HeyApiClient {
  status(options) {
    return (options?.client ?? this._client).get({
      url: "/formatter",
      ...options
    });
  }
}

class Control extends _HeyApiClient {
  next(options) {
    return (options?.client ?? this._client).get({
      url: "/tui/control/next",
      ...options
    });
  }
  response(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/control/response",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
}

class Tui extends _HeyApiClient {
  appendPrompt(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/append-prompt",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  openHelp(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/open-help",
      ...options
    });
  }
  openSessions(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/open-sessions",
      ...options
    });
  }
  openThemes(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/open-themes",
      ...options
    });
  }
  openModels(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/open-models",
      ...options
    });
  }
  submitPrompt(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/submit-prompt",
      ...options
    });
  }
  clearPrompt(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/clear-prompt",
      ...options
    });
  }
  executeCommand(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/execute-command",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  showToast(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/show-toast",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  publish(options) {
    return (options?.client ?? this._client).post({
      url: "/tui/publish",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options?.headers
      }
    });
  }
  control = new Control({ client: this._client });
}

class Event extends _HeyApiClient {
  subscribe(options) {
    return (options?.client ?? this._client).get.sse({
      url: "/event",
      ...options
    });
  }
}

class OpencodeClient extends _HeyApiClient {
  postSessionIdPermissionsPermissionId(options) {
    return (options.client ?? this._client).post({
      url: "/session/{id}/permissions/{permissionID}",
      ...options,
      headers: {
        "Content-Type": "application/json",
        ...options.headers
      }
    });
  }
  global = new Global({ client: this._client });
  project = new Project({ client: this._client });
  pty = new Pty({ client: this._client });
  config = new Config({ client: this._client });
  tool = new Tool({ client: this._client });
  instance = new Instance({ client: this._client });
  path = new Path({ client: this._client });
  vcs = new Vcs({ client: this._client });
  session = new Session({ client: this._client });
  command = new Command({ client: this._client });
  provider = new Provider({ client: this._client });
  find = new Find({ client: this._client });
  file = new File({ client: this._client });
  app = new App({ client: this._client });
  mcp = new Mcp({ client: this._client });
  lsp = new Lsp({ client: this._client });
  formatter = new Formatter({ client: this._client });
  tui = new Tui({ client: this._client });
  auth = new Auth({ client: this._client });
  event = new Event({ client: this._client });
}

// ../../node_modules/@opencode-ai/sdk/dist/client.js
function createOpencodeClient(config) {
  if (!config?.fetch) {
    const customFetch = (req) => {
      req.timeout = false;
      return fetch(req);
    };
    config = {
      ...config,
      fetch: customFetch
    };
  }
  if (config?.directory) {
    config.headers = {
      ...config.headers,
      "x-opencode-directory": config.directory
    };
  }
  const client2 = createClient(config);
  return new OpencodeClient({ client: client2 });
}
// ../../node_modules/@opencode-ai/sdk/dist/server.js
import { spawn } from "node:child_process";
async function createOpencodeServer(options) {
  options = Object.assign({
    hostname: "127.0.0.1",
    port: 4096,
    timeout: 5000
  }, options ?? {});
  const args = [`serve`, `--hostname=${options.hostname}`, `--port=${options.port}`];
  if (options.config?.logLevel)
    args.push(`--log-level=${options.config.logLevel}`);
  const proc = spawn(`opencode`, args, {
    signal: options.signal,
    env: {
      ...process.env,
      OPENCODE_CONFIG_CONTENT: JSON.stringify(options.config ?? {})
    }
  });
  const url = await new Promise((resolve, reject) => {
    const id = setTimeout(() => {
      reject(new Error(`Timeout waiting for server to start after ${options.timeout}ms`));
    }, options.timeout);
    let output = "";
    proc.stdout?.on("data", (chunk) => {
      output += chunk.toString();
      const lines = output.split(`
`);
      for (const line of lines) {
        if (line.startsWith("opencode server listening")) {
          const match = line.match(/on\s+(https?:\/\/[^\s]+)/);
          if (!match) {
            throw new Error(`Failed to parse server url from output: ${line}`);
          }
          clearTimeout(id);
          resolve(match[1]);
          return;
        }
      }
    });
    proc.stderr?.on("data", (chunk) => {
      output += chunk.toString();
    });
    proc.on("exit", (code) => {
      clearTimeout(id);
      let msg = `Server exited with code ${code}`;
      if (output.trim()) {
        msg += `
Server output: ${output}`;
      }
      reject(new Error(msg));
    });
    proc.on("error", (error) => {
      clearTimeout(id);
      reject(error);
    });
    if (options.signal) {
      options.signal.addEventListener("abort", () => {
        clearTimeout(id);
        reject(new Error("Aborted"));
      });
    }
  });
  return {
    url,
    close() {
      proc.kill();
    }
  };
}
// ../../node_modules/@opencode-ai/sdk/dist/index.js
async function createOpencode(options) {
  const server2 = await createOpencodeServer({
    ...options
  });
  const client3 = createOpencodeClient({
    baseUrl: server2.url
  });
  return {
    client: client3,
    server: server2
  };
}

// src/backends/opencode/client.ts
var log = Log.create({ service: "opencode-client" });

class OpenCodeClient {
  client;
  timeout;
  retryAttempts;
  activeSessions;
  promptTimeout;
  directory = process.cwd();
  server = null;
  serverStartupTimeout;
  constructor(client3, server2, config = {}) {
    this.client = client3;
    this.server = server2;
    this.timeout = config.timeout || 30000;
    this.retryAttempts = config.retryAttempts || 3;
    const envPromptTimeout = Number.parseInt(process.env.OPENCODE_PROMPT_TIMEOUT_MS ?? "", 10);
    const resolvedPromptTimeout = Number.isFinite(envPromptTimeout) ? envPromptTimeout : undefined;
    this.promptTimeout = config.promptTimeout ?? resolvedPromptTimeout ?? 120000;
    this.directory = config.directory || process.env.OPENCODE_DIRECTORY || process.cwd();
    this.serverStartupTimeout = config.serverStartupTimeout || 1e4;
    this.activeSessions = new Map;
    log.debug("OpenCodeClient initialized", {
      hasOwnServer: !!this.server,
      timeout: this.timeout,
      serverStartupTimeout: this.serverStartupTimeout
    });
  }
  static async getAvailablePort() {
    try {
      const defaultPort = 4096;
      const isDefaultAvailable = await OpenCodeClient.isPortAvailable(defaultPort);
      if (!isDefaultAvailable) {
        log.info("Existing server detected on port 4096; spawning isolated server on dynamic port");
      } else {
        log.debug("Default port 4096 is available but avoiding it for isolation");
      }
      const dynamicPort = await OpenCodeClient.findAvailablePort();
      log.info(`Spawning isolated server on dynamic port: ${dynamicPort}`);
      return dynamicPort;
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log.error("Failed to select OpenCode server port", {
        error: errorMsg
      });
      throw new Error(`Failed to select OpenCode server port: ${errorMsg}`);
    }
  }
  static async isPortAvailable(port) {
    return new Promise((resolve) => {
      const server2 = createServer();
      server2.listen(port, () => {
        server2.once("close", () => resolve(true));
        server2.close();
      });
      server2.on("error", () => resolve(false));
    });
  }
  static async findAvailablePort() {
    return new Promise((resolve, reject) => {
      const server2 = createServer();
      server2.listen(0, () => {
        const address = server2.address();
        if (address && typeof address === "object") {
          server2.once("close", () => resolve(address.port));
          server2.close();
        } else {
          reject(new Error("Failed to get server address"));
        }
      });
      server2.on("error", reject);
    });
  }
  static async create(config = {}) {
    try {
      if (config.client) {
        log.info("Creating OpenCodeClient with custom client instance");
        return new OpenCodeClient(config.client, null, config);
      }
      if (config.existingServerUrl) {
        log.info("Connecting to existing OpenCode server", {
          url: config.existingServerUrl
        });
        try {
          const client4 = createOpencodeClient({
            baseUrl: config.existingServerUrl
          });
          log.debug("Verifying connection to existing server...");
          return new OpenCodeClient(client4, null, config);
        } catch (error) {
          const errorMsg = error instanceof Error ? error.message : String(error);
          log.error("Failed to connect to existing server", {
            url: config.existingServerUrl,
            error: errorMsg
          });
          throw error;
        }
      }
      log.info("Spawning new OpenCode server...", {
        timeout: config.serverStartupTimeout || 1e4
      });
      const availablePort = await OpenCodeClient.getAvailablePort();
      const { client: client3, server: server2 } = await createOpencode({
        timeout: config.serverStartupTimeout || 1e4,
        port: availablePort
      });
      log.info("OpenCode server started successfully");
      return new OpenCodeClient(client3, server2, config);
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log.error("Failed to create OpenCodeClient", { error: errorMsg });
      throw new Error(`Failed to create OpenCodeClient: ${errorMsg}`);
    }
  }
  async createSession(prompt) {
    try {
      const result = await this.client.session.create({
        body: {
          title: "ai-eng ralph session"
        }
      });
      if (!result.data) {
        throw new Error(`Failed to create OpenCode session: ${JSON.stringify(result.error)}`);
      }
      const sdkSession = result.data;
      let pendingInitialPrompt = prompt.trim();
      const buildFirstMessage = (message) => {
        if (!pendingInitialPrompt)
          return message;
        const combined = `${pendingInitialPrompt}

---

${message}`;
        pendingInitialPrompt = "";
        return combined;
      };
      const toolInvocations = [];
      const session = {
        id: sdkSession.id || this.generateSessionId(),
        _toolInvocations: toolInvocations,
        sendMessage: async (message) => {
          return this.handleSendMessage(sdkSession.id, buildFirstMessage(message));
        },
        sendMessageStream: async (message) => {
          return this.handleSendMessageStream(sdkSession.id, buildFirstMessage(message), toolInvocations);
        },
        close: async () => {
          return this.handleSessionClose(sdkSession.id);
        }
      };
      this.activeSessions.set(session.id, session);
      return session;
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      throw new Error(`Failed to create OpenCode session: ${errorMessage}`);
    }
  }
  async sendMessage(sessionId, message) {
    const session = this.activeSessions.get(sessionId);
    if (!session) {
      throw new Error(`Session not found: ${sessionId}`);
    }
    return this.handleSendMessage(sessionId, message);
  }
  async closeSession(sessionId) {
    const session = this.activeSessions.get(sessionId);
    if (!session) {
      throw new Error(`Session not found: ${sessionId}`);
    }
    await this.handleSessionClose(sessionId);
    this.activeSessions.delete(sessionId);
  }
  getActiveSessions() {
    return Array.from(this.activeSessions.keys());
  }
  isSessionActive(sessionId) {
    return this.activeSessions.has(sessionId);
  }
  async closeAllSessions() {
    const closePromises = Array.from(this.activeSessions.keys()).map((sessionId) => this.handleSessionClose(sessionId).catch((error) => {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log.warn("Error closing session", {
        sessionId,
        error: errorMsg
      });
    }));
    await Promise.all(closePromises);
    this.activeSessions.clear();
  }
  async handleSendMessageStream(sessionId, message, toolInvocations) {
    let lastError = null;
    const supportsEventStreaming = typeof this.client?.session?.promptAsync === "function" && typeof this.client?.event?.subscribe === "function";
    for (let attempt = 1;attempt <= this.retryAttempts; attempt++) {
      try {
        const stream = new TransformStream;
        const writer = stream.writable.getWriter();
        let finalized = false;
        const closeOnce = async () => {
          if (finalized)
            return;
          finalized = true;
          try {
            await writer.close();
          } catch {}
        };
        const abortOnce = async (err) => {
          if (finalized)
            return;
          finalized = true;
          try {
            await writer.abort(err);
          } catch {}
        };
        if (!supportsEventStreaming) {
          const promptPromise = this.client.session.prompt({
            body: {
              messageID: this.generateMessageId(),
              parts: [
                {
                  type: "text",
                  text: message
                }
              ]
            },
            path: {
              id: sessionId
            },
            query: {
              directory: this.directory
            }
          });
          const streamingTask2 = (async () => {
            try {
              const result = await promptPromise;
              if (!result.data) {
                throw new Error(`Invalid response from OpenCode: ${JSON.stringify(result.error)}`);
              }
              const response = result.data;
              const textPart = response.parts?.find((part) => part.type === "text");
              const finalContent = textPart?.text || "No content received";
              const chunks = this.splitIntoChunks(finalContent, 10);
              const encoder2 = new TextEncoder;
              for (const chunk of chunks) {
                await writer.write(encoder2.encode(chunk));
                await new Promise((resolve) => setTimeout(resolve, 50));
              }
              await closeOnce();
              return { content: finalContent };
            } catch (error) {
              await abortOnce(error);
              throw error;
            }
          })();
          return {
            stream: stream.readable,
            complete: streamingTask2
          };
        }
        const encoder = new TextEncoder;
        const idleTimeoutError = new Error(`Prompt idle timeout after ${this.promptTimeout}ms`);
        const hardTimeoutError = new Error(`Prompt hard timeout after ${this.promptTimeout * 5}ms`);
        const controller = new AbortController;
        let idleTimer;
        let hardTimer;
        let bytesWritten = 0;
        let lastProgressTime = Date.now();
        let idleTimedOut = false;
        const startHardTimer = () => {
          if (hardTimer)
            clearTimeout(hardTimer);
          hardTimer = setTimeout(() => {
            log.warn("Hard timeout reached, aborting", {
              sessionId,
              timeoutMs: this.promptTimeout * 5
            });
            try {
              controller.abort(hardTimeoutError);
            } catch {}
          }, this.promptTimeout * 5);
        };
        const resetIdleTimer = () => {
          if (idleTimer)
            clearTimeout(idleTimer);
          idleTimer = setTimeout(() => {
            idleTimedOut = true;
            log.warn("Idle timeout reached, aborting", {
              sessionId,
              timeoutMs: this.promptTimeout,
              bytesWritten,
              lastProgressMsAgo: Date.now() - lastProgressTime
            });
            try {
              controller.abort(idleTimeoutError);
            } catch {}
          }, this.promptTimeout);
        };
        const streamingTask = (async () => {
          let assistantMessageId = null;
          try {
            startHardTimer();
            resetIdleTimer();
            const userMessageId = this.generateMessageId();
            log.debug("Sending prompt to OpenCode", {
              sessionId,
              messageLength: message.length,
              userMessageId
            });
            await this.client.session.promptAsync({
              body: {
                messageID: userMessageId,
                parts: [
                  {
                    type: "text",
                    text: message
                  }
                ]
              },
              path: {
                id: sessionId
              },
              query: {
                directory: this.directory
              },
              signal: controller.signal
            });
            log.debug("Subscribing to events", {
              sessionId,
              directory: this.directory
            });
            const eventsResult = await this.client.event.subscribe({
              query: {
                directory: this.directory
              },
              signal: controller.signal
            });
            let content = "";
            let emittedText = "";
            let eventCount = 0;
            log.debug("Starting event stream processing", {
              sessionId
            });
            for await (const event of eventsResult.stream) {
              eventCount++;
              log.debug("Received event", {
                sessionId,
                eventType: event?.type,
                eventCount,
                hasProperties: !!event?.properties,
                controllerAborted: controller.signal.aborted
              });
              if (controller.signal.aborted) {
                log.debug("Controller aborted, breaking event loop", {
                  sessionId,
                  eventCount
                });
                break;
              }
              if (!event || typeof event !== "object") {
                log.debug("Skipping non-object event", {
                  sessionId,
                  eventCount
                });
                continue;
              }
              if (event.type === "message.updated") {
                const info = event.properties?.info;
                log.debug("Message updated event", {
                  sessionId,
                  eventCount,
                  infoRole: info?.role,
                  infoSessionId: info?.sessionID,
                  infoParentId: info?.parentID,
                  infoId: info?.id,
                  isRelevantSession: info?.sessionID === sessionId,
                  isAssistant: info?.role === "assistant",
                  isReplyToUser: info?.parentID === userMessageId
                });
                if (info?.role === "assistant" && info?.sessionID === sessionId && info?.parentID === userMessageId) {
                  assistantMessageId = info.id;
                  log.debug("Identified assistant message (exact parentID match)", {
                    sessionId,
                    assistantMessageId
                  });
                } else if (!assistantMessageId && info?.role === "assistant" && info?.sessionID === sessionId) {
                  log.debug("Identified assistant message (fallback - no exact parentID match)", {
                    sessionId,
                    assistantMessageId: info.id,
                    infoParentId: info?.parentID,
                    userMessageId
                  });
                  assistantMessageId = info.id;
                }
                if (info?.role === "assistant" && info?.sessionID === sessionId) {
                  lastProgressTime = Date.now();
                  resetIdleTimer();
                }
                if (assistantMessageId && info?.id === assistantMessageId) {
                  if (info?.error) {
                    const errName = info.error.name || "OpenCodeError";
                    const errMsg = info.error.data?.message || JSON.stringify(info.error.data || {});
                    log.error("Assistant error in message", {
                      sessionId,
                      errorName: errName,
                      errorMessage: errMsg
                    });
                    throw new Error(`${errName}: ${errMsg}`);
                  }
                  if (info?.time?.completed) {
                    log.debug("Assistant message completed", {
                      sessionId,
                      assistantMessageId,
                      completedAt: info.time.completed
                    });
                    break;
                  }
                }
                continue;
              }
              if (event.type === "message.part.updated") {
                const part = event.properties?.part;
                log.debug("Message part updated", {
                  sessionId,
                  eventCount,
                  hasPart: !!part,
                  partType: part?.type,
                  partSessionId: part?.sessionID,
                  partMessageId: part?.messageID,
                  assistantMessageId,
                  isRelevant: assistantMessageId && part?.sessionID === sessionId && part?.messageID === assistantMessageId
                });
                if (!assistantMessageId)
                  continue;
                if (part?.type === "tool" && toolInvocations) {
                  const toolId = part.toolId || part.id || `tool-${eventCount}`;
                  const toolName = part.toolName || part.name || "unknown";
                  const toolInput = part.input || part.parameters || {};
                  const existingToolIndex = toolInvocations.findIndex((t) => t.id === toolId);
                  const now = new Date().toISOString();
                  if (existingToolIndex >= 0) {
                    const existing = toolInvocations[existingToolIndex];
                    existing.output = part.result ?? part.output ?? existing.output;
                    existing.status = part.status === "error" ? "error" : "ok";
                    existing.error = part.error ?? existing.error;
                    existing.completedAt = part.completedAt ?? now;
                    log.debug("Tool invocation updated", {
                      sessionId,
                      toolId,
                      toolName,
                      status: existing.status
                    });
                  } else {
                    const toolInvocation = {
                      id: toolId,
                      name: toolName,
                      input: toolInput,
                      output: part.result ?? part.output,
                      status: part.status === "error" ? "error" : "ok",
                      error: part.error,
                      startedAt: part.startedAt ?? now,
                      completedAt: part.completedAt
                    };
                    toolInvocations.push(toolInvocation);
                    log.debug("Tool invocation started", {
                      sessionId,
                      toolId,
                      toolName,
                      input: JSON.stringify(toolInput).slice(0, 200)
                    });
                  }
                  if (part.sessionID !== sessionId || part.messageID !== assistantMessageId) {} else {
                    lastProgressTime = Date.now();
                    resetIdleTimer();
                  }
                  continue;
                }
                if (!part || part.type !== "text")
                  continue;
                if (part.sessionID !== sessionId)
                  continue;
                if (part.messageID !== assistantMessageId)
                  continue;
                const rawDelta = event.properties?.delta;
                let deltaText;
                if (typeof part.text === "string") {
                  const next = part.text;
                  if (next.startsWith(emittedText)) {
                    deltaText = next.slice(emittedText.length);
                    emittedText = next;
                  } else if (emittedText.startsWith(next)) {
                    deltaText = "";
                  } else {
                    deltaText = next;
                    emittedText += next;
                  }
                } else if (typeof rawDelta === "string") {
                  deltaText = rawDelta;
                  emittedText += rawDelta;
                }
                if (!deltaText)
                  continue;
                lastProgressTime = Date.now();
                bytesWritten += deltaText.length;
                resetIdleTimer();
                log.debug("Writing delta to stream", {
                  sessionId,
                  deltaLength: deltaText.length,
                  totalBytesWritten: bytesWritten,
                  contentLength: content.length
                });
                content += deltaText;
                await writer.write(encoder.encode(deltaText));
              }
            }
            log.debug("Event stream ended", {
              sessionId,
              eventCount,
              totalBytesWritten: bytesWritten,
              contentLength: content.length,
              controllerAborted: controller.signal.aborted,
              idleTimedOut,
              assistantMessageIdFound: !!assistantMessageId
            });
            await closeOnce();
            return {
              content: content || "No content received",
              diagnostics: {
                bytesWritten,
                contentLength: content.length,
                idleTimedOut,
                assistantMessageIdFound: !!assistantMessageId,
                eventCount
              }
            };
          } catch (error) {
            log.error("Streaming task error", {
              sessionId,
              error: error instanceof Error ? error.message : String(error),
              controllerAborted: controller.signal.aborted,
              bytesWritten,
              idleTimedOut,
              assistantMessageIdFound: !!assistantMessageId
            });
            if (controller.signal.aborted) {
              await abortOnce(idleTimeoutError);
              throw idleTimeoutError;
            }
            await abortOnce(error);
            throw error;
          } finally {
            if (idleTimer)
              clearTimeout(idleTimer);
            if (hardTimer)
              clearTimeout(hardTimer);
            try {
              if (!controller.signal.aborted)
                controller.abort();
            } catch {}
          }
        })();
        return {
          stream: stream.readable,
          complete: streamingTask
        };
      } catch (error) {
        lastError = error instanceof Error ? error : new Error(String(error));
        const isRateLimit = this.isRateLimitError(lastError);
        if (attempt === this.retryAttempts) {
          break;
        }
        const delay = this.getBackoffDelay(attempt, isRateLimit);
        log.warn("OpenCode attempt failed; retrying", {
          attempt,
          retryAttempts: this.retryAttempts,
          delayMs: delay,
          isRateLimit,
          error: lastError.message
        });
        await new Promise((resolve) => setTimeout(resolve, delay));
      }
    }
    throw new Error(`Failed to stream message after ${this.retryAttempts} attempts: ${lastError?.message || "Unknown error"}`);
  }
  splitIntoChunks(text, chunkSize) {
    const chunks = [];
    for (let i = 0;i < text.length; i += chunkSize) {
      chunks.push(text.slice(i, i + chunkSize));
    }
    return chunks.length > 0 ? chunks : [text];
  }
  async handleSendMessage(sessionId, message) {
    let lastError = null;
    for (let attempt = 1;attempt <= this.retryAttempts; attempt++) {
      try {
        const timeoutError = new Error(`Prompt timeout after ${this.promptTimeout}ms`);
        const controller = new AbortController;
        const timer = setTimeout(() => {
          try {
            controller.abort(timeoutError);
          } catch {}
        }, this.promptTimeout);
        let result;
        try {
          result = await this.client.session.prompt({
            body: {
              messageID: this.generateMessageId(),
              parts: [
                {
                  type: "text",
                  text: message
                }
              ]
            },
            path: {
              id: sessionId
            },
            query: {
              directory: this.directory
            },
            signal: controller.signal
          });
        } catch (error) {
          if (controller.signal.aborted) {
            throw timeoutError;
          }
          throw error;
        } finally {
          clearTimeout(timer);
        }
        if (!result.data) {
          throw new Error(`Invalid response from OpenCode: ${JSON.stringify(result.error)}`);
        }
        const response = result.data;
        const textPart = response.parts?.find((part) => part.type === "text");
        return { content: textPart?.text || "No content received" };
      } catch (error) {
        lastError = error instanceof Error ? error : new Error(String(error));
        const isRateLimit = this.isRateLimitError(lastError);
        if (attempt === this.retryAttempts) {
          break;
        }
        const delay = this.getBackoffDelay(attempt, isRateLimit);
        log.warn("OpenCode attempt failed; retrying", {
          attempt,
          retryAttempts: this.retryAttempts,
          delayMs: delay,
          isRateLimit,
          error: lastError.message
        });
        await new Promise((resolve) => setTimeout(resolve, delay));
      }
    }
    throw new Error(`Failed to send message after ${this.retryAttempts} attempts: ${lastError?.message || "Unknown error"}`);
  }
  isRateLimitError(error) {
    const err = error;
    return err.status === 429 || /rate limit|quota|overloaded|capacity/i.test(error.message);
  }
  getBackoffDelay(attempt, isRateLimit) {
    const base = isRateLimit ? 5000 : 1000;
    const exponential = base * 2 ** (attempt - 1);
    const jitter = Math.random() * 1000;
    return Math.min(exponential + jitter, 60000);
  }
  async handleSessionClose(sessionId) {
    try {
      log.debug("Session closed", { sessionId });
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      log.warn("Failed to close session", {
        sessionId,
        error: errorMessage
      });
    }
  }
  generateSessionId() {
    return `session-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
  }
  generateMessageId() {
    return `msg_${Date.now()}_${Math.random().toString(36).substring(2, 8)}`;
  }
  async cleanup() {
    try {
      log.debug("Starting cleanup...", {
        activeSessions: this.activeSessions.size,
        hasServer: !!this.server
      });
      await this.closeAllSessions();
      if (this.server) {
        log.info("Closing spawned OpenCode server");
        try {
          this.server.close();
          this.server = null;
          log.info("OpenCode server closed successfully");
        } catch (error) {
          const errorMsg = error instanceof Error ? error.message : String(error);
          log.error("Error closing OpenCode server", {
            error: errorMsg
          });
        }
      } else {
        log.debug("No spawned server to close (connected to existing server)");
      }
      log.info("Cleanup complete");
      return;
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log.error("Error during OpenCode client cleanup", {
        error: errorMsg
      });
      return;
    }
  }
}

// src/execution/ralph-loop.ts
import { execSync } from "node:child_process";
import { createHash } from "node:crypto";
import { readFile as readFile2, readdir } from "node:fs/promises";
import { join as join3 } from "node:path";
init_ui();

// src/prompt-optimization/analyzer.ts
var COMPLEXITY_KEYWORDS = {
  debug: ["debug", "fix", "error", "bug", "issue", "problem", "troubleshoot"],
  design: [
    "design",
    "architecture",
    "architect",
    "structure",
    "pattern",
    "approach"
  ],
  optimize: [
    "optimize",
    "improve",
    "performance",
    "efficient",
    "fast",
    "scale"
  ],
  implement: ["implement", "build", "create", "develop", "write", "code"],
  complex: ["complex", "challenge", "difficult", "advanced", "sophisticated"]
};
var DOMAIN_KEYWORDS = {
  security: [
    "auth",
    "authentication",
    "jwt",
    "oauth",
    "password",
    "encrypt",
    "decrypt",
    "security",
    "token",
    "session",
    "csrf",
    "xss",
    "injection",
    "vulnerability",
    "hack",
    "attack"
  ],
  frontend: [
    "react",
    "vue",
    "angular",
    "component",
    "css",
    "html",
    "ui",
    "ux",
    "render",
    "state",
    "hook",
    "props",
    "dom",
    "frontend",
    "client"
  ],
  backend: [
    "api",
    "server",
    "endpoint",
    "database",
    "query",
    "backend",
    "service",
    "microservice",
    "rest",
    "graphql",
    "http",
    "request",
    "response"
  ],
  database: [
    "sql",
    "postgresql",
    "mysql",
    "mongodb",
    "redis",
    "query",
    "index",
    "schema",
    "migration",
    "database",
    "db",
    "join",
    "transaction",
    "orm"
  ],
  devops: [
    "deploy",
    "ci/cd",
    "docker",
    "kubernetes",
    "k8s",
    "pipeline",
    "infrastructure",
    "aws",
    "gcp",
    "azure",
    "terraform",
    "ansible",
    "jenkins",
    "devops",
    "ops"
  ],
  architecture: [
    "architecture",
    "design",
    "pattern",
    "microservices",
    "monolith",
    "scalability",
    "system",
    "distributed",
    "architect",
    "high-level"
  ],
  testing: [
    "test",
    "spec",
    "unit test",
    "integration test",
    "e2e",
    "jest",
    "cypress",
    "playwright",
    "testing",
    "tdd",
    "coverage",
    "mock",
    "stub"
  ],
  general: []
};
var SIMPLE_PATTERNS = [
  /^(hello|hi|hey|greetings|good morning|good evening)/i,
  /^(thanks|thank you|thx)/i,
  /^(yes|no|ok|sure|alright)/i,
  /^(what|how|why|when|where|who|which)\s+\w+\??$/i,
  /^(help|assist)\s*$/i
];
function calculateComplexityScore(prompt) {
  const words = prompt.split(/\s+/);
  const wordCount = words.length;
  let score = 0;
  if (wordCount < 5)
    score += 0;
  else if (wordCount < 10)
    score += 3;
  else if (wordCount < 20)
    score += 6;
  else
    score += 10;
  const lowerPrompt = prompt.toLowerCase();
  for (const category of Object.values(COMPLEXITY_KEYWORDS)) {
    for (const keyword of category) {
      if (lowerPrompt.includes(keyword)) {
        score += 2;
        break;
      }
    }
  }
  const questionMarks = (prompt.match(/\?/g) || []).length;
  score -= Math.min(questionMarks * 2, 5);
  const techTerms = words.filter((word) => {
    const lower = word.toLowerCase();
    return /\w{4,}/.test(word) && !["this", "that", "with", "from", "into"].includes(lower);
  });
  score += Math.min(techTerms.length * 0.5, 5);
  return Math.max(0, Math.min(20, score));
}
function scoreToComplexity(score) {
  if (score < 5)
    return "simple";
  if (score < 12)
    return "medium";
  return "complex";
}
function isSimplePrompt(prompt) {
  for (const pattern of SIMPLE_PATTERNS) {
    if (pattern.test(prompt.trim())) {
      return true;
    }
  }
  return false;
}
function detectDomain(prompt) {
  const lowerPrompt = prompt.toLowerCase();
  const scores = {
    security: 0,
    frontend: 0,
    backend: 0,
    database: 0,
    devops: 0,
    architecture: 0,
    testing: 0,
    general: 0
  };
  for (const [domain, keywords] of Object.entries(DOMAIN_KEYWORDS)) {
    for (const keyword of keywords) {
      if (lowerPrompt.includes(keyword)) {
        scores[domain]++;
      }
    }
  }
  let bestDomain = "general";
  let bestScore = 0;
  for (const [domain, score] of Object.entries(scores)) {
    if (score > bestScore) {
      bestScore = score;
      bestDomain = domain;
    }
  }
  return bestDomain;
}
function extractKeywords(prompt) {
  const keywords = [];
  const lowerPrompt = prompt.toLowerCase();
  for (const [category, terms] of Object.entries(COMPLEXITY_KEYWORDS)) {
    for (const term of terms) {
      if (lowerPrompt.includes(term) && !keywords.includes(term)) {
        keywords.push(term);
      }
    }
  }
  for (const [domain, terms] of Object.entries(DOMAIN_KEYWORDS)) {
    for (const term of terms) {
      if (lowerPrompt.includes(term) && !keywords.includes(term)) {
        keywords.push(term);
      }
    }
  }
  return keywords;
}
function identifyMissingContext(prompt, domain) {
  const missing = [];
  const lowerPrompt = prompt.toLowerCase();
  if (lowerPrompt.includes("fix") || lowerPrompt.includes("debug") || lowerPrompt.includes("error")) {
    if (!lowerPrompt.includes("error") && !lowerPrompt.includes("exception")) {
      missing.push("error message or stack trace");
    }
    if (!/\.(js|ts|py|go|java|rb|php)/i.test(prompt)) {
      missing.push("file or code location");
    }
  }
  const techKeywords = [
    "javascript",
    "typescript",
    "python",
    "go",
    "java",
    "rust",
    "react",
    "vue",
    "angular",
    "node",
    "express",
    "django",
    "flask"
  ];
  const hasTech = techKeywords.some((tech) => lowerPrompt.includes(tech));
  if (!hasTech && !/\.(js|ts|py|go|java|rb|php)/i.test(prompt)) {
    missing.push("technology stack");
  }
  if (domain === "security") {
    if (!lowerPrompt.includes("jwt") && !lowerPrompt.includes("oauth") && !lowerPrompt.includes("session")) {
      missing.push("authentication method (JWT, OAuth, session, etc.)");
    }
  }
  if (domain === "database") {
    if (!lowerPrompt.includes("sql") && !lowerPrompt.includes("mysql") && !lowerPrompt.includes("postgresql") && !lowerPrompt.includes("mongodb")) {
      missing.push("database type");
    }
    if (!lowerPrompt.includes("index")) {
      missing.push("index information");
    }
  }
  return missing;
}
function suggestTechniques(complexity, domain) {
  const techniques = [];
  techniques.push("analysis");
  if (complexity === "medium" || complexity === "complex") {
    techniques.push("expert_persona");
  }
  if (complexity === "medium" || complexity === "complex") {
    techniques.push("reasoning_chain");
  }
  if (complexity === "medium" || complexity === "complex") {
    techniques.push("stakes_language");
  }
  if (complexity === "complex") {
    techniques.push("challenge_framing");
  }
  if (complexity === "medium" || complexity === "complex") {
    techniques.push("self_evaluation");
  }
  return techniques;
}
function analyzePrompt(prompt) {
  if (isSimplePrompt(prompt)) {
    return {
      complexity: "simple",
      domain: "general",
      keywords: [],
      missingContext: [],
      suggestedTechniques: ["analysis"]
    };
  }
  const complexityScore = calculateComplexityScore(prompt);
  const complexity = scoreToComplexity(complexityScore);
  const domain = detectDomain(prompt);
  const keywords = extractKeywords(prompt);
  const missingContext = identifyMissingContext(prompt, domain);
  const suggestedTechniques = suggestTechniques(complexity, domain);
  return {
    complexity,
    domain,
    keywords,
    missingContext,
    suggestedTechniques
  };
}

// src/prompt-optimization/techniques.ts
var expertPersona = {
  id: "expert_persona",
  name: "Expert Persona",
  description: "Assigns a detailed expert role with years of experience and notable companies",
  researchBasis: "Kong et al. 2023: 24%  84% accuracy improvement",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    if (context.preferences.customPersonas[context.domain]) {
      return context.preferences.customPersonas[context.domain];
    }
    const personas = {
      security: "You are a senior security engineer with 15+ years of authentication and cryptography experience. You have worked at Auth0, Okta, and AWS IAM, building production-grade authentication systems handling millions of users.",
      frontend: "You are a senior frontend architect with 12+ years of React, Vue, and TypeScript experience. You have built large-scale applications at Vercel, Stripe, and Airbnb, focusing on performance, accessibility, and developer experience.",
      backend: "You are a senior backend engineer with 15+ years of distributed systems and API design experience. You have built microservices architectures at Netflix, Google, and Stripe, handling billions of requests.",
      database: "You are a senior database architect with 15+ years of PostgreSQL, MySQL, and distributed database experience. You have optimized databases at CockroachDB, PlanetScale, and AWS, handling petabytes of data.",
      devops: "You are a senior platform engineer with 12+ years of Kubernetes, CI/CD, and infrastructure experience. You have built deployment pipelines at GitLab, CircleCI, and AWS, managing thousands of services.",
      architecture: "You are a principal software architect with 20+ years of system design experience. You have architected large-scale systems at Amazon, Microsoft, and Google, handling complex requirements and constraints.",
      testing: "You are a senior QA architect with 12+ years of test automation and quality engineering experience. You have built testing frameworks at Selenium, Cypress, and Playwright, ensuring production quality.",
      general: "You are a senior software engineer with 15+ years of full-stack development experience. You have built production applications at top technology companies, following best practices and industry standards."
    };
    return personas[context.domain] || personas.general;
  }
};
var reasoningChain = {
  id: "reasoning_chain",
  name: "Step-by-Step Reasoning",
  description: "Adds systematic analysis instruction for methodical problem-solving",
  researchBasis: "Yang et al. 2023 (Google DeepMind): 34%  80% accuracy",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    const baseInstruction = "Take a deep breath and analyze this step by step.";
    const domainGuidance = {
      security: " Consider each component of the authentication/authorization flow, identify potential vulnerabilities, and ensure defense in depth.",
      frontend: " Consider component hierarchy, state management, performance implications, and accessibility requirements.",
      backend: " Consider API design, data flow, error handling, scalability, and edge cases.",
      database: " Consider query execution plans, indexing strategies, data consistency, and performance implications.",
      devops: " Consider infrastructure as code, deployment strategies, monitoring, and rollback procedures.",
      architecture: " Consider system constraints, trade-offs, scalability, reliability, and maintainability.",
      testing: " Consider test coverage, edge cases, integration points, and test maintainability.",
      general: " Consider each component systematically, identify dependencies, and ensure thorough coverage."
    };
    return baseInstruction + (domainGuidance[context.domain] || domainGuidance.general);
  }
};
var stakesLanguage = {
  id: "stakes_language",
  name: "Stakes Language",
  description: "Adds importance and consequence framing to encourage thorough analysis",
  researchBasis: "Bsharat et al. 2023 (MBZUAI): +45% quality improvement",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    const stakes = {
      security: "This is critical to production security. A thorough, secure solution is essential to protect users and data.",
      frontend: "This directly impacts user experience and business metrics. Quality, performance, and accessibility are essential.",
      backend: "This affects system reliability and scalability. A robust, performant solution is essential for production.",
      database: "This impacts data integrity and system performance. An optimized, reliable solution is essential.",
      devops: "This affects deployment reliability and system stability. A well-tested, safe solution is essential for production.",
      architecture: "This affects long-term system maintainability and scalability. A well-designed solution is essential.",
      testing: "This affects production quality and user experience. Comprehensive testing is essential to prevent regressions.",
      general: "This is important for the project's success. A thorough, complete solution is essential."
    };
    return stakes[context.domain] || stakes.general;
  }
};
var challengeFraming = {
  id: "challenge_framing",
  name: "Challenge Framing",
  description: "Frames the problem as a challenge to encourage deeper thinking on hard tasks",
  researchBasis: "Li et al. 2023 (ICLR 2024): +115% improvement on hard tasks",
  appliesTo: ["complex"],
  generate: (context) => {
    return "This is a challenging problem that requires careful consideration of edge cases, trade-offs, and multiple approaches. Don't settle for the first solution - explore alternatives and justify your choices.";
  }
};
var selfEvaluation = {
  id: "self_evaluation",
  name: "Self-Evaluation Request",
  description: "Requests confidence rating and assumption identification for quality assurance",
  researchBasis: "Improves response calibration and identifies uncertainties",
  appliesTo: ["medium", "complex"],
  generate: (context) => {
    let evaluation = "After providing your solution:";
    evaluation += `

1. Rate your confidence in this solution from 0-1.`;
    evaluation += `
2. Identify any assumptions you made.`;
    evaluation += `
3. Note any limitations or potential issues.`;
    if (context.domain === "security" || context.domain === "database" || context.domain === "devops") {
      evaluation += `
4. Suggest how to test or validate this solution.`;
    }
    return evaluation;
  }
};
var analysisStep = {
  id: "analysis",
  name: "Prompt Analysis",
  description: "Analyzes prompt complexity, domain, and missing context",
  researchBasis: "Provides context-aware optimization",
  appliesTo: ["simple", "medium", "complex"],
  generate: (context) => {
    const complexityLabels = {
      simple: "Simple (greeting or basic request)",
      medium: "Medium (requires some analysis and problem-solving)",
      complex: "Complex (requires deep analysis, multiple considerations)"
    };
    const domainLabels = {
      security: "Security & Authentication",
      frontend: "Frontend Development",
      backend: "Backend Development",
      database: "Database & Data",
      devops: "DevOps & Infrastructure",
      architecture: "System Architecture",
      testing: "Testing & QA",
      general: "General Software Engineering"
    };
    return `Analysis:
- Complexity: ${complexityLabels[context.complexity]}
- Domain: ${domainLabels[context.domain] || domainLabels.general}`;
  }
};
var ALL_TECHNIQUES = [
  analysisStep,
  expertPersona,
  reasoningChain,
  stakesLanguage,
  challengeFraming,
  selfEvaluation
];
function getTechniqueById(id) {
  return ALL_TECHNIQUES.find((t) => t.id === id);
}

// src/prompt-optimization/optimizer.ts
function generateId() {
  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
}
var DEFAULT_CONFIG2 = {
  enabled: true,
  autoApprove: false,
  verbosity: "normal",
  defaultTechniques: [
    "analysis",
    "expert_persona",
    "reasoning_chain",
    "stakes_language",
    "self_evaluation"
  ],
  skipForSimplePrompts: false,
  escapePrefix: "!"
};
var DEFAULT_PREFERENCES = {
  skipTechniques: [],
  customPersonas: {
    security: "",
    frontend: "",
    backend: "",
    database: "",
    devops: "",
    architecture: "",
    testing: "",
    general: ""
  },
  autoApproveDefault: false,
  verbosityDefault: "normal"
};

class PromptOptimizer {
  config;
  preferences;
  constructor(config = {}, preferences = {}) {
    this.config = { ...DEFAULT_CONFIG2, ...config };
    this.preferences = { ...DEFAULT_PREFERENCES, ...preferences };
  }
  updateConfig(updates) {
    this.config = { ...this.config, ...updates };
  }
  updatePreferences(updates) {
    this.preferences = { ...this.preferences, ...updates };
  }
  getConfig() {
    return { ...this.config };
  }
  getPreferences() {
    return { ...this.preferences };
  }
  shouldSkipOptimization(prompt) {
    return prompt.startsWith(this.config.escapePrefix);
  }
  stripEscapePrefix(prompt) {
    return prompt.slice(this.config.escapePrefix.length).trim();
  }
  shouldSkipForComplexity(complexity) {
    if (!this.config.skipForSimplePrompts) {
      return false;
    }
    return complexity === "simple";
  }
  createSession(prompt) {
    if (this.shouldSkipOptimization(prompt)) {
      const stripped = this.stripEscapePrefix(prompt);
      return {
        id: generateId(),
        originalPrompt: stripped,
        complexity: "simple",
        domain: "general",
        steps: [],
        finalPrompt: stripped,
        verbosity: this.config.verbosity,
        autoApprove: this.config.autoApprove,
        preferences: this.preferences,
        createdAt: new Date
      };
    }
    const analysis = analyzePrompt(prompt);
    if (this.shouldSkipForComplexity(analysis.complexity)) {
      return {
        id: generateId(),
        originalPrompt: prompt,
        complexity: analysis.complexity,
        domain: analysis.domain,
        steps: [],
        finalPrompt: prompt,
        verbosity: this.config.verbosity,
        autoApprove: this.config.autoApprove,
        preferences: this.preferences,
        createdAt: new Date
      };
    }
    const steps = this.generateSteps(analysis);
    const finalPrompt = this.buildFinalPrompt(prompt, steps);
    return {
      id: generateId(),
      originalPrompt: prompt,
      complexity: analysis.complexity,
      domain: analysis.domain,
      steps,
      finalPrompt,
      verbosity: this.config.verbosity,
      autoApprove: this.config.autoApprove,
      preferences: this.preferences,
      createdAt: new Date
    };
  }
  generateSteps(analysis) {
    const steps = [];
    let stepId = 1;
    for (const techniqueId of analysis.suggestedTechniques) {
      if (this.preferences.skipTechniques.includes(techniqueId)) {
        continue;
      }
      const technique = getTechniqueById(techniqueId);
      if (!technique) {
        continue;
      }
      const context = {
        originalPrompt: "",
        complexity: analysis.complexity,
        domain: analysis.domain,
        previousSteps: steps,
        preferences: this.preferences
      };
      steps.push({
        id: stepId++,
        technique: techniqueId,
        name: technique.name,
        description: technique.description,
        content: technique.generate(context),
        status: "pending",
        skippable: techniqueId !== "analysis",
        appliesTo: technique.appliesTo,
        researchBasis: technique.researchBasis
      });
    }
    if (this.config.autoApprove) {
      for (const step of steps) {
        step.status = "approved";
      }
    }
    return steps;
  }
  buildFinalPrompt(originalPrompt, steps) {
    const approvedSteps = steps.filter((s) => s.status === "approved" || s.status === "modified");
    if (approvedSteps.length === 0) {
      return originalPrompt;
    }
    const parts = [];
    for (const step of approvedSteps) {
      const content = step.modifiedContent || step.content;
      if (content) {
        parts.push(content);
      }
    }
    parts.push(`

Task: ${originalPrompt}`);
    return parts.join(`

`);
  }
  updateFinalPrompt(session) {
    session.finalPrompt = this.buildFinalPrompt(session.originalPrompt, session.steps);
  }
  approveStep(session, stepId) {
    const step = session.steps.find((s) => s.id === stepId);
    if (step) {
      step.status = "approved";
      this.updateFinalPrompt(session);
    }
  }
  rejectStep(session, stepId) {
    const step = session.steps.find((s) => s.id === stepId);
    if (step) {
      step.status = "rejected";
      this.updateFinalPrompt(session);
    }
  }
  modifyStep(session, stepId, newContent) {
    const step = session.steps.find((s) => s.id === stepId);
    if (step) {
      step.modifiedContent = newContent;
      step.status = "modified";
      this.updateFinalPrompt(session);
    }
  }
  approveAll(session) {
    for (const step of session.steps) {
      if (step.status === "pending") {
        step.status = "approved";
      }
    }
    this.updateFinalPrompt(session);
  }
  skipOptimization(session) {
    for (const step of session.steps) {
      if (step.technique !== "analysis") {
        step.status = "rejected";
      }
    }
    this.updateFinalPrompt(session);
  }
  saveSkipPreference(techniqueId) {
    if (!this.preferences.skipTechniques.includes(techniqueId)) {
      this.preferences.skipTechniques.push(techniqueId);
    }
  }
  saveCustomPersona(domain, persona) {
    this.preferences.customPersonas[domain] = persona;
  }
  toggleAutoApprove(enabled) {
    this.config.autoApprove = enabled !== undefined ? enabled : !this.config.autoApprove;
  }
  setVerbosity(verbosity) {
    this.config.verbosity = verbosity;
  }
  calculateExpectedImprovement(session) {
    const approvedTechniques = session.steps.filter((s) => s.status === "approved" || s.status === "modified");
    const techniquesApplied = approvedTechniques.map((s) => s.technique);
    const improvementMap = {
      analysis: 5,
      expert_persona: 60,
      reasoning_chain: 46,
      stakes_language: 45,
      challenge_framing: 115,
      self_evaluation: 10
    };
    let totalImprovement = 0;
    for (const techniqueId of techniquesApplied) {
      totalImprovement += improvementMap[techniqueId] || 0;
    }
    const effectiveImprovement = Math.min(totalImprovement, 150);
    return {
      qualityImprovement: effectiveImprovement,
      techniquesApplied,
      researchBasis: "Combined research-backed techniques (MBZUAI, Google DeepMind, ICLR 2024)"
    };
  }
  getSessionSummary(session) {
    const improvement = this.calculateExpectedImprovement(session);
    const approvedCount = session.steps.filter((s) => s.status === "approved" || s.status === "modified").length;
    return `Optimization Session ${session.id}
` + `  Complexity: ${session.complexity}
` + `  Domain: ${session.domain}
` + `  Steps Applied: ${approvedCount}/${session.steps.length}
` + `  Expected Improvement: ~${improvement.qualityImprovement}%`;
  }
}

// src/util/discord-webhook.ts
var log2 = Log.create({ service: "discord-webhook" });

class DiscordWebhookClient {
  webhookUrl;
  username;
  avatarUrl;
  enabled = false;
  constructor(options) {
    this.webhookUrl = options.webhookUrl;
    this.username = options.username ?? "Ralph";
    this.avatarUrl = options.avatarUrl;
    this.enabled = true;
    if (!this.webhookUrl || !this.isValidWebhookUrl(this.webhookUrl)) {
      log2.warn("Invalid Discord webhook URL, notifications disabled", {
        webhookUrl: this.maskWebhookUrl(this.webhookUrl)
      });
      this.enabled = false;
    }
    log2.info("Discord webhook client initialized", {
      enabled: this.enabled,
      username: this.username
    });
  }
  isValidWebhookUrl(url) {
    return /^https:\/\/discord(?:app)?\.com\/api\/webhooks\/\d+\/[a-zA-Z0-9_-]+$/.test(url);
  }
  maskWebhookUrl(url) {
    if (!url)
      return "(not set)";
    return url.replace(/\/[a-zA-Z0-9_-]+$/, "/********");
  }
  async send(message) {
    if (!this.enabled) {
      log2.debug("Discord notifications disabled, skipping send");
      return false;
    }
    try {
      const payload = {
        content: message.content,
        username: message.username ?? this.username,
        avatarUrl: message.avatarUrl ?? this.avatarUrl,
        tts: message.tts ?? false,
        embeds: message.embeds
      };
      log2.debug("Sending Discord notification", {
        hasContent: !!message.content,
        embedCount: message.embeds?.length ?? 0
      });
      const response = await fetch(this.webhookUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      });
      if (!response.ok) {
        const errorText = await response.text();
        log2.error("Discord webhook request failed", {
          status: response.status,
          statusText: response.statusText,
          error: errorText
        });
        return false;
      }
      log2.debug("Discord notification sent successfully");
      return true;
    } catch (error) {
      log2.error("Failed to send Discord notification", {
        error: error instanceof Error ? error.message : String(error)
      });
      return false;
    }
  }
  async notify(content) {
    return this.send({ content });
  }
  async notifyWithEmbed(embed, content) {
    return this.send({
      content,
      embeds: [embed]
    });
  }
  async notifyCycleStart(cycleNumber, maxCycles, prompt) {
    const embed = {
      title: `\uD83D\uDD04 Cycle ${cycleNumber}/${maxCycles} Started`,
      description: `\`\`\`
${prompt.slice(0, 500)}${prompt.length > 500 ? "..." : ""}
\`\`\``,
      color: 5793266,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDCCB Phase",
          value: "Research  Specify  Plan  Work  Review",
          inline: true
        },
        {
          name: " Status",
          value: "Running",
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, `\uD83D\uDE80 **Ralph Cycle ${cycleNumber}/${maxCycles} Started**`);
  }
  async notifyCycleComplete(cycleNumber, completedCycles, summary, durationMs) {
    const durationMinutes = Math.floor(durationMs / 60000);
    const durationSeconds = Math.floor(durationMs % 60000 / 1000);
    const embed = {
      title: ` Cycle ${cycleNumber} Completed`,
      description: summary.slice(0, 2000) || "No summary available",
      color: 5763719,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDCCA Progress",
          value: `${completedCycles} cycles completed`,
          inline: true
        },
        {
          name: " Duration",
          value: `${durationMinutes}m ${durationSeconds}s`,
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, ` **Ralph Cycle ${cycleNumber} Complete**`);
  }
  async notifyPhaseComplete(cycleNumber, phase, summary) {
    const embed = {
      title: `\uD83D\uDCDD Phase Complete: ${phase}`,
      description: summary.slice(0, 1000),
      color: 16705372,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDD04 Cycle",
          value: String(cycleNumber),
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed);
  }
  async notifyError(cycleNumber, phase, error) {
    const embed = {
      title: ` Error in Cycle ${cycleNumber}`,
      description: `**Phase:** ${phase}

**Error:**
\`\`\`
${error.slice(0, 1500)}
\`\`\``,
      color: 15548997,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, "\uD83D\uDEA8 **Ralph Error**");
  }
  async notifyTimeout(cycleNumber, phase, timeoutMs) {
    const timeoutMinutes = Math.floor(timeoutMs / 60000);
    const embed = {
      title: ` Timeout in Cycle ${cycleNumber}`,
      description: `**Phase:** ${phase}
**Timeout:** ${timeoutMinutes} minutes`,
      color: 15418782,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, " **Ralph Timeout**");
  }
  async notifyRunComplete(totalCycles, durationMs, finalSummary) {
    const durationHours = Math.floor(durationMs / 3600000);
    const durationMinutes = Math.floor(durationMs % 3600000 / 60000);
    const embed = {
      title: "\uD83C\uDFC1 Run Complete",
      description: finalSummary.slice(0, 2000),
      color: 5763719,
      timestamp: new Date().toISOString(),
      fields: [
        {
          name: "\uD83D\uDD04 Total Cycles",
          value: String(totalCycles),
          inline: true
        },
        {
          name: " Total Duration",
          value: durationHours > 0 ? `${durationHours}h ${durationMinutes}m` : `${durationMinutes}m`,
          inline: true
        }
      ]
    };
    return this.notifyWithEmbed(embed, "\uD83C\uDFC1 **Ralph Run Complete**");
  }
  async notifyStuckOrAborted(cycleNumber, reason) {
    const embed = {
      title: `\uD83D\uDED1 Run ${reason}`,
      description: `Cycle ${cycleNumber} reached stuck threshold or was aborted`,
      color: 5793266,
      timestamp: new Date().toISOString()
    };
    return this.notifyWithEmbed(embed, `\uD83D\uDED1 **Ralph ${reason}**`);
  }
}
function createDiscordWebhookFromEnv() {
  const webhookUrl = process.env.DISCORD_WEBHOOK_URL?.trim();
  if (!webhookUrl) {
    log2.debug("No DISCORD_WEBHOOK_URL env var set, Discord notifications disabled");
    return null;
  }
  return new DiscordWebhookClient({
    webhookUrl,
    username: process.env.DISCORD_BOT_USERNAME ?? "Ralph",
    avatarUrl: process.env.DISCORD_BOT_AVATAR_URL
  });
}

// src/execution/flow-store.ts
import { existsSync, mkdirSync, readFileSync, writeFileSync } from "node:fs";
import { join as join2 } from "node:path";

// src/execution/flow-types.ts
var FLOW_SCHEMA_VERSION = "1.0.0";

// src/execution/flow-store.ts
var log3 = Log.create({ service: "flow-store" });

class FlowStore {
  flowDir;
  runId;
  constructor(options) {
    this.flowDir = options.flowDir;
    this.runId = options.runId;
  }
  get basePath() {
    return join2(this.flowDir, this.runId, ".flow");
  }
  path(relPath) {
    return join2(this.basePath, relPath);
  }
  initialize() {
    const dirs = ["iterations", "contexts", "gates"];
    for (const dir of dirs) {
      const dirPath = this.path(dir);
      if (!existsSync(dirPath)) {
        mkdirSync(dirPath, { recursive: true });
        log3.debug("Created directory", { path: dirPath });
      }
    }
    log3.info("Flow store initialized", {
      runId: this.runId,
      basePath: this.basePath
    });
  }
  exists() {
    return existsSync(this.path("state.json"));
  }
  load() {
    const statePath = this.path("state.json");
    if (!existsSync(statePath)) {
      return null;
    }
    try {
      const content = readFileSync(statePath, "utf-8");
      const state = JSON.parse(content);
      if (state.schemaVersion !== FLOW_SCHEMA_VERSION) {
        log3.warn("Flow schema version mismatch", {
          expected: FLOW_SCHEMA_VERSION,
          found: state.schemaVersion
        });
      }
      log3.info("Loaded flow state", {
        runId: state.runId,
        status: state.status,
        currentCycle: state.currentCycle
      });
      return state;
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log3.error("Failed to load flow state", { error: errorMsg });
      return null;
    }
  }
  createInitialState(options) {
    const now = new Date().toISOString();
    const state = {
      schemaVersion: FLOW_SCHEMA_VERSION,
      runId: this.runId,
      prompt: options.prompt,
      status: "pending" /* PENDING */,
      completionPromise: options.completionPromise,
      maxCycles: options.maxCycles,
      stuckThreshold: options.stuckThreshold,
      gates: options.gates,
      currentCycle: 0,
      completedCycles: 0,
      failedCycles: 0,
      stuckCount: 0,
      createdAt: now,
      updatedAt: now
    };
    this.saveState(state);
    return state;
  }
  saveState(state) {
    const statePath = this.path("state.json");
    state.updatedAt = new Date().toISOString();
    writeFileSync(statePath, JSON.stringify(state, null, 2));
    log3.debug("Saved flow state", { runId: state.runId });
  }
  saveCheckpoint(state, lastPhaseOutputs) {
    const checkpointPath = this.path("checkpoint.json");
    const checkpoint = {
      schemaVersion: FLOW_SCHEMA_VERSION,
      runId: state.runId,
      cycleNumber: state.currentCycle,
      timestamp: new Date().toISOString(),
      state,
      lastPhaseOutputs
    };
    writeFileSync(checkpointPath, JSON.stringify(checkpoint, null, 2));
    log3.debug("Saved checkpoint", {
      runId: state.runId,
      cycle: state.currentCycle
    });
  }
  loadCheckpoint() {
    const checkpointPath = this.path("checkpoint.json");
    if (!existsSync(checkpointPath)) {
      return null;
    }
    try {
      const content = readFileSync(checkpointPath, "utf-8");
      return JSON.parse(content);
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      log3.error("Failed to load checkpoint", { error: errorMsg });
      return null;
    }
  }
  saveIteration(cycle) {
    const cyclePath = this.path(`iterations/${cycle.cycleNumber}.json`);
    writeFileSync(cyclePath, JSON.stringify(cycle, null, 2));
    const contextPath = this.path(`contexts/${cycle.cycleNumber}.md`);
    const contextContent = this.generateContextContent(cycle);
    writeFileSync(contextPath, contextContent);
    log3.debug("Saved iteration", { cycle: cycle.cycleNumber });
  }
  saveGateResults(cycleNumber, results) {
    const gatePath = this.path(`gates/${cycleNumber}.json`);
    writeFileSync(gatePath, JSON.stringify(results, null, 2));
  }
  generateContextContent(cycle) {
    const lines = [
      `# Cycle ${cycle.cycleNumber} Context`,
      "",
      `**Timestamp:** ${cycle.startTime}`,
      `**Status:** ${cycle.status}`,
      `**Completion Promise Observed:** ${cycle.completionPromiseObserved}`,
      "",
      "## Phase Summaries",
      ""
    ];
    for (const [phase, output] of Object.entries(cycle.phases)) {
      if (output) {
        lines.push(`### ${phase.toUpperCase()}`);
        lines.push("");
        lines.push(output.summary || output.response.slice(0, 500));
        lines.push("");
      }
    }
    if (cycle.gateResults.length > 0) {
      lines.push("## Gate Results");
      lines.push("");
      for (const gate of cycle.gateResults) {
        const status = gate.passed ? " PASS" : " FAIL";
        lines.push(`- **${gate.gate}:** ${status} - ${gate.message}`);
      }
      lines.push("");
    }
    if (cycle.error) {
      lines.push("## Errors");
      lines.push("");
      lines.push(cycle.error);
      lines.push("");
    }
    return lines.join(`
`);
  }
  getIteration(cycleNumber) {
    const cyclePath = this.path(`iterations/${cycleNumber}.json`);
    if (!existsSync(cyclePath)) {
      return null;
    }
    try {
      const content = readFileSync(cyclePath, "utf-8");
      return JSON.parse(content);
    } catch {
      return null;
    }
  }
  getAllIterations() {
    const iterations = [];
    let n = 1;
    while (true) {
      const cycle = this.getIteration(n);
      if (!cycle)
        break;
      iterations.push(cycle);
      n++;
    }
    return iterations;
  }
  updateStatus(status, stopReason, error) {
    const state = this.load();
    if (!state) {
      throw new Error("No flow state to update");
    }
    state.status = status;
    if (stopReason)
      state.stopReason = stopReason;
    if (error)
      state.error = error;
    if (status === "completed" /* COMPLETED */ || status === "failed" /* FAILED */) {
      state.completedAt = new Date().toISOString();
    }
    this.saveState(state);
  }
  incrementCycle() {
    const state = this.load();
    if (!state) {
      throw new Error("No flow state to update");
    }
    state.currentCycle++;
    this.saveState(state);
    return state.currentCycle;
  }
  recordFailedCycle(cycle) {
    const state = this.load();
    if (!state) {
      throw new Error("No flow state to update");
    }
    state.failedCycles++;
    state.stuckCount++;
    this.saveIteration(cycle);
    this.saveState(state);
    log3.info("Cycle failed", {
      runId: this.runId,
      cycle: cycle.cycleNumber,
      failedCycles: state.failedCycles,
      stuckCount: state.stuckCount
    });
  }
  recordSuccessfulCycle(cycle, summary) {
    const state = this.load();
    if (!state) {
      throw new Error("No flow state to update");
    }
    state.completedCycles++;
    state.stuckCount = 0;
    state.lastCheckpoint = {
      cycleNumber: cycle.cycleNumber,
      summary,
      timestamp: new Date().toISOString()
    };
    this.saveIteration(cycle);
    this.saveState(state);
    log3.info("Cycle completed", {
      runId: this.runId,
      cycle: cycle.cycleNumber,
      completedCycles: state.completedCycles
    });
  }
  cleanup() {
    log3.info("Flow store cleanup requested", { runId: this.runId });
  }
}

// src/execution/ralph-loop.ts
var log4 = Log.create({ service: "ralph-loop" });
var DEFAULT_GATES = ["test", "lint", "acceptance"];
var DEFAULT_MAX_CYCLES = 50;
var DEFAULT_STUCK_THRESHOLD = 5;
var DEFAULT_CHECKPOINT_FREQUENCY = 1;
var DEFAULT_CYCLE_RETRIES = 2;
var SECRET_PATTERNS = [
  /api[_-]?key/i,
  /token/i,
  /secret/i,
  /password/i,
  /credential/i,
  /webhook/i,
  /auth/i,
  /bearer/i,
  /private[_-]?key/i
];
function redactSecrets(text) {
  let result = text;
  for (const pattern of SECRET_PATTERNS) {
    result = result.replace(new RegExp(`${pattern.source}["']?\\s*[:=]\\s*["']?([^"'",\\s]+)`, "gi"), `${pattern.source}="[REDACTED]"`);
  }
  return result;
}
function truncateOutput(text, maxLength = 1000) {
  if (text.length <= maxLength)
    return text;
  return `${text.substring(0, maxLength)}
... [truncated ${text.length - maxLength} chars]`;
}

class RalphLoopRunner {
  config;
  flowStore;
  flags;
  baseConfig;
  optimizer;
  discordWebhook;
  constructor(flags, baseConfig, optimizer) {
    this.flags = flags;
    this.baseConfig = baseConfig;
    this.optimizer = optimizer;
    this.config = this.buildLoopConfig();
    const flowStoreOptions = {
      flowDir: this.config.flowDir,
      runId: this.config.runId
    };
    this.flowStore = new FlowStore(flowStoreOptions);
    this.discordWebhook = createDiscordWebhookFromEnv();
  }
  buildLoopConfig() {
    let completionPromise = this.flags.completionPromise ?? "";
    if (this.flags.ship) {
      completionPromise = "<promise>SHIP</promise>";
    } else if (this.flags.draft) {
      completionPromise = "";
    } else if (!completionPromise) {
      completionPromise = "";
    }
    let runId = this.flags.runId;
    if (!runId) {
      const defaultRunId = this.generateRunId();
      const defaultFlowDir = this.getDefaultFlowDir(defaultRunId);
      const checkStore = new FlowStore({
        flowDir: this.flags.workingDir ? join3(this.flags.workingDir, ".ai-eng") : ".ai-eng",
        runId: defaultRunId
      });
      runId = defaultRunId;
    }
    return {
      runId,
      prompt: this.flags.workflow ?? "",
      completionPromise,
      maxCycles: this.flags.maxCycles ?? DEFAULT_MAX_CYCLES,
      stuckThreshold: this.flags.stuckThreshold ?? DEFAULT_STUCK_THRESHOLD,
      gates: this.flags.gates ?? DEFAULT_GATES,
      checkpointFrequency: this.flags.checkpointFrequency ?? DEFAULT_CHECKPOINT_FREQUENCY,
      flowDir: this.getDefaultFlowDir(runId),
      dryRun: this.flags.dryRun ?? false,
      cycleRetries: this.baseConfig.loop?.cycleRetries ?? DEFAULT_CYCLE_RETRIES,
      debugWork: this.flags.debugWork ?? this.baseConfig.debug?.work ?? false
    };
  }
  getDefaultFlowDir(runId) {
    const artifactsDir = this.baseConfig.runner.artifactsDir;
    if (this.flags.workingDir) {
      return join3(this.flags.workingDir, artifactsDir);
    }
    return join3(process.cwd(), artifactsDir);
  }
  generateRunId() {
    const timestamp = Date.now().toString(36);
    const random = Math.random().toString(36).substring(2, 8);
    return `run-${timestamp}-${random}`;
  }
  hashOutput(output) {
    return createHash("sha256").update(output).digest("hex").substring(0, 16);
  }
  async run() {
    UI.header("Ralph Loop Runner");
    if (this.flags.resume) {
      await this.resume();
      return;
    }
    await this.startFresh();
  }
  async startFresh() {
    log4.info("Starting fresh Ralph loop", {
      runId: this.config.runId,
      prompt: this.config.prompt.substring(0, 100),
      completionPromise: this.config.completionPromise,
      maxCycles: this.config.maxCycles
    });
    this.flowStore.initialize();
    const initialState = this.flowStore.createInitialState({
      prompt: this.config.prompt,
      completionPromise: this.config.completionPromise,
      maxCycles: this.config.maxCycles,
      stuckThreshold: this.config.stuckThreshold,
      gates: this.config.gates
    });
    this.flowStore.updateStatus("running" /* RUNNING */);
    await this.runLoop();
  }
  async resume() {
    log4.info("Resuming Ralph loop", { runId: this.config.runId });
    const state = this.flowStore.load();
    if (!state) {
      throw new Error(`No flow state found for run ID: ${this.config.runId}. Cannot resume.`);
    }
    if (state.status === "completed" /* COMPLETED */) {
      UI.warn("This run has already completed.");
      UI.info(`Stop reason: ${state.stopReason}`);
      return;
    }
    if (state.status === "failed" /* FAILED */) {
      UI.warn("This run previously failed.");
      UI.info(`Error: ${state.error}`);
    }
    await this.runLoop();
  }
  async runLoop() {
    const state = this.flowStore.load();
    if (!state) {
      throw new Error("No flow state found");
    }
    UI.info(`Run ID: ${this.config.runId}`);
    UI.info(`Flow directory: ${this.flowStore.basePath}`);
    UI.info(`Completion promise: ${this.config.completionPromise || "(none)"}`);
    UI.info(`Max cycles: ${this.config.maxCycles}`);
    UI.info(`Cycle retries: ${this.config.cycleRetries}`);
    UI.info(`Stuck threshold: ${this.config.stuckThreshold}`);
    UI.info(`Debug work: ${this.config.debugWork ? "enabled" : "disabled"}`);
    UI.println();
    for (let cycleNumber = state.currentCycle + 1;cycleNumber <= this.config.maxCycles; cycleNumber++) {
      UI.header(`Cycle ${cycleNumber}/${this.config.maxCycles}`);
      const runStartTime = Date.now();
      this.discordWebhook?.notifyCycleStart(cycleNumber, this.config.maxCycles, this.config.prompt);
      let attempt = 0;
      let result = null;
      let lastError = null;
      while (attempt <= this.config.cycleRetries) {
        attempt++;
        const isRetry = attempt > 1;
        if (isRetry) {
          UI.info(`Retry attempt ${attempt}/${this.config.cycleRetries + 1}`);
          log4.info("Retrying cycle", {
            cycleNumber,
            attempt,
            lastError
          });
        }
        const client3 = await OpenCodeClient.create({
          serverStartupTimeout: 1e4
        });
        try {
          const context = await this.buildReAnchoredContext(cycleNumber, isRetry ? lastError ?? undefined : undefined);
          result = await this.executeCycle(cycleNumber, client3, context);
          if (result.success) {
            this.flowStore.recordSuccessfulCycle(result.cycleState, result.summary);
            const durationMs = Date.now() - runStartTime;
            this.discordWebhook?.notifyCycleComplete(cycleNumber, this.flowStore.load()?.completedCycles ?? cycleNumber, result.summary, durationMs);
          } else {
            this.flowStore.recordFailedCycle(result.cycleState);
            this.discordWebhook?.notifyError(cycleNumber, result.cycleState.phases[Object.keys(result.cycleState.phases).pop()]?.phase ?? "unknown", result.cycleState.error ?? "Unknown error");
          }
          if (result.success) {
            break;
          }
          const shouldRetry = this.shouldRetryFailure(result);
          if (!shouldRetry) {
            break;
          }
          lastError = result.summary;
        } catch (error) {
          const errorMsg = error instanceof Error ? error.message : String(error);
          lastError = errorMsg;
          const shouldRetry = this.shouldRetryOnError(error);
          if (shouldRetry && attempt <= this.config.cycleRetries) {
            log4.warn("Cycle error, will retry", {
              cycleNumber,
              attempt,
              error: errorMsg
            });
          } else {
            break;
          }
        } finally {
          await client3.cleanup();
        }
      }
      if (!result) {
        this.discordWebhook?.notifyStuckOrAborted(cycleNumber, "FAILED_ALL_RETRIES");
        await this.handleStop("error" /* ERROR */, `Cycle ${cycleNumber} failed after ${this.config.cycleRetries + 1} attempts: ${lastError ?? "unknown error"}`);
        return;
      }
      if (result.stopReason) {
        await this.handleStop(result.stopReason, result.summary);
        return;
      }
      const currentState = this.flowStore.load();
      if (currentState && currentState.stuckCount >= this.config.stuckThreshold) {
        this.discordWebhook?.notifyStuckOrAborted(cycleNumber, "STUCK");
        await this.handleStop("stuck" /* STUCK */, `No progress for ${this.config.stuckThreshold} consecutive cycles`);
        return;
      }
      if (cycleNumber % this.config.checkpointFrequency === 0) {
        this.flowStore.saveCheckpoint(this.flowStore.load(), result.cycleState.phases);
      }
      UI.println();
    }
    this.discordWebhook?.notifyRunComplete(state.completedCycles, Date.now() - new Date(state.createdAt).getTime(), `Completed ${state.completedCycles} cycles (max ${this.config.maxCycles})`);
    await this.handleStop("max_cycles" /* MAX_CYCLES */, "Maximum cycles reached");
  }
  shouldRetryFailure(result) {
    const failedGates = result.cycleState.gateResults.filter((g2) => !g2.passed);
    if (failedGates.length > 0) {
      return true;
    }
    const workPhase = result.cycleState.phases["work" /* WORK */];
    if (workPhase && !workPhase.response.trim()) {
      return true;
    }
    return false;
  }
  shouldRetryOnError(error) {
    if (error instanceof Error) {
      if (error.message.includes("timeout")) {
        return true;
      }
      if (error.message.includes("stream")) {
        return true;
      }
      if (error.message.includes("OpenCode")) {
        return true;
      }
    }
    return false;
  }
  async buildReAnchoredContext(cycleNumber, retryFailure) {
    const contextParts = [];
    contextParts.push(`# Original Task

${this.config.prompt}
`);
    if (retryFailure) {
      contextParts.push(`# Previous Attempt Failed

The previous attempt had an issue:
${retryFailure}

Please analyze what went wrong and try a different approach.
`);
    }
    const previousCycle = this.flowStore.getIteration(cycleNumber - 1);
    if (previousCycle) {
      contextParts.push(`# Previous Cycle (${cycleNumber - 1}) Summary

`);
      contextParts.push(previousCycle.error ? `FAILED
` : `COMPLETED
`);
      if (previousCycle.error) {
        contextParts.push(`Error: ${previousCycle.error}
`);
      }
      if (previousCycle.gateResults.length > 0) {
        contextParts.push(`
## Gate Results

`);
        for (const gate of previousCycle.gateResults) {
          const status = gate.passed ? "" : "";
          contextParts.push(`- ${status} ${gate.gate}: ${gate.message}
`);
        }
      }
      const allTools = this.collectAllTools(previousCycle);
      if (allTools.length > 0) {
        contextParts.push(`
## Tool Usage in Previous Cycle

`);
        for (const tool of allTools.slice(0, 10)) {
          const statusIcon = tool.status === "ok" ? "" : "";
          contextParts.push(`${statusIcon} ${tool.name}: ${tool.status}
`);
        }
        if (allTools.length > 10) {
          contextParts.push(`... and ${allTools.length - 10} more tools
`);
        }
      }
    }
    const state = this.flowStore.load();
    if (state?.lastCheckpoint) {
      contextParts.push(`
# Last Checkpoint

Cycle ${state.lastCheckpoint.cycleNumber}: ${state.lastCheckpoint.summary}
`);
    }
    const specsContext = await this.loadRelevantSpecs();
    if (specsContext) {
      contextParts.push(specsContext);
    }
    try {
      const gitStatus = await this.getGitStatus();
      if (gitStatus) {
        contextParts.push(`
# Git Status

${gitStatus}
`);
      }
    } catch {}
    contextParts.push(`
# Completion Criteria

Loop exits when you output exactly: ${this.config.completionPromise || "(none - will run all cycles)"}
`);
    return contextParts.join(`
`);
  }
  collectAllTools(cycle) {
    const tools = [];
    for (const phase of Object.values(cycle.phases)) {
      if (phase?.tools) {
        tools.push(...phase.tools);
      }
    }
    return tools;
  }
  async loadRelevantSpecs() {
    const specsDir = join3(process.cwd(), "specs");
    let specs;
    try {
      specs = await readdir(specsDir);
    } catch {
      return null;
    }
    const promptLower = this.config.prompt.toLowerCase();
    const promptTokens = new Set(promptLower.split(/\W+/).filter((t) => t.length > 2));
    const matches = [];
    for (const specDir of specs) {
      if (specDir.startsWith("."))
        continue;
      const specPath = join3(specsDir, specDir, "spec.md");
      try {
        const specContent = await readFile2(specPath, "utf-8");
        const specContentLower = specContent.toLowerCase();
        const titleMatch = specContent.match(/^# (.+)$/m);
        const title = titleMatch?.[1];
        let score = 0;
        const specTokens = new Set(specContentLower.split(/\W+/).filter((t) => t.length > 2));
        for (const token of promptTokens) {
          if (specTokens.has(token)) {
            score++;
          }
        }
        const dirLower = specDir.toLowerCase();
        if (promptLower.includes(dirLower) || dirLower.includes("fleettools")) {
          score += 5;
        }
        if (score > 0) {
          matches.push({ dir: specDir, score, title });
        }
      } catch {}
    }
    matches.sort((a, b3) => b3.score - a.score);
    const topMatches = matches.slice(0, 2);
    if (topMatches.length === 0) {
      return null;
    }
    const result = [`
# Relevant Specifications
`];
    for (const match of topMatches) {
      const specPath = join3(specsDir, match.dir, "spec.md");
      try {
        const specContent = await readFile2(specPath, "utf-8");
        const overviewMatch = specContent.match(/^(# .+?)(?:\n\n## Overview\n\n)([\s\S]*?)(?=\n\n## |\n\n### )/m);
        const userStoriesMatch = specContent.match(/^(## User Stories\n\n)([\s\S]*?)(?=\n\n## |\n\n### )/m);
        result.push(`
## ${match.title || match.dir}
`);
        if (overviewMatch) {
          result.push(overviewMatch[2].trim());
          result.push(`
`);
        }
        if (userStoriesMatch) {
          const stories = userStoriesMatch[2].split(/\n### /).slice(0, 3);
          result.push(`
### Key User Stories
`);
          for (const story of stories) {
            if (story.trim()) {
              result.push(`
### ${story.trim()}
`);
            }
          }
        }
        log4.debug("Loaded spec for context", {
          spec: match.dir,
          score: match.score
        });
      } catch {
        log4.warn("Failed to read spec", { spec: match.dir });
      }
    }
    return result.join(`
`);
  }
  async getGitStatus() {
    try {
      const { execSync: execSync2 } = await import("node:child_process");
      const diff = execSync2("git diff --stat", {
        encoding: "utf-8",
        cwd: process.cwd()
      });
      const status = execSync2("git status --short", {
        encoding: "utf-8",
        cwd: process.cwd()
      });
      return `\`\`\`
${diff}
${status}
\`\`\``;
    } catch {
      return null;
    }
  }
  async executeCycle(cycleNumber, client3, context) {
    const startTime = new Date().toISOString();
    const cycleState = {
      cycleNumber,
      status: "running",
      startTime,
      phases: {},
      gateResults: [],
      completionPromiseObserved: false
    };
    try {
      const session = await client3.createSession(context);
      for (const phase of [
        "research" /* RESEARCH */,
        "specify" /* SPECIFY */,
        "plan" /* PLAN */,
        "work" /* WORK */,
        "review" /* REVIEW */
      ]) {
        const phaseResult = await this.executePhase(session, phase, cycleNumber);
        if (phaseResult.error) {
          cycleState.phases[phase] = {
            phase,
            prompt: phaseResult.prompt,
            response: "",
            summary: `Error: ${phaseResult.error}`,
            timestamp: new Date().toISOString()
          };
          throw new Error(`${phase} phase failed: ${phaseResult.error}`);
        }
        cycleState.phases[phase] = {
          phase,
          prompt: phaseResult.prompt,
          response: phaseResult.response,
          summary: phaseResult.summary,
          timestamp: new Date().toISOString(),
          tools: phaseResult.tools
        };
        if (this.config.completionPromise && phaseResult.response.includes(this.config.completionPromise)) {
          cycleState.completionPromiseObserved = true;
        }
        UI.println(`${UI.Style.TEXT_DIM}   ${phase}: done${UI.Style.TEXT_NORMAL}`);
      }
      UI.println(`${UI.Style.TEXT_DIM}Running quality gates...${UI.Style.TEXT_NORMAL}`);
      const gateResults = await this.runQualityGates(cycleNumber, cycleState);
      cycleState.gateResults = gateResults;
      const requiredFailed = gateResults.find((g2) => !g2.passed && this.config.gates.includes(g2.gate));
      let failedPhaseInfo = "";
      if (requiredFailed) {
        const phasesWithGates = Object.entries(cycleState.phases);
        const lastPhase = phasesWithGates[phasesWithGates.length - 1]?.[0] ?? "unknown";
        failedPhaseInfo = `${lastPhase} gate failed`;
      }
      cycleState.status = "completed";
      cycleState.endTime = new Date().toISOString();
      cycleState.durationMs = Date.now() - new Date(startTime).getTime();
      const summary = this.generateCycleSummary(cycleState);
      if (this.config.completionPromise && cycleState.completionPromiseObserved) {
        return {
          success: true,
          cycleState,
          summary,
          stopReason: "completion_promise" /* COMPLETION_PROMISE */
        };
      }
      if (requiredFailed) {
        return {
          success: false,
          cycleState,
          summary: `${failedPhaseInfo}: ${requiredFailed.message}`,
          stopReason: "gate_failure" /* GATE_FAILURE */
        };
      }
      cycleState.outputHash = this.hashOutput(Object.values(cycleState.phases).map((p2) => p2?.response ?? "").join("|"));
      return { success: true, cycleState, summary };
    } catch (error) {
      const errorMsg = error instanceof Error ? error.message : String(error);
      cycleState.status = "failed";
      cycleState.endTime = new Date().toISOString();
      cycleState.durationMs = Date.now() - new Date(startTime).getTime();
      cycleState.error = errorMsg;
      return {
        success: false,
        cycleState,
        summary: `Cycle failed: ${errorMsg}`,
        stopReason: "error" /* ERROR */
      };
    }
  }
  async executePhase(session, phase, cycleNumber) {
    const phasePrompts = {
      ["research" /* RESEARCH */]: `## Phase 1: Research

Research the codebase to understand the current state. Focus on:
- File structure and key modules
- Existing patterns and conventions
- Dependencies and configurations
- Any relevant documentation

Provide a concise summary of your findings.`,
      ["specify" /* SPECIFY */]: `## Phase 2: Specify

Based on the research, create a detailed specification for the task:
- Requirements and acceptance criteria
- Technical approach
- Potential challenges and mitigation strategies
- Dependencies on existing code

Output a structured specification.`,
      ["plan" /* PLAN */]: `## Phase 3: Plan

Create an implementation plan:
- Step-by-step tasks
- Files to modify/create
- Order of operations
- Testing strategy

Output a detailed plan.`,
      ["work" /* WORK */]: `## Phase 4: Work

Execute the implementation plan. Make concrete changes to the codebase.

IMPORTANT: You MUST:
1. Use tools (Read, Write, Edit, Bash) to make actual file changes
2. Report each file you modify as you go (e.g., "Creating file X...", "Modifying Y...")
3. Run actual tests and report results
4. Ensure the final summary lists:
   - All files created/modified (with paths) OR explicitly "NO CHANGES: <reason>" if no files needed
   - All test results (pass/fail)
   - Any errors encountered and how they were resolved

If no changes are needed, explicitly state "NO CHANGES: <reason>" and why.

Provide a comprehensive summary of concrete work completed.`,
      ["review" /* REVIEW */]: `## Phase 5: Review

Review the completed work:
- Verify all acceptance criteria are met
- Check code quality and consistency
- Ensure tests pass
- Identify any remaining issues

Output: <promise>SHIP</promise> if all criteria are met, or list remaining issues.`
    };
    const prompt = phasePrompts[phase];
    const streamingResponse = await session.sendMessageStream(prompt);
    let fullResponse = "";
    const tools = [];
    UI.println(`${UI.Style.TEXT_DIM}  [${phase}]${UI.Style.TEXT_NORMAL}`);
    const reader = streamingResponse.stream.getReader();
    const decoder = new TextDecoder;
    const phaseTimeoutMs = (this.config.phaseTimeoutMs ?? (this.config.promptTimeout ?? 300000) * 5) || 900000;
    let phaseTimedOut = false;
    const watchdogTimer = setTimeout(() => {
      phaseTimedOut = true;
      log4.warn("Phase watchdog triggered", {
        cycleNumber,
        phase,
        timeoutMs: phaseTimeoutMs
      });
      reader.cancel(`Phase timeout after ${phaseTimeoutMs}ms`);
    }, phaseTimeoutMs);
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (phaseTimedOut) {
          throw new Error(`Phase ${phase} timed out after ${phaseTimeoutMs}ms (watchdog)`);
        }
        if (done)
          break;
        if (value) {
          const text = decoder.decode(value, { stream: true });
          fullResponse += text;
          UI.print(text);
        }
      }
    } catch (error) {
      if (phaseTimedOut || error instanceof Error && error.message.includes("timeout")) {
        this.discordWebhook?.notifyTimeout(cycleNumber, phase, phaseTimeoutMs);
        throw new Error(`Phase ${phase} timed out after ${phaseTimeoutMs}ms - OpenCode stream did not complete`);
      }
      throw error;
    } finally {
      clearTimeout(watchdogTimer);
      reader.releaseLock();
    }
    await streamingResponse.complete;
    const sessionTools = session._toolInvocations;
    if (sessionTools && sessionTools.length > 0) {
      tools.push(...sessionTools);
      if (this.config.debugWork) {
        for (const tool of sessionTools) {
          const redactedInput = tool.input ? redactSecrets(JSON.stringify(tool.input)) : undefined;
          const redactedOutput = tool.output ? truncateOutput(redactSecrets(tool.output)) : undefined;
          UI.println(`${UI.Style.TEXT_DIM}  [TOOL] ${tool.name}: ${tool.status}${UI.Style.TEXT_NORMAL}`);
          log4.debug("Tool invocation", {
            phase,
            tool: tool.name,
            status: tool.status,
            input: redactedInput,
            output: redactedOutput
          });
        }
      }
    }
    const summary = this.generatePhaseSummary(fullResponse);
    this.discordWebhook?.notifyPhaseComplete(cycleNumber, phase, summary);
    return {
      prompt,
      response: fullResponse,
      summary,
      tools
    };
  }
  generatePhaseSummary(response) {
    const trimmed = response.trim();
    if (trimmed.length <= 200) {
      return trimmed;
    }
    return `${trimmed.substring(0, 200)}...`;
  }
  generateCycleSummary(cycle) {
    const parts = [];
    for (const [phase, output] of Object.entries(cycle.phases)) {
      if (output) {
        parts.push(`${phase}: ${output.summary}`);
      }
    }
    return parts.join(" | ");
  }
  async runQualityGates(cycleNumber, cycle) {
    const results = [];
    const now = new Date().toISOString();
    for (const gate of this.config.gates) {
      const result = await this.runGate(gate, cycle);
      results.push({
        gate,
        passed: result.passed,
        message: result.message,
        details: result.details,
        timestamp: now
      });
      this.flowStore.saveGateResults(cycleNumber, results);
    }
    return results;
  }
  async runGate(gate, cycle) {
    const gateConfig = this.getGateConfig(gate);
    switch (gate.toLowerCase()) {
      case "test":
      case "tests": {
        const result = await this.runGateCommand("test", gateConfig.command);
        return {
          passed: result.passed,
          message: result.passed ? "All tests passed" : "Some tests failed",
          details: result.details
        };
      }
      case "lint": {
        const result = await this.runGateCommand("lint", gateConfig.command);
        return {
          passed: result.passed,
          message: result.passed ? "Linting passed" : "Linting issues found",
          details: result.details
        };
      }
      case "acceptance": {
        const passed = await this.checkAcceptance(cycle);
        return {
          passed,
          message: passed ? "Acceptance criteria met" : "Acceptance criteria not fully met"
        };
      }
      default:
        return {
          passed: false,
          message: `Unknown gate: ${gate}`
        };
    }
  }
  getGateConfig(gate) {
    const normalizedGate = gate.toLowerCase() === "tests" ? "test" : gate.toLowerCase();
    const gateKey = normalizedGate;
    const configGate = this.baseConfig.gates[gateKey];
    if (configGate && typeof configGate === "object" && "command" in configGate) {
      return configGate;
    }
    return { command: String(configGate ?? "") };
  }
  async runGateCommand(gateName, command) {
    const startTime = Date.now();
    let exitCode = null;
    let stdout = "";
    let stderr = "";
    UI.info(`  Running ${gateName}: ${command}`);
    try {
      const result = execSync(command, {
        encoding: "utf-8",
        cwd: this.flags.workingDir ?? process.cwd(),
        timeout: 120000,
        maxBuffer: 10485760
      });
      stdout = result;
      exitCode = 0;
    } catch (error) {
      if (error instanceof Error && "status" in error) {
        exitCode = error.status ?? 1;
        stderr = error instanceof Error ? error.message : String(error);
        if ("stdout" in error && error.stdout) {
          stdout = String(error.stdout);
        }
        if ("stderr" in error && error.stderr) {
          stderr = String(error.stderr);
        }
      } else {
        stderr = error instanceof Error ? error.message : String(error);
      }
    }
    const durationMs = Date.now() - startTime;
    const passed = exitCode === 0;
    log4.debug("Gate command result", {
      gate: gateName,
      command,
      exitCode,
      durationMs,
      stdoutLength: stdout.length,
      stderrLength: stderr.length
    });
    return {
      passed,
      details: {
        command,
        exitCode,
        stdout: truncateOutput(stdout, 2000),
        stderr: truncateOutput(stderr, 1000),
        durationMs
      }
    };
  }
  async checkAcceptance(cycle) {
    log4.debug("Checking acceptance criteria", {
      cycleNumber: cycle.cycleNumber
    });
    const workPhase = cycle.phases["work" /* WORK */];
    if (!workPhase) {
      log4.warn("No work phase found in cycle");
      return false;
    }
    const workResponse = workPhase.response.trim();
    if (!workResponse) {
      log4.debug("Acceptance failed: empty work response");
      return false;
    }
    const hasNoChangesMarker = /NO\s*CHANGES?[:\s]/i.test(workResponse);
    const hasProgressSignal = this.hasProgressSignal(cycle);
    if (hasNoChangesMarker) {
      const hasReason = /NO\s*CHANGES?[:\s]+[A-Z]/.test(workResponse);
      if (hasReason) {
        log4.debug("Acceptance passed: NO CHANGES with reason");
        return true;
      }
    }
    if (hasProgressSignal) {
      log4.debug("Acceptance passed: progress signal detected");
      return true;
    }
    if (workResponse.length < 20) {
      log4.debug("Acceptance failed: response too short/fluffy");
      return false;
    }
    const willPattern = /\bI (will|need to|should|must|have to|am going to)\b/i;
    if (willPattern.test(workResponse)) {
      log4.debug("Acceptance failed: response contains 'I will' pattern (no action taken)");
      return false;
    }
    const mentionsChanges = /\b(change|modify|create|update|delete|add|fix|implement|refactor|write|run|test)\b/i.test(workResponse);
    if (mentionsChanges) {
      log4.debug("Acceptance passed: response mentions actionable changes");
      return true;
    }
    log4.debug("Acceptance failed: no valid progress signal");
    return false;
  }
  hasProgressSignal(cycle) {
    const allTools = this.collectAllTools(cycle);
    if (allTools.length > 0) {
      return true;
    }
    for (const gateResult of cycle.gateResults) {
      if (gateResult.details && "command" in gateResult.details && gateResult.details.command) {
        return true;
      }
    }
    return false;
  }
  async handleStop(reason, summary) {
    const state = this.flowStore.load();
    if (state) {
      let runStatus;
      switch (reason) {
        case "completion_promise" /* COMPLETION_PROMISE */:
          runStatus = "completed" /* COMPLETED */;
          break;
        case "stuck" /* STUCK */:
          runStatus = "stuck" /* STUCK */;
          this.discordWebhook?.notifyStuckOrAborted(state.currentCycle, "STUCK");
          break;
        case "user_abort" /* USER_ABORT */:
          runStatus = "aborted" /* ABORTED */;
          this.discordWebhook?.notifyStuckOrAborted(state.currentCycle, "ABORTED");
          break;
        case "error" /* ERROR */:
          runStatus = "failed" /* FAILED */;
          break;
        default:
          runStatus = "failed" /* FAILED */;
      }
      this.flowStore.updateStatus(runStatus, reason);
    }
    UI.header("Loop Complete");
    UI.info(`Stop reason: ${reason}`);
    UI.info(`Summary: ${summary}`);
    log4.info("Ralph loop stopped", { reason, summary });
  }
}
async function createRalphLoopRunner(flags, baseConfig) {
  const optimizer = new PromptOptimizer({
    autoApprove: flags.ci ?? false,
    verbosity: flags.verbose ? "verbose" : "normal"
  });
  return new RalphLoopRunner(flags, baseConfig, optimizer);
}

// src/cli/run-cli.ts
init_ui();
var log5 = Log.create({ service: "run-cli" });
var activeClient = null;
var cleanupHandlersRegistered = false;
async function setupCleanupHandlers() {
  if (cleanupHandlersRegistered)
    return;
  cleanupHandlersRegistered = true;
  const cleanupFn = async () => {
    if (activeClient) {
      try {
        log5.info("Cleanup signal received, closing OpenCode server...");
        await activeClient.cleanup();
        log5.info("OpenCode server closed successfully");
      } catch (error) {
        const errorMsg = error instanceof Error ? error.message : String(error);
        log5.error("Error during cleanup", { error: errorMsg });
      }
      activeClient = null;
    }
    process.exit(0);
  };
  process.on("SIGINT", cleanupFn);
  process.on("SIGTERM", cleanupFn);
  process.on("SIGHUP", cleanupFn);
  process.on("uncaughtException", async (error) => {
    const errorMsg = error instanceof Error ? error.message : String(error);
    log5.error("Uncaught exception", {
      error: errorMsg,
      stack: error instanceof Error ? error.stack : undefined
    });
    await cleanupFn();
  });
  process.on("unhandledRejection", async (reason) => {
    const errorMsg = reason instanceof Error ? reason.message : String(reason);
    log5.error("Unhandled rejection", {
      error: errorMsg,
      stack: reason instanceof Error ? reason.stack : undefined
    });
    await cleanupFn();
  });
}
async function runCli(config, flags) {
  await setupCleanupHandlers();
  log5.info("Starting CLI execution", { workflow: flags.workflow });
  const prompt = flags.workflow;
  if (!prompt) {
    UI.error("No prompt or workflow provided");
    process.exit(1);
  }
  const optimizer = new PromptOptimizer({
    autoApprove: flags.ci ?? false,
    verbosity: flags.verbose ? "verbose" : "normal"
  });
  UI.header("Prompt Optimization");
  const session = optimizer.createSession(prompt);
  log5.debug("Created optimization session", { steps: session.steps.length });
  if (!flags.ci) {
    for (const step of session.steps) {
      const action = await ve({
        message: `Apply "${step.name}"?
  ${step.description}`,
        options: [
          {
            value: "approve",
            label: "Approve",
            hint: "Apply this optimization"
          },
          {
            value: "reject",
            label: "Reject",
            hint: "Skip this optimization"
          },
          {
            value: "skip-all",
            label: "Skip all",
            hint: "Use original prompt"
          }
        ]
      });
      if (pD(action)) {
        log5.info("User cancelled");
        process.exit(0);
      }
      if (action === "skip-all") {
        optimizer.skipOptimization(session);
        break;
      }
      if (action === "approve") {
        optimizer.approveStep(session, step.id);
      } else {
        optimizer.rejectStep(session, step.id);
      }
    }
  }
  if (flags.loop !== false) {
    await runLoopMode(config, flags, session.finalPrompt);
  } else {
    await runSingleShotMode(config, flags, session.finalPrompt);
  }
}
async function runLoopMode(config, flags, _optimizedPrompt) {
  UI.header("Ralph Loop Mode");
  UI.info("Running with fresh OpenCode sessions per iteration");
  if (flags.ship) {
    UI.info("Mode: SHIP (auto-exit when agent outputs '<promise>SHIP</promise>')");
    UI.info("Completion promise: <promise>SHIP</promise>");
  } else if (flags.draft || !flags.ship && !flags.completionPromise) {
    UI.info("Mode: DRAFT (runs for max-cycles then stops for your review)");
    UI.info("Completion promise: none (will run all cycles)");
  } else {
    UI.info("Mode: Custom completion promise");
    UI.info(`Completion promise: ${flags.completionPromise}`);
  }
  UI.info(`Max cycles: ${flags.maxCycles ?? 50}`);
  UI.info(`Stuck threshold: ${flags.stuckThreshold ?? 5}`);
  UI.println();
  try {
    const runner = await createRalphLoopRunner(flags, config);
    await runner.run();
  } catch (error) {
    const message = error instanceof Error ? error.message : String(error);
    log5.error("Loop execution failed", { error: message });
    UI.error(message);
    process.exit(1);
  }
  Se("Done!");
}
async function runSingleShotMode(config, flags, optimizedPrompt) {
  UI.header("Execution");
  const s = Y2();
  s.start("Connecting to OpenCode...");
  try {
    activeClient = await OpenCodeClient.create({
      existingServerUrl: process.env.OPENCODE_URL,
      serverStartupTimeout: 1e4
    });
    const openSession = await activeClient.createSession(optimizedPrompt);
    log5.info("Created OpenCode session", { id: openSession.id });
    s.stop("Connected");
    UI.println();
    UI.println(`${UI.Style.TEXT_DIM}Executing task...${UI.Style.TEXT_NORMAL}`);
    let response;
    if (!flags.noStream) {
      const streamingResponse = await openSession.sendMessageStream("Execute this task and provide a detailed result summary.");
      UI.println();
      const reader = streamingResponse.stream.getReader();
      const decoder = new TextDecoder;
      try {
        while (true) {
          const { done, value } = await reader.read();
          if (done)
            break;
          if (value) {
            const text = decoder.decode(value, { stream: true });
            UI.print(text);
          }
        }
      } finally {
        reader.releaseLock();
      }
      response = await streamingResponse.complete;
    } else {
      UI.println();
      UI.println(`${UI.Style.TEXT_DIM}Buffering response...${UI.Style.TEXT_NORMAL}`);
      response = await openSession.sendMessage("Execute this task and provide a detailed result summary.");
      UI.println();
      UI.println(response.content);
    }
    UI.println();
    UI.success("Execution complete");
    if (activeClient) {
      await activeClient.cleanup();
      activeClient = null;
    }
    log5.info("Execution complete");
  } catch (error) {
    s.stop("Connection failed");
    const message = error instanceof Error ? error.message : String(error);
    log5.error("Execution failed", { error: message });
    UI.error(message);
    if (activeClient) {
      try {
        await activeClient.cleanup();
      } catch (cleanupError) {
        const cleanupMsg = cleanupError instanceof Error ? cleanupError.message : String(cleanupError);
        log5.error("Error during error cleanup", { error: cleanupMsg });
      }
      activeClient = null;
    }
    process.exit(1);
  }
  Se("Done!");
}

// src/cli/run.ts
init_ui();
var TOP_HELP_TEXT = `
ai-eng - AI Engineering System CLI

USAGE:
  ai-eng <command> [options]
  ai-eng "prompt" [options]          # Shortcut: defaults to 'ralph'

COMMANDS:
  init [options]                     # Initialize .ai-eng/config.yaml with defaults
  ralph <prompt|workflow> [options]  # Iteration loop runner
  install [options]                  # Install OpenCode/Claude assets

GLOBAL OPTIONS:
  -h, --help                         Show this help message
  -v, --verbose                      Verbose output (DEBUG level logs)

EXAMPLES:
  ai-eng init                    # Initialize config with defaults
  ai-eng init --interactive       # Interactive config setup
  ai-eng "implement user authentication"
  ai-eng ralph "fix bug" --print-logs --log-level DEBUG
  ai-eng install --scope project
  ai-eng ralph feature-spec.yml --max-iters 5
  ai-eng ralph --tui --resume
  ai-eng ralph "make fleettools usable" --ship --max-cycles 30
  ai-eng ralph "make fleettools usable" --draft --max-cycles 10 --ci
`;
var INIT_HELP_TEXT = `
ai-eng init - Initialize .ai-eng/config.yaml with defaults

USAGE:
  ai-eng init [options]

OPTIONS:
  -i, --interactive    Interactive configuration setup
  --overwrite           Overwrite existing config file
  -h, --help          Show this help message
  -v, --verbose         Verbose output

EXAMPLES:
  ai-eng init                    # Create config with defaults
  ai-eng init --interactive       # Interactive setup with prompts
  ai-eng init --overwrite          # Replace existing config
`;
var INSTALL_HELP_TEXT = `
ai-eng install - Install OpenCode/Claude assets

USAGE:
  ai-eng install [options]

OPTIONS:
  --scope project|global|auto        Where to install (default: auto-detect)
  --dry-run                          Show what would be done without writing
  --yes                              Skip confirmation prompts
  -v, --verbose                      Verbose output

EXAMPLES:
  ai-eng install                          # Auto-detect project vs global
  ai-eng install --scope project          # Install to project .opencode/
  ai-eng install --scope global           # Install to ~/.config/opencode/
  ai-eng install --dry-run                # Preview operations
`;
var RALPH_HELP_TEXT = `
ai-eng ralph - Iteration loop runner for ai-eng-system

USAGE:
  ai-eng ralph <prompt|workflow> [options]

POSITIONAL:
  prompt/workflow    Task prompt or path to workflow specification

OPTIONS:
  --max-iters <n>     Maximum iterations (default: from config)
  --gates <g1,g2>     Comma-separated list of quality gates
  --review <mode>     Review mode: none|opencode|anthropic|both
  --resume            Resume previous run
  --run-id <id>       Specific run ID to resume
  --dry-run           Show what would be done without executing
  --ci                Run in CI mode (no interactive prompts)

  --print-logs        Print detailed logs to stderr
  --log-level <lvl>   Log level: DEBUG|INFO|WARN|ERROR (default: INFO)
  -v, --verbose       Verbose output (same as --log-level DEBUG)
  --tui               Use TUI mode instead of CLI
  --no-stream         Disable streaming output (buffered mode)

  --no-loop           Run single iteration only (disable loop mode)
  --completion <tok>  Loop exit token (required, e.g., --completion "<promise>DONE</promise>")
  --ship              Auto-exit when agent outputs "<promise>SHIP</promise>"
  --draft             Run for max-cycles then stop for your review (default behavior)
  --max-cycles <n>    Maximum loop cycles (default: 50)
  --stuck-threshold <n> Abort after N cycles with no progress (default: 5)
  --checkpoint <n>    Save checkpoint every N cycles (default: 1)
  --debug-work        Print every tool invocation input/output to console and logs

  --help              Show this help message

EXAMPLES:
  ai-eng ralph "implement user authentication"
  ai-eng ralph feature-spec.yml --max-iters 5
  ai-eng ralph "fix the bug" --print-logs --log-level DEBUG
  ai-eng ralph --tui --resume
  ai-eng ralph "make fleettools usable" --ship --max-cycles 30
  ai-eng ralph "make fleettools usable" --draft --max-cycles 10 --ci
  ai-eng ralph --no-loop "single-shot task"
`;
async function runInit(args) {
  const { values, positionals } = parseArgs({
    args,
    options: {
      interactive: { type: "boolean", short: "i" },
      overwrite: { type: "boolean" },
      help: { type: "boolean" },
      verbose: { type: "boolean", short: "v" }
    },
    allowPositionals: true
  });
  const flags = {
    interactive: values.interactive,
    overwrite: values.overwrite,
    help: values.help,
    verbose: values.verbose
  };
  if (flags.help) {
    console.log(INIT_HELP_TEXT);
    return;
  }
  await Log.init({
    print: false,
    level: flags.verbose ? "DEBUG" : "INFO",
    logDir: ".ai-eng/logs"
  });
  const { initConfig: initConfig2 } = await Promise.resolve().then(() => (init_init(), exports_init));
  await initConfig2(flags);
}
async function runInstall(args) {
  const { values, positionals } = parseArgs({
    args,
    options: {
      scope: { type: "string" },
      "dry-run": { type: "boolean" },
      yes: { type: "boolean" },
      verbose: { type: "boolean", short: "v" },
      help: { type: "boolean" }
    },
    allowPositionals: true
  });
  const flags = {
    scope: values.scope,
    dryRun: values["dry-run"],
    yes: values.yes,
    verbose: values.verbose,
    help: values.help
  };
  if (flags.help) {
    console.log(INSTALL_HELP_TEXT);
    return;
  }
  const { runInstaller: runInstaller2 } = await Promise.resolve().then(() => (init_install(), exports_install));
  await runInstaller2(flags);
}
function parseRalphFlags(args) {
  const { values, positionals } = parseArgs({
    args,
    options: {
      "max-iters": { type: "string" },
      gates: { type: "string" },
      review: { type: "string" },
      resume: { type: "boolean" },
      "run-id": { type: "string" },
      "dry-run": { type: "boolean" },
      ci: { type: "boolean" },
      help: { type: "boolean" },
      "print-logs": { type: "boolean" },
      "log-level": { type: "string" },
      verbose: { type: "boolean", short: "v" },
      tui: { type: "boolean" },
      "no-stream": { type: "boolean" },
      "no-loop": { type: "boolean" },
      completion: { type: "string" },
      ship: { type: "boolean" },
      draft: { type: "boolean" },
      "max-cycles": { type: "string" },
      "stuck-threshold": { type: "string" },
      checkpoint: { type: "string" },
      "debug-work": { type: "boolean" }
    },
    allowPositionals: true
  });
  const flags = {
    workflow: positionals[0],
    maxIters: values["max-iters"] ? Number.parseInt(values["max-iters"]) : undefined,
    gates: values.gates ? values.gates.split(",").map((g2) => g2.trim()) : undefined,
    review: values.review,
    resume: values.resume,
    runId: values["run-id"],
    dryRun: values["dry-run"],
    ci: values.ci,
    help: values.help,
    printLogs: values["print-logs"],
    logLevel: values["log-level"] ?? (values.verbose ? "DEBUG" : undefined),
    verbose: values.verbose,
    tui: values.tui,
    noStream: values["no-stream"],
    loop: !values["no-loop"],
    noLoop: values["no-loop"],
    completionPromise: values.completion,
    ship: values.ship,
    draft: values.draft,
    maxCycles: values["max-cycles"] ? Number.parseInt(values["max-cycles"]) : undefined,
    stuckThreshold: values["stuck-threshold"] ? Number.parseInt(values["stuck-threshold"]) : undefined,
    checkpointFrequency: values.checkpoint ? Number.parseInt(values.checkpoint) : undefined,
    debugWork: values["debug-work"]
  };
  return { flags, remaining: positionals.slice(1) };
}
async function runRalph(args) {
  const { flags } = parseRalphFlags(args);
  if (flags.help) {
    console.log(RALPH_HELP_TEXT);
    return;
  }
  await Log.init({
    print: flags.printLogs ?? false,
    level: flags.logLevel ?? "INFO",
    logDir: ".ai-eng/logs"
  });
  Log.Default.info("ai-eng ralph starting", {
    flags: JSON.stringify(flags)
  });
  const config = await loadConfig(flags);
  if (flags.tui) {
    UI.info("TUI mode requested - falling back to CLI mode");
    UI.info("(TUI requires: bun run --watch or full TUI setup)");
  }
  await runCli(config, flags);
}
async function main() {
  try {
    const rawArgs = process.argv.slice(2);
    if (rawArgs.length === 0 || rawArgs[0] === "--help" || rawArgs[0] === "-h") {
      console.log(TOP_HELP_TEXT);
      process.exit(0);
    }
    const subcommand = rawArgs[0];
    const subcommandArgs = rawArgs.slice(1);
    switch (subcommand) {
      case "init":
        await runInit(subcommandArgs);
        break;
      case "install":
      case "i":
        await runInstall(subcommandArgs);
        break;
      case "ralph":
      case "r":
        await runRalph(subcommandArgs);
        break;
      case "--help":
      case "-h":
        console.log(TOP_HELP_TEXT);
        break;
      default:
        await runRalph(rawArgs);
        break;
    }
  } catch (error) {
    UI.error(error instanceof Error ? error.message : String(error));
    process.exit(1);
  }
}
export {
  main as runMain
};

//# debugId=95FF44A29710D4CF64756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9ub2Rlcy9pZGVudGl0eS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3Zpc2l0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvZG9jL2RpcmVjdGl2ZXMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9kb2MvYW5jaG9ycy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2RvYy9hcHBseVJldml2ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9ub2Rlcy90b0pTLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvbm9kZXMvTm9kZS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L25vZGVzL0FsaWFzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvbm9kZXMvU2NhbGFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvZG9jL2NyZWF0ZU5vZGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9ub2Rlcy9Db2xsZWN0aW9uLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc3RyaW5naWZ5L3N0cmluZ2lmeUNvbW1lbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zdHJpbmdpZnkvZm9sZEZsb3dMaW5lcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3N0cmluZ2lmeS9zdHJpbmdpZnlTdHJpbmcuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zdHJpbmdpZnkvc3RyaW5naWZ5LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc3RyaW5naWZ5L3N0cmluZ2lmeVBhaXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9sb2cuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEveWFtbC0xLjEvbWVyZ2UuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9ub2Rlcy9hZGRQYWlyVG9KU01hcC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L25vZGVzL1BhaXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zdHJpbmdpZnkvc3RyaW5naWZ5Q29sbGVjdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L25vZGVzL1lBTUxNYXAuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEvY29tbW9uL21hcC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L25vZGVzL1lBTUxTZXEuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEvY29tbW9uL3NlcS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS9jb21tb24vc3RyaW5nLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL2NvbW1vbi9udWxsLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL2NvcmUvYm9vbC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3N0cmluZ2lmeS9zdHJpbmdpZnlOdW1iZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEvY29yZS9mbG9hdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS9jb3JlL2ludC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS9jb3JlL3NjaGVtYS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS9qc29uL3NjaGVtYS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS95YW1sLTEuMS9iaW5hcnkuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEveWFtbC0xLjEvcGFpcnMuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEveWFtbC0xLjEvb21hcC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS95YW1sLTEuMS9ib29sLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL3lhbWwtMS4xL2Zsb2F0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL3lhbWwtMS4xL2ludC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS95YW1sLTEuMS9zZXQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9zY2hlbWEveWFtbC0xLjEvdGltZXN0YW1wLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL3lhbWwtMS4xL3NjaGVtYS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3NjaGVtYS90YWdzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3Qvc2NoZW1hL1NjaGVtYS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3N0cmluZ2lmeS9zdHJpbmdpZnlEb2N1bWVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2RvYy9Eb2N1bWVudC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2Vycm9ycy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvcmVzb2x2ZS1wcm9wcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvdXRpbC1jb250YWlucy1uZXdsaW5lLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvY29tcG9zZS91dGlsLWZsb3ctaW5kZW50LWNoZWNrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvY29tcG9zZS91dGlsLW1hcC1pbmNsdWRlcy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvcmVzb2x2ZS1ibG9jay1tYXAuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9jb21wb3NlL3Jlc29sdmUtYmxvY2stc2VxLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvY29tcG9zZS9yZXNvbHZlLWVuZC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvcmVzb2x2ZS1mbG93LWNvbGxlY3Rpb24uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9jb21wb3NlL2NvbXBvc2UtY29sbGVjdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvcmVzb2x2ZS1ibG9jay1zY2FsYXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9jb21wb3NlL3Jlc29sdmUtZmxvdy1zY2FsYXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9jb21wb3NlL2NvbXBvc2Utc2NhbGFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvY29tcG9zZS91dGlsLWVtcHR5LXNjYWxhci1wb3NpdGlvbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvY29tcG9zZS1ub2RlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvY29tcG9zZS9jb21wb3NlLWRvYy5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2NvbXBvc2UvY29tcG9zZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3lhbWwvZGlzdC9wYXJzZS9jc3Qtc2NhbGFyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvcGFyc2UvY3N0LXN0cmluZ2lmeS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3BhcnNlL2NzdC12aXNpdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3BhcnNlL2NzdC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L3BhcnNlL2xleGVyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvcGFyc2UvbGluZS1jb3VudGVyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvcGFyc2UvcGFyc2VyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy95YW1sL2Rpc3QvcHVibGljLWFwaS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMveWFtbC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL3NyYy9jb25maWcvc2NoZW1hLnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zaXN0ZXJhbnNpL3NyYy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcGljb2NvbG9ycy9waWNvY29sb3JzLmpzIiwgIi4uLy4uL3NyYy9jbGkvdWkudHMiLCAiLi4vLi4vc3JjL2luc3RhbGwvaW5pdC50cyIsICIuLi8uLi9zcmMvaW5zdGFsbC9pbnN0YWxsLnRzIiwgIi4uLy4uL3NyYy9jbGkvcnVuLnRzIiwgIi4uLy4uL3NyYy9jb25maWcvbG9hZENvbmZpZy50cyIsICIuLi8uLi9zcmMvdXRpbC9sb2cudHMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BjbGFjay9jb3JlL2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY2xhY2svcHJvbXB0cy9kaXN0L2luZGV4Lm1qcyIsICIuLi8uLi9zcmMvYmFja2VuZHMvb3BlbmNvZGUvY2xpZW50LnRzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmNvZGUtYWkvc2RrL2Rpc3QvZ2VuL2NvcmUvc2VydmVyU2VudEV2ZW50cy5nZW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuY29kZS1haS9zZGsvZGlzdC9nZW4vY29yZS9hdXRoLmdlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5jb2RlLWFpL3Nkay9kaXN0L2dlbi9jb3JlL2JvZHlTZXJpYWxpemVyLmdlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5jb2RlLWFpL3Nkay9kaXN0L2dlbi9jb3JlL3BhdGhTZXJpYWxpemVyLmdlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5jb2RlLWFpL3Nkay9kaXN0L2dlbi9jb3JlL3V0aWxzLmdlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5jb2RlLWFpL3Nkay9kaXN0L2dlbi9jbGllbnQvdXRpbHMuZ2VuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmNvZGUtYWkvc2RrL2Rpc3QvZ2VuL2NsaWVudC9jbGllbnQuZ2VuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmNvZGUtYWkvc2RrL2Rpc3QvZ2VuL2NvcmUvcGFyYW1zLmdlbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG9wZW5jb2RlLWFpL3Nkay9kaXN0L2dlbi9jbGllbnQuZ2VuLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmNvZGUtYWkvc2RrL2Rpc3QvZ2VuL3Nkay5nZW4uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuY29kZS1haS9zZGsvZGlzdC9jbGllbnQuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuY29kZS1haS9zZGsvZGlzdC9zZXJ2ZXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BvcGVuY29kZS1haS9zZGsvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9zcmMvZXhlY3V0aW9uL3JhbHBoLWxvb3AudHMiLCAiLi4vLi4vc3JjL3Byb21wdC1vcHRpbWl6YXRpb24vYW5hbHl6ZXIudHMiLCAiLi4vLi4vc3JjL3Byb21wdC1vcHRpbWl6YXRpb24vdGVjaG5pcXVlcy50cyIsICIuLi8uLi9zcmMvcHJvbXB0LW9wdGltaXphdGlvbi9vcHRpbWl6ZXIudHMiLCAiLi4vLi4vc3JjL3V0aWwvZGlzY29yZC13ZWJob29rLnRzIiwgIi4uLy4uL3NyYy9leGVjdXRpb24vZmxvdy1zdG9yZS50cyIsICIuLi8uLi9zcmMvZXhlY3V0aW9uL2Zsb3ctdHlwZXMudHMiLCAiLi4vLi4vc3JjL2NsaS9ydW4tY2xpLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQUxJQVMgPSBTeW1ib2wuZm9yKCd5YW1sLmFsaWFzJyk7XG5jb25zdCBET0MgPSBTeW1ib2wuZm9yKCd5YW1sLmRvY3VtZW50Jyk7XG5jb25zdCBNQVAgPSBTeW1ib2wuZm9yKCd5YW1sLm1hcCcpO1xuY29uc3QgUEFJUiA9IFN5bWJvbC5mb3IoJ3lhbWwucGFpcicpO1xuY29uc3QgU0NBTEFSID0gU3ltYm9sLmZvcigneWFtbC5zY2FsYXInKTtcbmNvbnN0IFNFUSA9IFN5bWJvbC5mb3IoJ3lhbWwuc2VxJyk7XG5jb25zdCBOT0RFX1RZUEUgPSBTeW1ib2wuZm9yKCd5YW1sLm5vZGUudHlwZScpO1xuY29uc3QgaXNBbGlhcyA9IChub2RlKSA9PiAhIW5vZGUgJiYgdHlwZW9mIG5vZGUgPT09ICdvYmplY3QnICYmIG5vZGVbTk9ERV9UWVBFXSA9PT0gQUxJQVM7XG5jb25zdCBpc0RvY3VtZW50ID0gKG5vZGUpID0+ICEhbm9kZSAmJiB0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZVtOT0RFX1RZUEVdID09PSBET0M7XG5jb25zdCBpc01hcCA9IChub2RlKSA9PiAhIW5vZGUgJiYgdHlwZW9mIG5vZGUgPT09ICdvYmplY3QnICYmIG5vZGVbTk9ERV9UWVBFXSA9PT0gTUFQO1xuY29uc3QgaXNQYWlyID0gKG5vZGUpID0+ICEhbm9kZSAmJiB0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZVtOT0RFX1RZUEVdID09PSBQQUlSO1xuY29uc3QgaXNTY2FsYXIgPSAobm9kZSkgPT4gISFub2RlICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0JyAmJiBub2RlW05PREVfVFlQRV0gPT09IFNDQUxBUjtcbmNvbnN0IGlzU2VxID0gKG5vZGUpID0+ICEhbm9kZSAmJiB0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcgJiYgbm9kZVtOT0RFX1RZUEVdID09PSBTRVE7XG5mdW5jdGlvbiBpc0NvbGxlY3Rpb24obm9kZSkge1xuICAgIGlmIChub2RlICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0JylcbiAgICAgICAgc3dpdGNoIChub2RlW05PREVfVFlQRV0pIHtcbiAgICAgICAgICAgIGNhc2UgTUFQOlxuICAgICAgICAgICAgY2FzZSBTRVE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc05vZGUobm9kZSkge1xuICAgIGlmIChub2RlICYmIHR5cGVvZiBub2RlID09PSAnb2JqZWN0JylcbiAgICAgICAgc3dpdGNoIChub2RlW05PREVfVFlQRV0pIHtcbiAgICAgICAgICAgIGNhc2UgQUxJQVM6XG4gICAgICAgICAgICBjYXNlIE1BUDpcbiAgICAgICAgICAgIGNhc2UgU0NBTEFSOlxuICAgICAgICAgICAgY2FzZSBTRVE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBoYXNBbmNob3IgPSAobm9kZSkgPT4gKGlzU2NhbGFyKG5vZGUpIHx8IGlzQ29sbGVjdGlvbihub2RlKSkgJiYgISFub2RlLmFuY2hvcjtcblxuZXhwb3J0cy5BTElBUyA9IEFMSUFTO1xuZXhwb3J0cy5ET0MgPSBET0M7XG5leHBvcnRzLk1BUCA9IE1BUDtcbmV4cG9ydHMuTk9ERV9UWVBFID0gTk9ERV9UWVBFO1xuZXhwb3J0cy5QQUlSID0gUEFJUjtcbmV4cG9ydHMuU0NBTEFSID0gU0NBTEFSO1xuZXhwb3J0cy5TRVEgPSBTRVE7XG5leHBvcnRzLmhhc0FuY2hvciA9IGhhc0FuY2hvcjtcbmV4cG9ydHMuaXNBbGlhcyA9IGlzQWxpYXM7XG5leHBvcnRzLmlzQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbjtcbmV4cG9ydHMuaXNEb2N1bWVudCA9IGlzRG9jdW1lbnQ7XG5leHBvcnRzLmlzTWFwID0gaXNNYXA7XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmV4cG9ydHMuaXNQYWlyID0gaXNQYWlyO1xuZXhwb3J0cy5pc1NjYWxhciA9IGlzU2NhbGFyO1xuZXhwb3J0cy5pc1NlcSA9IGlzU2VxO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4vbm9kZXMvaWRlbnRpdHkuanMnKTtcblxuY29uc3QgQlJFQUsgPSBTeW1ib2woJ2JyZWFrIHZpc2l0Jyk7XG5jb25zdCBTS0lQID0gU3ltYm9sKCdza2lwIGNoaWxkcmVuJyk7XG5jb25zdCBSRU1PVkUgPSBTeW1ib2woJ3JlbW92ZSBub2RlJyk7XG4vKipcbiAqIEFwcGx5IGEgdmlzaXRvciB0byBhbiBBU1Qgbm9kZSBvciBkb2N1bWVudC5cbiAqXG4gKiBXYWxrcyB0aHJvdWdoIHRoZSB0cmVlIChkZXB0aC1maXJzdCkgc3RhcnRpbmcgZnJvbSBgbm9kZWAsIGNhbGxpbmcgYVxuICogYHZpc2l0b3JgIGZ1bmN0aW9uIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICogICAtIGBrZXlgOiBGb3Igc2VxdWVuY2UgdmFsdWVzIGFuZCBtYXAgYFBhaXJgLCB0aGUgbm9kZSdzIGluZGV4IGluIHRoZVxuICogICAgIGNvbGxlY3Rpb24uIFdpdGhpbiBhIGBQYWlyYCwgYCdrZXknYCBvciBgJ3ZhbHVlJ2AsIGNvcnJlc3BvbmRpbmdseS5cbiAqICAgICBgbnVsbGAgZm9yIHRoZSByb290IG5vZGUuXG4gKiAgIC0gYG5vZGVgOiBUaGUgY3VycmVudCBub2RlLlxuICogICAtIGBwYXRoYDogVGhlIGFuY2VzdHJ5IG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gKlxuICogVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgdmlzaXRvciBtYXkgYmUgdXNlZCB0byBjb250cm9sIHRoZSB0cmF2ZXJzYWw6XG4gKiAgIC0gYHVuZGVmaW5lZGAgKGRlZmF1bHQpOiBEbyBub3RoaW5nIGFuZCBjb250aW51ZVxuICogICAtIGB2aXNpdC5TS0lQYDogRG8gbm90IHZpc2l0IHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUsIGNvbnRpbnVlIHdpdGggbmV4dFxuICogICAgIHNpYmxpbmdcbiAqICAgLSBgdmlzaXQuQlJFQUtgOiBUZXJtaW5hdGUgdHJhdmVyc2FsIGNvbXBsZXRlbHlcbiAqICAgLSBgdmlzaXQuUkVNT1ZFYDogUmVtb3ZlIHRoZSBjdXJyZW50IG5vZGUsIHRoZW4gY29udGludWUgd2l0aCB0aGUgbmV4dCBvbmVcbiAqICAgLSBgTm9kZWA6IFJlcGxhY2UgdGhlIGN1cnJlbnQgbm9kZSwgdGhlbiBjb250aW51ZSBieSB2aXNpdGluZyBpdFxuICogICAtIGBudW1iZXJgOiBXaGlsZSBpdGVyYXRpbmcgdGhlIGl0ZW1zIG9mIGEgc2VxdWVuY2Ugb3IgbWFwLCBzZXQgdGhlIGluZGV4XG4gKiAgICAgb2YgdGhlIG5leHQgc3RlcC4gVGhpcyBpcyB1c2VmdWwgZXNwZWNpYWxseSBpZiB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnRcbiAqICAgICBub2RlIGhhcyBjaGFuZ2VkLlxuICpcbiAqIElmIGB2aXNpdG9yYCBpcyBhIHNpbmdsZSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbGwgdmFsdWVzXG4gKiBlbmNvdW50ZXJlZCBpbiB0aGUgdHJlZSwgaW5jbHVkaW5nIGUuZy4gYG51bGxgIHZhbHVlcy4gQWx0ZXJuYXRpdmVseSxcbiAqIHNlcGFyYXRlIHZpc2l0b3IgZnVuY3Rpb25zIG1heSBiZSBkZWZpbmVkIGZvciBlYWNoIGBNYXBgLCBgUGFpcmAsIGBTZXFgLFxuICogYEFsaWFzYCBhbmQgYFNjYWxhcmAgbm9kZS4gVG8gZGVmaW5lIHRoZSBzYW1lIHZpc2l0b3IgZnVuY3Rpb24gZm9yIG1vcmUgdGhhblxuICogb25lIG5vZGUgdHlwZSwgdXNlIHRoZSBgQ29sbGVjdGlvbmAgKG1hcCBhbmQgc2VxKSwgYFZhbHVlYCAobWFwLCBzZXEgJiBzY2FsYXIpXG4gKiBhbmQgYE5vZGVgIChhbGlhcywgbWFwLCBzZXEgJiBzY2FsYXIpIHRhcmdldHMuIE9mIGFsbCB0aGVzZSwgb25seSB0aGUgbW9zdFxuICogc3BlY2lmaWMgZGVmaW5lZCBvbmUgd2lsbCBiZSB1c2VkIGZvciBlYWNoIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIHZpc2l0KG5vZGUsIHZpc2l0b3IpIHtcbiAgICBjb25zdCB2aXNpdG9yXyA9IGluaXRWaXNpdG9yKHZpc2l0b3IpO1xuICAgIGlmIChpZGVudGl0eS5pc0RvY3VtZW50KG5vZGUpKSB7XG4gICAgICAgIGNvbnN0IGNkID0gdmlzaXRfKG51bGwsIG5vZGUuY29udGVudHMsIHZpc2l0b3JfLCBPYmplY3QuZnJlZXplKFtub2RlXSkpO1xuICAgICAgICBpZiAoY2QgPT09IFJFTU9WRSlcbiAgICAgICAgICAgIG5vZGUuY29udGVudHMgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHZpc2l0XyhudWxsLCBub2RlLCB2aXNpdG9yXywgT2JqZWN0LmZyZWV6ZShbXSkpO1xufVxuLy8gV2l0aG91dCB0aGUgYGFzIHN5bWJvbGAgY2FzdHMsIFRTIGRlY2xhcmVzIHRoZXNlIGluIHRoZSBgdmlzaXRgXG4vLyBuYW1lc3BhY2UgdXNpbmcgYHZhcmAsIGJ1dCB0aGVuIGNvbXBsYWlucyBhYm91dCB0aGF0IGJlY2F1c2Vcbi8vIGB1bmlxdWUgc3ltYm9sYCBtdXN0IGJlIGBjb25zdGAuXG4vKiogVGVybWluYXRlIHZpc2l0IHRyYXZlcnNhbCBjb21wbGV0ZWx5ICovXG52aXNpdC5CUkVBSyA9IEJSRUFLO1xuLyoqIERvIG5vdCB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgbm9kZSAqL1xudmlzaXQuU0tJUCA9IFNLSVA7XG4vKiogUmVtb3ZlIHRoZSBjdXJyZW50IG5vZGUgKi9cbnZpc2l0LlJFTU9WRSA9IFJFTU9WRTtcbmZ1bmN0aW9uIHZpc2l0XyhrZXksIG5vZGUsIHZpc2l0b3IsIHBhdGgpIHtcbiAgICBjb25zdCBjdHJsID0gY2FsbFZpc2l0b3Ioa2V5LCBub2RlLCB2aXNpdG9yLCBwYXRoKTtcbiAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGN0cmwpIHx8IGlkZW50aXR5LmlzUGFpcihjdHJsKSkge1xuICAgICAgICByZXBsYWNlTm9kZShrZXksIHBhdGgsIGN0cmwpO1xuICAgICAgICByZXR1cm4gdmlzaXRfKGtleSwgY3RybCwgdmlzaXRvciwgcGF0aCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY3RybCAhPT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgaWYgKGlkZW50aXR5LmlzQ29sbGVjdGlvbihub2RlKSkge1xuICAgICAgICAgICAgcGF0aCA9IE9iamVjdC5mcmVlemUocGF0aC5jb25jYXQobm9kZSkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLml0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2kgPSB2aXNpdF8oaSwgbm9kZS5pdGVtc1tpXSwgdmlzaXRvciwgcGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIGkgPSBjaSAtIDE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2kgPT09IEJSRUFLKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUs7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2kgPT09IFJFTU9WRSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZGVudGl0eS5pc1BhaXIobm9kZSkpIHtcbiAgICAgICAgICAgIHBhdGggPSBPYmplY3QuZnJlZXplKHBhdGguY29uY2F0KG5vZGUpKTtcbiAgICAgICAgICAgIGNvbnN0IGNrID0gdmlzaXRfKCdrZXknLCBub2RlLmtleSwgdmlzaXRvciwgcGF0aCk7XG4gICAgICAgICAgICBpZiAoY2sgPT09IEJSRUFLKVxuICAgICAgICAgICAgICAgIHJldHVybiBCUkVBSztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNrID09PSBSRU1PVkUpXG4gICAgICAgICAgICAgICAgbm9kZS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgY3YgPSB2aXNpdF8oJ3ZhbHVlJywgbm9kZS52YWx1ZSwgdmlzaXRvciwgcGF0aCk7XG4gICAgICAgICAgICBpZiAoY3YgPT09IEJSRUFLKVxuICAgICAgICAgICAgICAgIHJldHVybiBCUkVBSztcbiAgICAgICAgICAgIGVsc2UgaWYgKGN2ID09PSBSRU1PVkUpXG4gICAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN0cmw7XG59XG4vKipcbiAqIEFwcGx5IGFuIGFzeW5jIHZpc2l0b3IgdG8gYW4gQVNUIG5vZGUgb3IgZG9jdW1lbnQuXG4gKlxuICogV2Fsa3MgdGhyb3VnaCB0aGUgdHJlZSAoZGVwdGgtZmlyc3QpIHN0YXJ0aW5nIGZyb20gYG5vZGVgLCBjYWxsaW5nIGFcbiAqIGB2aXNpdG9yYCBmdW5jdGlvbiB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqICAgLSBga2V5YDogRm9yIHNlcXVlbmNlIHZhbHVlcyBhbmQgbWFwIGBQYWlyYCwgdGhlIG5vZGUncyBpbmRleCBpbiB0aGVcbiAqICAgICBjb2xsZWN0aW9uLiBXaXRoaW4gYSBgUGFpcmAsIGAna2V5J2Agb3IgYCd2YWx1ZSdgLCBjb3JyZXNwb25kaW5nbHkuXG4gKiAgICAgYG51bGxgIGZvciB0aGUgcm9vdCBub2RlLlxuICogICAtIGBub2RlYDogVGhlIGN1cnJlbnQgbm9kZS5cbiAqICAgLSBgcGF0aGA6IFRoZSBhbmNlc3RyeSBvZiB0aGUgY3VycmVudCBub2RlLlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHZpc2l0b3IgbWF5IGJlIHVzZWQgdG8gY29udHJvbCB0aGUgdHJhdmVyc2FsOlxuICogICAtIGBQcm9taXNlYDogTXVzdCByZXNvbHZlIHRvIG9uZSBvZiB0aGUgZm9sbG93aW5nIHZhbHVlc1xuICogICAtIGB1bmRlZmluZWRgIChkZWZhdWx0KTogRG8gbm90aGluZyBhbmQgY29udGludWVcbiAqICAgLSBgdmlzaXQuU0tJUGA6IERvIG5vdCB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlLCBjb250aW51ZSB3aXRoIG5leHRcbiAqICAgICBzaWJsaW5nXG4gKiAgIC0gYHZpc2l0LkJSRUFLYDogVGVybWluYXRlIHRyYXZlcnNhbCBjb21wbGV0ZWx5XG4gKiAgIC0gYHZpc2l0LlJFTU9WRWA6IFJlbW92ZSB0aGUgY3VycmVudCBub2RlLCB0aGVuIGNvbnRpbnVlIHdpdGggdGhlIG5leHQgb25lXG4gKiAgIC0gYE5vZGVgOiBSZXBsYWNlIHRoZSBjdXJyZW50IG5vZGUsIHRoZW4gY29udGludWUgYnkgdmlzaXRpbmcgaXRcbiAqICAgLSBgbnVtYmVyYDogV2hpbGUgaXRlcmF0aW5nIHRoZSBpdGVtcyBvZiBhIHNlcXVlbmNlIG9yIG1hcCwgc2V0IHRoZSBpbmRleFxuICogICAgIG9mIHRoZSBuZXh0IHN0ZXAuIFRoaXMgaXMgdXNlZnVsIGVzcGVjaWFsbHkgaWYgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50XG4gKiAgICAgbm9kZSBoYXMgY2hhbmdlZC5cbiAqXG4gKiBJZiBgdmlzaXRvcmAgaXMgYSBzaW5nbGUgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHZhbHVlc1xuICogZW5jb3VudGVyZWQgaW4gdGhlIHRyZWUsIGluY2x1ZGluZyBlLmcuIGBudWxsYCB2YWx1ZXMuIEFsdGVybmF0aXZlbHksXG4gKiBzZXBhcmF0ZSB2aXNpdG9yIGZ1bmN0aW9ucyBtYXkgYmUgZGVmaW5lZCBmb3IgZWFjaCBgTWFwYCwgYFBhaXJgLCBgU2VxYCxcbiAqIGBBbGlhc2AgYW5kIGBTY2FsYXJgIG5vZGUuIFRvIGRlZmluZSB0aGUgc2FtZSB2aXNpdG9yIGZ1bmN0aW9uIGZvciBtb3JlIHRoYW5cbiAqIG9uZSBub2RlIHR5cGUsIHVzZSB0aGUgYENvbGxlY3Rpb25gIChtYXAgYW5kIHNlcSksIGBWYWx1ZWAgKG1hcCwgc2VxICYgc2NhbGFyKVxuICogYW5kIGBOb2RlYCAoYWxpYXMsIG1hcCwgc2VxICYgc2NhbGFyKSB0YXJnZXRzLiBPZiBhbGwgdGhlc2UsIG9ubHkgdGhlIG1vc3RcbiAqIHNwZWNpZmljIGRlZmluZWQgb25lIHdpbGwgYmUgdXNlZCBmb3IgZWFjaCBub2RlLlxuICovXG5hc3luYyBmdW5jdGlvbiB2aXNpdEFzeW5jKG5vZGUsIHZpc2l0b3IpIHtcbiAgICBjb25zdCB2aXNpdG9yXyA9IGluaXRWaXNpdG9yKHZpc2l0b3IpO1xuICAgIGlmIChpZGVudGl0eS5pc0RvY3VtZW50KG5vZGUpKSB7XG4gICAgICAgIGNvbnN0IGNkID0gYXdhaXQgdmlzaXRBc3luY18obnVsbCwgbm9kZS5jb250ZW50cywgdmlzaXRvcl8sIE9iamVjdC5mcmVlemUoW25vZGVdKSk7XG4gICAgICAgIGlmIChjZCA9PT0gUkVNT1ZFKVxuICAgICAgICAgICAgbm9kZS5jb250ZW50cyA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgYXdhaXQgdmlzaXRBc3luY18obnVsbCwgbm9kZSwgdmlzaXRvcl8sIE9iamVjdC5mcmVlemUoW10pKTtcbn1cbi8vIFdpdGhvdXQgdGhlIGBhcyBzeW1ib2xgIGNhc3RzLCBUUyBkZWNsYXJlcyB0aGVzZSBpbiB0aGUgYHZpc2l0YFxuLy8gbmFtZXNwYWNlIHVzaW5nIGB2YXJgLCBidXQgdGhlbiBjb21wbGFpbnMgYWJvdXQgdGhhdCBiZWNhdXNlXG4vLyBgdW5pcXVlIHN5bWJvbGAgbXVzdCBiZSBgY29uc3RgLlxuLyoqIFRlcm1pbmF0ZSB2aXNpdCB0cmF2ZXJzYWwgY29tcGxldGVseSAqL1xudmlzaXRBc3luYy5CUkVBSyA9IEJSRUFLO1xuLyoqIERvIG5vdCB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgbm9kZSAqL1xudmlzaXRBc3luYy5TS0lQID0gU0tJUDtcbi8qKiBSZW1vdmUgdGhlIGN1cnJlbnQgbm9kZSAqL1xudmlzaXRBc3luYy5SRU1PVkUgPSBSRU1PVkU7XG5hc3luYyBmdW5jdGlvbiB2aXNpdEFzeW5jXyhrZXksIG5vZGUsIHZpc2l0b3IsIHBhdGgpIHtcbiAgICBjb25zdCBjdHJsID0gYXdhaXQgY2FsbFZpc2l0b3Ioa2V5LCBub2RlLCB2aXNpdG9yLCBwYXRoKTtcbiAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGN0cmwpIHx8IGlkZW50aXR5LmlzUGFpcihjdHJsKSkge1xuICAgICAgICByZXBsYWNlTm9kZShrZXksIHBhdGgsIGN0cmwpO1xuICAgICAgICByZXR1cm4gdmlzaXRBc3luY18oa2V5LCBjdHJsLCB2aXNpdG9yLCBwYXRoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjdHJsICE9PSAnc3ltYm9sJykge1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNDb2xsZWN0aW9uKG5vZGUpKSB7XG4gICAgICAgICAgICBwYXRoID0gT2JqZWN0LmZyZWV6ZShwYXRoLmNvbmNhdChub2RlKSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaSA9IGF3YWl0IHZpc2l0QXN5bmNfKGksIG5vZGUuaXRlbXNbaV0sIHZpc2l0b3IsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2kgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgICAgICBpID0gY2kgLSAxO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNpID09PSBCUkVBSylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNpID09PSBSRU1PVkUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaWRlbnRpdHkuaXNQYWlyKG5vZGUpKSB7XG4gICAgICAgICAgICBwYXRoID0gT2JqZWN0LmZyZWV6ZShwYXRoLmNvbmNhdChub2RlKSk7XG4gICAgICAgICAgICBjb25zdCBjayA9IGF3YWl0IHZpc2l0QXN5bmNfKCdrZXknLCBub2RlLmtleSwgdmlzaXRvciwgcGF0aCk7XG4gICAgICAgICAgICBpZiAoY2sgPT09IEJSRUFLKVxuICAgICAgICAgICAgICAgIHJldHVybiBCUkVBSztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNrID09PSBSRU1PVkUpXG4gICAgICAgICAgICAgICAgbm9kZS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgY3YgPSBhd2FpdCB2aXNpdEFzeW5jXygndmFsdWUnLCBub2RlLnZhbHVlLCB2aXNpdG9yLCBwYXRoKTtcbiAgICAgICAgICAgIGlmIChjdiA9PT0gQlJFQUspXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLO1xuICAgICAgICAgICAgZWxzZSBpZiAoY3YgPT09IFJFTU9WRSlcbiAgICAgICAgICAgICAgICBub2RlLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3RybDtcbn1cbmZ1bmN0aW9uIGluaXRWaXNpdG9yKHZpc2l0b3IpIHtcbiAgICBpZiAodHlwZW9mIHZpc2l0b3IgPT09ICdvYmplY3QnICYmXG4gICAgICAgICh2aXNpdG9yLkNvbGxlY3Rpb24gfHwgdmlzaXRvci5Ob2RlIHx8IHZpc2l0b3IuVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIEFsaWFzOiB2aXNpdG9yLk5vZGUsXG4gICAgICAgICAgICBNYXA6IHZpc2l0b3IuTm9kZSxcbiAgICAgICAgICAgIFNjYWxhcjogdmlzaXRvci5Ob2RlLFxuICAgICAgICAgICAgU2VxOiB2aXNpdG9yLk5vZGVcbiAgICAgICAgfSwgdmlzaXRvci5WYWx1ZSAmJiB7XG4gICAgICAgICAgICBNYXA6IHZpc2l0b3IuVmFsdWUsXG4gICAgICAgICAgICBTY2FsYXI6IHZpc2l0b3IuVmFsdWUsXG4gICAgICAgICAgICBTZXE6IHZpc2l0b3IuVmFsdWVcbiAgICAgICAgfSwgdmlzaXRvci5Db2xsZWN0aW9uICYmIHtcbiAgICAgICAgICAgIE1hcDogdmlzaXRvci5Db2xsZWN0aW9uLFxuICAgICAgICAgICAgU2VxOiB2aXNpdG9yLkNvbGxlY3Rpb25cbiAgICAgICAgfSwgdmlzaXRvcik7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9yO1xufVxuZnVuY3Rpb24gY2FsbFZpc2l0b3Ioa2V5LCBub2RlLCB2aXNpdG9yLCBwYXRoKSB7XG4gICAgaWYgKHR5cGVvZiB2aXNpdG9yID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gdmlzaXRvcihrZXksIG5vZGUsIHBhdGgpO1xuICAgIGlmIChpZGVudGl0eS5pc01hcChub2RlKSlcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuTWFwPy4oa2V5LCBub2RlLCBwYXRoKTtcbiAgICBpZiAoaWRlbnRpdHkuaXNTZXEobm9kZSkpXG4gICAgICAgIHJldHVybiB2aXNpdG9yLlNlcT8uKGtleSwgbm9kZSwgcGF0aCk7XG4gICAgaWYgKGlkZW50aXR5LmlzUGFpcihub2RlKSlcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuUGFpcj8uKGtleSwgbm9kZSwgcGF0aCk7XG4gICAgaWYgKGlkZW50aXR5LmlzU2NhbGFyKG5vZGUpKVxuICAgICAgICByZXR1cm4gdmlzaXRvci5TY2FsYXI/LihrZXksIG5vZGUsIHBhdGgpO1xuICAgIGlmIChpZGVudGl0eS5pc0FsaWFzKG5vZGUpKVxuICAgICAgICByZXR1cm4gdmlzaXRvci5BbGlhcz8uKGtleSwgbm9kZSwgcGF0aCk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VOb2RlKGtleSwgcGF0aCwgbm9kZSkge1xuICAgIGNvbnN0IHBhcmVudCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICBpZiAoaWRlbnRpdHkuaXNDb2xsZWN0aW9uKHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50Lml0ZW1zW2tleV0gPSBub2RlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpZGVudGl0eS5pc1BhaXIocGFyZW50KSkge1xuICAgICAgICBpZiAoa2V5ID09PSAna2V5JylcbiAgICAgICAgICAgIHBhcmVudC5rZXkgPSBub2RlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBwYXJlbnQudmFsdWUgPSBub2RlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpZGVudGl0eS5pc0RvY3VtZW50KHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50LmNvbnRlbnRzID0gbm9kZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHB0ID0gaWRlbnRpdHkuaXNBbGlhcyhwYXJlbnQpID8gJ2FsaWFzJyA6ICdzY2FsYXInO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZXBsYWNlIG5vZGUgd2l0aCAke3B0fSBwYXJlbnRgKTtcbiAgICB9XG59XG5cbmV4cG9ydHMudmlzaXQgPSB2aXNpdDtcbmV4cG9ydHMudmlzaXRBc3luYyA9IHZpc2l0QXN5bmM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciB2aXNpdCA9IHJlcXVpcmUoJy4uL3Zpc2l0LmpzJyk7XG5cbmNvbnN0IGVzY2FwZUNoYXJzID0ge1xuICAgICchJzogJyUyMScsXG4gICAgJywnOiAnJTJDJyxcbiAgICAnWyc6ICclNUInLFxuICAgICddJzogJyU1RCcsXG4gICAgJ3snOiAnJTdCJyxcbiAgICAnfSc6ICclN0QnXG59O1xuY29uc3QgZXNjYXBlVGFnTmFtZSA9ICh0bikgPT4gdG4ucmVwbGFjZSgvWyEsW1xcXXt9XS9nLCBjaCA9PiBlc2NhcGVDaGFyc1tjaF0pO1xuY2xhc3MgRGlyZWN0aXZlcyB7XG4gICAgY29uc3RydWN0b3IoeWFtbCwgdGFncykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcmVjdGl2ZXMtZW5kL2RvYy1zdGFydCBtYXJrZXIgYC0tLWAuIElmIGBudWxsYCwgYSBtYXJrZXIgbWF5IHN0aWxsIGJlXG4gICAgICAgICAqIGluY2x1ZGVkIGluIHRoZSBkb2N1bWVudCdzIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kb2NTdGFydCA9IG51bGw7XG4gICAgICAgIC8qKiBUaGUgZG9jLWVuZCBtYXJrZXIgYC4uLmAuICAqL1xuICAgICAgICB0aGlzLmRvY0VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnlhbWwgPSBPYmplY3QuYXNzaWduKHt9LCBEaXJlY3RpdmVzLmRlZmF1bHRZYW1sLCB5YW1sKTtcbiAgICAgICAgdGhpcy50YWdzID0gT2JqZWN0LmFzc2lnbih7fSwgRGlyZWN0aXZlcy5kZWZhdWx0VGFncywgdGFncyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gbmV3IERpcmVjdGl2ZXModGhpcy55YW1sLCB0aGlzLnRhZ3MpO1xuICAgICAgICBjb3B5LmRvY1N0YXJ0ID0gdGhpcy5kb2NTdGFydDtcbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIER1cmluZyBwYXJzaW5nLCBnZXQgYSBEaXJlY3RpdmVzIGluc3RhbmNlIGZvciB0aGUgY3VycmVudCBkb2N1bWVudCBhbmRcbiAgICAgKiB1cGRhdGUgdGhlIHN0cmVhbSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmVyc2lvbidzIHNwZWMuXG4gICAgICovXG4gICAgYXREb2N1bWVudCgpIHtcbiAgICAgICAgY29uc3QgcmVzID0gbmV3IERpcmVjdGl2ZXModGhpcy55YW1sLCB0aGlzLnRhZ3MpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMueWFtbC52ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlICcxLjEnOlxuICAgICAgICAgICAgICAgIHRoaXMuYXROZXh0RG9jdW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnMS4yJzpcbiAgICAgICAgICAgICAgICB0aGlzLmF0TmV4dERvY3VtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy55YW1sID0ge1xuICAgICAgICAgICAgICAgICAgICBleHBsaWNpdDogRGlyZWN0aXZlcy5kZWZhdWx0WWFtbC5leHBsaWNpdCxcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudGFncyA9IE9iamVjdC5hc3NpZ24oe30sIERpcmVjdGl2ZXMuZGVmYXVsdFRhZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvbkVycm9yIC0gTWF5IGJlIGNhbGxlZCBldmVuIGlmIHRoZSBhY3Rpb24gd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzc1xuICAgICAqL1xuICAgIGFkZChsaW5lLCBvbkVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLmF0TmV4dERvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnlhbWwgPSB7IGV4cGxpY2l0OiBEaXJlY3RpdmVzLmRlZmF1bHRZYW1sLmV4cGxpY2l0LCB2ZXJzaW9uOiAnMS4xJyB9O1xuICAgICAgICAgICAgdGhpcy50YWdzID0gT2JqZWN0LmFzc2lnbih7fSwgRGlyZWN0aXZlcy5kZWZhdWx0VGFncyk7XG4gICAgICAgICAgICB0aGlzLmF0TmV4dERvY3VtZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnRyaW0oKS5zcGxpdCgvWyBcXHRdKy8pO1xuICAgICAgICBjb25zdCBuYW1lID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlICclVEFHJzoge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcigwLCAnJVRBRyBkaXJlY3RpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSB0d28gcGFydHMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFtoYW5kbGUsIHByZWZpeF0gPSBwYXJ0cztcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NbaGFuZGxlXSA9IHByZWZpeDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJyVZQU1MJzoge1xuICAgICAgICAgICAgICAgIHRoaXMueWFtbC5leHBsaWNpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKDAsICclWUFNTCBkaXJlY3RpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgcGFydCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFt2ZXJzaW9uXSA9IHBhcnRzO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAnMS4xJyB8fCB2ZXJzaW9uID09PSAnMS4yJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlhbWwudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IC9eXFxkK1xcLlxcZCskLy50ZXN0KHZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKDYsIGBVbnN1cHBvcnRlZCBZQU1MIHZlcnNpb24gJHt2ZXJzaW9ufWAsIGlzVmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvbkVycm9yKDAsIGBVbmtub3duIGRpcmVjdGl2ZSAke25hbWV9YCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGEgdGFnLCBtYXRjaGluZyBoYW5kbGVzIHRvIHRob3NlIGRlZmluZWQgaW4gJVRBRyBkaXJlY3RpdmVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgUmVzb2x2ZWQgdGFnLCB3aGljaCBtYXkgYWxzbyBiZSB0aGUgbm9uLXNwZWNpZmljIHRhZyBgJyEnYCBvciBhXG4gICAgICogICBgJyFsb2NhbCdgIHRhZywgb3IgYG51bGxgIGlmIHVucmVzb2x2YWJsZS5cbiAgICAgKi9cbiAgICB0YWdOYW1lKHNvdXJjZSwgb25FcnJvcikge1xuICAgICAgICBpZiAoc291cmNlID09PSAnIScpXG4gICAgICAgICAgICByZXR1cm4gJyEnOyAvLyBub24tc3BlY2lmaWMgdGFnXG4gICAgICAgIGlmIChzb3VyY2VbMF0gIT09ICchJykge1xuICAgICAgICAgICAgb25FcnJvcihgTm90IGEgdmFsaWQgdGFnOiAke3NvdXJjZX1gKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2VbMV0gPT09ICc8Jykge1xuICAgICAgICAgICAgY29uc3QgdmVyYmF0aW0gPSBzb3VyY2Uuc2xpY2UoMiwgLTEpO1xuICAgICAgICAgICAgaWYgKHZlcmJhdGltID09PSAnIScgfHwgdmVyYmF0aW0gPT09ICchIScpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGBWZXJiYXRpbSB0YWdzIGFyZW4ndCByZXNvbHZlZCwgc28gJHtzb3VyY2V9IGlzIGludmFsaWQuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlW3NvdXJjZS5sZW5ndGggLSAxXSAhPT0gJz4nKVxuICAgICAgICAgICAgICAgIG9uRXJyb3IoJ1ZlcmJhdGltIHRhZ3MgbXVzdCBlbmQgd2l0aCBhID4nKTtcbiAgICAgICAgICAgIHJldHVybiB2ZXJiYXRpbTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbLCBoYW5kbGUsIHN1ZmZpeF0gPSBzb3VyY2UubWF0Y2goL14oLiohKShbXiFdKikkL3MpO1xuICAgICAgICBpZiAoIXN1ZmZpeClcbiAgICAgICAgICAgIG9uRXJyb3IoYFRoZSAke3NvdXJjZX0gdGFnIGhhcyBubyBzdWZmaXhgKTtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gdGhpcy50YWdzW2hhbmRsZV07XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIGRlY29kZVVSSUNvbXBvbmVudChzdWZmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlID09PSAnIScpXG4gICAgICAgICAgICByZXR1cm4gc291cmNlOyAvLyBsb2NhbCB0YWdcbiAgICAgICAgb25FcnJvcihgQ291bGQgbm90IHJlc29sdmUgdGFnOiAke3NvdXJjZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgZnVsbHkgcmVzb2x2ZWQgdGFnLCByZXR1cm5zIGl0cyBwcmludGFibGUgc3RyaW5nIGZvcm0sXG4gICAgICogdGFraW5nIGludG8gYWNjb3VudCBjdXJyZW50IHRhZyBwcmVmaXhlcyBhbmQgZGVmYXVsdHMuXG4gICAgICovXG4gICAgdGFnU3RyaW5nKHRhZykge1xuICAgICAgICBmb3IgKGNvbnN0IFtoYW5kbGUsIHByZWZpeF0gb2YgT2JqZWN0LmVudHJpZXModGhpcy50YWdzKSkge1xuICAgICAgICAgICAgaWYgKHRhZy5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZSArIGVzY2FwZVRhZ05hbWUodGFnLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ1swXSA9PT0gJyEnID8gdGFnIDogYCE8JHt0YWd9PmA7XG4gICAgfVxuICAgIHRvU3RyaW5nKGRvYykge1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRoaXMueWFtbC5leHBsaWNpdFxuICAgICAgICAgICAgPyBbYCVZQU1MICR7dGhpcy55YW1sLnZlcnNpb24gfHwgJzEuMid9YF1cbiAgICAgICAgICAgIDogW107XG4gICAgICAgIGNvbnN0IHRhZ0VudHJpZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnRhZ3MpO1xuICAgICAgICBsZXQgdGFnTmFtZXM7XG4gICAgICAgIGlmIChkb2MgJiYgdGFnRW50cmllcy5sZW5ndGggPiAwICYmIGlkZW50aXR5LmlzTm9kZShkb2MuY29udGVudHMpKSB7XG4gICAgICAgICAgICBjb25zdCB0YWdzID0ge307XG4gICAgICAgICAgICB2aXNpdC52aXNpdChkb2MuY29udGVudHMsIChfa2V5LCBub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzTm9kZShub2RlKSAmJiBub2RlLnRhZylcbiAgICAgICAgICAgICAgICAgICAgdGFnc1tub2RlLnRhZ10gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YWdOYW1lcyA9IE9iamVjdC5rZXlzKHRhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRhZ05hbWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2hhbmRsZSwgcHJlZml4XSBvZiB0YWdFbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlID09PSAnISEnICYmIHByZWZpeCA9PT0gJ3RhZzp5YW1sLm9yZywyMDAyOicpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIWRvYyB8fCB0YWdOYW1lcy5zb21lKHRuID0+IHRuLnN0YXJ0c1dpdGgocHJlZml4KSkpXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChgJVRBRyAke2hhbmRsZX0gJHtwcmVmaXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgIH1cbn1cbkRpcmVjdGl2ZXMuZGVmYXVsdFlhbWwgPSB7IGV4cGxpY2l0OiBmYWxzZSwgdmVyc2lvbjogJzEuMicgfTtcbkRpcmVjdGl2ZXMuZGVmYXVsdFRhZ3MgPSB7ICchISc6ICd0YWc6eWFtbC5vcmcsMjAwMjonIH07XG5cbmV4cG9ydHMuRGlyZWN0aXZlcyA9IERpcmVjdGl2ZXM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciB2aXNpdCA9IHJlcXVpcmUoJy4uL3Zpc2l0LmpzJyk7XG5cbi8qKlxuICogVmVyaWZ5IHRoYXQgdGhlIGlucHV0IHN0cmluZyBpcyBhIHZhbGlkIGFuY2hvci5cbiAqXG4gKiBXaWxsIHRocm93IG9uIGVycm9ycy5cbiAqL1xuZnVuY3Rpb24gYW5jaG9ySXNWYWxpZChhbmNob3IpIHtcbiAgICBpZiAoL1tcXHgwMC1cXHgxOVxccyxbXFxde31dLy50ZXN0KGFuY2hvcikpIHtcbiAgICAgICAgY29uc3Qgc2EgPSBKU09OLnN0cmluZ2lmeShhbmNob3IpO1xuICAgICAgICBjb25zdCBtc2cgPSBgQW5jaG9yIG11c3Qgbm90IGNvbnRhaW4gd2hpdGVzcGFjZSBvciBjb250cm9sIGNoYXJhY3RlcnM6ICR7c2F9YDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYW5jaG9yTmFtZXMocm9vdCkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBuZXcgU2V0KCk7XG4gICAgdmlzaXQudmlzaXQocm9vdCwge1xuICAgICAgICBWYWx1ZShfa2V5LCBub2RlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5hbmNob3IpXG4gICAgICAgICAgICAgICAgYW5jaG9ycy5hZGQobm9kZS5hbmNob3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFuY2hvcnM7XG59XG4vKiogRmluZCBhIG5ldyBhbmNob3IgbmFtZSB3aXRoIHRoZSBnaXZlbiBgcHJlZml4YCBhbmQgYSBvbmUtaW5kZXhlZCBzdWZmaXguICovXG5mdW5jdGlvbiBmaW5kTmV3QW5jaG9yKHByZWZpeCwgZXhjbHVkZSkge1xuICAgIGZvciAobGV0IGkgPSAxOyB0cnVlOyArK2kpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke3ByZWZpeH0ke2l9YDtcbiAgICAgICAgaWYgKCFleGNsdWRlLmhhcyhuYW1lKSlcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVBbmNob3JzKGRvYywgcHJlZml4KSB7XG4gICAgY29uc3QgYWxpYXNPYmplY3RzID0gW107XG4gICAgY29uc3Qgc291cmNlT2JqZWN0cyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgcHJldkFuY2hvcnMgPSBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uQW5jaG9yOiAoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBhbGlhc09iamVjdHMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgcHJldkFuY2hvcnMgPz8gKHByZXZBbmNob3JzID0gYW5jaG9yTmFtZXMoZG9jKSk7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBmaW5kTmV3QW5jaG9yKHByZWZpeCwgcHJldkFuY2hvcnMpO1xuICAgICAgICAgICAgcHJldkFuY2hvcnMuYWRkKGFuY2hvcik7XG4gICAgICAgICAgICByZXR1cm4gYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogV2l0aCBjaXJjdWxhciByZWZlcmVuY2VzLCB0aGUgc291cmNlIG5vZGUgaXMgb25seSByZXNvbHZlZCBhZnRlciBhbGxcbiAgICAgICAgICogb2YgaXRzIGNoaWxkIG5vZGVzIGFyZS4gVGhpcyBpcyB3aHkgYW5jaG9ycyBhcmUgc2V0IG9ubHkgYWZ0ZXIgYWxsIG9mXG4gICAgICAgICAqIHRoZSBub2RlcyBoYXZlIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNldEFuY2hvcnM6ICgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlIG9mIGFsaWFzT2JqZWN0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNvdXJjZU9iamVjdHMuZ2V0KHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZi5hbmNob3IgJiZcbiAgICAgICAgICAgICAgICAgICAgKGlkZW50aXR5LmlzU2NhbGFyKHJlZi5ub2RlKSB8fCBpZGVudGl0eS5pc0NvbGxlY3Rpb24ocmVmLm5vZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICByZWYubm9kZS5hbmNob3IgPSByZWYuYW5jaG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZXNvbHZlIHJlcGVhdGVkIG9iamVjdCAodGhpcyBzaG91bGQgbm90IGhhcHBlbiknKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3Iuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNvdXJjZU9iamVjdHNcbiAgICB9O1xufVxuXG5leHBvcnRzLmFuY2hvcklzVmFsaWQgPSBhbmNob3JJc1ZhbGlkO1xuZXhwb3J0cy5hbmNob3JOYW1lcyA9IGFuY2hvck5hbWVzO1xuZXhwb3J0cy5jcmVhdGVOb2RlQW5jaG9ycyA9IGNyZWF0ZU5vZGVBbmNob3JzO1xuZXhwb3J0cy5maW5kTmV3QW5jaG9yID0gZmluZE5ld0FuY2hvcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIEpTT04ucGFyc2UgcmV2aXZlciBhbGdvcml0aG0gYXMgZGVmaW5lZCBpbiB0aGUgRUNNQS0yNjIgc3BlYyxcbiAqIGluIHNlY3Rpb24gMjQuNS4xLjEgXCJSdW50aW1lIFNlbWFudGljczogSW50ZXJuYWxpemVKU09OUHJvcGVydHlcIiBvZiB0aGVcbiAqIDIwMjEgZWRpdGlvbjogaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnBhcnNlXG4gKlxuICogSW5jbHVkZXMgZXh0ZW5zaW9ucyBmb3IgaGFuZGxpbmcgTWFwIGFuZCBTZXQgb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gYXBwbHlSZXZpdmVyKHJldml2ZXIsIG9iaiwga2V5LCB2YWwpIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB2YWwubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2MCA9IHZhbFtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2MSA9IGFwcGx5UmV2aXZlcihyZXZpdmVyLCB2YWwsIFN0cmluZyhpKSwgdjApO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tYXJyYXktZGVsZXRlXG4gICAgICAgICAgICAgICAgaWYgKHYxID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWxbaV07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodjEgIT09IHYwKVxuICAgICAgICAgICAgICAgICAgICB2YWxbaV0gPSB2MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBBcnJheS5mcm9tKHZhbC5rZXlzKCkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdjAgPSB2YWwuZ2V0KGspO1xuICAgICAgICAgICAgICAgIGNvbnN0IHYxID0gYXBwbHlSZXZpdmVyKHJldml2ZXIsIHZhbCwgaywgdjApO1xuICAgICAgICAgICAgICAgIGlmICh2MSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB2YWwuZGVsZXRlKGspO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYxICE9PSB2MClcbiAgICAgICAgICAgICAgICAgICAgdmFsLnNldChrLCB2MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYwIG9mIEFycmF5LmZyb20odmFsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYxID0gYXBwbHlSZXZpdmVyKHJldml2ZXIsIHZhbCwgdjAsIHYwKTtcbiAgICAgICAgICAgICAgICBpZiAodjEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgdmFsLmRlbGV0ZSh2MCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodjEgIT09IHYwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbC5kZWxldGUodjApO1xuICAgICAgICAgICAgICAgICAgICB2YWwuYWRkKHYxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2MF0gb2YgT2JqZWN0LmVudHJpZXModmFsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYxID0gYXBwbHlSZXZpdmVyKHJldml2ZXIsIHZhbCwgaywgdjApO1xuICAgICAgICAgICAgICAgIGlmICh2MSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsW2tdO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYxICE9PSB2MClcbiAgICAgICAgICAgICAgICAgICAgdmFsW2tdID0gdjE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldml2ZXIuY2FsbChvYmosIGtleSwgdmFsKTtcbn1cblxuZXhwb3J0cy5hcHBseVJldml2ZXIgPSBhcHBseVJldml2ZXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eS5qcycpO1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgYW55IG5vZGUgb3IgaXRzIGNvbnRlbnRzIHRvIG5hdGl2ZSBKYXZhU2NyaXB0XG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIGlucHV0IHZhbHVlXG4gKiBAcGFyYW0gYXJnIC0gSWYgYHZhbHVlYCBkZWZpbmVzIGEgYHRvSlNPTigpYCBtZXRob2QsIHVzZSB0aGlzXG4gKiAgIGFzIGl0cyBmaXJzdCBhcmd1bWVudFxuICogQHBhcmFtIGN0eCAtIENvbnZlcnNpb24gY29udGV4dCwgb3JpZ2luYWxseSBzZXQgaW4gRG9jdW1lbnQjdG9KUygpLiBJZlxuICogICBgeyBrZWVwOiB0cnVlIH1gIGlzIG5vdCBzZXQsIG91dHB1dCBzaG91bGQgYmUgc3VpdGFibGUgZm9yIEpTT05cbiAqICAgc3RyaW5naWZpY2F0aW9uLlxuICovXG5mdW5jdGlvbiB0b0pTKHZhbHVlLCBhcmcsIGN0eCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCgodiwgaSkgPT4gdG9KUyh2LCBTdHJpbmcoaSksIGN0eCkpO1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGxcbiAgICAgICAgaWYgKCFjdHggfHwgIWlkZW50aXR5Lmhhc0FuY2hvcih2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9KU09OKGFyZywgY3R4KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHsgYWxpYXNDb3VudDogMCwgY291bnQ6IDEsIHJlczogdW5kZWZpbmVkIH07XG4gICAgICAgIGN0eC5hbmNob3JzLnNldCh2YWx1ZSwgZGF0YSk7XG4gICAgICAgIGN0eC5vbkNyZWF0ZSA9IHJlcyA9PiB7XG4gICAgICAgICAgICBkYXRhLnJlcyA9IHJlcztcbiAgICAgICAgICAgIGRlbGV0ZSBjdHgub25DcmVhdGU7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IHZhbHVlLnRvSlNPTihhcmcsIGN0eCk7XG4gICAgICAgIGlmIChjdHgub25DcmVhdGUpXG4gICAgICAgICAgICBjdHgub25DcmVhdGUocmVzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcgJiYgIWN0eD8ua2VlcClcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnRzLnRvSlMgPSB0b0pTO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBhcHBseVJldml2ZXIgPSByZXF1aXJlKCcuLi9kb2MvYXBwbHlSZXZpdmVyLmpzJyk7XG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5LmpzJyk7XG52YXIgdG9KUyA9IHJlcXVpcmUoJy4vdG9KUy5qcycpO1xuXG5jbGFzcyBOb2RlQmFzZSB7XG4gICAgY29uc3RydWN0b3IodHlwZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgaWRlbnRpdHkuTk9ERV9UWVBFLCB7IHZhbHVlOiB0eXBlIH0pO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlIGEgY29weSBvZiB0aGlzIG5vZGUuICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2UpXG4gICAgICAgICAgICBjb3B5LnJhbmdlID0gdGhpcy5yYW5nZS5zbGljZSgpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgLyoqIEEgcGxhaW4gSmF2YVNjcmlwdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuICovXG4gICAgdG9KUyhkb2MsIHsgbWFwQXNNYXAsIG1heEFsaWFzQ291bnQsIG9uQW5jaG9yLCByZXZpdmVyIH0gPSB7fSkge1xuICAgICAgICBpZiAoIWlkZW50aXR5LmlzRG9jdW1lbnQoZG9jKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgZG9jdW1lbnQgYXJndW1lbnQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgYW5jaG9yczogbmV3IE1hcCgpLFxuICAgICAgICAgICAgZG9jLFxuICAgICAgICAgICAga2VlcDogdHJ1ZSxcbiAgICAgICAgICAgIG1hcEFzTWFwOiBtYXBBc01hcCA9PT0gdHJ1ZSxcbiAgICAgICAgICAgIG1hcEtleVdhcm5lZDogZmFsc2UsXG4gICAgICAgICAgICBtYXhBbGlhc0NvdW50OiB0eXBlb2YgbWF4QWxpYXNDb3VudCA9PT0gJ251bWJlcicgPyBtYXhBbGlhc0NvdW50IDogMTAwXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IHRvSlMudG9KUyh0aGlzLCAnJywgY3R4KTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkFuY2hvciA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyBjb3VudCwgcmVzIH0gb2YgY3R4LmFuY2hvcnMudmFsdWVzKCkpXG4gICAgICAgICAgICAgICAgb25BbmNob3IocmVzLCBjb3VudCk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcmV2aXZlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBhcHBseVJldml2ZXIuYXBwbHlSZXZpdmVyKHJldml2ZXIsIHsgJyc6IHJlcyB9LCAnJywgcmVzKVxuICAgICAgICAgICAgOiByZXM7XG4gICAgfVxufVxuXG5leHBvcnRzLk5vZGVCYXNlID0gTm9kZUJhc2U7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGFuY2hvcnMgPSByZXF1aXJlKCcuLi9kb2MvYW5jaG9ycy5qcycpO1xudmFyIHZpc2l0ID0gcmVxdWlyZSgnLi4vdmlzaXQuanMnKTtcbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHkuanMnKTtcbnZhciBOb2RlID0gcmVxdWlyZSgnLi9Ob2RlLmpzJyk7XG52YXIgdG9KUyA9IHJlcXVpcmUoJy4vdG9KUy5qcycpO1xuXG5jbGFzcyBBbGlhcyBleHRlbmRzIE5vZGUuTm9kZUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgICAgICBzdXBlcihpZGVudGl0eS5BTElBUyk7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RhZycsIHtcbiAgICAgICAgICAgIHNldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsaWFzIG5vZGVzIGNhbm5vdCBoYXZlIHRhZ3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgdGhlIHZhbHVlIG9mIHRoaXMgYWxpYXMgd2l0aGluIGBkb2NgLCBmaW5kaW5nIHRoZSBsYXN0XG4gICAgICogaW5zdGFuY2Ugb2YgdGhlIGBzb3VyY2VgIGFuY2hvciBiZWZvcmUgdGhpcyBub2RlLlxuICAgICAqL1xuICAgIHJlc29sdmUoZG9jLCBjdHgpIHtcbiAgICAgICAgbGV0IG5vZGVzO1xuICAgICAgICBpZiAoY3R4Py5hbGlhc1Jlc29sdmVDYWNoZSkge1xuICAgICAgICAgICAgbm9kZXMgPSBjdHguYWxpYXNSZXNvbHZlQ2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlcyA9IFtdO1xuICAgICAgICAgICAgdmlzaXQudmlzaXQoZG9jLCB7XG4gICAgICAgICAgICAgICAgTm9kZTogKF9rZXksIG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzQWxpYXMobm9kZSkgfHwgaWRlbnRpdHkuaGFzQW5jaG9yKG5vZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjdHgpXG4gICAgICAgICAgICAgICAgY3R4LmFsaWFzUmVzb2x2ZUNhY2hlID0gbm9kZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvdW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09PSB0aGlzKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKG5vZGUuYW5jaG9yID09PSB0aGlzLnNvdXJjZSlcbiAgICAgICAgICAgICAgICBmb3VuZCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgICB0b0pTT04oX2FyZywgY3R4KSB7XG4gICAgICAgIGlmICghY3R4KVxuICAgICAgICAgICAgcmV0dXJuIHsgc291cmNlOiB0aGlzLnNvdXJjZSB9O1xuICAgICAgICBjb25zdCB7IGFuY2hvcnMsIGRvYywgbWF4QWxpYXNDb3VudCB9ID0gY3R4O1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnJlc29sdmUoZG9jLCBjdHgpO1xuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gYFVucmVzb2x2ZWQgYWxpYXMgKHRoZSBhbmNob3IgbXVzdCBiZSBzZXQgYmVmb3JlIHRoZSBhbGlhcyk6ICR7dGhpcy5zb3VyY2V9YDtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkYXRhID0gYW5jaG9ycy5nZXQoc291cmNlKTtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAvLyBSZXNvbHZlIGFuY2hvcnMgZm9yIE5vZGUucHJvdG90eXBlLnRvSlMoKVxuICAgICAgICAgICAgdG9KUy50b0pTKHNvdXJjZSwgbnVsbCwgY3R4KTtcbiAgICAgICAgICAgIGRhdGEgPSBhbmNob3JzLmdldChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZGF0YT8ucmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9ICdUaGlzIHNob3VsZCBub3QgaGFwcGVuOiBBbGlhcyBhbmNob3Igd2FzIG5vdCByZXNvbHZlZD8nO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heEFsaWFzQ291bnQgPj0gMCkge1xuICAgICAgICAgICAgZGF0YS5jb3VudCArPSAxO1xuICAgICAgICAgICAgaWYgKGRhdGEuYWxpYXNDb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgICBkYXRhLmFsaWFzQ291bnQgPSBnZXRBbGlhc0NvdW50KGRvYywgc291cmNlLCBhbmNob3JzKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvdW50ICogZGF0YS5hbGlhc0NvdW50ID4gbWF4QWxpYXNDb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9ICdFeGNlc3NpdmUgYWxpYXMgY291bnQgaW5kaWNhdGVzIGEgcmVzb3VyY2UgZXhoYXVzdGlvbiBhdHRhY2snO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLnJlcztcbiAgICB9XG4gICAgdG9TdHJpbmcoY3R4LCBfb25Db21tZW50LCBfb25DaG9tcEtlZXApIHtcbiAgICAgICAgY29uc3Qgc3JjID0gYCoke3RoaXMuc291cmNlfWA7XG4gICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgIGFuY2hvcnMuYW5jaG9ySXNWYWxpZCh0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoY3R4Lm9wdGlvbnMudmVyaWZ5QWxpYXNPcmRlciAmJiAhY3R4LmFuY2hvcnMuaGFzKHRoaXMuc291cmNlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBVbnJlc29sdmVkIGFsaWFzICh0aGUgYW5jaG9yIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgYWxpYXMpOiAke3RoaXMuc291cmNlfWA7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3R4LmltcGxpY2l0S2V5KVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtzcmN9IGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNyYztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRBbGlhc0NvdW50KGRvYywgbm9kZSwgYW5jaG9ycykge1xuICAgIGlmIChpZGVudGl0eS5pc0FsaWFzKG5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IG5vZGUucmVzb2x2ZShkb2MpO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBhbmNob3JzICYmIHNvdXJjZSAmJiBhbmNob3JzLmdldChzb3VyY2UpO1xuICAgICAgICByZXR1cm4gYW5jaG9yID8gYW5jaG9yLmNvdW50ICogYW5jaG9yLmFsaWFzQ291bnQgOiAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChpZGVudGl0eS5pc0NvbGxlY3Rpb24obm9kZSkpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG5vZGUuaXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBnZXRBbGlhc0NvdW50KGRvYywgaXRlbSwgYW5jaG9ycyk7XG4gICAgICAgICAgICBpZiAoYyA+IGNvdW50KVxuICAgICAgICAgICAgICAgIGNvdW50ID0gYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlkZW50aXR5LmlzUGFpcihub2RlKSkge1xuICAgICAgICBjb25zdCBrYyA9IGdldEFsaWFzQ291bnQoZG9jLCBub2RlLmtleSwgYW5jaG9ycyk7XG4gICAgICAgIGNvbnN0IHZjID0gZ2V0QWxpYXNDb3VudChkb2MsIG5vZGUudmFsdWUsIGFuY2hvcnMpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoa2MsIHZjKTtcbiAgICB9XG4gICAgcmV0dXJuIDE7XG59XG5cbmV4cG9ydHMuQWxpYXMgPSBBbGlhcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5LmpzJyk7XG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vTm9kZS5qcycpO1xudmFyIHRvSlMgPSByZXF1aXJlKCcuL3RvSlMuanMnKTtcblxuY29uc3QgaXNTY2FsYXJWYWx1ZSA9ICh2YWx1ZSkgPT4gIXZhbHVlIHx8ICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jyk7XG5jbGFzcyBTY2FsYXIgZXh0ZW5kcyBOb2RlLk5vZGVCYXNlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcihpZGVudGl0eS5TQ0FMQVIpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHRvSlNPTihhcmcsIGN0eCkge1xuICAgICAgICByZXR1cm4gY3R4Py5rZWVwID8gdGhpcy52YWx1ZSA6IHRvSlMudG9KUyh0aGlzLnZhbHVlLCBhcmcsIGN0eCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblNjYWxhci5CTE9DS19GT0xERUQgPSAnQkxPQ0tfRk9MREVEJztcblNjYWxhci5CTE9DS19MSVRFUkFMID0gJ0JMT0NLX0xJVEVSQUwnO1xuU2NhbGFyLlBMQUlOID0gJ1BMQUlOJztcblNjYWxhci5RVU9URV9ET1VCTEUgPSAnUVVPVEVfRE9VQkxFJztcblNjYWxhci5RVU9URV9TSU5HTEUgPSAnUVVPVEVfU0lOR0xFJztcblxuZXhwb3J0cy5TY2FsYXIgPSBTY2FsYXI7XG5leHBvcnRzLmlzU2NhbGFyVmFsdWUgPSBpc1NjYWxhclZhbHVlO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBBbGlhcyA9IHJlcXVpcmUoJy4uL25vZGVzL0FsaWFzLmpzJyk7XG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4uL25vZGVzL1NjYWxhci5qcycpO1xuXG5jb25zdCBkZWZhdWx0VGFnUHJlZml4ID0gJ3RhZzp5YW1sLm9yZywyMDAyOic7XG5mdW5jdGlvbiBmaW5kVGFnT2JqZWN0KHZhbHVlLCB0YWdOYW1lLCB0YWdzKSB7XG4gICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0YWdzLmZpbHRlcih0ID0+IHQudGFnID09PSB0YWdOYW1lKTtcbiAgICAgICAgY29uc3QgdGFnT2JqID0gbWF0Y2guZmluZCh0ID0+ICF0LmZvcm1hdCkgPz8gbWF0Y2hbMF07XG4gICAgICAgIGlmICghdGFnT2JqKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWcgJHt0YWdOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgcmV0dXJuIHRhZ09iajtcbiAgICB9XG4gICAgcmV0dXJuIHRhZ3MuZmluZCh0ID0+IHQuaWRlbnRpZnk/Lih2YWx1ZSkgJiYgIXQuZm9ybWF0KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUodmFsdWUsIHRhZ05hbWUsIGN0eCkge1xuICAgIGlmIChpZGVudGl0eS5pc0RvY3VtZW50KHZhbHVlKSlcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5jb250ZW50cztcbiAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmIChpZGVudGl0eS5pc1BhaXIodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGN0eC5zY2hlbWFbaWRlbnRpdHkuTUFQXS5jcmVhdGVOb2RlPy4oY3R4LnNjaGVtYSwgbnVsbCwgY3R4KTtcbiAgICAgICAgbWFwLml0ZW1zLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBOdW1iZXIgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBCb29sZWFuIHx8XG4gICAgICAgICh0eXBlb2YgQmlnSW50ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEJpZ0ludCkgLy8gbm90IHN1cHBvcnRlZCBldmVyeXdoZXJlXG4gICAgKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2VyaWFsaXplanNvbnByb3BlcnR5XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgIH1cbiAgICBjb25zdCB7IGFsaWFzRHVwbGljYXRlT2JqZWN0cywgb25BbmNob3IsIG9uVGFnT2JqLCBzY2hlbWEsIHNvdXJjZU9iamVjdHMgfSA9IGN0eDtcbiAgICAvLyBEZXRlY3QgZHVwbGljYXRlIHJlZmVyZW5jZXMgdG8gdGhlIHNhbWUgb2JqZWN0ICYgdXNlIEFsaWFzIG5vZGVzIGZvciBhbGxcbiAgICAvLyBhZnRlciBmaXJzdC4gVGhlIGByZWZgIHdyYXBwZXIgYWxsb3dzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIHRvIHJlc29sdmUuXG4gICAgbGV0IHJlZiA9IHVuZGVmaW5lZDtcbiAgICBpZiAoYWxpYXNEdXBsaWNhdGVPYmplY3RzICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmVmID0gc291cmNlT2JqZWN0cy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICByZWYuYW5jaG9yID8/IChyZWYuYW5jaG9yID0gb25BbmNob3IodmFsdWUpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWxpYXMuQWxpYXMocmVmLmFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWYgPSB7IGFuY2hvcjogbnVsbCwgbm9kZTogbnVsbCB9O1xuICAgICAgICAgICAgc291cmNlT2JqZWN0cy5zZXQodmFsdWUsIHJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhZ05hbWU/LnN0YXJ0c1dpdGgoJyEhJykpXG4gICAgICAgIHRhZ05hbWUgPSBkZWZhdWx0VGFnUHJlZml4ICsgdGFnTmFtZS5zbGljZSgyKTtcbiAgICBsZXQgdGFnT2JqID0gZmluZFRhZ09iamVjdCh2YWx1ZSwgdGFnTmFtZSwgc2NoZW1hLnRhZ3MpO1xuICAgIGlmICghdGFnT2JqKSB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBTY2FsYXIuU2NhbGFyKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZWYpXG4gICAgICAgICAgICAgICAgcmVmLm5vZGUgPSBub2RlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGFnT2JqID1cbiAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgTWFwXG4gICAgICAgICAgICAgICAgPyBzY2hlbWFbaWRlbnRpdHkuTUFQXVxuICAgICAgICAgICAgICAgIDogU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyBzY2hlbWFbaWRlbnRpdHkuU0VRXVxuICAgICAgICAgICAgICAgICAgICA6IHNjaGVtYVtpZGVudGl0eS5NQVBdO1xuICAgIH1cbiAgICBpZiAob25UYWdPYmopIHtcbiAgICAgICAgb25UYWdPYmoodGFnT2JqKTtcbiAgICAgICAgZGVsZXRlIGN0eC5vblRhZ09iajtcbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IHRhZ09iaj8uY3JlYXRlTm9kZVxuICAgICAgICA/IHRhZ09iai5jcmVhdGVOb2RlKGN0eC5zY2hlbWEsIHZhbHVlLCBjdHgpXG4gICAgICAgIDogdHlwZW9mIHRhZ09iaj8ubm9kZUNsYXNzPy5mcm9tID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IHRhZ09iai5ub2RlQ2xhc3MuZnJvbShjdHguc2NoZW1hLCB2YWx1ZSwgY3R4KVxuICAgICAgICAgICAgOiBuZXcgU2NhbGFyLlNjYWxhcih2YWx1ZSk7XG4gICAgaWYgKHRhZ05hbWUpXG4gICAgICAgIG5vZGUudGFnID0gdGFnTmFtZTtcbiAgICBlbHNlIGlmICghdGFnT2JqLmRlZmF1bHQpXG4gICAgICAgIG5vZGUudGFnID0gdGFnT2JqLnRhZztcbiAgICBpZiAocmVmKVxuICAgICAgICByZWYubm9kZSA9IG5vZGU7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydHMuY3JlYXRlTm9kZSA9IGNyZWF0ZU5vZGU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU5vZGUgPSByZXF1aXJlKCcuLi9kb2MvY3JlYXRlTm9kZS5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eS5qcycpO1xudmFyIE5vZGUgPSByZXF1aXJlKCcuL05vZGUuanMnKTtcblxuZnVuY3Rpb24gY29sbGVjdGlvbkZyb21QYXRoKHNjaGVtYSwgcGF0aCwgdmFsdWUpIHtcbiAgICBsZXQgdiA9IHZhbHVlO1xuICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGNvbnN0IGsgPSBwYXRoW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGsgPT09ICdudW1iZXInICYmIE51bWJlci5pc0ludGVnZXIoaykgJiYgayA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gW107XG4gICAgICAgICAgICBhW2tdID0gdjtcbiAgICAgICAgICAgIHYgPSBhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdiA9IG5ldyBNYXAoW1trLCB2XV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVOb2RlLmNyZWF0ZU5vZGUodiwgdW5kZWZpbmVkLCB7XG4gICAgICAgIGFsaWFzRHVwbGljYXRlT2JqZWN0czogZmFsc2UsXG4gICAgICAgIGtlZXBVbmRlZmluZWQ6IGZhbHNlLFxuICAgICAgICBvbkFuY2hvcjogKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBwbGVhc2UgcmVwb3J0IGEgYnVnLicpO1xuICAgICAgICB9LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHNvdXJjZU9iamVjdHM6IG5ldyBNYXAoKVxuICAgIH0pO1xufVxuLy8gVHlwZSBndWFyZCBpcyBpbnRlbnRpb25hbGx5IGEgbGl0dGxlIHdyb25nIHNvIGFzIHRvIGJlIG1vcmUgdXNlZnVsLFxuLy8gYXMgaXQgZG9lcyBub3QgY292ZXIgdW50eXBhYmxlIGVtcHR5IG5vbi1zdHJpbmcgaXRlcmFibGVzIChlLmcuIFtdKS5cbmNvbnN0IGlzRW1wdHlQYXRoID0gKHBhdGgpID0+IHBhdGggPT0gbnVsbCB8fFxuICAgICh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgISFwYXRoW1N5bWJvbC5pdGVyYXRvcl0oKS5uZXh0KCkuZG9uZSk7XG5jbGFzcyBDb2xsZWN0aW9uIGV4dGVuZHMgTm9kZS5Ob2RlQmFzZSB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKHR5cGUpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3NjaGVtYScsIHtcbiAgICAgICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY2hlbWEgLSBJZiBkZWZpbmVkLCBvdmVyd3JpdGVzIHRoZSBvcmlnaW5hbCdzIHNjaGVtYVxuICAgICAqL1xuICAgIGNsb25lKHNjaGVtYSkge1xuICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtcbiAgICAgICAgaWYgKHNjaGVtYSlcbiAgICAgICAgICAgIGNvcHkuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICBjb3B5Lml0ZW1zID0gY29weS5pdGVtcy5tYXAoaXQgPT4gaWRlbnRpdHkuaXNOb2RlKGl0KSB8fCBpZGVudGl0eS5pc1BhaXIoaXQpID8gaXQuY2xvbmUoc2NoZW1hKSA6IGl0KTtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2UpXG4gICAgICAgICAgICBjb3B5LnJhbmdlID0gdGhpcy5yYW5nZS5zbGljZSgpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHZhbHVlIHRvIHRoZSBjb2xsZWN0aW9uLiBGb3IgYCEhbWFwYCBhbmQgYCEhb21hcGAgdGhlIHZhbHVlIG11c3RcbiAgICAgKiBiZSBhIFBhaXIgaW5zdGFuY2Ugb3IgYSBgeyBrZXksIHZhbHVlIH1gIG9iamVjdCwgd2hpY2ggbWF5IG5vdCBoYXZlIGEga2V5XG4gICAgICogdGhhdCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgbWFwLlxuICAgICAqL1xuICAgIGFkZEluKHBhdGgsIHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0VtcHR5UGF0aChwYXRoKSlcbiAgICAgICAgICAgIHRoaXMuYWRkKHZhbHVlKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IHBhdGg7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5nZXQoa2V5LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChpZGVudGl0eS5pc0NvbGxlY3Rpb24obm9kZSkpXG4gICAgICAgICAgICAgICAgbm9kZS5hZGRJbihyZXN0LCB2YWx1ZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlID09PSB1bmRlZmluZWQgJiYgdGhpcy5zY2hlbWEpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBjb2xsZWN0aW9uRnJvbVBhdGgodGhpcy5zY2hlbWEsIHJlc3QsIHZhbHVlKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBZQU1MIGNvbGxlY3Rpb24gYXQgJHtrZXl9LiBSZW1haW5pbmcgcGF0aDogJHtyZXN0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgaXRlbSB3YXMgZm91bmQgYW5kIHJlbW92ZWQuXG4gICAgICovXG4gICAgZGVsZXRlSW4ocGF0aCkge1xuICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IHBhdGg7XG4gICAgICAgIGlmIChyZXN0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5nZXQoa2V5LCB0cnVlKTtcbiAgICAgICAgaWYgKGlkZW50aXR5LmlzQ29sbGVjdGlvbihub2RlKSlcbiAgICAgICAgICAgIHJldHVybiBub2RlLmRlbGV0ZUluKHJlc3QpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFlBTUwgY29sbGVjdGlvbiBhdCAke2tleX0uIFJlbWFpbmluZyBwYXRoOiAke3Jlc3R9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaXRlbSBhdCBga2V5YCwgb3IgYHVuZGVmaW5lZGAgaWYgbm90IGZvdW5kLiBCeSBkZWZhdWx0IHVud3JhcHNcbiAgICAgKiBzY2FsYXIgdmFsdWVzIGZyb20gdGhlaXIgc3Vycm91bmRpbmcgbm9kZTsgdG8gZGlzYWJsZSBzZXQgYGtlZXBTY2FsYXJgIHRvXG4gICAgICogYHRydWVgIChjb2xsZWN0aW9ucyBhcmUgYWx3YXlzIHJldHVybmVkIGludGFjdCkuXG4gICAgICovXG4gICAgZ2V0SW4ocGF0aCwga2VlcFNjYWxhcikge1xuICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IHBhdGg7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmdldChrZXksIHRydWUpO1xuICAgICAgICBpZiAocmVzdC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gIWtlZXBTY2FsYXIgJiYgaWRlbnRpdHkuaXNTY2FsYXIobm9kZSkgPyBub2RlLnZhbHVlIDogbm9kZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5LmlzQ29sbGVjdGlvbihub2RlKSA/IG5vZGUuZ2V0SW4ocmVzdCwga2VlcFNjYWxhcikgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGhhc0FsbE51bGxWYWx1ZXMoYWxsb3dTY2FsYXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZXZlcnkobm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlkZW50aXR5LmlzUGFpcihub2RlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBuID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAobiA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgKGFsbG93U2NhbGFyICYmXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aXR5LmlzU2NhbGFyKG4pICYmXG4gICAgICAgICAgICAgICAgICAgIG4udmFsdWUgPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAhbi5jb21tZW50QmVmb3JlICYmXG4gICAgICAgICAgICAgICAgICAgICFuLmNvbW1lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgIW4udGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbGxlY3Rpb24gaW5jbHVkZXMgYSB2YWx1ZSB3aXRoIHRoZSBrZXkgYGtleWAuXG4gICAgICovXG4gICAgaGFzSW4ocGF0aCkge1xuICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IHBhdGg7XG4gICAgICAgIGlmIChyZXN0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhcyhrZXkpO1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5nZXQoa2V5LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5LmlzQ29sbGVjdGlvbihub2RlKSA/IG5vZGUuaGFzSW4ocmVzdCkgOiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIGluIHRoaXMgY29sbGVjdGlvbi4gRm9yIGAhIXNldGAsIGB2YWx1ZWAgbmVlZHMgdG8gYmUgYVxuICAgICAqIGJvb2xlYW4gdG8gYWRkL3JlbW92ZSB0aGUgaXRlbSBmcm9tIHRoZSBzZXQuXG4gICAgICovXG4gICAgc2V0SW4ocGF0aCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgW2tleSwgLi4ucmVzdF0gPSBwYXRoO1xuICAgICAgICBpZiAocmVzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZ2V0KGtleSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoaWRlbnRpdHkuaXNDb2xsZWN0aW9uKG5vZGUpKVxuICAgICAgICAgICAgICAgIG5vZGUuc2V0SW4ocmVzdCwgdmFsdWUpO1xuICAgICAgICAgICAgZWxzZSBpZiAobm9kZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuc2NoZW1hKVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgY29sbGVjdGlvbkZyb21QYXRoKHRoaXMuc2NoZW1hLCByZXN0LCB2YWx1ZSkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgWUFNTCBjb2xsZWN0aW9uIGF0ICR7a2V5fS4gUmVtYWluaW5nIHBhdGg6ICR7cmVzdH1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0cy5Db2xsZWN0aW9uID0gQ29sbGVjdGlvbjtcbmV4cG9ydHMuY29sbGVjdGlvbkZyb21QYXRoID0gY29sbGVjdGlvbkZyb21QYXRoO1xuZXhwb3J0cy5pc0VtcHR5UGF0aCA9IGlzRW1wdHlQYXRoO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZpZXMgYSBjb21tZW50LlxuICpcbiAqIEVtcHR5IGNvbW1lbnQgbGluZXMgYXJlIGxlZnQgZW1wdHksXG4gKiBsaW5lcyBjb25zaXN0aW5nIG9mIGEgc2luZ2xlIHNwYWNlIGFyZSByZXBsYWNlZCBieSBgI2AsXG4gKiBhbmQgYWxsIG90aGVyIGxpbmVzIGFyZSBwcmVmaXhlZCB3aXRoIGEgYCNgLlxuICovXG5jb25zdCBzdHJpbmdpZnlDb21tZW50ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoL14oPyEkKSg/OiAkKT8vZ20sICcjJyk7XG5mdW5jdGlvbiBpbmRlbnRDb21tZW50KGNvbW1lbnQsIGluZGVudCkge1xuICAgIGlmICgvXlxcbiskLy50ZXN0KGNvbW1lbnQpKVxuICAgICAgICByZXR1cm4gY29tbWVudC5zdWJzdHJpbmcoMSk7XG4gICAgcmV0dXJuIGluZGVudCA/IGNvbW1lbnQucmVwbGFjZSgvXig/ISAqJCkvZ20sIGluZGVudCkgOiBjb21tZW50O1xufVxuY29uc3QgbGluZUNvbW1lbnQgPSAoc3RyLCBpbmRlbnQsIGNvbW1lbnQpID0+IHN0ci5lbmRzV2l0aCgnXFxuJylcbiAgICA/IGluZGVudENvbW1lbnQoY29tbWVudCwgaW5kZW50KVxuICAgIDogY29tbWVudC5pbmNsdWRlcygnXFxuJylcbiAgICAgICAgPyAnXFxuJyArIGluZGVudENvbW1lbnQoY29tbWVudCwgaW5kZW50KVxuICAgICAgICA6IChzdHIuZW5kc1dpdGgoJyAnKSA/ICcnIDogJyAnKSArIGNvbW1lbnQ7XG5cbmV4cG9ydHMuaW5kZW50Q29tbWVudCA9IGluZGVudENvbW1lbnQ7XG5leHBvcnRzLmxpbmVDb21tZW50ID0gbGluZUNvbW1lbnQ7XG5leHBvcnRzLnN0cmluZ2lmeUNvbW1lbnQgPSBzdHJpbmdpZnlDb21tZW50O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEZPTERfRkxPVyA9ICdmbG93JztcbmNvbnN0IEZPTERfQkxPQ0sgPSAnYmxvY2snO1xuY29uc3QgRk9MRF9RVU9URUQgPSAncXVvdGVkJztcbi8qKlxuICogVHJpZXMgdG8ga2VlcCBpbnB1dCBhdCB1cCB0byBgbGluZVdpZHRoYCBjaGFyYWN0ZXJzLCBzcGxpdHRpbmcgb25seSBvbiBzcGFjZXNcbiAqIG5vdCBmb2xsb3dlZCBieSBuZXdsaW5lcyBvciBzcGFjZXMgdW5sZXNzIGBtb2RlYCBpcyBgJ3F1b3RlZCdgLiBMaW5lcyBhcmVcbiAqIHRlcm1pbmF0ZWQgd2l0aCBgXFxuYCBhbmQgc3RhcnRlZCB3aXRoIGBpbmRlbnRgLlxuICovXG5mdW5jdGlvbiBmb2xkRmxvd0xpbmVzKHRleHQsIGluZGVudCwgbW9kZSA9ICdmbG93JywgeyBpbmRlbnRBdFN0YXJ0LCBsaW5lV2lkdGggPSA4MCwgbWluQ29udGVudFdpZHRoID0gMjAsIG9uRm9sZCwgb25PdmVyZmxvdyB9ID0ge30pIHtcbiAgICBpZiAoIWxpbmVXaWR0aCB8fCBsaW5lV2lkdGggPCAwKVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICBpZiAobGluZVdpZHRoIDwgbWluQ29udGVudFdpZHRoKVxuICAgICAgICBtaW5Db250ZW50V2lkdGggPSAwO1xuICAgIGNvbnN0IGVuZFN0ZXAgPSBNYXRoLm1heCgxICsgbWluQ29udGVudFdpZHRoLCAxICsgbGluZVdpZHRoIC0gaW5kZW50Lmxlbmd0aCk7XG4gICAgaWYgKHRleHQubGVuZ3RoIDw9IGVuZFN0ZXApXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIGNvbnN0IGZvbGRzID0gW107XG4gICAgY29uc3QgZXNjYXBlZEZvbGRzID0ge307XG4gICAgbGV0IGVuZCA9IGxpbmVXaWR0aCAtIGluZGVudC5sZW5ndGg7XG4gICAgaWYgKHR5cGVvZiBpbmRlbnRBdFN0YXJ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoaW5kZW50QXRTdGFydCA+IGxpbmVXaWR0aCAtIE1hdGgubWF4KDIsIG1pbkNvbnRlbnRXaWR0aCkpXG4gICAgICAgICAgICBmb2xkcy5wdXNoKDApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBlbmQgPSBsaW5lV2lkdGggLSBpbmRlbnRBdFN0YXJ0O1xuICAgIH1cbiAgICBsZXQgc3BsaXQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHByZXYgPSB1bmRlZmluZWQ7XG4gICAgbGV0IG92ZXJmbG93ID0gZmFsc2U7XG4gICAgbGV0IGkgPSAtMTtcbiAgICBsZXQgZXNjU3RhcnQgPSAtMTtcbiAgICBsZXQgZXNjRW5kID0gLTE7XG4gICAgaWYgKG1vZGUgPT09IEZPTERfQkxPQ0spIHtcbiAgICAgICAgaSA9IGNvbnN1bWVNb3JlSW5kZW50ZWRMaW5lcyh0ZXh0LCBpLCBpbmRlbnQubGVuZ3RoKTtcbiAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgZW5kID0gaSArIGVuZFN0ZXA7XG4gICAgfVxuICAgIGZvciAobGV0IGNoOyAoY2ggPSB0ZXh0WyhpICs9IDEpXSk7KSB7XG4gICAgICAgIGlmIChtb2RlID09PSBGT0xEX1FVT1RFRCAmJiBjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBlc2NTdGFydCA9IGk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRleHRbaSArIDFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAneCc6XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndSc6XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnVSc6XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gOTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXNjRW5kID0gaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gRk9MRF9CTE9DSylcbiAgICAgICAgICAgICAgICBpID0gY29uc3VtZU1vcmVJbmRlbnRlZExpbmVzKHRleHQsIGksIGluZGVudC5sZW5ndGgpO1xuICAgICAgICAgICAgZW5kID0gaSArIGluZGVudC5sZW5ndGggKyBlbmRTdGVwO1xuICAgICAgICAgICAgc3BsaXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICcgJyAmJlxuICAgICAgICAgICAgICAgIHByZXYgJiZcbiAgICAgICAgICAgICAgICBwcmV2ICE9PSAnICcgJiZcbiAgICAgICAgICAgICAgICBwcmV2ICE9PSAnXFxuJyAmJlxuICAgICAgICAgICAgICAgIHByZXYgIT09ICdcXHQnKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BhY2Ugc3Vycm91bmRlZCBieSBub24tc3BhY2UgY2FuIGJlIHJlcGxhY2VkIHdpdGggbmV3bGluZSArIGluZGVudFxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0ZXh0W2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSAnICcgJiYgbmV4dCAhPT0gJ1xcbicgJiYgbmV4dCAhPT0gJ1xcdCcpXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID49IGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGxpdCkge1xuICAgICAgICAgICAgICAgICAgICBmb2xkcy5wdXNoKHNwbGl0KTtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gc3BsaXQgKyBlbmRTdGVwO1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gRk9MRF9RVU9URUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpdGUtc3BhY2UgY29sbGVjdGVkIGF0IGVuZCBtYXkgc3RyZXRjaCBwYXN0IGxpbmVXaWR0aFxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocHJldiA9PT0gJyAnIHx8IHByZXYgPT09ICdcXHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gY2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IHRleHRbKGkgKz0gMSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIG5ld2xpbmUgZXNjYXBlLCBidXQgZG9uJ3QgYnJlYWsgcHJlY2VkaW5nIGVzY2FwZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqID0gaSA+IGVzY0VuZCArIDEgPyBpIC0gMiA6IGVzY1N0YXJ0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQmFpbCBvdXQgaWYgbGluZVdpZHRoICYgbWluQ29udGVudFdpZHRoIGFyZSBzaG9ydGVyIHRoYW4gYW4gZXNjYXBlIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXNjYXBlZEZvbGRzW2pdKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRzLnB1c2goaik7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRGb2xkc1tqXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGogKyBlbmRTdGVwO1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldiA9IGNoO1xuICAgIH1cbiAgICBpZiAob3ZlcmZsb3cgJiYgb25PdmVyZmxvdylcbiAgICAgICAgb25PdmVyZmxvdygpO1xuICAgIGlmIChmb2xkcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIGlmIChvbkZvbGQpXG4gICAgICAgIG9uRm9sZCgpO1xuICAgIGxldCByZXMgPSB0ZXh0LnNsaWNlKDAsIGZvbGRzWzBdKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvbGRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGZvbGQgPSBmb2xkc1tpXTtcbiAgICAgICAgY29uc3QgZW5kID0gZm9sZHNbaSArIDFdIHx8IHRleHQubGVuZ3RoO1xuICAgICAgICBpZiAoZm9sZCA9PT0gMClcbiAgICAgICAgICAgIHJlcyA9IGBcXG4ke2luZGVudH0ke3RleHQuc2xpY2UoMCwgZW5kKX1gO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBGT0xEX1FVT1RFRCAmJiBlc2NhcGVkRm9sZHNbZm9sZF0pXG4gICAgICAgICAgICAgICAgcmVzICs9IGAke3RleHRbZm9sZF19XFxcXGA7XG4gICAgICAgICAgICByZXMgKz0gYFxcbiR7aW5kZW50fSR7dGV4dC5zbGljZShmb2xkICsgMSwgZW5kKX1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIFByZXN1bWVzIGBpICsgMWAgaXMgYXQgdGhlIHN0YXJ0IG9mIGEgbGluZVxuICogQHJldHVybnMgaW5kZXggb2YgbGFzdCBuZXdsaW5lIGluIG1vcmUtaW5kZW50ZWQgYmxvY2tcbiAqL1xuZnVuY3Rpb24gY29uc3VtZU1vcmVJbmRlbnRlZExpbmVzKHRleHQsIGksIGluZGVudCkge1xuICAgIGxldCBlbmQgPSBpO1xuICAgIGxldCBzdGFydCA9IGkgKyAxO1xuICAgIGxldCBjaCA9IHRleHRbc3RhcnRdO1xuICAgIHdoaWxlIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFx0Jykge1xuICAgICAgICBpZiAoaSA8IHN0YXJ0ICsgaW5kZW50KSB7XG4gICAgICAgICAgICBjaCA9IHRleHRbKytpXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjaCA9IHRleHRbKytpXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKGNoICYmIGNoICE9PSAnXFxuJyk7XG4gICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGNoID0gdGV4dFtzdGFydF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbn1cblxuZXhwb3J0cy5GT0xEX0JMT0NLID0gRk9MRF9CTE9DSztcbmV4cG9ydHMuRk9MRF9GTE9XID0gRk9MRF9GTE9XO1xuZXhwb3J0cy5GT0xEX1FVT1RFRCA9IEZPTERfUVVPVEVEO1xuZXhwb3J0cy5mb2xkRmxvd0xpbmVzID0gZm9sZEZsb3dMaW5lcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgZm9sZEZsb3dMaW5lcyA9IHJlcXVpcmUoJy4vZm9sZEZsb3dMaW5lcy5qcycpO1xuXG5jb25zdCBnZXRGb2xkT3B0aW9ucyA9IChjdHgsIGlzQmxvY2spID0+ICh7XG4gICAgaW5kZW50QXRTdGFydDogaXNCbG9jayA/IGN0eC5pbmRlbnQubGVuZ3RoIDogY3R4LmluZGVudEF0U3RhcnQsXG4gICAgbGluZVdpZHRoOiBjdHgub3B0aW9ucy5saW5lV2lkdGgsXG4gICAgbWluQ29udGVudFdpZHRoOiBjdHgub3B0aW9ucy5taW5Db250ZW50V2lkdGhcbn0pO1xuLy8gQWxzbyBjaGVja3MgZm9yIGxpbmVzIHN0YXJ0aW5nIHdpdGggJSwgYXMgcGFyc2luZyB0aGUgb3V0cHV0IGFzIFlBTUwgMS4xIHdpbGxcbi8vIHByZXN1bWUgdGhhdCdzIHN0YXJ0aW5nIGEgbmV3IGRvY3VtZW50LlxuY29uc3QgY29udGFpbnNEb2N1bWVudE1hcmtlciA9IChzdHIpID0+IC9eKCV8LS0tfFxcLlxcLlxcLikvbS50ZXN0KHN0cik7XG5mdW5jdGlvbiBsaW5lTGVuZ3RoT3ZlckxpbWl0KHN0ciwgbGluZVdpZHRoLCBpbmRlbnRMZW5ndGgpIHtcbiAgICBpZiAoIWxpbmVXaWR0aCB8fCBsaW5lV2lkdGggPCAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbGltaXQgPSBsaW5lV2lkdGggLSBpbmRlbnRMZW5ndGg7XG4gICAgY29uc3Qgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgICBpZiAoc3RyTGVuIDw9IGxpbWl0KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDAsIHN0YXJ0ID0gMDsgaSA8IHN0ckxlbjsgKytpKSB7XG4gICAgICAgIGlmIChzdHJbaV0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoaSAtIHN0YXJ0ID4gbGltaXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKHN0ckxlbiAtIHN0YXJ0IDw9IGxpbWl0KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRvdWJsZVF1b3RlZFN0cmluZyh2YWx1ZSwgY3R4KSB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICBpZiAoY3R4Lm9wdGlvbnMuZG91YmxlUXVvdGVkQXNKU09OKVxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICBjb25zdCB7IGltcGxpY2l0S2V5IH0gPSBjdHg7XG4gICAgY29uc3QgbWluTXVsdGlMaW5lTGVuZ3RoID0gY3R4Lm9wdGlvbnMuZG91YmxlUXVvdGVkTWluTXVsdGlMaW5lTGVuZ3RoO1xuICAgIGNvbnN0IGluZGVudCA9IGN0eC5pbmRlbnQgfHwgKGNvbnRhaW5zRG9jdW1lbnRNYXJrZXIodmFsdWUpID8gJyAgJyA6ICcnKTtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgY2ggPSBqc29uW2ldOyBjaDsgY2ggPSBqc29uWysraV0pIHtcbiAgICAgICAgaWYgKGNoID09PSAnICcgJiYganNvbltpICsgMV0gPT09ICdcXFxcJyAmJiBqc29uW2kgKyAyXSA9PT0gJ24nKSB7XG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgbmV3bGluZSBuZWVkcyB0byBiZSBlc2NhcGVkIHRvIG5vdCBiZSBmb2xkZWRcbiAgICAgICAgICAgIHN0ciArPSBqc29uLnNsaWNlKHN0YXJ0LCBpKSArICdcXFxcICc7XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICBjaCA9ICdcXFxcJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT09ICdcXFxcJylcbiAgICAgICAgICAgIHN3aXRjaCAoanNvbltpICsgMV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IGpzb24uc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGpzb24uc3Vic3RyKGkgKyAyLCA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJzAwMDAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1xcXFwwJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnMDAwNyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxcXGEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcwMDBiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcXFxcdic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJzAwMWInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1xcXFxlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnMDA4NSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxcXE4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcwMGEwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcXFxcXyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJzIwMjgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1xcXFxMJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnMjAyOSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxcXFAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZS5zdWJzdHIoMCwgMikgPT09ICcwMCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1xcXFx4JyArIGNvZGUuc3Vic3RyKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0ganNvbi5zdWJzdHIoaSwgNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1wbGljaXRLZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb25baSArIDJdID09PSAnXCInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmxlbmd0aCA8IG1pbk11bHRpTGluZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9sZGluZyB3aWxsIGVhdCBmaXJzdCBuZXdsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0ganNvbi5zbGljZShzdGFydCwgaSkgKyAnXFxuXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqc29uW2kgKyAyXSA9PT0gJ1xcXFwnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbltpICsgM10gPT09ICduJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25baSArIDRdICE9PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcXG4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGFjZSBhZnRlciBuZXdsaW5lIG5lZWRzIHRvIGJlIGVzY2FwZWQgdG8gbm90IGJlIGZvbGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25baSArIDJdID09PSAnICcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcXFxcJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBzdHIgPSBzdGFydCA/IHN0ciArIGpzb24uc2xpY2Uoc3RhcnQpIDoganNvbjtcbiAgICByZXR1cm4gaW1wbGljaXRLZXlcbiAgICAgICAgPyBzdHJcbiAgICAgICAgOiBmb2xkRmxvd0xpbmVzLmZvbGRGbG93TGluZXMoc3RyLCBpbmRlbnQsIGZvbGRGbG93TGluZXMuRk9MRF9RVU9URUQsIGdldEZvbGRPcHRpb25zKGN0eCwgZmFsc2UpKTtcbn1cbmZ1bmN0aW9uIHNpbmdsZVF1b3RlZFN0cmluZyh2YWx1ZSwgY3R4KSB7XG4gICAgaWYgKGN0eC5vcHRpb25zLnNpbmdsZVF1b3RlID09PSBmYWxzZSB8fFxuICAgICAgICAoY3R4LmltcGxpY2l0S2V5ICYmIHZhbHVlLmluY2x1ZGVzKCdcXG4nKSkgfHxcbiAgICAgICAgL1sgXFx0XVxcbnxcXG5bIFxcdF0vLnRlc3QodmFsdWUpIC8vIHNpbmdsZSBxdW90ZWQgc3RyaW5nIGNhbid0IGhhdmUgbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBuZXdsaW5lXG4gICAgKVxuICAgICAgICByZXR1cm4gZG91YmxlUXVvdGVkU3RyaW5nKHZhbHVlLCBjdHgpO1xuICAgIGNvbnN0IGluZGVudCA9IGN0eC5pbmRlbnQgfHwgKGNvbnRhaW5zRG9jdW1lbnRNYXJrZXIodmFsdWUpID8gJyAgJyA6ICcnKTtcbiAgICBjb25zdCByZXMgPSBcIidcIiArIHZhbHVlLnJlcGxhY2UoLycvZywgXCInJ1wiKS5yZXBsYWNlKC9cXG4rL2csIGAkJlxcbiR7aW5kZW50fWApICsgXCInXCI7XG4gICAgcmV0dXJuIGN0eC5pbXBsaWNpdEtleVxuICAgICAgICA/IHJlc1xuICAgICAgICA6IGZvbGRGbG93TGluZXMuZm9sZEZsb3dMaW5lcyhyZXMsIGluZGVudCwgZm9sZEZsb3dMaW5lcy5GT0xEX0ZMT1csIGdldEZvbGRPcHRpb25zKGN0eCwgZmFsc2UpKTtcbn1cbmZ1bmN0aW9uIHF1b3RlZFN0cmluZyh2YWx1ZSwgY3R4KSB7XG4gICAgY29uc3QgeyBzaW5nbGVRdW90ZSB9ID0gY3R4Lm9wdGlvbnM7XG4gICAgbGV0IHFzO1xuICAgIGlmIChzaW5nbGVRdW90ZSA9PT0gZmFsc2UpXG4gICAgICAgIHFzID0gZG91YmxlUXVvdGVkU3RyaW5nO1xuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBoYXNEb3VibGUgPSB2YWx1ZS5pbmNsdWRlcygnXCInKTtcbiAgICAgICAgY29uc3QgaGFzU2luZ2xlID0gdmFsdWUuaW5jbHVkZXMoXCInXCIpO1xuICAgICAgICBpZiAoaGFzRG91YmxlICYmICFoYXNTaW5nbGUpXG4gICAgICAgICAgICBxcyA9IHNpbmdsZVF1b3RlZFN0cmluZztcbiAgICAgICAgZWxzZSBpZiAoaGFzU2luZ2xlICYmICFoYXNEb3VibGUpXG4gICAgICAgICAgICBxcyA9IGRvdWJsZVF1b3RlZFN0cmluZztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcXMgPSBzaW5nbGVRdW90ZSA/IHNpbmdsZVF1b3RlZFN0cmluZyA6IGRvdWJsZVF1b3RlZFN0cmluZztcbiAgICB9XG4gICAgcmV0dXJuIHFzKHZhbHVlLCBjdHgpO1xufVxuLy8gVGhlIG5lZ2F0aXZlIGxvb2tiZWhpbmQgYXZvaWRzIGEgcG9seW5vbWlhbCBzZWFyY2gsXG4vLyBidXQgaXNuJ3Qgc3VwcG9ydGVkIHlldCBvbiBTYWZhcmk6IGh0dHBzOi8vY2FuaXVzZS5jb20vanMtcmVnZXhwLWxvb2tiZWhpbmRcbmxldCBibG9ja0VuZE5ld2xpbmVzO1xudHJ5IHtcbiAgICBibG9ja0VuZE5ld2xpbmVzID0gbmV3IFJlZ0V4cCgnKF58KD88IVxcbikpXFxuKyg/IVxcbnwkKScsICdnJyk7XG59XG5jYXRjaCB7XG4gICAgYmxvY2tFbmROZXdsaW5lcyA9IC9cXG4rKD8hXFxufCQpL2c7XG59XG5mdW5jdGlvbiBibG9ja1N0cmluZyh7IGNvbW1lbnQsIHR5cGUsIHZhbHVlIH0sIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCkge1xuICAgIGNvbnN0IHsgYmxvY2tRdW90ZSwgY29tbWVudFN0cmluZywgbGluZVdpZHRoIH0gPSBjdHgub3B0aW9ucztcbiAgICAvLyAxLiBCbG9jayBjYW4ndCBlbmQgaW4gd2hpdGVzcGFjZSB1bmxlc3MgdGhlIGxhc3QgbGluZSBpcyBub24tZW1wdHkuXG4gICAgLy8gMi4gU3RyaW5ncyBjb25zaXN0aW5nIG9mIG9ubHkgd2hpdGVzcGFjZSBhcmUgYmVzdCByZW5kZXJlZCBleHBsaWNpdGx5LlxuICAgIGlmICghYmxvY2tRdW90ZSB8fCAvXFxuW1xcdCBdKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBxdW90ZWRTdHJpbmcodmFsdWUsIGN0eCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGVudCA9IGN0eC5pbmRlbnQgfHxcbiAgICAgICAgKGN0eC5mb3JjZUJsb2NrSW5kZW50IHx8IGNvbnRhaW5zRG9jdW1lbnRNYXJrZXIodmFsdWUpID8gJyAgJyA6ICcnKTtcbiAgICBjb25zdCBsaXRlcmFsID0gYmxvY2tRdW90ZSA9PT0gJ2xpdGVyYWwnXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IGJsb2NrUXVvdGUgPT09ICdmb2xkZWQnIHx8IHR5cGUgPT09IFNjYWxhci5TY2FsYXIuQkxPQ0tfRk9MREVEXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IHR5cGUgPT09IFNjYWxhci5TY2FsYXIuQkxPQ0tfTElURVJBTFxuICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgIDogIWxpbmVMZW5ndGhPdmVyTGltaXQodmFsdWUsIGxpbmVXaWR0aCwgaW5kZW50Lmxlbmd0aCk7XG4gICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuIGxpdGVyYWwgPyAnfFxcbicgOiAnPlxcbic7XG4gICAgLy8gZGV0ZXJtaW5lIGNob21waW5nIGZyb20gd2hpdGVzcGFjZSBhdCB2YWx1ZSBlbmRcbiAgICBsZXQgY2hvbXA7XG4gICAgbGV0IGVuZFN0YXJ0O1xuICAgIGZvciAoZW5kU3RhcnQgPSB2YWx1ZS5sZW5ndGg7IGVuZFN0YXJ0ID4gMDsgLS1lbmRTdGFydCkge1xuICAgICAgICBjb25zdCBjaCA9IHZhbHVlW2VuZFN0YXJ0IC0gMV07XG4gICAgICAgIGlmIChjaCAhPT0gJ1xcbicgJiYgY2ggIT09ICdcXHQnICYmIGNoICE9PSAnICcpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IGVuZCA9IHZhbHVlLnN1YnN0cmluZyhlbmRTdGFydCk7XG4gICAgY29uc3QgZW5kTmxQb3MgPSBlbmQuaW5kZXhPZignXFxuJyk7XG4gICAgaWYgKGVuZE5sUG9zID09PSAtMSkge1xuICAgICAgICBjaG9tcCA9ICctJzsgLy8gc3RyaXBcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPT09IGVuZCB8fCBlbmRObFBvcyAhPT0gZW5kLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgY2hvbXAgPSAnKyc7IC8vIGtlZXBcbiAgICAgICAgaWYgKG9uQ2hvbXBLZWVwKVxuICAgICAgICAgICAgb25DaG9tcEtlZXAoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNob21wID0gJyc7IC8vIGNsaXBcbiAgICB9XG4gICAgaWYgKGVuZCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIC1lbmQubGVuZ3RoKTtcbiAgICAgICAgaWYgKGVuZFtlbmQubGVuZ3RoIC0gMV0gPT09ICdcXG4nKVxuICAgICAgICAgICAgZW5kID0gZW5kLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgZW5kID0gZW5kLnJlcGxhY2UoYmxvY2tFbmROZXdsaW5lcywgYCQmJHtpbmRlbnR9YCk7XG4gICAgfVxuICAgIC8vIGRldGVybWluZSBpbmRlbnQgaW5kaWNhdG9yIGZyb20gd2hpdGVzcGFjZSBhdCB2YWx1ZSBzdGFydFxuICAgIGxldCBzdGFydFdpdGhTcGFjZSA9IGZhbHNlO1xuICAgIGxldCBzdGFydEVuZDtcbiAgICBsZXQgc3RhcnRObFBvcyA9IC0xO1xuICAgIGZvciAoc3RhcnRFbmQgPSAwOyBzdGFydEVuZCA8IHZhbHVlLmxlbmd0aDsgKytzdGFydEVuZCkge1xuICAgICAgICBjb25zdCBjaCA9IHZhbHVlW3N0YXJ0RW5kXTtcbiAgICAgICAgaWYgKGNoID09PSAnICcpXG4gICAgICAgICAgICBzdGFydFdpdGhTcGFjZSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGNoID09PSAnXFxuJylcbiAgICAgICAgICAgIHN0YXJ0TmxQb3MgPSBzdGFydEVuZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxldCBzdGFydCA9IHZhbHVlLnN1YnN0cmluZygwLCBzdGFydE5sUG9zIDwgc3RhcnRFbmQgPyBzdGFydE5sUG9zICsgMSA6IHN0YXJ0RW5kKTtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoc3RhcnQubGVuZ3RoKTtcbiAgICAgICAgc3RhcnQgPSBzdGFydC5yZXBsYWNlKC9cXG4rL2csIGAkJiR7aW5kZW50fWApO1xuICAgIH1cbiAgICBjb25zdCBpbmRlbnRTaXplID0gaW5kZW50ID8gJzInIDogJzEnOyAvLyByb290IGlzIGF0IC0xXG4gICAgLy8gTGVhZGluZyB8IG9yID4gaXMgYWRkZWQgbGF0ZXJcbiAgICBsZXQgaGVhZGVyID0gKHN0YXJ0V2l0aFNwYWNlID8gaW5kZW50U2l6ZSA6ICcnKSArIGNob21wO1xuICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgIGhlYWRlciArPSAnICcgKyBjb21tZW50U3RyaW5nKGNvbW1lbnQucmVwbGFjZSgvID9bXFxyXFxuXSsvZywgJyAnKSk7XG4gICAgICAgIGlmIChvbkNvbW1lbnQpXG4gICAgICAgICAgICBvbkNvbW1lbnQoKTtcbiAgICB9XG4gICAgaWYgKCFsaXRlcmFsKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlZFZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4rL2csICdcXG4kJicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86XnxcXG4pKFtcXHQgXS4qKSg/OihbXFxuXFx0IF0qKVxcbig/IVtcXG5cXHQgXSkpPy9nLCAnJDEkMicpIC8vIG1vcmUtaW5kZW50ZWQgbGluZXMgYXJlbid0IGZvbGRlZFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgXiBtb3JlLWluZC4gXiBlbXB0eSAgICAgXiBjYXB0dXJlIG5leHQgZW1wdHkgbGluZXMgb25seSBhdCBlbmQgb2YgaW5kZW50XG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuKy9nLCBgJCYke2luZGVudH1gKTtcbiAgICAgICAgbGV0IGxpdGVyYWxGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmb2xkT3B0aW9ucyA9IGdldEZvbGRPcHRpb25zKGN0eCwgdHJ1ZSk7XG4gICAgICAgIGlmIChibG9ja1F1b3RlICE9PSAnZm9sZGVkJyAmJiB0eXBlICE9PSBTY2FsYXIuU2NhbGFyLkJMT0NLX0ZPTERFRCkge1xuICAgICAgICAgICAgZm9sZE9wdGlvbnMub25PdmVyZmxvdyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsaXRlcmFsRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0gZm9sZEZsb3dMaW5lcy5mb2xkRmxvd0xpbmVzKGAke3N0YXJ0fSR7Zm9sZGVkVmFsdWV9JHtlbmR9YCwgaW5kZW50LCBmb2xkRmxvd0xpbmVzLkZPTERfQkxPQ0ssIGZvbGRPcHRpb25zKTtcbiAgICAgICAgaWYgKCFsaXRlcmFsRmFsbGJhY2spXG4gICAgICAgICAgICByZXR1cm4gYD4ke2hlYWRlcn1cXG4ke2luZGVudH0ke2JvZHl9YDtcbiAgICB9XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXG4rL2csIGAkJiR7aW5kZW50fWApO1xuICAgIHJldHVybiBgfCR7aGVhZGVyfVxcbiR7aW5kZW50fSR7c3RhcnR9JHt2YWx1ZX0ke2VuZH1gO1xufVxuZnVuY3Rpb24gcGxhaW5TdHJpbmcoaXRlbSwgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKSB7XG4gICAgY29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gaXRlbTtcbiAgICBjb25zdCB7IGFjdHVhbFN0cmluZywgaW1wbGljaXRLZXksIGluZGVudCwgaW5kZW50U3RlcCwgaW5GbG93IH0gPSBjdHg7XG4gICAgaWYgKChpbXBsaWNpdEtleSAmJiB2YWx1ZS5pbmNsdWRlcygnXFxuJykpIHx8XG4gICAgICAgIChpbkZsb3cgJiYgL1tbXFxde30sXS8udGVzdCh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiBxdW90ZWRTdHJpbmcodmFsdWUsIGN0eCk7XG4gICAgfVxuICAgIGlmICgvXltcXG5cXHQgLFtcXF17fSMmKiF8PidcIiVAYF18Xls/LV0kfF5bPy1dWyBcXHRdfFtcXG46XVsgXFx0XXxbIFxcdF1cXG58W1xcblxcdCBdI3xbXFxuXFx0IDpdJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgLy8gbm90IGFsbG93ZWQ6XG4gICAgICAgIC8vIC0gJy0nIG9yICc/J1xuICAgICAgICAvLyAtIHN0YXJ0IHdpdGggYW4gaW5kaWNhdG9yIGNoYXJhY3RlciAoZXhjZXB0IFs/Oi1dKSBvciAvWz8tXSAvXG4gICAgICAgIC8vIC0gJ1xcbiAnLCAnOiAnIG9yICcgXFxuJyBhbnl3aGVyZVxuICAgICAgICAvLyAtICcjJyBub3QgcHJlY2VkZWQgYnkgYSBub24tc3BhY2UgY2hhclxuICAgICAgICAvLyAtIGVuZCB3aXRoICcgJyBvciAnOidcbiAgICAgICAgcmV0dXJuIGltcGxpY2l0S2V5IHx8IGluRmxvdyB8fCAhdmFsdWUuaW5jbHVkZXMoJ1xcbicpXG4gICAgICAgICAgICA/IHF1b3RlZFN0cmluZyh2YWx1ZSwgY3R4KVxuICAgICAgICAgICAgOiBibG9ja1N0cmluZyhpdGVtLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgIH1cbiAgICBpZiAoIWltcGxpY2l0S2V5ICYmXG4gICAgICAgICFpbkZsb3cgJiZcbiAgICAgICAgdHlwZSAhPT0gU2NhbGFyLlNjYWxhci5QTEFJTiAmJlxuICAgICAgICB2YWx1ZS5pbmNsdWRlcygnXFxuJykpIHtcbiAgICAgICAgLy8gV2hlcmUgYWxsb3dlZCAmIHR5cGUgbm90IHNldCBleHBsaWNpdGx5LCBwcmVmZXIgYmxvY2sgc3R5bGUgZm9yIG11bHRpbGluZSBzdHJpbmdzXG4gICAgICAgIHJldHVybiBibG9ja1N0cmluZyhpdGVtLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgIH1cbiAgICBpZiAoY29udGFpbnNEb2N1bWVudE1hcmtlcih2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGluZGVudCA9PT0gJycpIHtcbiAgICAgICAgICAgIGN0eC5mb3JjZUJsb2NrSW5kZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBibG9ja1N0cmluZyhpdGVtLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGltcGxpY2l0S2V5ICYmIGluZGVudCA9PT0gaW5kZW50U3RlcCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1b3RlZFN0cmluZyh2YWx1ZSwgY3R4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdHIgPSB2YWx1ZS5yZXBsYWNlKC9cXG4rL2csIGAkJlxcbiR7aW5kZW50fWApO1xuICAgIC8vIFZlcmlmeSB0aGF0IG91dHB1dCB3aWxsIGJlIHBhcnNlZCBhcyBhIHN0cmluZywgYXMgZS5nLiBwbGFpbiBudW1iZXJzIGFuZFxuICAgIC8vIGJvb2xlYW5zIGdldCBwYXJzZWQgd2l0aCB0aG9zZSB0eXBlcyBpbiB2MS4yIChlLmcuICc0MicsICd0cnVlJyAmICcwLjllLTMnKSxcbiAgICAvLyBhbmQgb3RoZXJzIGluIHYxLjEuXG4gICAgaWYgKGFjdHVhbFN0cmluZykge1xuICAgICAgICBjb25zdCB0ZXN0ID0gKHRhZykgPT4gdGFnLmRlZmF1bHQgJiYgdGFnLnRhZyAhPT0gJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicgJiYgdGFnLnRlc3Q/LnRlc3Qoc3RyKTtcbiAgICAgICAgY29uc3QgeyBjb21wYXQsIHRhZ3MgfSA9IGN0eC5kb2Muc2NoZW1hO1xuICAgICAgICBpZiAodGFncy5zb21lKHRlc3QpIHx8IGNvbXBhdD8uc29tZSh0ZXN0KSlcbiAgICAgICAgICAgIHJldHVybiBxdW90ZWRTdHJpbmcodmFsdWUsIGN0eCk7XG4gICAgfVxuICAgIHJldHVybiBpbXBsaWNpdEtleVxuICAgICAgICA/IHN0clxuICAgICAgICA6IGZvbGRGbG93TGluZXMuZm9sZEZsb3dMaW5lcyhzdHIsIGluZGVudCwgZm9sZEZsb3dMaW5lcy5GT0xEX0ZMT1csIGdldEZvbGRPcHRpb25zKGN0eCwgZmFsc2UpKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0cmluZyhpdGVtLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApIHtcbiAgICBjb25zdCB7IGltcGxpY2l0S2V5LCBpbkZsb3cgfSA9IGN0eDtcbiAgICBjb25zdCBzcyA9IHR5cGVvZiBpdGVtLnZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGl0ZW1cbiAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7IHZhbHVlOiBTdHJpbmcoaXRlbS52YWx1ZSkgfSk7XG4gICAgbGV0IHsgdHlwZSB9ID0gaXRlbTtcbiAgICBpZiAodHlwZSAhPT0gU2NhbGFyLlNjYWxhci5RVU9URV9ET1VCTEUpIHtcbiAgICAgICAgLy8gZm9yY2UgZG91YmxlIHF1b3RlcyBvbiBjb250cm9sIGNoYXJhY3RlcnMgJiB1bnBhaXJlZCBzdXJyb2dhdGVzXG4gICAgICAgIGlmICgvW1xceDAwLVxceDA4XFx4MGItXFx4MWZcXHg3Zi1cXHg5ZlxcdXtEODAwfS1cXHV7REZGRn1dL3UudGVzdChzcy52YWx1ZSkpXG4gICAgICAgICAgICB0eXBlID0gU2NhbGFyLlNjYWxhci5RVU9URV9ET1VCTEU7XG4gICAgfVxuICAgIGNvbnN0IF9zdHJpbmdpZnkgPSAoX3R5cGUpID0+IHtcbiAgICAgICAgc3dpdGNoIChfdHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTY2FsYXIuU2NhbGFyLkJMT0NLX0ZPTERFRDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMOlxuICAgICAgICAgICAgICAgIHJldHVybiBpbXBsaWNpdEtleSB8fCBpbkZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBxdW90ZWRTdHJpbmcoc3MudmFsdWUsIGN0eCkgLy8gYmxvY2tzIGFyZSBub3QgdmFsaWQgaW5zaWRlIGZsb3cgY29udGFpbmVyc1xuICAgICAgICAgICAgICAgICAgICA6IGJsb2NrU3RyaW5nKHNzLCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXIuU2NhbGFyLlFVT1RFX0RPVUJMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZG91YmxlUXVvdGVkU3RyaW5nKHNzLnZhbHVlLCBjdHgpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXIuU2NhbGFyLlFVT1RFX1NJTkdMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gc2luZ2xlUXVvdGVkU3RyaW5nKHNzLnZhbHVlLCBjdHgpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXIuU2NhbGFyLlBMQUlOOlxuICAgICAgICAgICAgICAgIHJldHVybiBwbGFpblN0cmluZyhzcywgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxldCByZXMgPSBfc3RyaW5naWZ5KHR5cGUpO1xuICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0S2V5VHlwZSwgZGVmYXVsdFN0cmluZ1R5cGUgfSA9IGN0eC5vcHRpb25zO1xuICAgICAgICBjb25zdCB0ID0gKGltcGxpY2l0S2V5ICYmIGRlZmF1bHRLZXlUeXBlKSB8fCBkZWZhdWx0U3RyaW5nVHlwZTtcbiAgICAgICAgcmVzID0gX3N0cmluZ2lmeSh0KTtcbiAgICAgICAgaWYgKHJlcyA9PT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGVmYXVsdCBzdHJpbmcgdHlwZSAke3R9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydHMuc3RyaW5naWZ5U3RyaW5nID0gc3RyaW5naWZ5U3RyaW5nO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBhbmNob3JzID0gcmVxdWlyZSgnLi4vZG9jL2FuY2hvcnMuanMnKTtcbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgc3RyaW5naWZ5Q29tbWVudCA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Q29tbWVudC5qcycpO1xudmFyIHN0cmluZ2lmeVN0cmluZyA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5U3RyaW5nLmpzJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0cmluZ2lmeUNvbnRleHQoZG9jLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGJsb2NrUXVvdGU6IHRydWUsXG4gICAgICAgIGNvbW1lbnRTdHJpbmc6IHN0cmluZ2lmeUNvbW1lbnQuc3RyaW5naWZ5Q29tbWVudCxcbiAgICAgICAgZGVmYXVsdEtleVR5cGU6IG51bGwsXG4gICAgICAgIGRlZmF1bHRTdHJpbmdUeXBlOiAnUExBSU4nLFxuICAgICAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgICAgICBkb3VibGVRdW90ZWRBc0pTT046IGZhbHNlLFxuICAgICAgICBkb3VibGVRdW90ZWRNaW5NdWx0aUxpbmVMZW5ndGg6IDQwLFxuICAgICAgICBmYWxzZVN0cjogJ2ZhbHNlJyxcbiAgICAgICAgZmxvd0NvbGxlY3Rpb25QYWRkaW5nOiB0cnVlLFxuICAgICAgICBpbmRlbnRTZXE6IHRydWUsXG4gICAgICAgIGxpbmVXaWR0aDogODAsXG4gICAgICAgIG1pbkNvbnRlbnRXaWR0aDogMjAsXG4gICAgICAgIG51bGxTdHI6ICdudWxsJyxcbiAgICAgICAgc2ltcGxlS2V5czogZmFsc2UsXG4gICAgICAgIHNpbmdsZVF1b3RlOiBudWxsLFxuICAgICAgICB0cnVlU3RyOiAndHJ1ZScsXG4gICAgICAgIHZlcmlmeUFsaWFzT3JkZXI6IHRydWVcbiAgICB9LCBkb2Muc2NoZW1hLnRvU3RyaW5nT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgbGV0IGluRmxvdztcbiAgICBzd2l0Y2ggKG9wdC5jb2xsZWN0aW9uU3R5bGUpIHtcbiAgICAgICAgY2FzZSAnYmxvY2snOlxuICAgICAgICAgICAgaW5GbG93ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZmxvdyc6XG4gICAgICAgICAgICBpbkZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpbkZsb3cgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3JzOiBuZXcgU2V0KCksXG4gICAgICAgIGRvYyxcbiAgICAgICAgZmxvd0NvbGxlY3Rpb25QYWRkaW5nOiBvcHQuZmxvd0NvbGxlY3Rpb25QYWRkaW5nID8gJyAnIDogJycsXG4gICAgICAgIGluZGVudDogJycsXG4gICAgICAgIGluZGVudFN0ZXA6IHR5cGVvZiBvcHQuaW5kZW50ID09PSAnbnVtYmVyJyA/ICcgJy5yZXBlYXQob3B0LmluZGVudCkgOiAnICAnLFxuICAgICAgICBpbkZsb3csXG4gICAgICAgIG9wdGlvbnM6IG9wdFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRUYWdPYmplY3QodGFncywgaXRlbSkge1xuICAgIGlmIChpdGVtLnRhZykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRhZ3MuZmlsdGVyKHQgPT4gdC50YWcgPT09IGl0ZW0udGFnKTtcbiAgICAgICAgaWYgKG1hdGNoLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2guZmluZCh0ID0+IHQuZm9ybWF0ID09PSBpdGVtLmZvcm1hdCkgPz8gbWF0Y2hbMF07XG4gICAgfVxuICAgIGxldCB0YWdPYmogPSB1bmRlZmluZWQ7XG4gICAgbGV0IG9iajtcbiAgICBpZiAoaWRlbnRpdHkuaXNTY2FsYXIoaXRlbSkpIHtcbiAgICAgICAgb2JqID0gaXRlbS52YWx1ZTtcbiAgICAgICAgbGV0IG1hdGNoID0gdGFncy5maWx0ZXIodCA9PiB0LmlkZW50aWZ5Py4ob2JqKSk7XG4gICAgICAgIGlmIChtYXRjaC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0TWF0Y2ggPSBtYXRjaC5maWx0ZXIodCA9PiB0LnRlc3QpO1xuICAgICAgICAgICAgaWYgKHRlc3RNYXRjaC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIG1hdGNoID0gdGVzdE1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIHRhZ09iaiA9XG4gICAgICAgICAgICBtYXRjaC5maW5kKHQgPT4gdC5mb3JtYXQgPT09IGl0ZW0uZm9ybWF0KSA/PyBtYXRjaC5maW5kKHQgPT4gIXQuZm9ybWF0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9iaiA9IGl0ZW07XG4gICAgICAgIHRhZ09iaiA9IHRhZ3MuZmluZCh0ID0+IHQubm9kZUNsYXNzICYmIG9iaiBpbnN0YW5jZW9mIHQubm9kZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKCF0YWdPYmopIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IG9iaj8uY29uc3RydWN0b3I/Lm5hbWUgPz8gKG9iaiA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBvYmopO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhZyBub3QgcmVzb2x2ZWQgZm9yICR7bmFtZX0gdmFsdWVgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhZ09iajtcbn1cbi8vIG5lZWRzIHRvIGJlIGNhbGxlZCBiZWZvcmUgdmFsdWUgc3RyaW5naWZpZXIgdG8gYWxsb3cgZm9yIGNpcmN1bGFyIGFuY2hvciByZWZzXG5mdW5jdGlvbiBzdHJpbmdpZnlQcm9wcyhub2RlLCB0YWdPYmosIHsgYW5jaG9yczogYW5jaG9ycyQxLCBkb2MgfSkge1xuICAgIGlmICghZG9jLmRpcmVjdGl2ZXMpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBwcm9wcyA9IFtdO1xuICAgIGNvbnN0IGFuY2hvciA9IChpZGVudGl0eS5pc1NjYWxhcihub2RlKSB8fCBpZGVudGl0eS5pc0NvbGxlY3Rpb24obm9kZSkpICYmIG5vZGUuYW5jaG9yO1xuICAgIGlmIChhbmNob3IgJiYgYW5jaG9ycy5hbmNob3JJc1ZhbGlkKGFuY2hvcikpIHtcbiAgICAgICAgYW5jaG9ycyQxLmFkZChhbmNob3IpO1xuICAgICAgICBwcm9wcy5wdXNoKGAmJHthbmNob3J9YCk7XG4gICAgfVxuICAgIGNvbnN0IHRhZyA9IG5vZGUudGFnID8/ICh0YWdPYmouZGVmYXVsdCA/IG51bGwgOiB0YWdPYmoudGFnKTtcbiAgICBpZiAodGFnKVxuICAgICAgICBwcm9wcy5wdXNoKGRvYy5kaXJlY3RpdmVzLnRhZ1N0cmluZyh0YWcpKTtcbiAgICByZXR1cm4gcHJvcHMuam9pbignICcpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KGl0ZW0sIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCkge1xuICAgIGlmIChpZGVudGl0eS5pc1BhaXIoaXRlbSkpXG4gICAgICAgIHJldHVybiBpdGVtLnRvU3RyaW5nKGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCk7XG4gICAgaWYgKGlkZW50aXR5LmlzQWxpYXMoaXRlbSkpIHtcbiAgICAgICAgaWYgKGN0eC5kb2MuZGlyZWN0aXZlcylcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnRvU3RyaW5nKGN0eCk7XG4gICAgICAgIGlmIChjdHgucmVzb2x2ZWRBbGlhc2VzPy5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYENhbm5vdCBzdHJpbmdpZnkgY2lyY3VsYXIgc3RydWN0dXJlIHdpdGhvdXQgYWxpYXMgbm9kZXNgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdHgucmVzb2x2ZWRBbGlhc2VzKVxuICAgICAgICAgICAgICAgIGN0eC5yZXNvbHZlZEFsaWFzZXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGN0eC5yZXNvbHZlZEFsaWFzZXMgPSBuZXcgU2V0KFtpdGVtXSk7XG4gICAgICAgICAgICBpdGVtID0gaXRlbS5yZXNvbHZlKGN0eC5kb2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCB0YWdPYmogPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgbm9kZSA9IGlkZW50aXR5LmlzTm9kZShpdGVtKVxuICAgICAgICA/IGl0ZW1cbiAgICAgICAgOiBjdHguZG9jLmNyZWF0ZU5vZGUoaXRlbSwgeyBvblRhZ09iajogbyA9PiAodGFnT2JqID0gbykgfSk7XG4gICAgdGFnT2JqID8/ICh0YWdPYmogPSBnZXRUYWdPYmplY3QoY3R4LmRvYy5zY2hlbWEudGFncywgbm9kZSkpO1xuICAgIGNvbnN0IHByb3BzID0gc3RyaW5naWZ5UHJvcHMobm9kZSwgdGFnT2JqLCBjdHgpO1xuICAgIGlmIChwcm9wcy5sZW5ndGggPiAwKVxuICAgICAgICBjdHguaW5kZW50QXRTdGFydCA9IChjdHguaW5kZW50QXRTdGFydCA/PyAwKSArIHByb3BzLmxlbmd0aCArIDE7XG4gICAgY29uc3Qgc3RyID0gdHlwZW9mIHRhZ09iai5zdHJpbmdpZnkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB0YWdPYmouc3RyaW5naWZ5KG5vZGUsIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcClcbiAgICAgICAgOiBpZGVudGl0eS5pc1NjYWxhcihub2RlKVxuICAgICAgICAgICAgPyBzdHJpbmdpZnlTdHJpbmcuc3RyaW5naWZ5U3RyaW5nKG5vZGUsIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcClcbiAgICAgICAgICAgIDogbm9kZS50b1N0cmluZyhjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgcmV0dXJuIGlkZW50aXR5LmlzU2NhbGFyKG5vZGUpIHx8IHN0clswXSA9PT0gJ3snIHx8IHN0clswXSA9PT0gJ1snXG4gICAgICAgID8gYCR7cHJvcHN9ICR7c3RyfWBcbiAgICAgICAgOiBgJHtwcm9wc31cXG4ke2N0eC5pbmRlbnR9JHtzdHJ9YDtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdHJpbmdpZnlDb250ZXh0ID0gY3JlYXRlU3RyaW5naWZ5Q29udGV4dDtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnkuanMnKTtcbnZhciBzdHJpbmdpZnlDb21tZW50ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnlDb21tZW50LmpzJyk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVBhaXIoeyBrZXksIHZhbHVlIH0sIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCkge1xuICAgIGNvbnN0IHsgYWxsTnVsbFZhbHVlcywgZG9jLCBpbmRlbnQsIGluZGVudFN0ZXAsIG9wdGlvbnM6IHsgY29tbWVudFN0cmluZywgaW5kZW50U2VxLCBzaW1wbGVLZXlzIH0gfSA9IGN0eDtcbiAgICBsZXQga2V5Q29tbWVudCA9IChpZGVudGl0eS5pc05vZGUoa2V5KSAmJiBrZXkuY29tbWVudCkgfHwgbnVsbDtcbiAgICBpZiAoc2ltcGxlS2V5cykge1xuICAgICAgICBpZiAoa2V5Q29tbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaXRoIHNpbXBsZSBrZXlzLCBrZXkgbm9kZXMgY2Fubm90IGhhdmUgY29tbWVudHMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWRlbnRpdHkuaXNDb2xsZWN0aW9uKGtleSkgfHwgKCFpZGVudGl0eS5pc05vZGUoa2V5KSAmJiB0eXBlb2Yga2V5ID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9ICdXaXRoIHNpbXBsZSBrZXlzLCBjb2xsZWN0aW9uIGNhbm5vdCBiZSB1c2VkIGFzIGEga2V5IHZhbHVlJztcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBleHBsaWNpdEtleSA9ICFzaW1wbGVLZXlzICYmXG4gICAgICAgICgha2V5IHx8XG4gICAgICAgICAgICAoa2V5Q29tbWVudCAmJiB2YWx1ZSA9PSBudWxsICYmICFjdHguaW5GbG93KSB8fFxuICAgICAgICAgICAgaWRlbnRpdHkuaXNDb2xsZWN0aW9uKGtleSkgfHxcbiAgICAgICAgICAgIChpZGVudGl0eS5pc1NjYWxhcihrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXkudHlwZSA9PT0gU2NhbGFyLlNjYWxhci5CTE9DS19GT0xERUQgfHwga2V5LnR5cGUgPT09IFNjYWxhci5TY2FsYXIuQkxPQ0tfTElURVJBTFxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGtleSA9PT0gJ29iamVjdCcpKTtcbiAgICBjdHggPSBPYmplY3QuYXNzaWduKHt9LCBjdHgsIHtcbiAgICAgICAgYWxsTnVsbFZhbHVlczogZmFsc2UsXG4gICAgICAgIGltcGxpY2l0S2V5OiAhZXhwbGljaXRLZXkgJiYgKHNpbXBsZUtleXMgfHwgIWFsbE51bGxWYWx1ZXMpLFxuICAgICAgICBpbmRlbnQ6IGluZGVudCArIGluZGVudFN0ZXBcbiAgICB9KTtcbiAgICBsZXQga2V5Q29tbWVudERvbmUgPSBmYWxzZTtcbiAgICBsZXQgY2hvbXBLZWVwID0gZmFsc2U7XG4gICAgbGV0IHN0ciA9IHN0cmluZ2lmeS5zdHJpbmdpZnkoa2V5LCBjdHgsICgpID0+IChrZXlDb21tZW50RG9uZSA9IHRydWUpLCAoKSA9PiAoY2hvbXBLZWVwID0gdHJ1ZSkpO1xuICAgIGlmICghZXhwbGljaXRLZXkgJiYgIWN0eC5pbkZsb3cgJiYgc3RyLmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgaWYgKHNpbXBsZUtleXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dpdGggc2ltcGxlIGtleXMsIHNpbmdsZSBsaW5lIHNjYWxhciBtdXN0IG5vdCBzcGFuIG1vcmUgdGhhbiAxMDI0IGNoYXJhY3RlcnMnKTtcbiAgICAgICAgZXhwbGljaXRLZXkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY3R4LmluRmxvdykge1xuICAgICAgICBpZiAoYWxsTnVsbFZhbHVlcyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoa2V5Q29tbWVudERvbmUgJiYgb25Db21tZW50KVxuICAgICAgICAgICAgICAgIG9uQ29tbWVudCgpO1xuICAgICAgICAgICAgcmV0dXJuIHN0ciA9PT0gJycgPyAnPycgOiBleHBsaWNpdEtleSA/IGA/ICR7c3RyfWAgOiBzdHI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKGFsbE51bGxWYWx1ZXMgJiYgIXNpbXBsZUtleXMpIHx8ICh2YWx1ZSA9PSBudWxsICYmIGV4cGxpY2l0S2V5KSkge1xuICAgICAgICBzdHIgPSBgPyAke3N0cn1gO1xuICAgICAgICBpZiAoa2V5Q29tbWVudCAmJiAha2V5Q29tbWVudERvbmUpIHtcbiAgICAgICAgICAgIHN0ciArPSBzdHJpbmdpZnlDb21tZW50LmxpbmVDb21tZW50KHN0ciwgY3R4LmluZGVudCwgY29tbWVudFN0cmluZyhrZXlDb21tZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hvbXBLZWVwICYmIG9uQ2hvbXBLZWVwKVxuICAgICAgICAgICAgb25DaG9tcEtlZXAoKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgaWYgKGtleUNvbW1lbnREb25lKVxuICAgICAgICBrZXlDb21tZW50ID0gbnVsbDtcbiAgICBpZiAoZXhwbGljaXRLZXkpIHtcbiAgICAgICAgaWYgKGtleUNvbW1lbnQpXG4gICAgICAgICAgICBzdHIgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChzdHIsIGN0eC5pbmRlbnQsIGNvbW1lbnRTdHJpbmcoa2V5Q29tbWVudCkpO1xuICAgICAgICBzdHIgPSBgPyAke3N0cn1cXG4ke2luZGVudH06YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0ciA9IGAke3N0cn06YDtcbiAgICAgICAgaWYgKGtleUNvbW1lbnQpXG4gICAgICAgICAgICBzdHIgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChzdHIsIGN0eC5pbmRlbnQsIGNvbW1lbnRTdHJpbmcoa2V5Q29tbWVudCkpO1xuICAgIH1cbiAgICBsZXQgdnNiLCB2Y2IsIHZhbHVlQ29tbWVudDtcbiAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKHZhbHVlKSkge1xuICAgICAgICB2c2IgPSAhIXZhbHVlLnNwYWNlQmVmb3JlO1xuICAgICAgICB2Y2IgPSB2YWx1ZS5jb21tZW50QmVmb3JlO1xuICAgICAgICB2YWx1ZUNvbW1lbnQgPSB2YWx1ZS5jb21tZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdnNiID0gZmFsc2U7XG4gICAgICAgIHZjYiA9IG51bGw7XG4gICAgICAgIHZhbHVlQ29tbWVudCA9IG51bGw7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKVxuICAgICAgICAgICAgdmFsdWUgPSBkb2MuY3JlYXRlTm9kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGN0eC5pbXBsaWNpdEtleSA9IGZhbHNlO1xuICAgIGlmICghZXhwbGljaXRLZXkgJiYgIWtleUNvbW1lbnQgJiYgaWRlbnRpdHkuaXNTY2FsYXIodmFsdWUpKVxuICAgICAgICBjdHguaW5kZW50QXRTdGFydCA9IHN0ci5sZW5ndGggKyAxO1xuICAgIGNob21wS2VlcCA9IGZhbHNlO1xuICAgIGlmICghaW5kZW50U2VxICYmXG4gICAgICAgIGluZGVudFN0ZXAubGVuZ3RoID49IDIgJiZcbiAgICAgICAgIWN0eC5pbkZsb3cgJiZcbiAgICAgICAgIWV4cGxpY2l0S2V5ICYmXG4gICAgICAgIGlkZW50aXR5LmlzU2VxKHZhbHVlKSAmJlxuICAgICAgICAhdmFsdWUuZmxvdyAmJlxuICAgICAgICAhdmFsdWUudGFnICYmXG4gICAgICAgICF2YWx1ZS5hbmNob3IpIHtcbiAgICAgICAgLy8gSWYgaW5kZW50U2VxID09PSBmYWxzZSwgY29uc2lkZXIgJy0gJyBhcyBwYXJ0IG9mIGluZGVudGF0aW9uIHdoZXJlIHBvc3NpYmxlXG4gICAgICAgIGN0eC5pbmRlbnQgPSBjdHguaW5kZW50LnN1YnN0cmluZygyKTtcbiAgICB9XG4gICAgbGV0IHZhbHVlQ29tbWVudERvbmUgPSBmYWxzZTtcbiAgICBjb25zdCB2YWx1ZVN0ciA9IHN0cmluZ2lmeS5zdHJpbmdpZnkodmFsdWUsIGN0eCwgKCkgPT4gKHZhbHVlQ29tbWVudERvbmUgPSB0cnVlKSwgKCkgPT4gKGNob21wS2VlcCA9IHRydWUpKTtcbiAgICBsZXQgd3MgPSAnICc7XG4gICAgaWYgKGtleUNvbW1lbnQgfHwgdnNiIHx8IHZjYikge1xuICAgICAgICB3cyA9IHZzYiA/ICdcXG4nIDogJyc7XG4gICAgICAgIGlmICh2Y2IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNzID0gY29tbWVudFN0cmluZyh2Y2IpO1xuICAgICAgICAgICAgd3MgKz0gYFxcbiR7c3RyaW5naWZ5Q29tbWVudC5pbmRlbnRDb21tZW50KGNzLCBjdHguaW5kZW50KX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZVN0ciA9PT0gJycgJiYgIWN0eC5pbkZsb3cpIHtcbiAgICAgICAgICAgIGlmICh3cyA9PT0gJ1xcbicgJiYgdmFsdWVDb21tZW50KVxuICAgICAgICAgICAgICAgIHdzID0gJ1xcblxcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3cyArPSBgXFxuJHtjdHguaW5kZW50fWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoIWV4cGxpY2l0S2V5ICYmIGlkZW50aXR5LmlzQ29sbGVjdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdnMwID0gdmFsdWVTdHJbMF07XG4gICAgICAgIGNvbnN0IG5sMCA9IHZhbHVlU3RyLmluZGV4T2YoJ1xcbicpO1xuICAgICAgICBjb25zdCBoYXNOZXdsaW5lID0gbmwwICE9PSAtMTtcbiAgICAgICAgY29uc3QgZmxvdyA9IGN0eC5pbkZsb3cgPz8gdmFsdWUuZmxvdyA/PyB2YWx1ZS5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmIChoYXNOZXdsaW5lIHx8ICFmbG93KSB7XG4gICAgICAgICAgICBsZXQgaGFzUHJvcHNMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaGFzTmV3bGluZSAmJiAodnMwID09PSAnJicgfHwgdnMwID09PSAnIScpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwMCA9IHZhbHVlU3RyLmluZGV4T2YoJyAnKTtcbiAgICAgICAgICAgICAgICBpZiAodnMwID09PSAnJicgJiZcbiAgICAgICAgICAgICAgICAgICAgc3AwICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICBzcDAgPCBubDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVTdHJbc3AwICsgMV0gPT09ICchJykge1xuICAgICAgICAgICAgICAgICAgICBzcDAgPSB2YWx1ZVN0ci5pbmRleE9mKCcgJywgc3AwICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzcDAgPT09IC0xIHx8IG5sMCA8IHNwMClcbiAgICAgICAgICAgICAgICAgICAgaGFzUHJvcHNMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGFzUHJvcHNMaW5lKVxuICAgICAgICAgICAgICAgIHdzID0gYFxcbiR7Y3R4LmluZGVudH1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlU3RyID09PSAnJyB8fCB2YWx1ZVN0clswXSA9PT0gJ1xcbicpIHtcbiAgICAgICAgd3MgPSAnJztcbiAgICB9XG4gICAgc3RyICs9IHdzICsgdmFsdWVTdHI7XG4gICAgaWYgKGN0eC5pbkZsb3cpIHtcbiAgICAgICAgaWYgKHZhbHVlQ29tbWVudERvbmUgJiYgb25Db21tZW50KVxuICAgICAgICAgICAgb25Db21tZW50KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlQ29tbWVudCAmJiAhdmFsdWVDb21tZW50RG9uZSkge1xuICAgICAgICBzdHIgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChzdHIsIGN0eC5pbmRlbnQsIGNvbW1lbnRTdHJpbmcodmFsdWVDb21tZW50KSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNob21wS2VlcCAmJiBvbkNob21wS2VlcCkge1xuICAgICAgICBvbkNob21wS2VlcCgpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuXG5leHBvcnRzLnN0cmluZ2lmeVBhaXIgPSBzdHJpbmdpZnlQYWlyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBub2RlX3Byb2Nlc3MgPSByZXF1aXJlKCdwcm9jZXNzJyk7XG5cbmZ1bmN0aW9uIGRlYnVnKGxvZ0xldmVsLCAuLi5tZXNzYWdlcykge1xuICAgIGlmIChsb2dMZXZlbCA9PT0gJ2RlYnVnJylcbiAgICAgICAgY29uc29sZS5sb2coLi4ubWVzc2FnZXMpO1xufVxuZnVuY3Rpb24gd2Fybihsb2dMZXZlbCwgd2FybmluZykge1xuICAgIGlmIChsb2dMZXZlbCA9PT0gJ2RlYnVnJyB8fCBsb2dMZXZlbCA9PT0gJ3dhcm4nKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZV9wcm9jZXNzLmVtaXRXYXJuaW5nID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgbm9kZV9wcm9jZXNzLmVtaXRXYXJuaW5nKHdhcm5pbmcpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgfVxufVxuXG5leHBvcnRzLmRlYnVnID0gZGVidWc7XG5leHBvcnRzLndhcm4gPSB3YXJuO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG5cbi8vIElmIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYSBtZXJnZSBrZXkgaXMgYSBzaW5nbGUgbWFwcGluZyBub2RlLCBlYWNoIG9mXG4vLyBpdHMga2V5L3ZhbHVlIHBhaXJzIGlzIGluc2VydGVkIGludG8gdGhlIGN1cnJlbnQgbWFwcGluZywgdW5sZXNzIHRoZSBrZXlcbi8vIGFscmVhZHkgZXhpc3RzIGluIGl0LiBJZiB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBtZXJnZSBrZXkgaXMgYVxuLy8gc2VxdWVuY2UsIHRoZW4gdGhpcyBzZXF1ZW5jZSBpcyBleHBlY3RlZCB0byBjb250YWluIG1hcHBpbmcgbm9kZXMgYW5kIGVhY2hcbi8vIG9mIHRoZXNlIG5vZGVzIGlzIG1lcmdlZCBpbiB0dXJuIGFjY29yZGluZyB0byBpdHMgb3JkZXIgaW4gdGhlIHNlcXVlbmNlLlxuLy8gS2V5cyBpbiBtYXBwaW5nIG5vZGVzIGVhcmxpZXIgaW4gdGhlIHNlcXVlbmNlIG92ZXJyaWRlIGtleXMgc3BlY2lmaWVkIGluXG4vLyBsYXRlciBtYXBwaW5nIG5vZGVzLiAtLSBodHRwOi8veWFtbC5vcmcvdHlwZS9tZXJnZS5odG1sXG5jb25zdCBNRVJHRV9LRVkgPSAnPDwnO1xuY29uc3QgbWVyZ2UgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHZhbHVlID09PSBNRVJHRV9LRVkgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N5bWJvbCcgJiYgdmFsdWUuZGVzY3JpcHRpb24gPT09IE1FUkdFX0tFWSksXG4gICAgZGVmYXVsdDogJ2tleScsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UnLFxuICAgIHRlc3Q6IC9ePDwkLyxcbiAgICByZXNvbHZlOiAoKSA9PiBPYmplY3QuYXNzaWduKG5ldyBTY2FsYXIuU2NhbGFyKFN5bWJvbChNRVJHRV9LRVkpKSwge1xuICAgICAgICBhZGRUb0pTTWFwOiBhZGRNZXJnZVRvSlNNYXBcbiAgICB9KSxcbiAgICBzdHJpbmdpZnk6ICgpID0+IE1FUkdFX0tFWVxufTtcbmNvbnN0IGlzTWVyZ2VLZXkgPSAoY3R4LCBrZXkpID0+IChtZXJnZS5pZGVudGlmeShrZXkpIHx8XG4gICAgKGlkZW50aXR5LmlzU2NhbGFyKGtleSkgJiZcbiAgICAgICAgKCFrZXkudHlwZSB8fCBrZXkudHlwZSA9PT0gU2NhbGFyLlNjYWxhci5QTEFJTikgJiZcbiAgICAgICAgbWVyZ2UuaWRlbnRpZnkoa2V5LnZhbHVlKSkpICYmXG4gICAgY3R4Py5kb2Muc2NoZW1hLnRhZ3Muc29tZSh0YWcgPT4gdGFnLnRhZyA9PT0gbWVyZ2UudGFnICYmIHRhZy5kZWZhdWx0KTtcbmZ1bmN0aW9uIGFkZE1lcmdlVG9KU01hcChjdHgsIG1hcCwgdmFsdWUpIHtcbiAgICB2YWx1ZSA9IGN0eCAmJiBpZGVudGl0eS5pc0FsaWFzKHZhbHVlKSA/IHZhbHVlLnJlc29sdmUoY3R4LmRvYykgOiB2YWx1ZTtcbiAgICBpZiAoaWRlbnRpdHkuaXNTZXEodmFsdWUpKVxuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIHZhbHVlLml0ZW1zKVxuICAgICAgICAgICAgbWVyZ2VWYWx1ZShjdHgsIG1hcCwgaXQpO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIHZhbHVlKVxuICAgICAgICAgICAgbWVyZ2VWYWx1ZShjdHgsIG1hcCwgaXQpO1xuICAgIGVsc2VcbiAgICAgICAgbWVyZ2VWYWx1ZShjdHgsIG1hcCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZShjdHgsIG1hcCwgdmFsdWUpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBjdHggJiYgaWRlbnRpdHkuaXNBbGlhcyh2YWx1ZSkgPyB2YWx1ZS5yZXNvbHZlKGN0eC5kb2MpIDogdmFsdWU7XG4gICAgaWYgKCFpZGVudGl0eS5pc01hcChzb3VyY2UpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lcmdlIHNvdXJjZXMgbXVzdCBiZSBtYXBzIG9yIG1hcCBhbGlhc2VzJyk7XG4gICAgY29uc3Qgc3JjTWFwID0gc291cmNlLnRvSlNPTihudWxsLCBjdHgsIE1hcCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc3JjTWFwKSB7XG4gICAgICAgIGlmIChtYXAgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgIGlmICghbWFwLmhhcyhrZXkpKVxuICAgICAgICAgICAgICAgIG1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFwIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICBtYXAuYWRkKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXAsIGtleSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtYXAsIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xufVxuXG5leHBvcnRzLmFkZE1lcmdlVG9KU01hcCA9IGFkZE1lcmdlVG9KU01hcDtcbmV4cG9ydHMuaXNNZXJnZUtleSA9IGlzTWVyZ2VLZXk7XG5leHBvcnRzLm1lcmdlID0gbWVyZ2U7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGxvZyA9IHJlcXVpcmUoJy4uL2xvZy5qcycpO1xudmFyIG1lcmdlID0gcmVxdWlyZSgnLi4vc2NoZW1hL3lhbWwtMS4xL21lcmdlLmpzJyk7XG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi4vc3RyaW5naWZ5L3N0cmluZ2lmeS5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eS5qcycpO1xudmFyIHRvSlMgPSByZXF1aXJlKCcuL3RvSlMuanMnKTtcblxuZnVuY3Rpb24gYWRkUGFpclRvSlNNYXAoY3R4LCBtYXAsIHsga2V5LCB2YWx1ZSB9KSB7XG4gICAgaWYgKGlkZW50aXR5LmlzTm9kZShrZXkpICYmIGtleS5hZGRUb0pTTWFwKVxuICAgICAgICBrZXkuYWRkVG9KU01hcChjdHgsIG1hcCwgdmFsdWUpO1xuICAgIC8vIFRPRE86IFNob3VsZCBkcm9wIHRoaXMgc3BlY2lhbCBjYXNlIGZvciBiYXJlIDw8IGhhbmRsaW5nXG4gICAgZWxzZSBpZiAobWVyZ2UuaXNNZXJnZUtleShjdHgsIGtleSkpXG4gICAgICAgIG1lcmdlLmFkZE1lcmdlVG9KU01hcChjdHgsIG1hcCwgdmFsdWUpO1xuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBqc0tleSA9IHRvSlMudG9KUyhrZXksICcnLCBjdHgpO1xuICAgICAgICBpZiAobWFwIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGpzS2V5LCB0b0pTLnRvSlModmFsdWUsIGpzS2V5LCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXAgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgIG1hcC5hZGQoanNLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nS2V5ID0gc3RyaW5naWZ5S2V5KGtleSwganNLZXksIGN0eCk7XG4gICAgICAgICAgICBjb25zdCBqc1ZhbHVlID0gdG9KUy50b0pTKHZhbHVlLCBzdHJpbmdLZXksIGN0eCk7XG4gICAgICAgICAgICBpZiAoc3RyaW5nS2V5IGluIG1hcClcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobWFwLCBzdHJpbmdLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGpzVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtYXBbc3RyaW5nS2V5XSA9IGpzVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUtleShrZXksIGpzS2V5LCBjdHgpIHtcbiAgICBpZiAoanNLZXkgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWJhc2UtdG8tc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBqc0tleSAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBTdHJpbmcoanNLZXkpO1xuICAgIGlmIChpZGVudGl0eS5pc05vZGUoa2V5KSAmJiBjdHg/LmRvYykge1xuICAgICAgICBjb25zdCBzdHJDdHggPSBzdHJpbmdpZnkuY3JlYXRlU3RyaW5naWZ5Q29udGV4dChjdHguZG9jLCB7fSk7XG4gICAgICAgIHN0ckN0eC5hbmNob3JzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgY3R4LmFuY2hvcnMua2V5cygpKVxuICAgICAgICAgICAgc3RyQ3R4LmFuY2hvcnMuYWRkKG5vZGUuYW5jaG9yKTtcbiAgICAgICAgc3RyQ3R4LmluRmxvdyA9IHRydWU7XG4gICAgICAgIHN0ckN0eC5pblN0cmluZ2lmeUtleSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHN0cktleSA9IGtleS50b1N0cmluZyhzdHJDdHgpO1xuICAgICAgICBpZiAoIWN0eC5tYXBLZXlXYXJuZWQpIHtcbiAgICAgICAgICAgIGxldCBqc29uU3RyID0gSlNPTi5zdHJpbmdpZnkoc3RyS2V5KTtcbiAgICAgICAgICAgIGlmIChqc29uU3RyLmxlbmd0aCA+IDQwKVxuICAgICAgICAgICAgICAgIGpzb25TdHIgPSBqc29uU3RyLnN1YnN0cmluZygwLCAzNikgKyAnLi4uXCInO1xuICAgICAgICAgICAgbG9nLndhcm4oY3R4LmRvYy5vcHRpb25zLmxvZ0xldmVsLCBgS2V5cyB3aXRoIGNvbGxlY3Rpb24gdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWQgZHVlIHRvIEpTIE9iamVjdCByZXN0cmljdGlvbnM6ICR7anNvblN0cn0uIFNldCBtYXBBc01hcDogdHJ1ZSB0byB1c2Ugb2JqZWN0IGtleXMuYCk7XG4gICAgICAgICAgICBjdHgubWFwS2V5V2FybmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyS2V5O1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNLZXkpO1xufVxuXG5leHBvcnRzLmFkZFBhaXJUb0pTTWFwID0gYWRkUGFpclRvSlNNYXA7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZU5vZGUgPSByZXF1aXJlKCcuLi9kb2MvY3JlYXRlTm9kZS5qcycpO1xudmFyIHN0cmluZ2lmeVBhaXIgPSByZXF1aXJlKCcuLi9zdHJpbmdpZnkvc3RyaW5naWZ5UGFpci5qcycpO1xudmFyIGFkZFBhaXJUb0pTTWFwID0gcmVxdWlyZSgnLi9hZGRQYWlyVG9KU01hcC5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eS5qcycpO1xuXG5mdW5jdGlvbiBjcmVhdGVQYWlyKGtleSwgdmFsdWUsIGN0eCkge1xuICAgIGNvbnN0IGsgPSBjcmVhdGVOb2RlLmNyZWF0ZU5vZGUoa2V5LCB1bmRlZmluZWQsIGN0eCk7XG4gICAgY29uc3QgdiA9IGNyZWF0ZU5vZGUuY3JlYXRlTm9kZSh2YWx1ZSwgdW5kZWZpbmVkLCBjdHgpO1xuICAgIHJldHVybiBuZXcgUGFpcihrLCB2KTtcbn1cbmNsYXNzIFBhaXIge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgdmFsdWUgPSBudWxsKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBpZGVudGl0eS5OT0RFX1RZUEUsIHsgdmFsdWU6IGlkZW50aXR5LlBBSVIgfSk7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNsb25lKHNjaGVtYSkge1xuICAgICAgICBsZXQgeyBrZXksIHZhbHVlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGtleSkpXG4gICAgICAgICAgICBrZXkgPSBrZXkuY2xvbmUoc2NoZW1hKTtcbiAgICAgICAgaWYgKGlkZW50aXR5LmlzTm9kZSh2YWx1ZSkpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmNsb25lKHNjaGVtYSk7XG4gICAgICAgIHJldHVybiBuZXcgUGFpcihrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgdG9KU09OKF8sIGN0eCkge1xuICAgICAgICBjb25zdCBwYWlyID0gY3R4Py5tYXBBc01hcCA/IG5ldyBNYXAoKSA6IHt9O1xuICAgICAgICByZXR1cm4gYWRkUGFpclRvSlNNYXAuYWRkUGFpclRvSlNNYXAoY3R4LCBwYWlyLCB0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKSB7XG4gICAgICAgIHJldHVybiBjdHg/LmRvY1xuICAgICAgICAgICAgPyBzdHJpbmdpZnlQYWlyLnN0cmluZ2lmeVBhaXIodGhpcywgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKVxuICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcbiAgICB9XG59XG5cbmV4cG9ydHMuUGFpciA9IFBhaXI7XG5leHBvcnRzLmNyZWF0ZVBhaXIgPSBjcmVhdGVQYWlyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnkuanMnKTtcbnZhciBzdHJpbmdpZnlDb21tZW50ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnlDb21tZW50LmpzJyk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUNvbGxlY3Rpb24oY29sbGVjdGlvbiwgY3R4LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmxvdyA9IGN0eC5pbkZsb3cgPz8gY29sbGVjdGlvbi5mbG93O1xuICAgIGNvbnN0IHN0cmluZ2lmeSA9IGZsb3cgPyBzdHJpbmdpZnlGbG93Q29sbGVjdGlvbiA6IHN0cmluZ2lmeUJsb2NrQ29sbGVjdGlvbjtcbiAgICByZXR1cm4gc3RyaW5naWZ5KGNvbGxlY3Rpb24sIGN0eCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCbG9ja0NvbGxlY3Rpb24oeyBjb21tZW50LCBpdGVtcyB9LCBjdHgsIHsgYmxvY2tJdGVtUHJlZml4LCBmbG93Q2hhcnMsIGl0ZW1JbmRlbnQsIG9uQ2hvbXBLZWVwLCBvbkNvbW1lbnQgfSkge1xuICAgIGNvbnN0IHsgaW5kZW50LCBvcHRpb25zOiB7IGNvbW1lbnRTdHJpbmcgfSB9ID0gY3R4O1xuICAgIGNvbnN0IGl0ZW1DdHggPSBPYmplY3QuYXNzaWduKHt9LCBjdHgsIHsgaW5kZW50OiBpdGVtSW5kZW50LCB0eXBlOiBudWxsIH0pO1xuICAgIGxldCBjaG9tcEtlZXAgPSBmYWxzZTsgLy8gZmxhZyBmb3IgdGhlIHByZWNlZGluZyBub2RlJ3Mgc3RhdHVzXG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgbGV0IGNvbW1lbnQgPSBudWxsO1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoIWNob21wS2VlcCAmJiBpdGVtLnNwYWNlQmVmb3JlKVxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goJycpO1xuICAgICAgICAgICAgYWRkQ29tbWVudEJlZm9yZShjdHgsIGxpbmVzLCBpdGVtLmNvbW1lbnRCZWZvcmUsIGNob21wS2VlcCk7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb21tZW50KVxuICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBpdGVtLmNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaWRlbnRpdHkuaXNQYWlyKGl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBpayA9IGlkZW50aXR5LmlzTm9kZShpdGVtLmtleSkgPyBpdGVtLmtleSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoaWspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNob21wS2VlcCAmJiBpay5zcGFjZUJlZm9yZSlcbiAgICAgICAgICAgICAgICAgICAgbGluZXMucHVzaCgnJyk7XG4gICAgICAgICAgICAgICAgYWRkQ29tbWVudEJlZm9yZShjdHgsIGxpbmVzLCBpay5jb21tZW50QmVmb3JlLCBjaG9tcEtlZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNob21wS2VlcCA9IGZhbHNlO1xuICAgICAgICBsZXQgc3RyID0gc3RyaW5naWZ5LnN0cmluZ2lmeShpdGVtLCBpdGVtQ3R4LCAoKSA9PiAoY29tbWVudCA9IG51bGwpLCAoKSA9PiAoY2hvbXBLZWVwID0gdHJ1ZSkpO1xuICAgICAgICBpZiAoY29tbWVudClcbiAgICAgICAgICAgIHN0ciArPSBzdHJpbmdpZnlDb21tZW50LmxpbmVDb21tZW50KHN0ciwgaXRlbUluZGVudCwgY29tbWVudFN0cmluZyhjb21tZW50KSk7XG4gICAgICAgIGlmIChjaG9tcEtlZXAgJiYgY29tbWVudClcbiAgICAgICAgICAgIGNob21wS2VlcCA9IGZhbHNlO1xuICAgICAgICBsaW5lcy5wdXNoKGJsb2NrSXRlbVByZWZpeCArIHN0cik7XG4gICAgfVxuICAgIGxldCBzdHI7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzdHIgPSBmbG93Q2hhcnMuc3RhcnQgKyBmbG93Q2hhcnMuZW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RyID0gbGluZXNbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgICAgIHN0ciArPSBsaW5lID8gYFxcbiR7aW5kZW50fSR7bGluZX1gIDogJ1xcbic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbW1lbnQpIHtcbiAgICAgICAgc3RyICs9ICdcXG4nICsgc3RyaW5naWZ5Q29tbWVudC5pbmRlbnRDb21tZW50KGNvbW1lbnRTdHJpbmcoY29tbWVudCksIGluZGVudCk7XG4gICAgICAgIGlmIChvbkNvbW1lbnQpXG4gICAgICAgICAgICBvbkNvbW1lbnQoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hvbXBLZWVwICYmIG9uQ2hvbXBLZWVwKVxuICAgICAgICBvbkNob21wS2VlcCgpO1xuICAgIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlGbG93Q29sbGVjdGlvbih7IGl0ZW1zIH0sIGN0eCwgeyBmbG93Q2hhcnMsIGl0ZW1JbmRlbnQgfSkge1xuICAgIGNvbnN0IHsgaW5kZW50LCBpbmRlbnRTdGVwLCBmbG93Q29sbGVjdGlvblBhZGRpbmc6IGZjUGFkZGluZywgb3B0aW9uczogeyBjb21tZW50U3RyaW5nIH0gfSA9IGN0eDtcbiAgICBpdGVtSW5kZW50ICs9IGluZGVudFN0ZXA7XG4gICAgY29uc3QgaXRlbUN0eCA9IE9iamVjdC5hc3NpZ24oe30sIGN0eCwge1xuICAgICAgICBpbmRlbnQ6IGl0ZW1JbmRlbnQsXG4gICAgICAgIGluRmxvdzogdHJ1ZSxcbiAgICAgICAgdHlwZTogbnVsbFxuICAgIH0pO1xuICAgIGxldCByZXFOZXdsaW5lID0gZmFsc2U7XG4gICAgbGV0IGxpbmVzQXRWYWx1ZSA9IDA7XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgbGV0IGNvbW1lbnQgPSBudWxsO1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zcGFjZUJlZm9yZSlcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgIGFkZENvbW1lbnRCZWZvcmUoY3R4LCBsaW5lcywgaXRlbS5jb21tZW50QmVmb3JlLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5jb21tZW50KVxuICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBpdGVtLmNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaWRlbnRpdHkuaXNQYWlyKGl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBpayA9IGlkZW50aXR5LmlzTm9kZShpdGVtLmtleSkgPyBpdGVtLmtleSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoaWspIHtcbiAgICAgICAgICAgICAgICBpZiAoaWsuc3BhY2VCZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goJycpO1xuICAgICAgICAgICAgICAgIGFkZENvbW1lbnRCZWZvcmUoY3R4LCBsaW5lcywgaWsuY29tbWVudEJlZm9yZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpay5jb21tZW50KVxuICAgICAgICAgICAgICAgICAgICByZXFOZXdsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGl2ID0gaWRlbnRpdHkuaXNOb2RlKGl0ZW0udmFsdWUpID8gaXRlbS52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoaXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXYuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGl2LmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGl2LmNvbW1lbnRCZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgIHJlcU5ld2xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS52YWx1ZSA9PSBudWxsICYmIGlrPy5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgY29tbWVudCA9IGlrLmNvbW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbW1lbnQpXG4gICAgICAgICAgICByZXFOZXdsaW5lID0gdHJ1ZTtcbiAgICAgICAgbGV0IHN0ciA9IHN0cmluZ2lmeS5zdHJpbmdpZnkoaXRlbSwgaXRlbUN0eCwgKCkgPT4gKGNvbW1lbnQgPSBudWxsKSk7XG4gICAgICAgIGlmIChpIDwgaXRlbXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHN0ciArPSAnLCc7XG4gICAgICAgIGlmIChjb21tZW50KVxuICAgICAgICAgICAgc3RyICs9IHN0cmluZ2lmeUNvbW1lbnQubGluZUNvbW1lbnQoc3RyLCBpdGVtSW5kZW50LCBjb21tZW50U3RyaW5nKGNvbW1lbnQpKTtcbiAgICAgICAgaWYgKCFyZXFOZXdsaW5lICYmIChsaW5lcy5sZW5ndGggPiBsaW5lc0F0VmFsdWUgfHwgc3RyLmluY2x1ZGVzKCdcXG4nKSkpXG4gICAgICAgICAgICByZXFOZXdsaW5lID0gdHJ1ZTtcbiAgICAgICAgbGluZXMucHVzaChzdHIpO1xuICAgICAgICBsaW5lc0F0VmFsdWUgPSBsaW5lcy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gZmxvd0NoYXJzO1xuICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgZW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFyZXFOZXdsaW5lKSB7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBsaW5lcy5yZWR1Y2UoKHN1bSwgbGluZSkgPT4gc3VtICsgbGluZS5sZW5ndGggKyAyLCAyKTtcbiAgICAgICAgICAgIHJlcU5ld2xpbmUgPSBjdHgub3B0aW9ucy5saW5lV2lkdGggPiAwICYmIGxlbiA+IGN0eC5vcHRpb25zLmxpbmVXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxTmV3bGluZSkge1xuICAgICAgICAgICAgbGV0IHN0ciA9IHN0YXJ0O1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKVxuICAgICAgICAgICAgICAgIHN0ciArPSBsaW5lID8gYFxcbiR7aW5kZW50U3RlcH0ke2luZGVudH0ke2xpbmV9YCA6ICdcXG4nO1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0cn1cXG4ke2luZGVudH0ke2VuZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0YXJ0fSR7ZmNQYWRkaW5nfSR7bGluZXMuam9pbignICcpfSR7ZmNQYWRkaW5nfSR7ZW5kfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhZGRDb21tZW50QmVmb3JlKHsgaW5kZW50LCBvcHRpb25zOiB7IGNvbW1lbnRTdHJpbmcgfSB9LCBsaW5lcywgY29tbWVudCwgY2hvbXBLZWVwKSB7XG4gICAgaWYgKGNvbW1lbnQgJiYgY2hvbXBLZWVwKVxuICAgICAgICBjb21tZW50ID0gY29tbWVudC5yZXBsYWNlKC9eXFxuKy8sICcnKTtcbiAgICBpZiAoY29tbWVudCkge1xuICAgICAgICBjb25zdCBpYyA9IHN0cmluZ2lmeUNvbW1lbnQuaW5kZW50Q29tbWVudChjb21tZW50U3RyaW5nKGNvbW1lbnQpLCBpbmRlbnQpO1xuICAgICAgICBsaW5lcy5wdXNoKGljLnRyaW1TdGFydCgpKTsgLy8gQXZvaWQgZG91YmxlIGluZGVudCBvbiBmaXJzdCBsaW5lXG4gICAgfVxufVxuXG5leHBvcnRzLnN0cmluZ2lmeUNvbGxlY3Rpb24gPSBzdHJpbmdpZnlDb2xsZWN0aW9uO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi4vc3RyaW5naWZ5L3N0cmluZ2lmeUNvbGxlY3Rpb24uanMnKTtcbnZhciBhZGRQYWlyVG9KU01hcCA9IHJlcXVpcmUoJy4vYWRkUGFpclRvSlNNYXAuanMnKTtcbnZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi9Db2xsZWN0aW9uLmpzJyk7XG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5LmpzJyk7XG52YXIgUGFpciA9IHJlcXVpcmUoJy4vUGFpci5qcycpO1xudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4vU2NhbGFyLmpzJyk7XG5cbmZ1bmN0aW9uIGZpbmRQYWlyKGl0ZW1zLCBrZXkpIHtcbiAgICBjb25zdCBrID0gaWRlbnRpdHkuaXNTY2FsYXIoa2V5KSA/IGtleS52YWx1ZSA6IGtleTtcbiAgICBmb3IgKGNvbnN0IGl0IG9mIGl0ZW1zKSB7XG4gICAgICAgIGlmIChpZGVudGl0eS5pc1BhaXIoaXQpKSB7XG4gICAgICAgICAgICBpZiAoaXQua2V5ID09PSBrZXkgfHwgaXQua2V5ID09PSBrKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdDtcbiAgICAgICAgICAgIGlmIChpZGVudGl0eS5pc1NjYWxhcihpdC5rZXkpICYmIGl0LmtleS52YWx1ZSA9PT0gaylcbiAgICAgICAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmNsYXNzIFlBTUxNYXAgZXh0ZW5kcyBDb2xsZWN0aW9uLkNvbGxlY3Rpb24ge1xuICAgIHN0YXRpYyBnZXQgdGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICd0YWc6eWFtbC5vcmcsMjAwMjptYXAnO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIoaWRlbnRpdHkuTUFQLCBzY2hlbWEpO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZ2VuZXJpYyBjb2xsZWN0aW9uIHBhcnNpbmcgbWV0aG9kIHRoYXQgY2FuIGJlIGV4dGVuZGVkXG4gICAgICogdG8gb3RoZXIgbm9kZSBjbGFzc2VzIHRoYXQgaW5oZXJpdCBmcm9tIFlBTUxNYXBcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzY2hlbWEsIG9iaiwgY3R4KSB7XG4gICAgICAgIGNvbnN0IHsga2VlcFVuZGVmaW5lZCwgcmVwbGFjZXIgfSA9IGN0eDtcbiAgICAgICAgY29uc3QgbWFwID0gbmV3IHRoaXMoc2NoZW1hKTtcbiAgICAgICAgY29uc3QgYWRkID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVwbGFjZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXBsYWNlci5jYWxsKG9iaiwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2VyKSAmJiAhcmVwbGFjZXIuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCB8fCBrZWVwVW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIG1hcC5pdGVtcy5wdXNoKFBhaXIuY3JlYXRlUGFpcihrZXksIHZhbHVlLCBjdHgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygb2JqKVxuICAgICAgICAgICAgICAgIGFkZChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaikpXG4gICAgICAgICAgICAgICAgYWRkKGtleSwgb2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLnNvcnRNYXBFbnRyaWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBtYXAuaXRlbXMuc29ydChzY2hlbWEuc29ydE1hcEVudHJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSB2YWx1ZSB0byB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdmVyd3JpdGUgLSBJZiBub3Qgc2V0IGB0cnVlYCwgdXNpbmcgYSBrZXkgdGhhdCBpcyBhbHJlYWR5IGluIHRoZVxuICAgICAqICAgY29sbGVjdGlvbiB3aWxsIHRocm93LiBPdGhlcndpc2UsIG92ZXJ3cml0ZXMgdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgICAqL1xuICAgIGFkZChwYWlyLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgbGV0IF9wYWlyO1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNQYWlyKHBhaXIpKVxuICAgICAgICAgICAgX3BhaXIgPSBwYWlyO1xuICAgICAgICBlbHNlIGlmICghcGFpciB8fCB0eXBlb2YgcGFpciAhPT0gJ29iamVjdCcgfHwgISgna2V5JyBpbiBwYWlyKSkge1xuICAgICAgICAgICAgLy8gSW4gVHlwZVNjcmlwdCwgdGhpcyBuZXZlciBoYXBwZW5zLlxuICAgICAgICAgICAgX3BhaXIgPSBuZXcgUGFpci5QYWlyKHBhaXIsIHBhaXI/LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBfcGFpciA9IG5ldyBQYWlyLlBhaXIocGFpci5rZXksIHBhaXIudmFsdWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gZmluZFBhaXIodGhpcy5pdGVtcywgX3BhaXIua2V5KTtcbiAgICAgICAgY29uc3Qgc29ydEVudHJpZXMgPSB0aGlzLnNjaGVtYT8uc29ydE1hcEVudHJpZXM7XG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICBpZiAoIW92ZXJ3cml0ZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke19wYWlyLmtleX0gYWxyZWFkeSBzZXRgKTtcbiAgICAgICAgICAgIC8vIEZvciBzY2FsYXJzLCBrZWVwIHRoZSBvbGQgbm9kZSAmIGl0cyBjb21tZW50cyBhbmQgYW5jaG9yc1xuICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzU2NhbGFyKHByZXYudmFsdWUpICYmIFNjYWxhci5pc1NjYWxhclZhbHVlKF9wYWlyLnZhbHVlKSlcbiAgICAgICAgICAgICAgICBwcmV2LnZhbHVlLnZhbHVlID0gX3BhaXIudmFsdWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcHJldi52YWx1ZSA9IF9wYWlyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNvcnRFbnRyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBzb3J0RW50cmllcyhfcGFpciwgaXRlbSkgPCAwKTtcbiAgICAgICAgICAgIGlmIChpID09PSAtMSlcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goX3BhaXIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGksIDAsIF9wYWlyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChfcGFpcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCBpdCA9IGZpbmRQYWlyKHRoaXMuaXRlbXMsIGtleSk7XG4gICAgICAgIGlmICghaXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGRlbCA9IHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMuaXRlbXMuaW5kZXhPZihpdCksIDEpO1xuICAgICAgICByZXR1cm4gZGVsLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIGdldChrZXksIGtlZXBTY2FsYXIpIHtcbiAgICAgICAgY29uc3QgaXQgPSBmaW5kUGFpcih0aGlzLml0ZW1zLCBrZXkpO1xuICAgICAgICBjb25zdCBub2RlID0gaXQ/LnZhbHVlO1xuICAgICAgICByZXR1cm4gKCFrZWVwU2NhbGFyICYmIGlkZW50aXR5LmlzU2NhbGFyKG5vZGUpID8gbm9kZS52YWx1ZSA6IG5vZGUpID8/IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gISFmaW5kUGFpcih0aGlzLml0ZW1zLCBrZXkpO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmFkZChuZXcgUGFpci5QYWlyKGtleSwgdmFsdWUpLCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGN0eCAtIENvbnZlcnNpb24gY29udGV4dCwgb3JpZ2luYWxseSBzZXQgaW4gRG9jdW1lbnQjdG9KUygpXG4gICAgICogQHBhcmFtIHtDbGFzc30gVHlwZSAtIElmIHNldCwgZm9yY2VzIHRoZSByZXR1cm5lZCBjb2xsZWN0aW9uIHR5cGVcbiAgICAgKiBAcmV0dXJucyBJbnN0YW5jZSBvZiBUeXBlLCBNYXAsIG9yIE9iamVjdFxuICAgICAqL1xuICAgIHRvSlNPTihfLCBjdHgsIFR5cGUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gVHlwZSA/IG5ldyBUeXBlKCkgOiBjdHg/Lm1hcEFzTWFwID8gbmV3IE1hcCgpIDoge307XG4gICAgICAgIGlmIChjdHg/Lm9uQ3JlYXRlKVxuICAgICAgICAgICAgY3R4Lm9uQ3JlYXRlKG1hcCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKVxuICAgICAgICAgICAgYWRkUGFpclRvSlNNYXAuYWRkUGFpclRvSlNNYXAoY3R4LCBtYXAsIGl0ZW0pO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICB0b1N0cmluZyhjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApIHtcbiAgICAgICAgaWYgKCFjdHgpXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWlkZW50aXR5LmlzUGFpcihpdGVtKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcCBpdGVtcyBtdXN0IGFsbCBiZSBwYWlyczsgZm91bmQgJHtKU09OLnN0cmluZ2lmeShpdGVtKX0gaW5zdGVhZGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3R4LmFsbE51bGxWYWx1ZXMgJiYgdGhpcy5oYXNBbGxOdWxsVmFsdWVzKGZhbHNlKSlcbiAgICAgICAgICAgIGN0eCA9IE9iamVjdC5hc3NpZ24oe30sIGN0eCwgeyBhbGxOdWxsVmFsdWVzOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5Q29sbGVjdGlvbi5zdHJpbmdpZnlDb2xsZWN0aW9uKHRoaXMsIGN0eCwge1xuICAgICAgICAgICAgYmxvY2tJdGVtUHJlZml4OiAnJyxcbiAgICAgICAgICAgIGZsb3dDaGFyczogeyBzdGFydDogJ3snLCBlbmQ6ICd9JyB9LFxuICAgICAgICAgICAgaXRlbUluZGVudDogY3R4LmluZGVudCB8fCAnJyxcbiAgICAgICAgICAgIG9uQ2hvbXBLZWVwLFxuICAgICAgICAgICAgb25Db21tZW50XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0cy5ZQU1MTWFwID0gWUFNTE1hcDtcbmV4cG9ydHMuZmluZFBhaXIgPSBmaW5kUGFpcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xudmFyIFlBTUxNYXAgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9ZQU1MTWFwLmpzJyk7XG5cbmNvbnN0IG1hcCA9IHtcbiAgICBjb2xsZWN0aW9uOiAnbWFwJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIG5vZGVDbGFzczogWUFNTE1hcC5ZQU1MTWFwLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOm1hcCcsXG4gICAgcmVzb2x2ZShtYXAsIG9uRXJyb3IpIHtcbiAgICAgICAgaWYgKCFpZGVudGl0eS5pc01hcChtYXApKVxuICAgICAgICAgICAgb25FcnJvcignRXhwZWN0ZWQgYSBtYXBwaW5nIGZvciB0aGlzIHRhZycpO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH0sXG4gICAgY3JlYXRlTm9kZTogKHNjaGVtYSwgb2JqLCBjdHgpID0+IFlBTUxNYXAuWUFNTE1hcC5mcm9tKHNjaGVtYSwgb2JqLCBjdHgpXG59O1xuXG5leHBvcnRzLm1hcCA9IG1hcDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlTm9kZSA9IHJlcXVpcmUoJy4uL2RvYy9jcmVhdGVOb2RlLmpzJyk7XG52YXIgc3RyaW5naWZ5Q29sbGVjdGlvbiA9IHJlcXVpcmUoJy4uL3N0cmluZ2lmeS9zdHJpbmdpZnlDb2xsZWN0aW9uLmpzJyk7XG52YXIgQ29sbGVjdGlvbiA9IHJlcXVpcmUoJy4vQ29sbGVjdGlvbi5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eS5qcycpO1xudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4vU2NhbGFyLmpzJyk7XG52YXIgdG9KUyA9IHJlcXVpcmUoJy4vdG9KUy5qcycpO1xuXG5jbGFzcyBZQU1MU2VxIGV4dGVuZHMgQ29sbGVjdGlvbi5Db2xsZWN0aW9uIHtcbiAgICBzdGF0aWMgZ2V0IHRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiAndGFnOnlhbWwub3JnLDIwMDI6c2VxJztcbiAgICB9XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKGlkZW50aXR5LlNFUSwgc2NoZW1hKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIH1cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHZhbHVlIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBga2V5YCBtdXN0IGNvbnRhaW4gYSByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnRlZ2VyIGZvciB0aGlzIHRvIHN1Y2NlZWQuXG4gICAgICogSXQgbWF5IGJlIHdyYXBwZWQgaW4gYSBgU2NhbGFyYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgaXRlbSB3YXMgZm91bmQgYW5kIHJlbW92ZWQuXG4gICAgICovXG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCBpZHggPSBhc0l0ZW1JbmRleChrZXkpO1xuICAgICAgICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGRlbCA9IHRoaXMuaXRlbXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIHJldHVybiBkZWwubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgZ2V0KGtleSwga2VlcFNjYWxhcikge1xuICAgICAgICBjb25zdCBpZHggPSBhc0l0ZW1JbmRleChrZXkpO1xuICAgICAgICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBpdCA9IHRoaXMuaXRlbXNbaWR4XTtcbiAgICAgICAgcmV0dXJuICFrZWVwU2NhbGFyICYmIGlkZW50aXR5LmlzU2NhbGFyKGl0KSA/IGl0LnZhbHVlIDogaXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY29sbGVjdGlvbiBpbmNsdWRlcyBhIHZhbHVlIHdpdGggdGhlIGtleSBga2V5YC5cbiAgICAgKlxuICAgICAqIGBrZXlgIG11c3QgY29udGFpbiBhIHJlcHJlc2VudGF0aW9uIG9mIGFuIGludGVnZXIgZm9yIHRoaXMgdG8gc3VjY2VlZC5cbiAgICAgKiBJdCBtYXkgYmUgd3JhcHBlZCBpbiBhIGBTY2FsYXJgLlxuICAgICAqL1xuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gYXNJdGVtSW5kZXgoa2V5KTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpZHggPT09ICdudW1iZXInICYmIGlkeCA8IHRoaXMuaXRlbXMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgdmFsdWUgaW4gdGhpcyBjb2xsZWN0aW9uLiBGb3IgYCEhc2V0YCwgYHZhbHVlYCBuZWVkcyB0byBiZSBhXG4gICAgICogYm9vbGVhbiB0byBhZGQvcmVtb3ZlIHRoZSBpdGVtIGZyb20gdGhlIHNldC5cbiAgICAgKlxuICAgICAqIElmIGBrZXlgIGRvZXMgbm90IGNvbnRhaW4gYSByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnRlZ2VyLCB0aGlzIHdpbGwgdGhyb3cuXG4gICAgICogSXQgbWF5IGJlIHdyYXBwZWQgaW4gYSBgU2NhbGFyYC5cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBpZHggPSBhc0l0ZW1JbmRleChrZXkpO1xuICAgICAgICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGEgdmFsaWQgaW5kZXgsIG5vdCAke2tleX0uYCk7XG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLml0ZW1zW2lkeF07XG4gICAgICAgIGlmIChpZGVudGl0eS5pc1NjYWxhcihwcmV2KSAmJiBTY2FsYXIuaXNTY2FsYXJWYWx1ZSh2YWx1ZSkpXG4gICAgICAgICAgICBwcmV2LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaWR4XSA9IHZhbHVlO1xuICAgIH1cbiAgICB0b0pTT04oXywgY3R4KSB7XG4gICAgICAgIGNvbnN0IHNlcSA9IFtdO1xuICAgICAgICBpZiAoY3R4Py5vbkNyZWF0ZSlcbiAgICAgICAgICAgIGN0eC5vbkNyZWF0ZShzZXEpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKVxuICAgICAgICAgICAgc2VxLnB1c2godG9KUy50b0pTKGl0ZW0sIFN0cmluZyhpKyspLCBjdHgpKTtcbiAgICAgICAgcmV0dXJuIHNlcTtcbiAgICB9XG4gICAgdG9TdHJpbmcoY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKSB7XG4gICAgICAgIGlmICghY3R4KVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5Q29sbGVjdGlvbi5zdHJpbmdpZnlDb2xsZWN0aW9uKHRoaXMsIGN0eCwge1xuICAgICAgICAgICAgYmxvY2tJdGVtUHJlZml4OiAnLSAnLFxuICAgICAgICAgICAgZmxvd0NoYXJzOiB7IHN0YXJ0OiAnWycsIGVuZDogJ10nIH0sXG4gICAgICAgICAgICBpdGVtSW5kZW50OiAoY3R4LmluZGVudCB8fCAnJykgKyAnICAnLFxuICAgICAgICAgICAgb25DaG9tcEtlZXAsXG4gICAgICAgICAgICBvbkNvbW1lbnRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHNjaGVtYSwgb2JqLCBjdHgpIHtcbiAgICAgICAgY29uc3QgeyByZXBsYWNlciB9ID0gY3R4O1xuICAgICAgICBjb25zdCBzZXEgPSBuZXcgdGhpcyhzY2hlbWEpO1xuICAgICAgICBpZiAob2JqICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3Qob2JqKSkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaXQgb2Ygb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBvYmogaW5zdGFuY2VvZiBTZXQgPyBpdCA6IFN0cmluZyhpKyspO1xuICAgICAgICAgICAgICAgICAgICBpdCA9IHJlcGxhY2VyLmNhbGwob2JqLCBrZXksIGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VxLml0ZW1zLnB1c2goY3JlYXRlTm9kZS5jcmVhdGVOb2RlKGl0LCB1bmRlZmluZWQsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXE7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNJdGVtSW5kZXgoa2V5KSB7XG4gICAgbGV0IGlkeCA9IGlkZW50aXR5LmlzU2NhbGFyKGtleSkgPyBrZXkudmFsdWUgOiBrZXk7XG4gICAgaWYgKGlkeCAmJiB0eXBlb2YgaWR4ID09PSAnc3RyaW5nJylcbiAgICAgICAgaWR4ID0gTnVtYmVyKGlkeCk7XG4gICAgcmV0dXJuIHR5cGVvZiBpZHggPT09ICdudW1iZXInICYmIE51bWJlci5pc0ludGVnZXIoaWR4KSAmJiBpZHggPj0gMFxuICAgICAgICA/IGlkeFxuICAgICAgICA6IG51bGw7XG59XG5cbmV4cG9ydHMuWUFNTFNlcSA9IFlBTUxTZXE7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciBZQU1MU2VxID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvWUFNTFNlcS5qcycpO1xuXG5jb25zdCBzZXEgPSB7XG4gICAgY29sbGVjdGlvbjogJ3NlcScsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICBub2RlQ2xhc3M6IFlBTUxTZXEuWUFNTFNlcSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjpzZXEnLFxuICAgIHJlc29sdmUoc2VxLCBvbkVycm9yKSB7XG4gICAgICAgIGlmICghaWRlbnRpdHkuaXNTZXEoc2VxKSlcbiAgICAgICAgICAgIG9uRXJyb3IoJ0V4cGVjdGVkIGEgc2VxdWVuY2UgZm9yIHRoaXMgdGFnJyk7XG4gICAgICAgIHJldHVybiBzZXE7XG4gICAgfSxcbiAgICBjcmVhdGVOb2RlOiAoc2NoZW1hLCBvYmosIGN0eCkgPT4gWUFNTFNlcS5ZQU1MU2VxLmZyb20oc2NoZW1hLCBvYmosIGN0eClcbn07XG5cbmV4cG9ydHMuc2VxID0gc2VxO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlTdHJpbmcgPSByZXF1aXJlKCcuLi8uLi9zdHJpbmdpZnkvc3RyaW5naWZ5U3RyaW5nLmpzJyk7XG5cbmNvbnN0IHN0cmluZyA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsXG4gICAgcmVzb2x2ZTogc3RyID0+IHN0cixcbiAgICBzdHJpbmdpZnkoaXRlbSwgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKSB7XG4gICAgICAgIGN0eCA9IE9iamVjdC5hc3NpZ24oeyBhY3R1YWxTdHJpbmc6IHRydWUgfSwgY3R4KTtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVN0cmluZy5zdHJpbmdpZnlTdHJpbmcoaXRlbSwgY3R4LCBvbkNvbW1lbnQsIG9uQ2hvbXBLZWVwKTtcbiAgICB9XG59O1xuXG5leHBvcnRzLnN0cmluZyA9IHN0cmluZztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG5cbmNvbnN0IG51bGxUYWcgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHZhbHVlID09IG51bGwsXG4gICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IFNjYWxhci5TY2FsYXIobnVsbCksXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjpudWxsJyxcbiAgICB0ZXN0OiAvXig/On58W05uXXVsbHxOVUxMKT8kLyxcbiAgICByZXNvbHZlOiAoKSA9PiBuZXcgU2NhbGFyLlNjYWxhcihudWxsKSxcbiAgICBzdHJpbmdpZnk6ICh7IHNvdXJjZSB9LCBjdHgpID0+IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIG51bGxUYWcudGVzdC50ZXN0KHNvdXJjZSlcbiAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgOiBjdHgub3B0aW9ucy5udWxsU3RyXG59O1xuXG5leHBvcnRzLm51bGxUYWcgPSBudWxsVGFnO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBTY2FsYXIgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9TY2FsYXIuanMnKTtcblxuY29uc3QgYm9vbFRhZyA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjpib29sJyxcbiAgICB0ZXN0OiAvXig/OltUdF1ydWV8VFJVRXxbRmZdYWxzZXxGQUxTRSkkLyxcbiAgICByZXNvbHZlOiBzdHIgPT4gbmV3IFNjYWxhci5TY2FsYXIoc3RyWzBdID09PSAndCcgfHwgc3RyWzBdID09PSAnVCcpLFxuICAgIHN0cmluZ2lmeSh7IHNvdXJjZSwgdmFsdWUgfSwgY3R4KSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgYm9vbFRhZy50ZXN0LnRlc3Qoc291cmNlKSkge1xuICAgICAgICAgICAgY29uc3Qgc3YgPSBzb3VyY2VbMF0gPT09ICd0JyB8fCBzb3VyY2VbMF0gPT09ICdUJztcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gc3YpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUgPyBjdHgub3B0aW9ucy50cnVlU3RyIDogY3R4Lm9wdGlvbnMuZmFsc2VTdHI7XG4gICAgfVxufTtcblxuZXhwb3J0cy5ib29sVGFnID0gYm9vbFRhZztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnlOdW1iZXIoeyBmb3JtYXQsIG1pbkZyYWN0aW9uRGlnaXRzLCB0YWcsIHZhbHVlIH0pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgY29uc3QgbnVtID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IHZhbHVlIDogTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAoIWlzRmluaXRlKG51bSkpXG4gICAgICAgIHJldHVybiBpc05hTihudW0pID8gJy5uYW4nIDogbnVtIDwgMCA/ICctLmluZicgOiAnLmluZic7XG4gICAgbGV0IG4gPSBPYmplY3QuaXModmFsdWUsIC0wKSA/ICctMCcgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgaWYgKCFmb3JtYXQgJiZcbiAgICAgICAgbWluRnJhY3Rpb25EaWdpdHMgJiZcbiAgICAgICAgKCF0YWcgfHwgdGFnID09PSAndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnKSAmJlxuICAgICAgICAvXlxcZC8udGVzdChuKSkge1xuICAgICAgICBsZXQgaSA9IG4uaW5kZXhPZignLicpO1xuICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgIGkgPSBuLmxlbmd0aDtcbiAgICAgICAgICAgIG4gKz0gJy4nO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkID0gbWluRnJhY3Rpb25EaWdpdHMgLSAobi5sZW5ndGggLSBpIC0gMSk7XG4gICAgICAgIHdoaWxlIChkLS0gPiAwKVxuICAgICAgICAgICAgbiArPSAnMCc7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuXG5leHBvcnRzLnN0cmluZ2lmeU51bWJlciA9IHN0cmluZ2lmeU51bWJlcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgc3RyaW5naWZ5TnVtYmVyID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5naWZ5L3N0cmluZ2lmeU51bWJlci5qcycpO1xuXG5jb25zdCBmbG9hdE5hTiA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0JyxcbiAgICB0ZXN0OiAvXig/OlstK10/XFwuKD86aW5mfEluZnxJTkYpfFxcLm5hbnxcXC5OYU58XFwuTkFOKSQvLFxuICAgIHJlc29sdmU6IHN0ciA9PiBzdHIuc2xpY2UoLTMpLnRvTG93ZXJDYXNlKCkgPT09ICduYW4nXG4gICAgICAgID8gTmFOXG4gICAgICAgIDogc3RyWzBdID09PSAnLSdcbiAgICAgICAgICAgID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG4gICAgICAgICAgICA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeU51bWJlci5zdHJpbmdpZnlOdW1iZXJcbn07XG5jb25zdCBmbG9hdEV4cCA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0JyxcbiAgICBmb3JtYXQ6ICdFWFAnLFxuICAgIHRlc3Q6IC9eWy0rXT8oPzpcXC5bMC05XSt8WzAtOV0rKD86XFwuWzAtOV0qKT8pW2VFXVstK10/WzAtOV0rJC8sXG4gICAgcmVzb2x2ZTogc3RyID0+IHBhcnNlRmxvYXQoc3RyKSxcbiAgICBzdHJpbmdpZnkobm9kZSkge1xuICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIobm9kZS52YWx1ZSk7XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZShudW0pID8gbnVtLnRvRXhwb25lbnRpYWwoKSA6IHN0cmluZ2lmeU51bWJlci5zdHJpbmdpZnlOdW1iZXIobm9kZSk7XG4gICAgfVxufTtcbmNvbnN0IGZsb2F0ID0ge1xuICAgIGlkZW50aWZ5OiB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnLFxuICAgIHRlc3Q6IC9eWy0rXT8oPzpcXC5bMC05XSt8WzAtOV0rXFwuWzAtOV0qKSQvLFxuICAgIHJlc29sdmUoc3RyKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgU2NhbGFyLlNjYWxhcihwYXJzZUZsb2F0KHN0cikpO1xuICAgICAgICBjb25zdCBkb3QgPSBzdHIuaW5kZXhPZignLicpO1xuICAgICAgICBpZiAoZG90ICE9PSAtMSAmJiBzdHJbc3RyLmxlbmd0aCAtIDFdID09PSAnMCcpXG4gICAgICAgICAgICBub2RlLm1pbkZyYWN0aW9uRGlnaXRzID0gc3RyLmxlbmd0aCAtIGRvdCAtIDE7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlOdW1iZXIuc3RyaW5naWZ5TnVtYmVyXG59O1xuXG5leHBvcnRzLmZsb2F0ID0gZmxvYXQ7XG5leHBvcnRzLmZsb2F0RXhwID0gZmxvYXRFeHA7XG5leHBvcnRzLmZsb2F0TmFOID0gZmxvYXROYU47XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeU51bWJlciA9IHJlcXVpcmUoJy4uLy4uL3N0cmluZ2lmeS9zdHJpbmdpZnlOdW1iZXIuanMnKTtcblxuY29uc3QgaW50SWRlbnRpZnkgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcgfHwgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG5jb25zdCBpbnRSZXNvbHZlID0gKHN0ciwgb2Zmc2V0LCByYWRpeCwgeyBpbnRBc0JpZ0ludCB9KSA9PiAoaW50QXNCaWdJbnQgPyBCaWdJbnQoc3RyKSA6IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcob2Zmc2V0KSwgcmFkaXgpKTtcbmZ1bmN0aW9uIGludFN0cmluZ2lmeShub2RlLCByYWRpeCwgcHJlZml4KSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gbm9kZTtcbiAgICBpZiAoaW50SWRlbnRpZnkodmFsdWUpICYmIHZhbHVlID49IDApXG4gICAgICAgIHJldHVybiBwcmVmaXggKyB2YWx1ZS50b1N0cmluZyhyYWRpeCk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeU51bWJlci5zdHJpbmdpZnlOdW1iZXIobm9kZSk7XG59XG5jb25zdCBpbnRPY3QgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IGludElkZW50aWZ5KHZhbHVlKSAmJiB2YWx1ZSA+PSAwLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6aW50JyxcbiAgICBmb3JtYXQ6ICdPQ1QnLFxuICAgIHRlc3Q6IC9eMG9bMC03XSskLyxcbiAgICByZXNvbHZlOiAoc3RyLCBfb25FcnJvciwgb3B0KSA9PiBpbnRSZXNvbHZlKHN0ciwgMiwgOCwgb3B0KSxcbiAgICBzdHJpbmdpZnk6IG5vZGUgPT4gaW50U3RyaW5naWZ5KG5vZGUsIDgsICcwbycpXG59O1xuY29uc3QgaW50ID0ge1xuICAgIGlkZW50aWZ5OiBpbnRJZGVudGlmeSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmludCcsXG4gICAgdGVzdDogL15bLStdP1swLTldKyQvLFxuICAgIHJlc29sdmU6IChzdHIsIF9vbkVycm9yLCBvcHQpID0+IGludFJlc29sdmUoc3RyLCAwLCAxMCwgb3B0KSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeU51bWJlci5zdHJpbmdpZnlOdW1iZXJcbn07XG5jb25zdCBpbnRIZXggPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IGludElkZW50aWZ5KHZhbHVlKSAmJiB2YWx1ZSA+PSAwLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6aW50JyxcbiAgICBmb3JtYXQ6ICdIRVgnLFxuICAgIHRlc3Q6IC9eMHhbMC05YS1mQS1GXSskLyxcbiAgICByZXNvbHZlOiAoc3RyLCBfb25FcnJvciwgb3B0KSA9PiBpbnRSZXNvbHZlKHN0ciwgMiwgMTYsIG9wdCksXG4gICAgc3RyaW5naWZ5OiBub2RlID0+IGludFN0cmluZ2lmeShub2RlLCAxNiwgJzB4Jylcbn07XG5cbmV4cG9ydHMuaW50ID0gaW50O1xuZXhwb3J0cy5pbnRIZXggPSBpbnRIZXg7XG5leHBvcnRzLmludE9jdCA9IGludE9jdDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFwID0gcmVxdWlyZSgnLi4vY29tbW9uL21hcC5qcycpO1xudmFyIF9udWxsID0gcmVxdWlyZSgnLi4vY29tbW9uL251bGwuanMnKTtcbnZhciBzZXEgPSByZXF1aXJlKCcuLi9jb21tb24vc2VxLmpzJyk7XG52YXIgc3RyaW5nID0gcmVxdWlyZSgnLi4vY29tbW9uL3N0cmluZy5qcycpO1xudmFyIGJvb2wgPSByZXF1aXJlKCcuL2Jvb2wuanMnKTtcbnZhciBmbG9hdCA9IHJlcXVpcmUoJy4vZmxvYXQuanMnKTtcbnZhciBpbnQgPSByZXF1aXJlKCcuL2ludC5qcycpO1xuXG5jb25zdCBzY2hlbWEgPSBbXG4gICAgbWFwLm1hcCxcbiAgICBzZXEuc2VxLFxuICAgIHN0cmluZy5zdHJpbmcsXG4gICAgX251bGwubnVsbFRhZyxcbiAgICBib29sLmJvb2xUYWcsXG4gICAgaW50LmludE9jdCxcbiAgICBpbnQuaW50LFxuICAgIGludC5pbnRIZXgsXG4gICAgZmxvYXQuZmxvYXROYU4sXG4gICAgZmxvYXQuZmxvYXRFeHAsXG4gICAgZmxvYXQuZmxvYXRcbl07XG5cbmV4cG9ydHMuc2NoZW1hID0gc2NoZW1hO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBTY2FsYXIgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9TY2FsYXIuanMnKTtcbnZhciBtYXAgPSByZXF1aXJlKCcuLi9jb21tb24vbWFwLmpzJyk7XG52YXIgc2VxID0gcmVxdWlyZSgnLi4vY29tbW9uL3NlcS5qcycpO1xuXG5mdW5jdGlvbiBpbnRJZGVudGlmeSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnIHx8IE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xufVxuY29uc3Qgc3RyaW5naWZ5SlNPTiA9ICh7IHZhbHVlIH0pID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbmNvbnN0IGpzb25TY2FsYXJzID0gW1xuICAgIHtcbiAgICAgICAgaWRlbnRpZnk6IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycsXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsXG4gICAgICAgIHJlc29sdmU6IHN0ciA9PiBzdHIsXG4gICAgICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5SlNPTlxuICAgIH0sXG4gICAge1xuICAgICAgICBpZGVudGlmeTogdmFsdWUgPT4gdmFsdWUgPT0gbnVsbCxcbiAgICAgICAgY3JlYXRlTm9kZTogKCkgPT4gbmV3IFNjYWxhci5TY2FsYXIobnVsbCksXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOm51bGwnLFxuICAgICAgICB0ZXN0OiAvXm51bGwkLyxcbiAgICAgICAgcmVzb2x2ZTogKCkgPT4gbnVsbCxcbiAgICAgICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlKU09OXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkZW50aWZ5OiB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyxcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsXG4gICAgICAgIHRlc3Q6IC9edHJ1ZSR8XmZhbHNlJC8sXG4gICAgICAgIHJlc29sdmU6IHN0ciA9PiBzdHIgPT09ICd0cnVlJyxcbiAgICAgICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlKU09OXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkZW50aWZ5OiBpbnRJZGVudGlmeSxcbiAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6aW50JyxcbiAgICAgICAgdGVzdDogL14tPyg/OjB8WzEtOV1bMC05XSopJC8sXG4gICAgICAgIHJlc29sdmU6IChzdHIsIF9vbkVycm9yLCB7IGludEFzQmlnSW50IH0pID0+IGludEFzQmlnSW50ID8gQmlnSW50KHN0cikgOiBwYXJzZUludChzdHIsIDEwKSxcbiAgICAgICAgc3RyaW5naWZ5OiAoeyB2YWx1ZSB9KSA9PiBpbnRJZGVudGlmeSh2YWx1ZSkgPyB2YWx1ZS50b1N0cmluZygpIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkZW50aWZ5OiB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCcsXG4gICAgICAgIHRlc3Q6IC9eLT8oPzowfFsxLTldWzAtOV0qKSg/OlxcLlswLTldKik/KD86W2VFXVstK10/WzAtOV0rKT8kLyxcbiAgICAgICAgcmVzb2x2ZTogc3RyID0+IHBhcnNlRmxvYXQoc3RyKSxcbiAgICAgICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlKU09OXG4gICAgfVxuXTtcbmNvbnN0IGpzb25FcnJvciA9IHtcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJycsXG4gICAgdGVzdDogL14vLFxuICAgIHJlc29sdmUoc3RyLCBvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoYFVucmVzb2x2ZWQgcGxhaW4gc2NhbGFyICR7SlNPTi5zdHJpbmdpZnkoc3RyKX1gKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59O1xuY29uc3Qgc2NoZW1hID0gW21hcC5tYXAsIHNlcS5zZXFdLmNvbmNhdChqc29uU2NhbGFycywganNvbkVycm9yKTtcblxuZXhwb3J0cy5zY2hlbWEgPSBzY2hlbWE7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIG5vZGVfYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJyk7XG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgc3RyaW5naWZ5U3RyaW5nID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5naWZ5L3N0cmluZ2lmeVN0cmluZy5qcycpO1xuXG5jb25zdCBiaW5hcnkgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSwgLy8gQnVmZmVyIGluaGVyaXRzIGZyb20gVWludDhBcnJheVxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmJpbmFyeScsXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJ1ZmZlciBpbiBub2RlIGFuZCBhbiBVaW50OEFycmF5IGluIGJyb3dzZXJzXG4gICAgICpcbiAgICAgKiBUbyB1c2UgdGhlIHJlc3VsdGluZyBidWZmZXIgYXMgYW4gaW1hZ2UsIHlvdSdsbCB3YW50IHRvIGRvIHNvbWV0aGluZyBsaWtlOlxuICAgICAqXG4gICAgICogICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2J1ZmZlcl0sIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pXG4gICAgICogICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGhvdG8nKS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpXG4gICAgICovXG4gICAgcmVzb2x2ZShzcmMsIG9uRXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlX2J1ZmZlci5CdWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlX2J1ZmZlci5CdWZmZXIuZnJvbShzcmMsICdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gT24gSUUgMTEsIGF0b2IoKSBjYW4ndCBoYW5kbGUgbmV3bGluZXNcbiAgICAgICAgICAgIGNvbnN0IHN0ciA9IGF0b2Ioc3JjLnJlcGxhY2UoL1tcXG5cXHJdL2csICcnKSk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShzdHIubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uRXJyb3IoJ1RoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCByZWFkaW5nIGJpbmFyeSB0YWdzOyBlaXRoZXIgQnVmZmVyIG9yIGF0b2IgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHN0cmluZ2lmeSh7IGNvbW1lbnQsIHR5cGUsIHZhbHVlIH0sIGN0eCwgb25Db21tZW50LCBvbkNob21wS2VlcCkge1xuICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICBjb25zdCBidWYgPSB2YWx1ZTsgLy8gY2hlY2tlZCBlYXJsaWVyIGJ5IGJpbmFyeS5pZGVudGlmeSgpXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZV9idWZmZXIuQnVmZmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdHIgPVxuICAgICAgICAgICAgICAgIGJ1ZiBpbnN0YW5jZW9mIG5vZGVfYnVmZmVyLkJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICA/IGJ1Zi50b1N0cmluZygnYmFzZTY0JylcbiAgICAgICAgICAgICAgICAgICAgOiBub2RlX2J1ZmZlci5CdWZmZXIuZnJvbShidWYuYnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGxldCBzID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1Zi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtcbiAgICAgICAgICAgIHN0ciA9IGJ0b2Eocyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB3cml0aW5nIGJpbmFyeSB0YWdzOyBlaXRoZXIgQnVmZmVyIG9yIGJ0b2EgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0eXBlID8/ICh0eXBlID0gU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMKTtcbiAgICAgICAgaWYgKHR5cGUgIT09IFNjYWxhci5TY2FsYXIuUVVPVEVfRE9VQkxFKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBNYXRoLm1heChjdHgub3B0aW9ucy5saW5lV2lkdGggLSBjdHguaW5kZW50Lmxlbmd0aCwgY3R4Lm9wdGlvbnMubWluQ29udGVudFdpZHRoKTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBNYXRoLmNlaWwoc3RyLmxlbmd0aCAvIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBvID0gMDsgaSA8IG47ICsraSwgbyArPSBsaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBsaW5lc1tpXSA9IHN0ci5zdWJzdHIobywgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ciA9IGxpbmVzLmpvaW4odHlwZSA9PT0gU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMID8gJ1xcbicgOiAnICcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnlTdHJpbmcuc3RyaW5naWZ5U3RyaW5nKHsgY29tbWVudCwgdHlwZSwgdmFsdWU6IHN0ciB9LCBjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuYmluYXJ5ID0gYmluYXJ5O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgUGFpciA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL1BhaXIuanMnKTtcbnZhciBTY2FsYXIgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9TY2FsYXIuanMnKTtcbnZhciBZQU1MU2VxID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvWUFNTFNlcS5qcycpO1xuXG5mdW5jdGlvbiByZXNvbHZlUGFpcnMoc2VxLCBvbkVycm9yKSB7XG4gICAgaWYgKGlkZW50aXR5LmlzU2VxKHNlcSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXEuaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gc2VxLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzUGFpcihpdGVtKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlkZW50aXR5LmlzTWFwKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbXMubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcignRWFjaCBwYWlyIG11c3QgaGF2ZSBpdHMgb3duIHNlcXVlbmNlIGluZGljYXRvcicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhaXIgPSBpdGVtLml0ZW1zWzBdIHx8IG5ldyBQYWlyLlBhaXIobmV3IFNjYWxhci5TY2FsYXIobnVsbCkpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmNvbW1lbnRCZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgIHBhaXIua2V5LmNvbW1lbnRCZWZvcmUgPSBwYWlyLmtleS5jb21tZW50QmVmb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke2l0ZW0uY29tbWVudEJlZm9yZX1cXG4ke3BhaXIua2V5LmNvbW1lbnRCZWZvcmV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLmNvbW1lbnRCZWZvcmU7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbiA9IHBhaXIudmFsdWUgPz8gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNuLmNvbW1lbnQgPSBjbi5jb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke2l0ZW0uY29tbWVudH1cXG4ke2NuLmNvbW1lbnR9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0gPSBwYWlyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VxLml0ZW1zW2ldID0gaWRlbnRpdHkuaXNQYWlyKGl0ZW0pID8gaXRlbSA6IG5ldyBQYWlyLlBhaXIoaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgICAgICBvbkVycm9yKCdFeHBlY3RlZCBhIHNlcXVlbmNlIGZvciB0aGlzIHRhZycpO1xuICAgIHJldHVybiBzZXE7XG59XG5mdW5jdGlvbiBjcmVhdGVQYWlycyhzY2hlbWEsIGl0ZXJhYmxlLCBjdHgpIHtcbiAgICBjb25zdCB7IHJlcGxhY2VyIH0gPSBjdHg7XG4gICAgY29uc3QgcGFpcnMgPSBuZXcgWUFNTFNlcS5ZQU1MU2VxKHNjaGVtYSk7XG4gICAgcGFpcnMudGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOnBhaXJzJztcbiAgICBsZXQgaSA9IDA7XG4gICAgaWYgKGl0ZXJhYmxlICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKVxuICAgICAgICBmb3IgKGxldCBpdCBvZiBpdGVyYWJsZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICBpdCA9IHJlcGxhY2VyLmNhbGwoaXRlcmFibGUsIFN0cmluZyhpKyspLCBpdCk7XG4gICAgICAgICAgICBsZXQga2V5LCB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0KSkge1xuICAgICAgICAgICAgICAgIGlmIChpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gaXRbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaXRbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgW2tleSwgdmFsdWVdIHR1cGxlOiAke2l0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXQgJiYgaXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaXQpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXlzWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGl0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCB0dXBsZSB3aXRoIG9uZSBrZXksIG5vdCAke2tleXMubGVuZ3RofSBrZXlzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5ID0gaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWlycy5pdGVtcy5wdXNoKFBhaXIuY3JlYXRlUGFpcihrZXksIHZhbHVlLCBjdHgpKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBwYWlycztcbn1cbmNvbnN0IHBhaXJzID0ge1xuICAgIGNvbGxlY3Rpb246ICdzZXEnLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOnBhaXJzJyxcbiAgICByZXNvbHZlOiByZXNvbHZlUGFpcnMsXG4gICAgY3JlYXRlTm9kZTogY3JlYXRlUGFpcnNcbn07XG5cbmV4cG9ydHMuY3JlYXRlUGFpcnMgPSBjcmVhdGVQYWlycztcbmV4cG9ydHMucGFpcnMgPSBwYWlycztcbmV4cG9ydHMucmVzb2x2ZVBhaXJzID0gcmVzb2x2ZVBhaXJzO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgdG9KUyA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL3RvSlMuanMnKTtcbnZhciBZQU1MTWFwID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvWUFNTE1hcC5qcycpO1xudmFyIFlBTUxTZXEgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9ZQU1MU2VxLmpzJyk7XG52YXIgcGFpcnMgPSByZXF1aXJlKCcuL3BhaXJzLmpzJyk7XG5cbmNsYXNzIFlBTUxPTWFwIGV4dGVuZHMgWUFNTFNlcS5ZQU1MU2VxIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hZGQgPSBZQU1MTWFwLllBTUxNYXAucHJvdG90eXBlLmFkZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlbGV0ZSA9IFlBTUxNYXAuWUFNTE1hcC5wcm90b3R5cGUuZGVsZXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0ID0gWUFNTE1hcC5ZQU1MTWFwLnByb3RvdHlwZS5nZXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYXMgPSBZQU1MTWFwLllBTUxNYXAucHJvdG90eXBlLmhhcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldCA9IFlBTUxNYXAuWUFNTE1hcC5wcm90b3R5cGUuc2V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudGFnID0gWUFNTE9NYXAudGFnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBgY3R4YCBpcyBnaXZlbiwgdGhlIHJldHVybiB0eXBlIGlzIGFjdHVhbGx5IGBNYXA8dW5rbm93biwgdW5rbm93bj5gLFxuICAgICAqIGJ1dCBUeXBlU2NyaXB0IHdvbid0IGFsbG93IHdpZGVuaW5nIHRoZSBzaWduYXR1cmUgb2YgYSBjaGlsZCBtZXRob2QuXG4gICAgICovXG4gICAgdG9KU09OKF8sIGN0eCkge1xuICAgICAgICBpZiAoIWN0eClcbiAgICAgICAgICAgIHJldHVybiBzdXBlci50b0pTT04oXyk7XG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgaWYgKGN0eD8ub25DcmVhdGUpXG4gICAgICAgICAgICBjdHgub25DcmVhdGUobWFwKTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIGxldCBrZXksIHZhbHVlO1xuICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzUGFpcihwYWlyKSkge1xuICAgICAgICAgICAgICAgIGtleSA9IHRvSlMudG9KUyhwYWlyLmtleSwgJycsIGN0eCk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0pTLnRvSlMocGFpci52YWx1ZSwga2V5LCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5ID0gdG9KUy50b0pTKHBhaXIsICcnLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hcC5oYXMoa2V5KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09yZGVyZWQgbWFwcyBtdXN0IG5vdCBpbmNsdWRlIGR1cGxpY2F0ZSBrZXlzJyk7XG4gICAgICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHNjaGVtYSwgaXRlcmFibGUsIGN0eCkge1xuICAgICAgICBjb25zdCBwYWlycyQxID0gcGFpcnMuY3JlYXRlUGFpcnMoc2NoZW1hLCBpdGVyYWJsZSwgY3R4KTtcbiAgICAgICAgY29uc3Qgb21hcCA9IG5ldyB0aGlzKCk7XG4gICAgICAgIG9tYXAuaXRlbXMgPSBwYWlycyQxLml0ZW1zO1xuICAgICAgICByZXR1cm4gb21hcDtcbiAgICB9XG59XG5ZQU1MT01hcC50YWcgPSAndGFnOnlhbWwub3JnLDIwMDI6b21hcCc7XG5jb25zdCBvbWFwID0ge1xuICAgIGNvbGxlY3Rpb246ICdzZXEnLFxuICAgIGlkZW50aWZ5OiB2YWx1ZSA9PiB2YWx1ZSBpbnN0YW5jZW9mIE1hcCxcbiAgICBub2RlQ2xhc3M6IFlBTUxPTWFwLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOm9tYXAnLFxuICAgIHJlc29sdmUoc2VxLCBvbkVycm9yKSB7XG4gICAgICAgIGNvbnN0IHBhaXJzJDEgPSBwYWlycy5yZXNvbHZlUGFpcnMoc2VxLCBvbkVycm9yKTtcbiAgICAgICAgY29uc3Qgc2VlbktleXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB7IGtleSB9IG9mIHBhaXJzJDEuaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpZGVudGl0eS5pc1NjYWxhcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW5LZXlzLmluY2x1ZGVzKGtleS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihgT3JkZXJlZCBtYXBzIG11c3Qgbm90IGluY2x1ZGUgZHVwbGljYXRlIGtleXM6ICR7a2V5LnZhbHVlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlbktleXMucHVzaChrZXkudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgWUFNTE9NYXAoKSwgcGFpcnMkMSk7XG4gICAgfSxcbiAgICBjcmVhdGVOb2RlOiAoc2NoZW1hLCBpdGVyYWJsZSwgY3R4KSA9PiBZQU1MT01hcC5mcm9tKHNjaGVtYSwgaXRlcmFibGUsIGN0eClcbn07XG5cbmV4cG9ydHMuWUFNTE9NYXAgPSBZQU1MT01hcDtcbmV4cG9ydHMub21hcCA9IG9tYXA7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4uLy4uL25vZGVzL1NjYWxhci5qcycpO1xuXG5mdW5jdGlvbiBib29sU3RyaW5naWZ5KHsgdmFsdWUsIHNvdXJjZSB9LCBjdHgpIHtcbiAgICBjb25zdCBib29sT2JqID0gdmFsdWUgPyB0cnVlVGFnIDogZmFsc2VUYWc7XG4gICAgaWYgKHNvdXJjZSAmJiBib29sT2JqLnRlc3QudGVzdChzb3VyY2UpKVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIHJldHVybiB2YWx1ZSA/IGN0eC5vcHRpb25zLnRydWVTdHIgOiBjdHgub3B0aW9ucy5mYWxzZVN0cjtcbn1cbmNvbnN0IHRydWVUYWcgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHZhbHVlID09PSB0cnVlLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsXG4gICAgdGVzdDogL14oPzpZfHl8W1l5XWVzfFlFU3xbVHRdcnVlfFRSVUV8W09vXW58T04pJC8sXG4gICAgcmVzb2x2ZTogKCkgPT4gbmV3IFNjYWxhci5TY2FsYXIodHJ1ZSksXG4gICAgc3RyaW5naWZ5OiBib29sU3RyaW5naWZ5XG59O1xuY29uc3QgZmFsc2VUYWcgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHZhbHVlID09PSBmYWxzZSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmJvb2wnLFxuICAgIHRlc3Q6IC9eKD86TnxufFtObl1vfE5PfFtGZl1hbHNlfEZBTFNFfFtPb11mZnxPRkYpJC8sXG4gICAgcmVzb2x2ZTogKCkgPT4gbmV3IFNjYWxhci5TY2FsYXIoZmFsc2UpLFxuICAgIHN0cmluZ2lmeTogYm9vbFN0cmluZ2lmeVxufTtcblxuZXhwb3J0cy5mYWxzZVRhZyA9IGZhbHNlVGFnO1xuZXhwb3J0cy50cnVlVGFnID0gdHJ1ZVRhZztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgc3RyaW5naWZ5TnVtYmVyID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5naWZ5L3N0cmluZ2lmeU51bWJlci5qcycpO1xuXG5jb25zdCBmbG9hdE5hTiA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0JyxcbiAgICB0ZXN0OiAvXig/OlstK10/XFwuKD86aW5mfEluZnxJTkYpfFxcLm5hbnxcXC5OYU58XFwuTkFOKSQvLFxuICAgIHJlc29sdmU6IChzdHIpID0+IHN0ci5zbGljZSgtMykudG9Mb3dlckNhc2UoKSA9PT0gJ25hbidcbiAgICAgICAgPyBOYU5cbiAgICAgICAgOiBzdHJbMF0gPT09ICctJ1xuICAgICAgICAgICAgPyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFlcbiAgICAgICAgICAgIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5TnVtYmVyLnN0cmluZ2lmeU51bWJlclxufTtcbmNvbnN0IGZsb2F0RXhwID0ge1xuICAgIGlkZW50aWZ5OiB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnLFxuICAgIGZvcm1hdDogJ0VYUCcsXG4gICAgdGVzdDogL15bLStdPyg/OlswLTldWzAtOV9dKik/KD86XFwuWzAtOV9dKik/W2VFXVstK10/WzAtOV0rJC8sXG4gICAgcmVzb2x2ZTogKHN0cikgPT4gcGFyc2VGbG9hdChzdHIucmVwbGFjZSgvXy9nLCAnJykpLFxuICAgIHN0cmluZ2lmeShub2RlKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IE51bWJlcihub2RlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGlzRmluaXRlKG51bSkgPyBudW0udG9FeHBvbmVudGlhbCgpIDogc3RyaW5naWZ5TnVtYmVyLnN0cmluZ2lmeU51bWJlcihub2RlKTtcbiAgICB9XG59O1xuY29uc3QgZmxvYXQgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicsXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCcsXG4gICAgdGVzdDogL15bLStdPyg/OlswLTldWzAtOV9dKik/XFwuWzAtOV9dKiQvLFxuICAgIHJlc29sdmUoc3RyKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgU2NhbGFyLlNjYWxhcihwYXJzZUZsb2F0KHN0ci5yZXBsYWNlKC9fL2csICcnKSkpO1xuICAgICAgICBjb25zdCBkb3QgPSBzdHIuaW5kZXhPZignLicpO1xuICAgICAgICBpZiAoZG90ICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZiA9IHN0ci5zdWJzdHJpbmcoZG90ICsgMSkucmVwbGFjZSgvXy9nLCAnJyk7XG4gICAgICAgICAgICBpZiAoZltmLmxlbmd0aCAtIDFdID09PSAnMCcpXG4gICAgICAgICAgICAgICAgbm9kZS5taW5GcmFjdGlvbkRpZ2l0cyA9IGYubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlOdW1iZXIuc3RyaW5naWZ5TnVtYmVyXG59O1xuXG5leHBvcnRzLmZsb2F0ID0gZmxvYXQ7XG5leHBvcnRzLmZsb2F0RXhwID0gZmxvYXRFeHA7XG5leHBvcnRzLmZsb2F0TmFOID0gZmxvYXROYU47XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeU51bWJlciA9IHJlcXVpcmUoJy4uLy4uL3N0cmluZ2lmeS9zdHJpbmdpZnlOdW1iZXIuanMnKTtcblxuY29uc3QgaW50SWRlbnRpZnkgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcgfHwgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG5mdW5jdGlvbiBpbnRSZXNvbHZlKHN0ciwgb2Zmc2V0LCByYWRpeCwgeyBpbnRBc0JpZ0ludCB9KSB7XG4gICAgY29uc3Qgc2lnbiA9IHN0clswXTtcbiAgICBpZiAoc2lnbiA9PT0gJy0nIHx8IHNpZ24gPT09ICcrJylcbiAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgc3RyID0gc3RyLnN1YnN0cmluZyhvZmZzZXQpLnJlcGxhY2UoL18vZywgJycpO1xuICAgIGlmIChpbnRBc0JpZ0ludCkge1xuICAgICAgICBzd2l0Y2ggKHJhZGl4KSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc3RyID0gYDBiJHtzdHJ9YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBzdHIgPSBgMG8ke3N0cn1gO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICBzdHIgPSBgMHgke3N0cn1gO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSBCaWdJbnQoc3RyKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gPT09ICctJyA/IEJpZ0ludCgtMSkgKiBuIDogbjtcbiAgICB9XG4gICAgY29uc3QgbiA9IHBhcnNlSW50KHN0ciwgcmFkaXgpO1xuICAgIHJldHVybiBzaWduID09PSAnLScgPyAtMSAqIG4gOiBuO1xufVxuZnVuY3Rpb24gaW50U3RyaW5naWZ5KG5vZGUsIHJhZGl4LCBwcmVmaXgpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBub2RlO1xuICAgIGlmIChpbnRJZGVudGlmeSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3Qgc3RyID0gdmFsdWUudG9TdHJpbmcocmFkaXgpO1xuICAgICAgICByZXR1cm4gdmFsdWUgPCAwID8gJy0nICsgcHJlZml4ICsgc3RyLnN1YnN0cigxKSA6IHByZWZpeCArIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ2lmeU51bWJlci5zdHJpbmdpZnlOdW1iZXIobm9kZSk7XG59XG5jb25zdCBpbnRCaW4gPSB7XG4gICAgaWRlbnRpZnk6IGludElkZW50aWZ5LFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6aW50JyxcbiAgICBmb3JtYXQ6ICdCSU4nLFxuICAgIHRlc3Q6IC9eWy0rXT8wYlswLTFfXSskLyxcbiAgICByZXNvbHZlOiAoc3RyLCBfb25FcnJvciwgb3B0KSA9PiBpbnRSZXNvbHZlKHN0ciwgMiwgMiwgb3B0KSxcbiAgICBzdHJpbmdpZnk6IG5vZGUgPT4gaW50U3RyaW5naWZ5KG5vZGUsIDIsICcwYicpXG59O1xuY29uc3QgaW50T2N0ID0ge1xuICAgIGlkZW50aWZ5OiBpbnRJZGVudGlmeSxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmludCcsXG4gICAgZm9ybWF0OiAnT0NUJyxcbiAgICB0ZXN0OiAvXlstK10/MFswLTdfXSskLyxcbiAgICByZXNvbHZlOiAoc3RyLCBfb25FcnJvciwgb3B0KSA9PiBpbnRSZXNvbHZlKHN0ciwgMSwgOCwgb3B0KSxcbiAgICBzdHJpbmdpZnk6IG5vZGUgPT4gaW50U3RyaW5naWZ5KG5vZGUsIDgsICcwJylcbn07XG5jb25zdCBpbnQgPSB7XG4gICAgaWRlbnRpZnk6IGludElkZW50aWZ5LFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6aW50JyxcbiAgICB0ZXN0OiAvXlstK10/WzAtOV1bMC05X10qJC8sXG4gICAgcmVzb2x2ZTogKHN0ciwgX29uRXJyb3IsIG9wdCkgPT4gaW50UmVzb2x2ZShzdHIsIDAsIDEwLCBvcHQpLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5TnVtYmVyLnN0cmluZ2lmeU51bWJlclxufTtcbmNvbnN0IGludEhleCA9IHtcbiAgICBpZGVudGlmeTogaW50SWRlbnRpZnksXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjppbnQnLFxuICAgIGZvcm1hdDogJ0hFWCcsXG4gICAgdGVzdDogL15bLStdPzB4WzAtOWEtZkEtRl9dKyQvLFxuICAgIHJlc29sdmU6IChzdHIsIF9vbkVycm9yLCBvcHQpID0+IGludFJlc29sdmUoc3RyLCAyLCAxNiwgb3B0KSxcbiAgICBzdHJpbmdpZnk6IG5vZGUgPT4gaW50U3RyaW5naWZ5KG5vZGUsIDE2LCAnMHgnKVxufTtcblxuZXhwb3J0cy5pbnQgPSBpbnQ7XG5leHBvcnRzLmludEJpbiA9IGludEJpbjtcbmV4cG9ydHMuaW50SGV4ID0gaW50SGV4O1xuZXhwb3J0cy5pbnRPY3QgPSBpbnRPY3Q7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciBQYWlyID0gcmVxdWlyZSgnLi4vLi4vbm9kZXMvUGFpci5qcycpO1xudmFyIFlBTUxNYXAgPSByZXF1aXJlKCcuLi8uLi9ub2Rlcy9ZQU1MTWFwLmpzJyk7XG5cbmNsYXNzIFlBTUxTZXQgZXh0ZW5kcyBZQU1MTWFwLllBTUxNYXAge1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuICAgICAgICBzdXBlcihzY2hlbWEpO1xuICAgICAgICB0aGlzLnRhZyA9IFlBTUxTZXQudGFnO1xuICAgIH1cbiAgICBhZGQoa2V5KSB7XG4gICAgICAgIGxldCBwYWlyO1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNQYWlyKGtleSkpXG4gICAgICAgICAgICBwYWlyID0ga2V5O1xuICAgICAgICBlbHNlIGlmIChrZXkgJiZcbiAgICAgICAgICAgIHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAna2V5JyBpbiBrZXkgJiZcbiAgICAgICAgICAgICd2YWx1ZScgaW4ga2V5ICYmXG4gICAgICAgICAgICBrZXkudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICBwYWlyID0gbmV3IFBhaXIuUGFpcihrZXkua2V5LCBudWxsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcGFpciA9IG5ldyBQYWlyLlBhaXIoa2V5LCBudWxsKTtcbiAgICAgICAgY29uc3QgcHJldiA9IFlBTUxNYXAuZmluZFBhaXIodGhpcy5pdGVtcywgcGFpci5rZXkpO1xuICAgICAgICBpZiAoIXByZXYpXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gocGFpcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGBrZWVwUGFpcmAgaXMgYHRydWVgLCByZXR1cm5zIHRoZSBQYWlyIG1hdGNoaW5nIGBrZXlgLlxuICAgICAqIE90aGVyd2lzZSwgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhhdCBQYWlyJ3Mga2V5LlxuICAgICAqL1xuICAgIGdldChrZXksIGtlZXBQYWlyKSB7XG4gICAgICAgIGNvbnN0IHBhaXIgPSBZQU1MTWFwLmZpbmRQYWlyKHRoaXMuaXRlbXMsIGtleSk7XG4gICAgICAgIHJldHVybiAha2VlcFBhaXIgJiYgaWRlbnRpdHkuaXNQYWlyKHBhaXIpXG4gICAgICAgICAgICA/IGlkZW50aXR5LmlzU2NhbGFyKHBhaXIua2V5KVxuICAgICAgICAgICAgICAgID8gcGFpci5rZXkudmFsdWVcbiAgICAgICAgICAgICAgICA6IHBhaXIua2V5XG4gICAgICAgICAgICA6IHBhaXI7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYm9vbGVhbiB2YWx1ZSBmb3Igc2V0KGtleSwgdmFsdWUpIGluIGEgWUFNTCBzZXQsIG5vdCAke3R5cGVvZiB2YWx1ZX1gKTtcbiAgICAgICAgY29uc3QgcHJldiA9IFlBTUxNYXAuZmluZFBhaXIodGhpcy5pdGVtcywga2V5KTtcbiAgICAgICAgaWYgKHByZXYgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZSh0aGlzLml0ZW1zLmluZGV4T2YocHJldiksIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFwcmV2ICYmIHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gobmV3IFBhaXIuUGFpcihrZXkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oXywgY3R4KSB7XG4gICAgICAgIHJldHVybiBzdXBlci50b0pTT04oXywgY3R4LCBTZXQpO1xuICAgIH1cbiAgICB0b1N0cmluZyhjdHgsIG9uQ29tbWVudCwgb25DaG9tcEtlZXApIHtcbiAgICAgICAgaWYgKCFjdHgpXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmhhc0FsbE51bGxWYWx1ZXModHJ1ZSkpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudG9TdHJpbmcoT2JqZWN0LmFzc2lnbih7fSwgY3R4LCB7IGFsbE51bGxWYWx1ZXM6IHRydWUgfSksIG9uQ29tbWVudCwgb25DaG9tcEtlZXApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldCBpdGVtcyBtdXN0IGFsbCBoYXZlIG51bGwgdmFsdWVzJyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHNjaGVtYSwgaXRlcmFibGUsIGN0eCkge1xuICAgICAgICBjb25zdCB7IHJlcGxhY2VyIH0gPSBjdHg7XG4gICAgICAgIGNvbnN0IHNldCA9IG5ldyB0aGlzKHNjaGVtYSk7XG4gICAgICAgIGlmIChpdGVyYWJsZSAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXJhYmxlKSlcbiAgICAgICAgICAgIGZvciAobGV0IHZhbHVlIG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXBsYWNlci5jYWxsKGl0ZXJhYmxlLCB2YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHNldC5pdGVtcy5wdXNoKFBhaXIuY3JlYXRlUGFpcih2YWx1ZSwgbnVsbCwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxufVxuWUFNTFNldC50YWcgPSAndGFnOnlhbWwub3JnLDIwMDI6c2V0JztcbmNvbnN0IHNldCA9IHtcbiAgICBjb2xsZWN0aW9uOiAnbWFwJyxcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdmFsdWUgaW5zdGFuY2VvZiBTZXQsXG4gICAgbm9kZUNsYXNzOiBZQU1MU2V0LFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOnNldCcsXG4gICAgY3JlYXRlTm9kZTogKHNjaGVtYSwgaXRlcmFibGUsIGN0eCkgPT4gWUFNTFNldC5mcm9tKHNjaGVtYSwgaXRlcmFibGUsIGN0eCksXG4gICAgcmVzb2x2ZShtYXAsIG9uRXJyb3IpIHtcbiAgICAgICAgaWYgKGlkZW50aXR5LmlzTWFwKG1hcCkpIHtcbiAgICAgICAgICAgIGlmIChtYXAuaGFzQWxsTnVsbFZhbHVlcyh0cnVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgWUFNTFNldCgpLCBtYXApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9uRXJyb3IoJ1NldCBpdGVtcyBtdXN0IGFsbCBoYXZlIG51bGwgdmFsdWVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgb25FcnJvcignRXhwZWN0ZWQgYSBtYXBwaW5nIGZvciB0aGlzIHRhZycpO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuWUFNTFNldCA9IFlBTUxTZXQ7XG5leHBvcnRzLnNldCA9IHNldDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5TnVtYmVyID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5naWZ5L3N0cmluZ2lmeU51bWJlci5qcycpO1xuXG4vKiogSW50ZXJuYWwgdHlwZXMgaGFuZGxlIGJpZ2ludCBhcyBudW1iZXIsIGJlY2F1c2UgVFMgY2FuJ3QgZmlndXJlIGl0IG91dC4gKi9cbmZ1bmN0aW9uIHBhcnNlU2V4YWdlc2ltYWwoc3RyLCBhc0JpZ0ludCkge1xuICAgIGNvbnN0IHNpZ24gPSBzdHJbMF07XG4gICAgY29uc3QgcGFydHMgPSBzaWduID09PSAnLScgfHwgc2lnbiA9PT0gJysnID8gc3RyLnN1YnN0cmluZygxKSA6IHN0cjtcbiAgICBjb25zdCBudW0gPSAobikgPT4gYXNCaWdJbnQgPyBCaWdJbnQobikgOiBOdW1iZXIobik7XG4gICAgY29uc3QgcmVzID0gcGFydHNcbiAgICAgICAgLnJlcGxhY2UoL18vZywgJycpXG4gICAgICAgIC5zcGxpdCgnOicpXG4gICAgICAgIC5yZWR1Y2UoKHJlcywgcCkgPT4gcmVzICogbnVtKDYwKSArIG51bShwKSwgbnVtKDApKTtcbiAgICByZXR1cm4gKHNpZ24gPT09ICctJyA/IG51bSgtMSkgKiByZXMgOiByZXMpO1xufVxuLyoqXG4gKiBoaGhoOm1tOnNzLnNzc1xuICpcbiAqIEludGVybmFsIHR5cGVzIGhhbmRsZSBiaWdpbnQgYXMgbnVtYmVyLCBiZWNhdXNlIFRTIGNhbid0IGZpZ3VyZSBpdCBvdXQuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVNleGFnZXNpbWFsKG5vZGUpIHtcbiAgICBsZXQgeyB2YWx1ZSB9ID0gbm9kZTtcbiAgICBsZXQgbnVtID0gKG4pID0+IG47XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIG51bSA9IG4gPT4gQmlnSW50KG4pO1xuICAgIGVsc2UgaWYgKGlzTmFOKHZhbHVlKSB8fCAhaXNGaW5pdGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gc3RyaW5naWZ5TnVtYmVyLnN0cmluZ2lmeU51bWJlcihub2RlKTtcbiAgICBsZXQgc2lnbiA9ICcnO1xuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgdmFsdWUgKj0gbnVtKC0xKTtcbiAgICB9XG4gICAgY29uc3QgXzYwID0gbnVtKDYwKTtcbiAgICBjb25zdCBwYXJ0cyA9IFt2YWx1ZSAlIF82MF07IC8vIHNlY29uZHMsIGluY2x1ZGluZyBtc1xuICAgIGlmICh2YWx1ZSA8IDYwKSB7XG4gICAgICAgIHBhcnRzLnVuc2hpZnQoMCk7IC8vIGF0IGxlYXN0IG9uZSA6IGlzIHJlcXVpcmVkXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSAtIHBhcnRzWzBdKSAvIF82MDtcbiAgICAgICAgcGFydHMudW5zaGlmdCh2YWx1ZSAlIF82MCk7IC8vIG1pbnV0ZXNcbiAgICAgICAgaWYgKHZhbHVlID49IDYwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICh2YWx1ZSAtIHBhcnRzWzBdKSAvIF82MDtcbiAgICAgICAgICAgIHBhcnRzLnVuc2hpZnQodmFsdWUpOyAvLyBob3Vyc1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoc2lnbiArXG4gICAgICAgIHBhcnRzXG4gICAgICAgICAgICAubWFwKG4gPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KDIsICcwJykpXG4gICAgICAgICAgICAuam9pbignOicpXG4gICAgICAgICAgICAucmVwbGFjZSgvMDAwMDAwXFxkKiQvLCAnJykgLy8gJSA2MCBtYXkgaW50cm9kdWNlIGVycm9yXG4gICAgKTtcbn1cbmNvbnN0IGludFRpbWUgPSB7XG4gICAgaWRlbnRpZnk6IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcgfHwgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSksXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB0YWc6ICd0YWc6eWFtbC5vcmcsMjAwMjppbnQnLFxuICAgIGZvcm1hdDogJ1RJTUUnLFxuICAgIHRlc3Q6IC9eWy0rXT9bMC05XVswLTlfXSooPzo6WzAtNV0/WzAtOV0pKyQvLFxuICAgIHJlc29sdmU6IChzdHIsIF9vbkVycm9yLCB7IGludEFzQmlnSW50IH0pID0+IHBhcnNlU2V4YWdlc2ltYWwoc3RyLCBpbnRBc0JpZ0ludCksXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlTZXhhZ2VzaW1hbFxufTtcbmNvbnN0IGZsb2F0VGltZSA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyxcbiAgICBkZWZhdWx0OiB0cnVlLFxuICAgIHRhZzogJ3RhZzp5YW1sLm9yZywyMDAyOmZsb2F0JyxcbiAgICBmb3JtYXQ6ICdUSU1FJyxcbiAgICB0ZXN0OiAvXlstK10/WzAtOV1bMC05X10qKD86OlswLTVdP1swLTldKStcXC5bMC05X10qJC8sXG4gICAgcmVzb2x2ZTogc3RyID0+IHBhcnNlU2V4YWdlc2ltYWwoc3RyLCBmYWxzZSksXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlTZXhhZ2VzaW1hbFxufTtcbmNvbnN0IHRpbWVzdGFtcCA9IHtcbiAgICBpZGVudGlmeTogdmFsdWUgPT4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgdGFnOiAndGFnOnlhbWwub3JnLDIwMDI6dGltZXN0YW1wJyxcbiAgICAvLyBJZiB0aGUgdGltZSB6b25lIGlzIG9taXR0ZWQsIHRoZSB0aW1lc3RhbXAgaXMgYXNzdW1lZCB0byBiZSBzcGVjaWZpZWQgaW4gVVRDLiBUaGUgdGltZSBwYXJ0XG4gICAgLy8gbWF5IGJlIG9taXR0ZWQgYWx0b2dldGhlciwgcmVzdWx0aW5nIGluIGEgZGF0ZSBmb3JtYXQuIEluIHN1Y2ggYSBjYXNlLCB0aGUgdGltZSBwYXJ0IGlzXG4gICAgLy8gYXNzdW1lZCB0byBiZSAwMDowMDowMFogKHN0YXJ0IG9mIGRheSwgVVRDKS5cbiAgICB0ZXN0OiBSZWdFeHAoJ14oWzAtOV17NH0pLShbMC05XXsxLDJ9KS0oWzAtOV17MSwyfSknICsgLy8gWVlZWS1NbS1EZFxuICAgICAgICAnKD86JyArIC8vIHRpbWUgaXMgb3B0aW9uYWxcbiAgICAgICAgJyg/OnR8VHxbIFxcXFx0XSspJyArIC8vIHQgfCBUIHwgd2hpdGVzcGFjZVxuICAgICAgICAnKFswLTldezEsMn0pOihbMC05XXsxLDJ9KTooWzAtOV17MSwyfShcXFxcLlswLTldKyk/KScgKyAvLyBIaDpNbTpTcyguc3MpP1xuICAgICAgICAnKD86WyBcXFxcdF0qKFp8Wy0rXVswMTJdP1swLTldKD86OlswLTldezJ9KT8pKT8nICsgLy8gWiB8ICs1IHwgLTAzOjMwXG4gICAgICAgICcpPyQnKSxcbiAgICByZXNvbHZlKHN0cikge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaCh0aW1lc3RhbXAudGVzdCk7XG4gICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJyEhdGltZXN0YW1wIGV4cGVjdHMgYSBkYXRlLCBzdGFydGluZyB3aXRoIHl5eXktbW0tZGQnKTtcbiAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmRdID0gbWF0Y2gubWFwKE51bWJlcik7XG4gICAgICAgIGNvbnN0IG1pbGxpc2VjID0gbWF0Y2hbN10gPyBOdW1iZXIoKG1hdGNoWzddICsgJzAwJykuc3Vic3RyKDEsIDMpKSA6IDA7XG4gICAgICAgIGxldCBkYXRlID0gRGF0ZS5VVEMoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIgfHwgMCwgbWludXRlIHx8IDAsIHNlY29uZCB8fCAwLCBtaWxsaXNlYyk7XG4gICAgICAgIGNvbnN0IHR6ID0gbWF0Y2hbOF07XG4gICAgICAgIGlmICh0eiAmJiB0eiAhPT0gJ1onKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHBhcnNlU2V4YWdlc2ltYWwodHosIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkKSA8IDMwKVxuICAgICAgICAgICAgICAgIGQgKj0gNjA7XG4gICAgICAgICAgICBkYXRlIC09IDYwMDAwICogZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XG4gICAgfSxcbiAgICBzdHJpbmdpZnk6ICh7IHZhbHVlIH0pID0+IHZhbHVlPy50b0lTT1N0cmluZygpLnJlcGxhY2UoLyhUMDA6MDA6MDApP1xcLjAwMFokLywgJycpID8/ICcnXG59O1xuXG5leHBvcnRzLmZsb2F0VGltZSA9IGZsb2F0VGltZTtcbmV4cG9ydHMuaW50VGltZSA9IGludFRpbWU7XG5leHBvcnRzLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFwID0gcmVxdWlyZSgnLi4vY29tbW9uL21hcC5qcycpO1xudmFyIF9udWxsID0gcmVxdWlyZSgnLi4vY29tbW9uL251bGwuanMnKTtcbnZhciBzZXEgPSByZXF1aXJlKCcuLi9jb21tb24vc2VxLmpzJyk7XG52YXIgc3RyaW5nID0gcmVxdWlyZSgnLi4vY29tbW9uL3N0cmluZy5qcycpO1xudmFyIGJpbmFyeSA9IHJlcXVpcmUoJy4vYmluYXJ5LmpzJyk7XG52YXIgYm9vbCA9IHJlcXVpcmUoJy4vYm9vbC5qcycpO1xudmFyIGZsb2F0ID0gcmVxdWlyZSgnLi9mbG9hdC5qcycpO1xudmFyIGludCA9IHJlcXVpcmUoJy4vaW50LmpzJyk7XG52YXIgbWVyZ2UgPSByZXF1aXJlKCcuL21lcmdlLmpzJyk7XG52YXIgb21hcCA9IHJlcXVpcmUoJy4vb21hcC5qcycpO1xudmFyIHBhaXJzID0gcmVxdWlyZSgnLi9wYWlycy5qcycpO1xudmFyIHNldCA9IHJlcXVpcmUoJy4vc2V0LmpzJyk7XG52YXIgdGltZXN0YW1wID0gcmVxdWlyZSgnLi90aW1lc3RhbXAuanMnKTtcblxuY29uc3Qgc2NoZW1hID0gW1xuICAgIG1hcC5tYXAsXG4gICAgc2VxLnNlcSxcbiAgICBzdHJpbmcuc3RyaW5nLFxuICAgIF9udWxsLm51bGxUYWcsXG4gICAgYm9vbC50cnVlVGFnLFxuICAgIGJvb2wuZmFsc2VUYWcsXG4gICAgaW50LmludEJpbixcbiAgICBpbnQuaW50T2N0LFxuICAgIGludC5pbnQsXG4gICAgaW50LmludEhleCxcbiAgICBmbG9hdC5mbG9hdE5hTixcbiAgICBmbG9hdC5mbG9hdEV4cCxcbiAgICBmbG9hdC5mbG9hdCxcbiAgICBiaW5hcnkuYmluYXJ5LFxuICAgIG1lcmdlLm1lcmdlLFxuICAgIG9tYXAub21hcCxcbiAgICBwYWlycy5wYWlycyxcbiAgICBzZXQuc2V0LFxuICAgIHRpbWVzdGFtcC5pbnRUaW1lLFxuICAgIHRpbWVzdGFtcC5mbG9hdFRpbWUsXG4gICAgdGltZXN0YW1wLnRpbWVzdGFtcFxuXTtcblxuZXhwb3J0cy5zY2hlbWEgPSBzY2hlbWE7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIG1hcCA9IHJlcXVpcmUoJy4vY29tbW9uL21hcC5qcycpO1xudmFyIF9udWxsID0gcmVxdWlyZSgnLi9jb21tb24vbnVsbC5qcycpO1xudmFyIHNlcSA9IHJlcXVpcmUoJy4vY29tbW9uL3NlcS5qcycpO1xudmFyIHN0cmluZyA9IHJlcXVpcmUoJy4vY29tbW9uL3N0cmluZy5qcycpO1xudmFyIGJvb2wgPSByZXF1aXJlKCcuL2NvcmUvYm9vbC5qcycpO1xudmFyIGZsb2F0ID0gcmVxdWlyZSgnLi9jb3JlL2Zsb2F0LmpzJyk7XG52YXIgaW50ID0gcmVxdWlyZSgnLi9jb3JlL2ludC5qcycpO1xudmFyIHNjaGVtYSA9IHJlcXVpcmUoJy4vY29yZS9zY2hlbWEuanMnKTtcbnZhciBzY2hlbWEkMSA9IHJlcXVpcmUoJy4vanNvbi9zY2hlbWEuanMnKTtcbnZhciBiaW5hcnkgPSByZXF1aXJlKCcuL3lhbWwtMS4xL2JpbmFyeS5qcycpO1xudmFyIG1lcmdlID0gcmVxdWlyZSgnLi95YW1sLTEuMS9tZXJnZS5qcycpO1xudmFyIG9tYXAgPSByZXF1aXJlKCcuL3lhbWwtMS4xL29tYXAuanMnKTtcbnZhciBwYWlycyA9IHJlcXVpcmUoJy4veWFtbC0xLjEvcGFpcnMuanMnKTtcbnZhciBzY2hlbWEkMiA9IHJlcXVpcmUoJy4veWFtbC0xLjEvc2NoZW1hLmpzJyk7XG52YXIgc2V0ID0gcmVxdWlyZSgnLi95YW1sLTEuMS9zZXQuanMnKTtcbnZhciB0aW1lc3RhbXAgPSByZXF1aXJlKCcuL3lhbWwtMS4xL3RpbWVzdGFtcC5qcycpO1xuXG5jb25zdCBzY2hlbWFzID0gbmV3IE1hcChbXG4gICAgWydjb3JlJywgc2NoZW1hLnNjaGVtYV0sXG4gICAgWydmYWlsc2FmZScsIFttYXAubWFwLCBzZXEuc2VxLCBzdHJpbmcuc3RyaW5nXV0sXG4gICAgWydqc29uJywgc2NoZW1hJDEuc2NoZW1hXSxcbiAgICBbJ3lhbWwxMScsIHNjaGVtYSQyLnNjaGVtYV0sXG4gICAgWyd5YW1sLTEuMScsIHNjaGVtYSQyLnNjaGVtYV1cbl0pO1xuY29uc3QgdGFnc0J5TmFtZSA9IHtcbiAgICBiaW5hcnk6IGJpbmFyeS5iaW5hcnksXG4gICAgYm9vbDogYm9vbC5ib29sVGFnLFxuICAgIGZsb2F0OiBmbG9hdC5mbG9hdCxcbiAgICBmbG9hdEV4cDogZmxvYXQuZmxvYXRFeHAsXG4gICAgZmxvYXROYU46IGZsb2F0LmZsb2F0TmFOLFxuICAgIGZsb2F0VGltZTogdGltZXN0YW1wLmZsb2F0VGltZSxcbiAgICBpbnQ6IGludC5pbnQsXG4gICAgaW50SGV4OiBpbnQuaW50SGV4LFxuICAgIGludE9jdDogaW50LmludE9jdCxcbiAgICBpbnRUaW1lOiB0aW1lc3RhbXAuaW50VGltZSxcbiAgICBtYXA6IG1hcC5tYXAsXG4gICAgbWVyZ2U6IG1lcmdlLm1lcmdlLFxuICAgIG51bGw6IF9udWxsLm51bGxUYWcsXG4gICAgb21hcDogb21hcC5vbWFwLFxuICAgIHBhaXJzOiBwYWlycy5wYWlycyxcbiAgICBzZXE6IHNlcS5zZXEsXG4gICAgc2V0OiBzZXQuc2V0LFxuICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLnRpbWVzdGFtcFxufTtcbmNvbnN0IGNvcmVLbm93blRhZ3MgPSB7XG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOmJpbmFyeSc6IGJpbmFyeS5iaW5hcnksXG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOm1lcmdlJzogbWVyZ2UubWVyZ2UsXG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOm9tYXAnOiBvbWFwLm9tYXAsXG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOnBhaXJzJzogcGFpcnMucGFpcnMsXG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOnNldCc6IHNldC5zZXQsXG4gICAgJ3RhZzp5YW1sLm9yZywyMDAyOnRpbWVzdGFtcCc6IHRpbWVzdGFtcC50aW1lc3RhbXBcbn07XG5mdW5jdGlvbiBnZXRUYWdzKGN1c3RvbVRhZ3MsIHNjaGVtYU5hbWUsIGFkZE1lcmdlVGFnKSB7XG4gICAgY29uc3Qgc2NoZW1hVGFncyA9IHNjaGVtYXMuZ2V0KHNjaGVtYU5hbWUpO1xuICAgIGlmIChzY2hlbWFUYWdzICYmICFjdXN0b21UYWdzKSB7XG4gICAgICAgIHJldHVybiBhZGRNZXJnZVRhZyAmJiAhc2NoZW1hVGFncy5pbmNsdWRlcyhtZXJnZS5tZXJnZSlcbiAgICAgICAgICAgID8gc2NoZW1hVGFncy5jb25jYXQobWVyZ2UubWVyZ2UpXG4gICAgICAgICAgICA6IHNjaGVtYVRhZ3Muc2xpY2UoKTtcbiAgICB9XG4gICAgbGV0IHRhZ3MgPSBzY2hlbWFUYWdzO1xuICAgIGlmICghdGFncykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXN0b21UYWdzKSlcbiAgICAgICAgICAgIHRhZ3MgPSBbXTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gQXJyYXkuZnJvbShzY2hlbWFzLmtleXMoKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICd5YW1sMTEnKVxuICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IEpTT04uc3RyaW5naWZ5KGtleSkpXG4gICAgICAgICAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2NoZW1hIFwiJHtzY2hlbWFOYW1lfVwiOyB1c2Ugb25lIG9mICR7a2V5c30gb3IgZGVmaW5lIGN1c3RvbVRhZ3MgYXJyYXlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjdXN0b21UYWdzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBjdXN0b21UYWdzKVxuICAgICAgICAgICAgdGFncyA9IHRhZ3MuY29uY2F0KHRhZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjdXN0b21UYWdzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRhZ3MgPSBjdXN0b21UYWdzKHRhZ3Muc2xpY2UoKSk7XG4gICAgfVxuICAgIGlmIChhZGRNZXJnZVRhZylcbiAgICAgICAgdGFncyA9IHRhZ3MuY29uY2F0KG1lcmdlLm1lcmdlKTtcbiAgICByZXR1cm4gdGFncy5yZWR1Y2UoKHRhZ3MsIHRhZykgPT4ge1xuICAgICAgICBjb25zdCB0YWdPYmogPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyA/IHRhZ3NCeU5hbWVbdGFnXSA6IHRhZztcbiAgICAgICAgaWYgKCF0YWdPYmopIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBKU09OLnN0cmluZ2lmeSh0YWcpO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRhZ3NCeU5hbWUpXG4gICAgICAgICAgICAgICAgLm1hcChrZXkgPT4gSlNPTi5zdHJpbmdpZnkoa2V5KSlcbiAgICAgICAgICAgICAgICAuam9pbignLCAnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjdXN0b20gdGFnICR7dGFnTmFtZX07IHVzZSBvbmUgb2YgJHtrZXlzfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFncy5pbmNsdWRlcyh0YWdPYmopKVxuICAgICAgICAgICAgdGFncy5wdXNoKHRhZ09iaik7XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH0sIFtdKTtcbn1cblxuZXhwb3J0cy5jb3JlS25vd25UYWdzID0gY29yZUtub3duVGFncztcbmV4cG9ydHMuZ2V0VGFncyA9IGdldFRhZ3M7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciBtYXAgPSByZXF1aXJlKCcuL2NvbW1vbi9tYXAuanMnKTtcbnZhciBzZXEgPSByZXF1aXJlKCcuL2NvbW1vbi9zZXEuanMnKTtcbnZhciBzdHJpbmcgPSByZXF1aXJlKCcuL2NvbW1vbi9zdHJpbmcuanMnKTtcbnZhciB0YWdzID0gcmVxdWlyZSgnLi90YWdzLmpzJyk7XG5cbmNvbnN0IHNvcnRNYXBFbnRyaWVzQnlLZXkgPSAoYSwgYikgPT4gYS5rZXkgPCBiLmtleSA/IC0xIDogYS5rZXkgPiBiLmtleSA/IDEgOiAwO1xuY2xhc3MgU2NoZW1hIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbXBhdCwgY3VzdG9tVGFncywgbWVyZ2UsIHJlc29sdmVLbm93blRhZ3MsIHNjaGVtYSwgc29ydE1hcEVudHJpZXMsIHRvU3RyaW5nRGVmYXVsdHMgfSkge1xuICAgICAgICB0aGlzLmNvbXBhdCA9IEFycmF5LmlzQXJyYXkoY29tcGF0KVxuICAgICAgICAgICAgPyB0YWdzLmdldFRhZ3MoY29tcGF0LCAnY29tcGF0JylcbiAgICAgICAgICAgIDogY29tcGF0XG4gICAgICAgICAgICAgICAgPyB0YWdzLmdldFRhZ3MobnVsbCwgY29tcGF0KVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdGhpcy5uYW1lID0gKHR5cGVvZiBzY2hlbWEgPT09ICdzdHJpbmcnICYmIHNjaGVtYSkgfHwgJ2NvcmUnO1xuICAgICAgICB0aGlzLmtub3duVGFncyA9IHJlc29sdmVLbm93blRhZ3MgPyB0YWdzLmNvcmVLbm93blRhZ3MgOiB7fTtcbiAgICAgICAgdGhpcy50YWdzID0gdGFncy5nZXRUYWdzKGN1c3RvbVRhZ3MsIHRoaXMubmFtZSwgbWVyZ2UpO1xuICAgICAgICB0aGlzLnRvU3RyaW5nT3B0aW9ucyA9IHRvU3RyaW5nRGVmYXVsdHMgPz8gbnVsbDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGlkZW50aXR5Lk1BUCwgeyB2YWx1ZTogbWFwLm1hcCB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGlkZW50aXR5LlNDQUxBUiwgeyB2YWx1ZTogc3RyaW5nLnN0cmluZyB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGlkZW50aXR5LlNFUSwgeyB2YWx1ZTogc2VxLnNlcSB9KTtcbiAgICAgICAgLy8gVXNlZCBieSBjcmVhdGVNYXAoKVxuICAgICAgICB0aGlzLnNvcnRNYXBFbnRyaWVzID1cbiAgICAgICAgICAgIHR5cGVvZiBzb3J0TWFwRW50cmllcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gc29ydE1hcEVudHJpZXNcbiAgICAgICAgICAgICAgICA6IHNvcnRNYXBFbnRyaWVzID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgID8gc29ydE1hcEVudHJpZXNCeUtleVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmNyZWF0ZShTY2hlbWEucHJvdG90eXBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0aGlzKSk7XG4gICAgICAgIGNvcHkudGFncyA9IHRoaXMudGFncy5zbGljZSgpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG59XG5cbmV4cG9ydHMuU2NoZW1hID0gU2NoZW1hO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnkuanMnKTtcbnZhciBzdHJpbmdpZnlDb21tZW50ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnlDb21tZW50LmpzJyk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeURvY3VtZW50KGRvYywgb3B0aW9ucykge1xuICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgbGV0IGhhc0RpcmVjdGl2ZXMgPSBvcHRpb25zLmRpcmVjdGl2ZXMgPT09IHRydWU7XG4gICAgaWYgKG9wdGlvbnMuZGlyZWN0aXZlcyAhPT0gZmFsc2UgJiYgZG9jLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgY29uc3QgZGlyID0gZG9jLmRpcmVjdGl2ZXMudG9TdHJpbmcoZG9jKTtcbiAgICAgICAgaWYgKGRpcikge1xuICAgICAgICAgICAgbGluZXMucHVzaChkaXIpO1xuICAgICAgICAgICAgaGFzRGlyZWN0aXZlcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9jLmRpcmVjdGl2ZXMuZG9jU3RhcnQpXG4gICAgICAgICAgICBoYXNEaXJlY3RpdmVzID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGhhc0RpcmVjdGl2ZXMpXG4gICAgICAgIGxpbmVzLnB1c2goJy0tLScpO1xuICAgIGNvbnN0IGN0eCA9IHN0cmluZ2lmeS5jcmVhdGVTdHJpbmdpZnlDb250ZXh0KGRvYywgb3B0aW9ucyk7XG4gICAgY29uc3QgeyBjb21tZW50U3RyaW5nIH0gPSBjdHgub3B0aW9ucztcbiAgICBpZiAoZG9jLmNvbW1lbnRCZWZvcmUpIHtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgICAgIGxpbmVzLnVuc2hpZnQoJycpO1xuICAgICAgICBjb25zdCBjcyA9IGNvbW1lbnRTdHJpbmcoZG9jLmNvbW1lbnRCZWZvcmUpO1xuICAgICAgICBsaW5lcy51bnNoaWZ0KHN0cmluZ2lmeUNvbW1lbnQuaW5kZW50Q29tbWVudChjcywgJycpKTtcbiAgICB9XG4gICAgbGV0IGNob21wS2VlcCA9IGZhbHNlO1xuICAgIGxldCBjb250ZW50Q29tbWVudCA9IG51bGw7XG4gICAgaWYgKGRvYy5jb250ZW50cykge1xuICAgICAgICBpZiAoaWRlbnRpdHkuaXNOb2RlKGRvYy5jb250ZW50cykpIHtcbiAgICAgICAgICAgIGlmIChkb2MuY29udGVudHMuc3BhY2VCZWZvcmUgJiYgaGFzRGlyZWN0aXZlcylcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgIGlmIChkb2MuY29udGVudHMuY29tbWVudEJlZm9yZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gY29tbWVudFN0cmluZyhkb2MuY29udGVudHMuY29tbWVudEJlZm9yZSk7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChzdHJpbmdpZnlDb21tZW50LmluZGVudENvbW1lbnQoY3MsICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0b3AtbGV2ZWwgYmxvY2sgc2NhbGFycyBuZWVkIHRvIGJlIGluZGVudGVkIGlmIGZvbGxvd2VkIGJ5IGEgY29tbWVudFxuICAgICAgICAgICAgY3R4LmZvcmNlQmxvY2tJbmRlbnQgPSAhIWRvYy5jb21tZW50O1xuICAgICAgICAgICAgY29udGVudENvbW1lbnQgPSBkb2MuY29udGVudHMuY29tbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbkNob21wS2VlcCA9IGNvbnRlbnRDb21tZW50ID8gdW5kZWZpbmVkIDogKCkgPT4gKGNob21wS2VlcCA9IHRydWUpO1xuICAgICAgICBsZXQgYm9keSA9IHN0cmluZ2lmeS5zdHJpbmdpZnkoZG9jLmNvbnRlbnRzLCBjdHgsICgpID0+IChjb250ZW50Q29tbWVudCA9IG51bGwpLCBvbkNob21wS2VlcCk7XG4gICAgICAgIGlmIChjb250ZW50Q29tbWVudClcbiAgICAgICAgICAgIGJvZHkgKz0gc3RyaW5naWZ5Q29tbWVudC5saW5lQ29tbWVudChib2R5LCAnJywgY29tbWVudFN0cmluZyhjb250ZW50Q29tbWVudCkpO1xuICAgICAgICBpZiAoKGJvZHlbMF0gPT09ICd8JyB8fCBib2R5WzBdID09PSAnPicpICYmXG4gICAgICAgICAgICBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXSA9PT0gJy0tLScpIHtcbiAgICAgICAgICAgIC8vIFRvcC1sZXZlbCBibG9jayBzY2FsYXJzIHdpdGggYSBwcmVjZWRpbmcgZG9jIG1hcmtlciBvdWdodCB0byB1c2UgdGhlXG4gICAgICAgICAgICAvLyBzYW1lIGxpbmUgZm9yIHRoZWlyIGhlYWRlci5cbiAgICAgICAgICAgIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdID0gYC0tLSAke2JvZHl9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGJvZHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGluZXMucHVzaChzdHJpbmdpZnkuc3RyaW5naWZ5KGRvYy5jb250ZW50cywgY3R4KSk7XG4gICAgfVxuICAgIGlmIChkb2MuZGlyZWN0aXZlcz8uZG9jRW5kKSB7XG4gICAgICAgIGlmIChkb2MuY29tbWVudCkge1xuICAgICAgICAgICAgY29uc3QgY3MgPSBjb21tZW50U3RyaW5nKGRvYy5jb21tZW50KTtcbiAgICAgICAgICAgIGlmIChjcy5pbmNsdWRlcygnXFxuJykpIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcuLi4nKTtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKHN0cmluZ2lmeUNvbW1lbnQuaW5kZW50Q29tbWVudChjcywgJycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goYC4uLiAke2NzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGluZXMucHVzaCgnLi4uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBkYyA9IGRvYy5jb21tZW50O1xuICAgICAgICBpZiAoZGMgJiYgY2hvbXBLZWVwKVxuICAgICAgICAgICAgZGMgPSBkYy5yZXBsYWNlKC9eXFxuKy8sICcnKTtcbiAgICAgICAgaWYgKGRjKSB7XG4gICAgICAgICAgICBpZiAoKCFjaG9tcEtlZXAgfHwgY29udGVudENvbW1lbnQpICYmIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdICE9PSAnJylcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc3RyaW5naWZ5Q29tbWVudC5pbmRlbnRDb21tZW50KGNvbW1lbnRTdHJpbmcoZGMpLCAnJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKSArICdcXG4nO1xufVxuXG5leHBvcnRzLnN0cmluZ2lmeURvY3VtZW50ID0gc3RyaW5naWZ5RG9jdW1lbnQ7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIEFsaWFzID0gcmVxdWlyZSgnLi4vbm9kZXMvQWxpYXMuanMnKTtcbnZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi4vbm9kZXMvQ29sbGVjdGlvbi5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciBQYWlyID0gcmVxdWlyZSgnLi4vbm9kZXMvUGFpci5qcycpO1xudmFyIHRvSlMgPSByZXF1aXJlKCcuLi9ub2Rlcy90b0pTLmpzJyk7XG52YXIgU2NoZW1hID0gcmVxdWlyZSgnLi4vc2NoZW1hL1NjaGVtYS5qcycpO1xudmFyIHN0cmluZ2lmeURvY3VtZW50ID0gcmVxdWlyZSgnLi4vc3RyaW5naWZ5L3N0cmluZ2lmeURvY3VtZW50LmpzJyk7XG52YXIgYW5jaG9ycyA9IHJlcXVpcmUoJy4vYW5jaG9ycy5qcycpO1xudmFyIGFwcGx5UmV2aXZlciA9IHJlcXVpcmUoJy4vYXBwbHlSZXZpdmVyLmpzJyk7XG52YXIgY3JlYXRlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlTm9kZS5qcycpO1xudmFyIGRpcmVjdGl2ZXMgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMuanMnKTtcblxuY2xhc3MgRG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCByZXBsYWNlciwgb3B0aW9ucykge1xuICAgICAgICAvKiogQSBjb21tZW50IGJlZm9yZSB0aGlzIERvY3VtZW50ICovXG4gICAgICAgIHRoaXMuY29tbWVudEJlZm9yZSA9IG51bGw7XG4gICAgICAgIC8qKiBBIGNvbW1lbnQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhpcyBEb2N1bWVudCAqL1xuICAgICAgICB0aGlzLmNvbW1lbnQgPSBudWxsO1xuICAgICAgICAvKiogRXJyb3JzIGVuY291bnRlcmVkIGR1cmluZyBwYXJzaW5nLiAqL1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICAvKiogV2FybmluZ3MgZW5jb3VudGVyZWQgZHVyaW5nIHBhcnNpbmcuICovXG4gICAgICAgIHRoaXMud2FybmluZ3MgPSBbXTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGlkZW50aXR5Lk5PREVfVFlQRSwgeyB2YWx1ZTogaWRlbnRpdHkuRE9DIH0pO1xuICAgICAgICBsZXQgX3JlcGxhY2VyID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PT0gJ2Z1bmN0aW9uJyB8fCBBcnJheS5pc0FycmF5KHJlcGxhY2VyKSkge1xuICAgICAgICAgICAgX3JlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkICYmIHJlcGxhY2VyKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gcmVwbGFjZXI7XG4gICAgICAgICAgICByZXBsYWNlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHQgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGludEFzQmlnSW50OiBmYWxzZSxcbiAgICAgICAgICAgIGtlZXBTb3VyY2VUb2tlbnM6IGZhbHNlLFxuICAgICAgICAgICAgbG9nTGV2ZWw6ICd3YXJuJyxcbiAgICAgICAgICAgIHByZXR0eUVycm9yczogdHJ1ZSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIHN0cmluZ0tleXM6IGZhbHNlLFxuICAgICAgICAgICAgdW5pcXVlS2V5czogdHJ1ZSxcbiAgICAgICAgICAgIHZlcnNpb246ICcxLjInXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHQ7XG4gICAgICAgIGxldCB7IHZlcnNpb24gfSA9IG9wdDtcbiAgICAgICAgaWYgKG9wdGlvbnM/Ll9kaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGl2ZXMgPSBvcHRpb25zLl9kaXJlY3RpdmVzLmF0RG9jdW1lbnQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGl2ZXMueWFtbC5leHBsaWNpdClcbiAgICAgICAgICAgICAgICB2ZXJzaW9uID0gdGhpcy5kaXJlY3RpdmVzLnlhbWwudmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGl2ZXMgPSBuZXcgZGlyZWN0aXZlcy5EaXJlY3RpdmVzKHsgdmVyc2lvbiB9KTtcbiAgICAgICAgdGhpcy5zZXRTY2hlbWEodmVyc2lvbiwgb3B0aW9ucyk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgV2UgY2FuJ3QgcmVhbGx5IGtub3cgdGhhdCB0aGlzIG1hdGNoZXMgQ29udGVudHMuXG4gICAgICAgIHRoaXMuY29udGVudHMgPVxuICAgICAgICAgICAgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLmNyZWF0ZU5vZGUodmFsdWUsIF9yZXBsYWNlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGRlZXAgY29weSBvZiB0aGlzIERvY3VtZW50IGFuZCBpdHMgY29udGVudHMuXG4gICAgICpcbiAgICAgKiBDdXN0b20gTm9kZSB2YWx1ZXMgdGhhdCBpbmhlcml0IGZyb20gYE9iamVjdGAgc3RpbGwgcmVmZXIgdG8gdGhlaXIgb3JpZ2luYWwgaW5zdGFuY2VzLlxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmNyZWF0ZShEb2N1bWVudC5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIFtpZGVudGl0eS5OT0RFX1RZUEVdOiB7IHZhbHVlOiBpZGVudGl0eS5ET0MgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29weS5jb21tZW50QmVmb3JlID0gdGhpcy5jb21tZW50QmVmb3JlO1xuICAgICAgICBjb3B5LmNvbW1lbnQgPSB0aGlzLmNvbW1lbnQ7XG4gICAgICAgIGNvcHkuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoKTtcbiAgICAgICAgY29weS53YXJuaW5ncyA9IHRoaXMud2FybmluZ3Muc2xpY2UoKTtcbiAgICAgICAgY29weS5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aXZlcylcbiAgICAgICAgICAgIGNvcHkuZGlyZWN0aXZlcyA9IHRoaXMuZGlyZWN0aXZlcy5jbG9uZSgpO1xuICAgICAgICBjb3B5LnNjaGVtYSA9IHRoaXMuc2NoZW1hLmNsb25lKCk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgV2UgY2FuJ3QgcmVhbGx5IGtub3cgdGhhdCB0aGlzIG1hdGNoZXMgQ29udGVudHMuXG4gICAgICAgIGNvcHkuY29udGVudHMgPSBpZGVudGl0eS5pc05vZGUodGhpcy5jb250ZW50cylcbiAgICAgICAgICAgID8gdGhpcy5jb250ZW50cy5jbG9uZShjb3B5LnNjaGVtYSlcbiAgICAgICAgICAgIDogdGhpcy5jb250ZW50cztcbiAgICAgICAgaWYgKHRoaXMucmFuZ2UpXG4gICAgICAgICAgICBjb3B5LnJhbmdlID0gdGhpcy5yYW5nZS5zbGljZSgpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG4gICAgLyoqIEFkZHMgYSB2YWx1ZSB0byB0aGUgZG9jdW1lbnQuICovXG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIGlmIChhc3NlcnRDb2xsZWN0aW9uKHRoaXMuY29udGVudHMpKVxuICAgICAgICAgICAgdGhpcy5jb250ZW50cy5hZGQodmFsdWUpO1xuICAgIH1cbiAgICAvKiogQWRkcyBhIHZhbHVlIHRvIHRoZSBkb2N1bWVudC4gKi9cbiAgICBhZGRJbihwYXRoLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYXNzZXJ0Q29sbGVjdGlvbih0aGlzLmNvbnRlbnRzKSlcbiAgICAgICAgICAgIHRoaXMuY29udGVudHMuYWRkSW4ocGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYEFsaWFzYCBub2RlLCBlbnN1cmluZyB0aGF0IHRoZSB0YXJnZXQgYG5vZGVgIGhhcyB0aGUgcmVxdWlyZWQgYW5jaG9yLlxuICAgICAqXG4gICAgICogSWYgYG5vZGVgIGFscmVhZHkgaGFzIGFuIGFuY2hvciwgYG5hbWVgIGlzIGlnbm9yZWQuXG4gICAgICogT3RoZXJ3aXNlLCB0aGUgYG5vZGUuYW5jaG9yYCB2YWx1ZSB3aWxsIGJlIHNldCB0byBgbmFtZWAsXG4gICAgICogb3IgaWYgYW4gYW5jaG9yIHdpdGggdGhhdCBuYW1lIGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgZG9jdW1lbnQsXG4gICAgICogYG5hbWVgIHdpbGwgYmUgdXNlZCBhcyBhIHByZWZpeCBmb3IgYSBuZXcgdW5pcXVlIGFuY2hvci5cbiAgICAgKiBJZiBgbmFtZWAgaXMgdW5kZWZpbmVkLCB0aGUgZ2VuZXJhdGVkIGFuY2hvciB3aWxsIHVzZSAnYScgYXMgYSBwcmVmaXguXG4gICAgICovXG4gICAgY3JlYXRlQWxpYXMobm9kZSwgbmFtZSkge1xuICAgICAgICBpZiAoIW5vZGUuYW5jaG9yKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gYW5jaG9ycy5hbmNob3JOYW1lcyh0aGlzKTtcbiAgICAgICAgICAgIG5vZGUuYW5jaG9yID1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1udWxsaXNoLWNvYWxlc2NpbmdcbiAgICAgICAgICAgICAgICAhbmFtZSB8fCBwcmV2LmhhcyhuYW1lKSA/IGFuY2hvcnMuZmluZE5ld0FuY2hvcihuYW1lIHx8ICdhJywgcHJldikgOiBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQWxpYXMuQWxpYXMobm9kZS5hbmNob3IpO1xuICAgIH1cbiAgICBjcmVhdGVOb2RlKHZhbHVlLCByZXBsYWNlciwgb3B0aW9ucykge1xuICAgICAgICBsZXQgX3JlcGxhY2VyID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIHJlcGxhY2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHJlcGxhY2VyLmNhbGwoeyAnJzogdmFsdWUgfSwgJycsIHZhbHVlKTtcbiAgICAgICAgICAgIF9yZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZXIpKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlUb1N0ciA9ICh2KSA9PiB0eXBlb2YgdiA9PT0gJ251bWJlcicgfHwgdiBpbnN0YW5jZW9mIFN0cmluZyB8fCB2IGluc3RhbmNlb2YgTnVtYmVyO1xuICAgICAgICAgICAgY29uc3QgYXNTdHIgPSByZXBsYWNlci5maWx0ZXIoa2V5VG9TdHIpLm1hcChTdHJpbmcpO1xuICAgICAgICAgICAgaWYgKGFzU3RyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgcmVwbGFjZXIgPSByZXBsYWNlci5jb25jYXQoYXNTdHIpO1xuICAgICAgICAgICAgX3JlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkICYmIHJlcGxhY2VyKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gcmVwbGFjZXI7XG4gICAgICAgICAgICByZXBsYWNlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGFsaWFzRHVwbGljYXRlT2JqZWN0cywgYW5jaG9yUHJlZml4LCBmbG93LCBrZWVwVW5kZWZpbmVkLCBvblRhZ09iaiwgdGFnIH0gPSBvcHRpb25zID8/IHt9O1xuICAgICAgICBjb25zdCB7IG9uQW5jaG9yLCBzZXRBbmNob3JzLCBzb3VyY2VPYmplY3RzIH0gPSBhbmNob3JzLmNyZWF0ZU5vZGVBbmNob3JzKHRoaXMsIFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1udWxsaXNoLWNvYWxlc2NpbmdcbiAgICAgICAgYW5jaG9yUHJlZml4IHx8ICdhJyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGFsaWFzRHVwbGljYXRlT2JqZWN0czogYWxpYXNEdXBsaWNhdGVPYmplY3RzID8/IHRydWUsXG4gICAgICAgICAgICBrZWVwVW5kZWZpbmVkOiBrZWVwVW5kZWZpbmVkID8/IGZhbHNlLFxuICAgICAgICAgICAgb25BbmNob3IsXG4gICAgICAgICAgICBvblRhZ09iaixcbiAgICAgICAgICAgIHJlcGxhY2VyOiBfcmVwbGFjZXIsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgc291cmNlT2JqZWN0c1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBub2RlID0gY3JlYXRlTm9kZS5jcmVhdGVOb2RlKHZhbHVlLCB0YWcsIGN0eCk7XG4gICAgICAgIGlmIChmbG93ICYmIGlkZW50aXR5LmlzQ29sbGVjdGlvbihub2RlKSlcbiAgICAgICAgICAgIG5vZGUuZmxvdyA9IHRydWU7XG4gICAgICAgIHNldEFuY2hvcnMoKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBrZXkgYW5kIGEgdmFsdWUgaW50byBhIGBQYWlyYCB1c2luZyB0aGUgY3VycmVudCBzY2hlbWEsXG4gICAgICogcmVjdXJzaXZlbHkgd3JhcHBpbmcgYWxsIHZhbHVlcyBhcyBgU2NhbGFyYCBvciBgQ29sbGVjdGlvbmAgbm9kZXMuXG4gICAgICovXG4gICAgY3JlYXRlUGFpcihrZXksIHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgayA9IHRoaXMuY3JlYXRlTm9kZShrZXksIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5jcmVhdGVOb2RlKHZhbHVlLCBudWxsLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYWlyLlBhaXIoaywgdik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGl0ZW0gd2FzIGZvdW5kIGFuZCByZW1vdmVkLlxuICAgICAqL1xuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGFzc2VydENvbGxlY3Rpb24odGhpcy5jb250ZW50cykgPyB0aGlzLmNvbnRlbnRzLmRlbGV0ZShrZXkpIDogZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGl0ZW0gd2FzIGZvdW5kIGFuZCByZW1vdmVkLlxuICAgICAqL1xuICAgIGRlbGV0ZUluKHBhdGgpIHtcbiAgICAgICAgaWYgKENvbGxlY3Rpb24uaXNFbXB0eVBhdGgocGF0aCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRzID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBQcmVzdW1lZCBpbXBvc3NpYmxlIGlmIFN0cmljdCBleHRlbmRzIGZhbHNlXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRzID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NlcnRDb2xsZWN0aW9uKHRoaXMuY29udGVudHMpXG4gICAgICAgICAgICA/IHRoaXMuY29udGVudHMuZGVsZXRlSW4ocGF0aClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaXRlbSBhdCBga2V5YCwgb3IgYHVuZGVmaW5lZGAgaWYgbm90IGZvdW5kLiBCeSBkZWZhdWx0IHVud3JhcHNcbiAgICAgKiBzY2FsYXIgdmFsdWVzIGZyb20gdGhlaXIgc3Vycm91bmRpbmcgbm9kZTsgdG8gZGlzYWJsZSBzZXQgYGtlZXBTY2FsYXJgIHRvXG4gICAgICogYHRydWVgIChjb2xsZWN0aW9ucyBhcmUgYWx3YXlzIHJldHVybmVkIGludGFjdCkuXG4gICAgICovXG4gICAgZ2V0KGtleSwga2VlcFNjYWxhcikge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHkuaXNDb2xsZWN0aW9uKHRoaXMuY29udGVudHMpXG4gICAgICAgICAgICA/IHRoaXMuY29udGVudHMuZ2V0KGtleSwga2VlcFNjYWxhcilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGl0ZW0gYXQgYHBhdGhgLCBvciBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuIEJ5IGRlZmF1bHQgdW53cmFwc1xuICAgICAqIHNjYWxhciB2YWx1ZXMgZnJvbSB0aGVpciBzdXJyb3VuZGluZyBub2RlOyB0byBkaXNhYmxlIHNldCBga2VlcFNjYWxhcmAgdG9cbiAgICAgKiBgdHJ1ZWAgKGNvbGxlY3Rpb25zIGFyZSBhbHdheXMgcmV0dXJuZWQgaW50YWN0KS5cbiAgICAgKi9cbiAgICBnZXRJbihwYXRoLCBrZWVwU2NhbGFyKSB7XG4gICAgICAgIGlmIChDb2xsZWN0aW9uLmlzRW1wdHlQYXRoKHBhdGgpKVxuICAgICAgICAgICAgcmV0dXJuICFrZWVwU2NhbGFyICYmIGlkZW50aXR5LmlzU2NhbGFyKHRoaXMuY29udGVudHMpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNvbnRlbnRzLnZhbHVlXG4gICAgICAgICAgICAgICAgOiB0aGlzLmNvbnRlbnRzO1xuICAgICAgICByZXR1cm4gaWRlbnRpdHkuaXNDb2xsZWN0aW9uKHRoaXMuY29udGVudHMpXG4gICAgICAgICAgICA/IHRoaXMuY29udGVudHMuZ2V0SW4ocGF0aCwga2VlcFNjYWxhcilcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGRvY3VtZW50IGluY2x1ZGVzIGEgdmFsdWUgd2l0aCB0aGUga2V5IGBrZXlgLlxuICAgICAqL1xuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5LmlzQ29sbGVjdGlvbih0aGlzLmNvbnRlbnRzKSA/IHRoaXMuY29udGVudHMuaGFzKGtleSkgOiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBkb2N1bWVudCBpbmNsdWRlcyBhIHZhbHVlIGF0IGBwYXRoYC5cbiAgICAgKi9cbiAgICBoYXNJbihwYXRoKSB7XG4gICAgICAgIGlmIChDb2xsZWN0aW9uLmlzRW1wdHlQYXRoKHBhdGgpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudHMgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5LmlzQ29sbGVjdGlvbih0aGlzLmNvbnRlbnRzKSA/IHRoaXMuY29udGVudHMuaGFzSW4ocGF0aCkgOiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIGluIHRoaXMgZG9jdW1lbnQuIEZvciBgISFzZXRgLCBgdmFsdWVgIG5lZWRzIHRvIGJlIGFcbiAgICAgKiBib29sZWFuIHRvIGFkZC9yZW1vdmUgdGhlIGl0ZW0gZnJvbSB0aGUgc2V0LlxuICAgICAqL1xuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRzID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgV2UgY2FuJ3QgcmVhbGx5IGtub3cgdGhhdCB0aGlzIG1hdGNoZXMgQ29udGVudHMuXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRzID0gQ29sbGVjdGlvbi5jb2xsZWN0aW9uRnJvbVBhdGgodGhpcy5zY2hlbWEsIFtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXNzZXJ0Q29sbGVjdGlvbih0aGlzLmNvbnRlbnRzKSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50cy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIGluIHRoaXMgZG9jdW1lbnQuIEZvciBgISFzZXRgLCBgdmFsdWVgIG5lZWRzIHRvIGJlIGFcbiAgICAgKiBib29sZWFuIHRvIGFkZC9yZW1vdmUgdGhlIGl0ZW0gZnJvbSB0aGUgc2V0LlxuICAgICAqL1xuICAgIHNldEluKHBhdGgsIHZhbHVlKSB7XG4gICAgICAgIGlmIChDb2xsZWN0aW9uLmlzRW1wdHlQYXRoKHBhdGgpKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFdlIGNhbid0IHJlYWxseSBrbm93IHRoYXQgdGhpcyBtYXRjaGVzIENvbnRlbnRzLlxuICAgICAgICAgICAgdGhpcy5jb250ZW50cyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29udGVudHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBXZSBjYW4ndCByZWFsbHkga25vdyB0aGF0IHRoaXMgbWF0Y2hlcyBDb250ZW50cy5cbiAgICAgICAgICAgIHRoaXMuY29udGVudHMgPSBDb2xsZWN0aW9uLmNvbGxlY3Rpb25Gcm9tUGF0aCh0aGlzLnNjaGVtYSwgQXJyYXkuZnJvbShwYXRoKSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzc2VydENvbGxlY3Rpb24odGhpcy5jb250ZW50cykpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudHMuc2V0SW4ocGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgWUFNTCB2ZXJzaW9uIGFuZCBzY2hlbWEgdXNlZCBieSB0aGUgZG9jdW1lbnQuXG4gICAgICogQSBgbnVsbGAgdmVyc2lvbiBkaXNhYmxlcyBzdXBwb3J0IGZvciBkaXJlY3RpdmVzLCBleHBsaWNpdCB0YWdzLCBhbmNob3JzLCBhbmQgYWxpYXNlcy5cbiAgICAgKiBJdCBhbHNvIHJlcXVpcmVzIHRoZSBgc2NoZW1hYCBvcHRpb24gdG8gYmUgZ2l2ZW4gYXMgYSBgU2NoZW1hYCBpbnN0YW5jZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE92ZXJyaWRlcyBhbGwgcHJldmlvdXNseSBzZXQgc2NoZW1hIG9wdGlvbnMuXG4gICAgICovXG4gICAgc2V0U2NoZW1hKHZlcnNpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgdmVyc2lvbiA9IFN0cmluZyh2ZXJzaW9uKTtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlICcxLjEnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGl2ZXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aXZlcy55YW1sLnZlcnNpb24gPSAnMS4xJztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IG5ldyBkaXJlY3RpdmVzLkRpcmVjdGl2ZXMoeyB2ZXJzaW9uOiAnMS4xJyB9KTtcbiAgICAgICAgICAgICAgICBvcHQgPSB7IHJlc29sdmVLbm93blRhZ3M6IGZhbHNlLCBzY2hlbWE6ICd5YW1sLTEuMScgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzEuMic6XG4gICAgICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3RpdmVzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGl2ZXMueWFtbC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IG5ldyBkaXJlY3RpdmVzLkRpcmVjdGl2ZXMoeyB2ZXJzaW9uIH0pO1xuICAgICAgICAgICAgICAgIG9wdCA9IHsgcmVzb2x2ZUtub3duVGFnczogdHJ1ZSwgc2NoZW1hOiAnY29yZScgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXJlY3RpdmVzKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kaXJlY3RpdmVzO1xuICAgICAgICAgICAgICAgIG9wdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3YgPSBKU09OLnN0cmluZ2lmeSh2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICcxLjEnLCAnMS4yJyBvciBudWxsIGFzIGZpcnN0IGFyZ3VtZW50LCBidXQgZm91bmQ6ICR7c3Z9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90IHVzaW5nIGBpbnN0YW5jZW9mIFNjaGVtYWAgdG8gYWxsb3cgZm9yIGR1Y2sgdHlwaW5nXG4gICAgICAgIGlmIChvcHRpb25zLnNjaGVtYSBpbnN0YW5jZW9mIE9iamVjdClcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hID0gb3B0aW9ucy5zY2hlbWE7XG4gICAgICAgIGVsc2UgaWYgKG9wdClcbiAgICAgICAgICAgIHRoaXMuc2NoZW1hID0gbmV3IFNjaGVtYS5TY2hlbWEoT2JqZWN0LmFzc2lnbihvcHQsIG9wdGlvbnMpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXaXRoIGEgbnVsbCBZQU1MIHZlcnNpb24sIHRoZSB7IHNjaGVtYTogU2NoZW1hIH0gb3B0aW9uIGlzIHJlcXVpcmVkYCk7XG4gICAgfVxuICAgIC8vIGpzb24gJiBqc29uQXJnIGFyZSBvbmx5IHVzZWQgZnJvbSB0b0pTT04oKVxuICAgIHRvSlMoeyBqc29uLCBqc29uQXJnLCBtYXBBc01hcCwgbWF4QWxpYXNDb3VudCwgb25BbmNob3IsIHJldml2ZXIgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGFuY2hvcnM6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIGRvYzogdGhpcyxcbiAgICAgICAgICAgIGtlZXA6ICFqc29uLFxuICAgICAgICAgICAgbWFwQXNNYXA6IG1hcEFzTWFwID09PSB0cnVlLFxuICAgICAgICAgICAgbWFwS2V5V2FybmVkOiBmYWxzZSxcbiAgICAgICAgICAgIG1heEFsaWFzQ291bnQ6IHR5cGVvZiBtYXhBbGlhc0NvdW50ID09PSAnbnVtYmVyJyA/IG1heEFsaWFzQ291bnQgOiAxMDBcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzID0gdG9KUy50b0pTKHRoaXMuY29udGVudHMsIGpzb25BcmcgPz8gJycsIGN0eCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BbmNob3IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgY291bnQsIHJlcyB9IG9mIGN0eC5hbmNob3JzLnZhbHVlcygpKVxuICAgICAgICAgICAgICAgIG9uQW5jaG9yKHJlcywgY291bnQpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gYXBwbHlSZXZpdmVyLmFwcGx5UmV2aXZlcihyZXZpdmVyLCB7ICcnOiByZXMgfSwgJycsIHJlcylcbiAgICAgICAgICAgIDogcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGRvY3VtZW50IGBjb250ZW50c2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNvbkFyZyBVc2VkIGJ5IGBKU09OLnN0cmluZ2lmeWAgdG8gaW5kaWNhdGUgdGhlIGFycmF5IGluZGV4IG9yXG4gICAgICogICBwcm9wZXJ0eSBuYW1lLlxuICAgICAqL1xuICAgIHRvSlNPTihqc29uQXJnLCBvbkFuY2hvcikge1xuICAgICAgICByZXR1cm4gdGhpcy50b0pTKHsganNvbjogdHJ1ZSwganNvbkFyZywgbWFwQXNNYXA6IGZhbHNlLCBvbkFuY2hvciB9KTtcbiAgICB9XG4gICAgLyoqIEEgWUFNTCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZG9jdW1lbnQuICovXG4gICAgdG9TdHJpbmcob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEb2N1bWVudCB3aXRoIGVycm9ycyBjYW5ub3QgYmUgc3RyaW5naWZpZWQnKTtcbiAgICAgICAgaWYgKCdpbmRlbnQnIGluIG9wdGlvbnMgJiZcbiAgICAgICAgICAgICghTnVtYmVyLmlzSW50ZWdlcihvcHRpb25zLmluZGVudCkgfHwgTnVtYmVyKG9wdGlvbnMuaW5kZW50KSA8PSAwKSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuaW5kZW50KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJpbmRlbnRcIiBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIsIG5vdCAke3N9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeURvY3VtZW50LnN0cmluZ2lmeURvY3VtZW50KHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydENvbGxlY3Rpb24oY29udGVudHMpIHtcbiAgICBpZiAoaWRlbnRpdHkuaXNDb2xsZWN0aW9uKGNvbnRlbnRzKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIFlBTUwgY29sbGVjdGlvbiBhcyBkb2N1bWVudCBjb250ZW50cycpO1xufVxuXG5leHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgWUFNTEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHBvcywgY29kZSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICB9XG59XG5jbGFzcyBZQU1MUGFyc2VFcnJvciBleHRlbmRzIFlBTUxFcnJvciB7XG4gICAgY29uc3RydWN0b3IocG9zLCBjb2RlLCBtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKCdZQU1MUGFyc2VFcnJvcicsIHBvcywgY29kZSwgbWVzc2FnZSk7XG4gICAgfVxufVxuY2xhc3MgWUFNTFdhcm5pbmcgZXh0ZW5kcyBZQU1MRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBvcywgY29kZSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcignWUFNTFdhcm5pbmcnLCBwb3MsIGNvZGUsIG1lc3NhZ2UpO1xuICAgIH1cbn1cbmNvbnN0IHByZXR0aWZ5RXJyb3IgPSAoc3JjLCBsYykgPT4gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLnBvc1swXSA9PT0gLTEpXG4gICAgICAgIHJldHVybjtcbiAgICBlcnJvci5saW5lUG9zID0gZXJyb3IucG9zLm1hcChwb3MgPT4gbGMubGluZVBvcyhwb3MpKTtcbiAgICBjb25zdCB7IGxpbmUsIGNvbCB9ID0gZXJyb3IubGluZVBvc1swXTtcbiAgICBlcnJvci5tZXNzYWdlICs9IGAgYXQgbGluZSAke2xpbmV9LCBjb2x1bW4gJHtjb2x9YDtcbiAgICBsZXQgY2kgPSBjb2wgLSAxO1xuICAgIGxldCBsaW5lU3RyID0gc3JjXG4gICAgICAgIC5zdWJzdHJpbmcobGMubGluZVN0YXJ0c1tsaW5lIC0gMV0sIGxjLmxpbmVTdGFydHNbbGluZV0pXG4gICAgICAgIC5yZXBsYWNlKC9bXFxuXFxyXSskLywgJycpO1xuICAgIC8vIFRyaW0gdG8gbWF4IDgwIGNoYXJzLCBrZWVwaW5nIGNvbCBwb3NpdGlvbiBuZWFyIHRoZSBtaWRkbGVcbiAgICBpZiAoY2kgPj0gNjAgJiYgbGluZVN0ci5sZW5ndGggPiA4MCkge1xuICAgICAgICBjb25zdCB0cmltU3RhcnQgPSBNYXRoLm1pbihjaSAtIDM5LCBsaW5lU3RyLmxlbmd0aCAtIDc5KTtcbiAgICAgICAgbGluZVN0ciA9ICfigKYnICsgbGluZVN0ci5zdWJzdHJpbmcodHJpbVN0YXJ0KTtcbiAgICAgICAgY2kgLT0gdHJpbVN0YXJ0IC0gMTtcbiAgICB9XG4gICAgaWYgKGxpbmVTdHIubGVuZ3RoID4gODApXG4gICAgICAgIGxpbmVTdHIgPSBsaW5lU3RyLnN1YnN0cmluZygwLCA3OSkgKyAn4oCmJztcbiAgICAvLyBJbmNsdWRlIHByZXZpb3VzIGxpbmUgaW4gY29udGV4dCBpZiBwb2ludGluZyBhdCBsaW5lIHN0YXJ0XG4gICAgaWYgKGxpbmUgPiAxICYmIC9eICokLy50ZXN0KGxpbmVTdHIuc3Vic3RyaW5nKDAsIGNpKSkpIHtcbiAgICAgICAgLy8gUmVnZXhwIHdvbid0IG1hdGNoIGlmIHN0YXJ0IGlzIHRyaW1tZWRcbiAgICAgICAgbGV0IHByZXYgPSBzcmMuc3Vic3RyaW5nKGxjLmxpbmVTdGFydHNbbGluZSAtIDJdLCBsYy5saW5lU3RhcnRzW2xpbmUgLSAxXSk7XG4gICAgICAgIGlmIChwcmV2Lmxlbmd0aCA+IDgwKVxuICAgICAgICAgICAgcHJldiA9IHByZXYuc3Vic3RyaW5nKDAsIDc5KSArICfigKZcXG4nO1xuICAgICAgICBsaW5lU3RyID0gcHJldiArIGxpbmVTdHI7XG4gICAgfVxuICAgIGlmICgvW14gXS8udGVzdChsaW5lU3RyKSkge1xuICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICBjb25zdCBlbmQgPSBlcnJvci5saW5lUG9zWzFdO1xuICAgICAgICBpZiAoZW5kPy5saW5lID09PSBsaW5lICYmIGVuZC5jb2wgPiBjb2wpIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oZW5kLmNvbCAtIGNvbCwgODAgLSBjaSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSAnICcucmVwZWF0KGNpKSArICdeJy5yZXBlYXQoY291bnQpO1xuICAgICAgICBlcnJvci5tZXNzYWdlICs9IGA6XFxuXFxuJHtsaW5lU3RyfVxcbiR7cG9pbnRlcn1cXG5gO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuWUFNTEVycm9yID0gWUFNTEVycm9yO1xuZXhwb3J0cy5ZQU1MUGFyc2VFcnJvciA9IFlBTUxQYXJzZUVycm9yO1xuZXhwb3J0cy5ZQU1MV2FybmluZyA9IFlBTUxXYXJuaW5nO1xuZXhwb3J0cy5wcmV0dGlmeUVycm9yID0gcHJldHRpZnlFcnJvcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiByZXNvbHZlUHJvcHModG9rZW5zLCB7IGZsb3csIGluZGljYXRvciwgbmV4dCwgb2Zmc2V0LCBvbkVycm9yLCBwYXJlbnRJbmRlbnQsIHN0YXJ0T25OZXdsaW5lIH0pIHtcbiAgICBsZXQgc3BhY2VCZWZvcmUgPSBmYWxzZTtcbiAgICBsZXQgYXROZXdsaW5lID0gc3RhcnRPbk5ld2xpbmU7XG4gICAgbGV0IGhhc1NwYWNlID0gc3RhcnRPbk5ld2xpbmU7XG4gICAgbGV0IGNvbW1lbnQgPSAnJztcbiAgICBsZXQgY29tbWVudFNlcCA9ICcnO1xuICAgIGxldCBoYXNOZXdsaW5lID0gZmFsc2U7XG4gICAgbGV0IHJlcVNwYWNlID0gZmFsc2U7XG4gICAgbGV0IHRhYiA9IG51bGw7XG4gICAgbGV0IGFuY2hvciA9IG51bGw7XG4gICAgbGV0IHRhZyA9IG51bGw7XG4gICAgbGV0IG5ld2xpbmVBZnRlclByb3AgPSBudWxsO1xuICAgIGxldCBjb21tYSA9IG51bGw7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgIGlmIChyZXFTcGFjZSkge1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09ICdzcGFjZScgJiZcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlICE9PSAnbmV3bGluZScgJiZcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlICE9PSAnY29tbWEnKVxuICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4ub2Zmc2V0LCAnTUlTU0lOR19DSEFSJywgJ1RhZ3MgYW5kIGFuY2hvcnMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSB0aGUgbmV4dCB0b2tlbiBieSB3aGl0ZSBzcGFjZScpO1xuICAgICAgICAgICAgcmVxU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFiKSB7XG4gICAgICAgICAgICBpZiAoYXROZXdsaW5lICYmIHRva2VuLnR5cGUgIT09ICdjb21tZW50JyAmJiB0b2tlbi50eXBlICE9PSAnbmV3bGluZScpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKHRhYiwgJ1RBQl9BU19JTkRFTlQnLCAnVGFicyBhcmUgbm90IGFsbG93ZWQgYXMgaW5kZW50YXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGRvYyBsZXZlbCwgdGFicyBhdCBsaW5lIHN0YXJ0IG1heSBiZSBwYXJzZWRcbiAgICAgICAgICAgICAgICAvLyBhcyBsZWFkaW5nIHdoaXRlIHNwYWNlIHJhdGhlciB0aGFuIGluZGVudGF0aW9uLlxuICAgICAgICAgICAgICAgIC8vIEluIGEgZmxvdyBjb2xsZWN0aW9uLCBvbmx5IHRoZSBwYXJzZXIgaGFuZGxlcyBpbmRlbnQuXG4gICAgICAgICAgICAgICAgaWYgKCFmbG93ICYmXG4gICAgICAgICAgICAgICAgICAgIChpbmRpY2F0b3IgIT09ICdkb2Mtc3RhcnQnIHx8IG5leHQ/LnR5cGUgIT09ICdmbG93LWNvbGxlY3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2tlbi5zb3VyY2UuaW5jbHVkZXMoJ1xcdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYiA9IHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYXNTcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb21tZW50Jzoge1xuICAgICAgICAgICAgICAgIGlmICghaGFzU3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdNSVNTSU5HX0NIQVInLCAnQ29tbWVudHMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSBvdGhlciB0b2tlbnMgYnkgd2hpdGUgc3BhY2UgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gdG9rZW4uc291cmNlLnN1YnN0cmluZygxKSB8fCAnICc7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tZW50KVxuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gY2I7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb21tZW50ICs9IGNvbW1lbnRTZXAgKyBjYjtcbiAgICAgICAgICAgICAgICBjb21tZW50U2VwID0gJyc7XG4gICAgICAgICAgICAgICAgYXROZXdsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICBpZiAoYXROZXdsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCArPSB0b2tlbi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFmb3VuZCB8fCBpbmRpY2F0b3IgIT09ICdzZXEtaXRlbS1pbmQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VCZWZvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRTZXAgKz0gdG9rZW4uc291cmNlO1xuICAgICAgICAgICAgICAgIGF0TmV3bGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaGFzTmV3bGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciB8fCB0YWcpXG4gICAgICAgICAgICAgICAgICAgIG5ld2xpbmVBZnRlclByb3AgPSB0b2tlbjtcbiAgICAgICAgICAgICAgICBoYXNTcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhbmNob3InOlxuICAgICAgICAgICAgICAgIGlmIChhbmNob3IpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdNVUxUSVBMRV9BTkNIT1JTJywgJ0Egbm9kZSBjYW4gaGF2ZSBhdCBtb3N0IG9uZSBhbmNob3InKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4uc291cmNlLmVuZHNXaXRoKCc6JykpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4ub2Zmc2V0ICsgdG9rZW4uc291cmNlLmxlbmd0aCAtIDEsICdCQURfQUxJQVMnLCAnQW5jaG9yIGVuZGluZyBpbiA6IGlzIGFtYmlndW91cycsIHRydWUpO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHRva2VuO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID8/IChzdGFydCA9IHRva2VuLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgYXROZXdsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaGFzU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXFTcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0YWcnOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZylcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ01VTFRJUExFX1RBR1MnLCAnQSBub2RlIGNhbiBoYXZlIGF0IG1vc3Qgb25lIHRhZycpO1xuICAgICAgICAgICAgICAgIHRhZyA9IHRva2VuO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID8/IChzdGFydCA9IHRva2VuLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgYXROZXdsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaGFzU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXFTcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGluZGljYXRvcjpcbiAgICAgICAgICAgICAgICAvLyBDb3VsZCBoZXJlIGhhbmRsZSBwcmVjZWRpbmcgY29tbWVudHMgZGlmZmVyZW50bHlcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yIHx8IHRhZylcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ0JBRF9QUk9QX09SREVSJywgYEFuY2hvcnMgYW5kIHRhZ3MgbXVzdCBiZSBhZnRlciB0aGUgJHt0b2tlbi5zb3VyY2V9IGluZGljYXRvcmApO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ1VORVhQRUNURURfVE9LRU4nLCBgVW5leHBlY3RlZCAke3Rva2VuLnNvdXJjZX0gaW4gJHtmbG93ID8/ICdjb2xsZWN0aW9uJ31gKTtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGF0TmV3bGluZSA9XG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvciA9PT0gJ3NlcS1pdGVtLWluZCcgfHwgaW5kaWNhdG9yID09PSAnZXhwbGljaXQta2V5LWluZCc7XG4gICAgICAgICAgICAgICAgaGFzU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1hJzpcbiAgICAgICAgICAgICAgICBpZiAoZmxvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWEpXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHRva2VuLCAnVU5FWFBFQ1RFRF9UT0tFTicsIGBVbmV4cGVjdGVkICwgaW4gJHtmbG93fWApO1xuICAgICAgICAgICAgICAgICAgICBjb21tYSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBhdE5ld2xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWxzZSBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvbkVycm9yKHRva2VuLCAnVU5FWFBFQ1RFRF9UT0tFTicsIGBVbmV4cGVjdGVkICR7dG9rZW4udHlwZX0gdG9rZW5gKTtcbiAgICAgICAgICAgICAgICBhdE5ld2xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBoYXNTcGFjZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxhc3QgPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGVuZCA9IGxhc3QgPyBsYXN0Lm9mZnNldCArIGxhc3Quc291cmNlLmxlbmd0aCA6IG9mZnNldDtcbiAgICBpZiAocmVxU3BhY2UgJiZcbiAgICAgICAgbmV4dCAmJlxuICAgICAgICBuZXh0LnR5cGUgIT09ICdzcGFjZScgJiZcbiAgICAgICAgbmV4dC50eXBlICE9PSAnbmV3bGluZScgJiZcbiAgICAgICAgbmV4dC50eXBlICE9PSAnY29tbWEnICYmXG4gICAgICAgIChuZXh0LnR5cGUgIT09ICdzY2FsYXInIHx8IG5leHQuc291cmNlICE9PSAnJykpIHtcbiAgICAgICAgb25FcnJvcihuZXh0Lm9mZnNldCwgJ01JU1NJTkdfQ0hBUicsICdUYWdzIGFuZCBhbmNob3JzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gdGhlIG5leHQgdG9rZW4gYnkgd2hpdGUgc3BhY2UnKTtcbiAgICB9XG4gICAgaWYgKHRhYiAmJlxuICAgICAgICAoKGF0TmV3bGluZSAmJiB0YWIuaW5kZW50IDw9IHBhcmVudEluZGVudCkgfHxcbiAgICAgICAgICAgIG5leHQ/LnR5cGUgPT09ICdibG9jay1tYXAnIHx8XG4gICAgICAgICAgICBuZXh0Py50eXBlID09PSAnYmxvY2stc2VxJykpXG4gICAgICAgIG9uRXJyb3IodGFiLCAnVEFCX0FTX0lOREVOVCcsICdUYWJzIGFyZSBub3QgYWxsb3dlZCBhcyBpbmRlbnRhdGlvbicpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbW1hLFxuICAgICAgICBmb3VuZCxcbiAgICAgICAgc3BhY2VCZWZvcmUsXG4gICAgICAgIGNvbW1lbnQsXG4gICAgICAgIGhhc05ld2xpbmUsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgdGFnLFxuICAgICAgICBuZXdsaW5lQWZ0ZXJQcm9wLFxuICAgICAgICBlbmQsXG4gICAgICAgIHN0YXJ0OiBzdGFydCA/PyBlbmRcbiAgICB9O1xufVxuXG5leHBvcnRzLnJlc29sdmVQcm9wcyA9IHJlc29sdmVQcm9wcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjb250YWluc05ld2xpbmUoa2V5KSB7XG4gICAgaWYgKCFrZXkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHN3aXRjaCAoa2V5LnR5cGUpIHtcbiAgICAgICAgY2FzZSAnYWxpYXMnOlxuICAgICAgICBjYXNlICdzY2FsYXInOlxuICAgICAgICBjYXNlICdkb3VibGUtcXVvdGVkLXNjYWxhcic6XG4gICAgICAgIGNhc2UgJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgIGlmIChrZXkuc291cmNlLmluY2x1ZGVzKCdcXG4nKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChrZXkuZW5kKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Qgb2Yga2V5LmVuZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0LnR5cGUgPT09ICduZXdsaW5lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICdmbG93LWNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgZm9yIChjb25zdCBpdCBvZiBrZXkuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0IG9mIGl0LnN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3QudHlwZSA9PT0gJ25ld2xpbmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGl0LnNlcClcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdCBvZiBpdC5zZXApXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3QudHlwZSA9PT0gJ25ld2xpbmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjb250YWluc05ld2xpbmUoaXQua2V5KSB8fCBjb250YWluc05ld2xpbmUoaXQudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0cy5jb250YWluc05ld2xpbmUgPSBjb250YWluc05ld2xpbmU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxDb250YWluc05ld2xpbmUgPSByZXF1aXJlKCcuL3V0aWwtY29udGFpbnMtbmV3bGluZS5qcycpO1xuXG5mdW5jdGlvbiBmbG93SW5kZW50Q2hlY2soaW5kZW50LCBmYywgb25FcnJvcikge1xuICAgIGlmIChmYz8udHlwZSA9PT0gJ2Zsb3ctY29sbGVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgZW5kID0gZmMuZW5kWzBdO1xuICAgICAgICBpZiAoZW5kLmluZGVudCA9PT0gaW5kZW50ICYmXG4gICAgICAgICAgICAoZW5kLnNvdXJjZSA9PT0gJ10nIHx8IGVuZC5zb3VyY2UgPT09ICd9JykgJiZcbiAgICAgICAgICAgIHV0aWxDb250YWluc05ld2xpbmUuY29udGFpbnNOZXdsaW5lKGZjKSkge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gJ0Zsb3cgZW5kIGluZGljYXRvciBzaG91bGQgYmUgbW9yZSBpbmRlbnRlZCB0aGFuIHBhcmVudCc7XG4gICAgICAgICAgICBvbkVycm9yKGVuZCwgJ0JBRF9JTkRFTlQnLCBtc2csIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnRzLmZsb3dJbmRlbnRDaGVjayA9IGZsb3dJbmRlbnRDaGVjaztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xuXG5mdW5jdGlvbiBtYXBJbmNsdWRlcyhjdHgsIGl0ZW1zLCBzZWFyY2gpIHtcbiAgICBjb25zdCB7IHVuaXF1ZUtleXMgfSA9IGN0eC5vcHRpb25zO1xuICAgIGlmICh1bmlxdWVLZXlzID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGlzRXF1YWwgPSB0eXBlb2YgdW5pcXVlS2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHVuaXF1ZUtleXNcbiAgICAgICAgOiAoYSwgYikgPT4gYSA9PT0gYiB8fCAoaWRlbnRpdHkuaXNTY2FsYXIoYSkgJiYgaWRlbnRpdHkuaXNTY2FsYXIoYikgJiYgYS52YWx1ZSA9PT0gYi52YWx1ZSk7XG4gICAgcmV0dXJuIGl0ZW1zLnNvbWUocGFpciA9PiBpc0VxdWFsKHBhaXIua2V5LCBzZWFyY2gpKTtcbn1cblxuZXhwb3J0cy5tYXBJbmNsdWRlcyA9IG1hcEluY2x1ZGVzO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBQYWlyID0gcmVxdWlyZSgnLi4vbm9kZXMvUGFpci5qcycpO1xudmFyIFlBTUxNYXAgPSByZXF1aXJlKCcuLi9ub2Rlcy9ZQU1MTWFwLmpzJyk7XG52YXIgcmVzb2x2ZVByb3BzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXByb3BzLmpzJyk7XG52YXIgdXRpbENvbnRhaW5zTmV3bGluZSA9IHJlcXVpcmUoJy4vdXRpbC1jb250YWlucy1uZXdsaW5lLmpzJyk7XG52YXIgdXRpbEZsb3dJbmRlbnRDaGVjayA9IHJlcXVpcmUoJy4vdXRpbC1mbG93LWluZGVudC1jaGVjay5qcycpO1xudmFyIHV0aWxNYXBJbmNsdWRlcyA9IHJlcXVpcmUoJy4vdXRpbC1tYXAtaW5jbHVkZXMuanMnKTtcblxuY29uc3Qgc3RhcnRDb2xNc2cgPSAnQWxsIG1hcHBpbmcgaXRlbXMgbXVzdCBzdGFydCBhdCB0aGUgc2FtZSBjb2x1bW4nO1xuZnVuY3Rpb24gcmVzb2x2ZUJsb2NrTWFwKHsgY29tcG9zZU5vZGUsIGNvbXBvc2VFbXB0eU5vZGUgfSwgY3R4LCBibSwgb25FcnJvciwgdGFnKSB7XG4gICAgY29uc3QgTm9kZUNsYXNzID0gdGFnPy5ub2RlQ2xhc3MgPz8gWUFNTE1hcC5ZQU1MTWFwO1xuICAgIGNvbnN0IG1hcCA9IG5ldyBOb2RlQ2xhc3MoY3R4LnNjaGVtYSk7XG4gICAgaWYgKGN0eC5hdFJvb3QpXG4gICAgICAgIGN0eC5hdFJvb3QgPSBmYWxzZTtcbiAgICBsZXQgb2Zmc2V0ID0gYm0ub2Zmc2V0O1xuICAgIGxldCBjb21tZW50RW5kID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNvbGxJdGVtIG9mIGJtLml0ZW1zKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGtleSwgc2VwLCB2YWx1ZSB9ID0gY29sbEl0ZW07XG4gICAgICAgIC8vIGtleSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IGtleVByb3BzID0gcmVzb2x2ZVByb3BzLnJlc29sdmVQcm9wcyhzdGFydCwge1xuICAgICAgICAgICAgaW5kaWNhdG9yOiAnZXhwbGljaXQta2V5LWluZCcsXG4gICAgICAgICAgICBuZXh0OiBrZXkgPz8gc2VwPy5bMF0sXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBvbkVycm9yLFxuICAgICAgICAgICAgcGFyZW50SW5kZW50OiBibS5pbmRlbnQsXG4gICAgICAgICAgICBzdGFydE9uTmV3bGluZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1wbGljaXRLZXkgPSAha2V5UHJvcHMuZm91bmQ7XG4gICAgICAgIGlmIChpbXBsaWNpdEtleSkge1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkudHlwZSA9PT0gJ2Jsb2NrLXNlcScpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3Iob2Zmc2V0LCAnQkxPQ0tfQVNfSU1QTElDSVRfS0VZJywgJ0EgYmxvY2sgc2VxdWVuY2UgbWF5IG5vdCBiZSB1c2VkIGFzIGFuIGltcGxpY2l0IG1hcCBrZXknKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnaW5kZW50JyBpbiBrZXkgJiYga2V5LmluZGVudCAhPT0gYm0uaW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKG9mZnNldCwgJ0JBRF9JTkRFTlQnLCBzdGFydENvbE1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWtleVByb3BzLmFuY2hvciAmJiAha2V5UHJvcHMudGFnICYmICFzZXApIHtcbiAgICAgICAgICAgICAgICBjb21tZW50RW5kID0ga2V5UHJvcHMuZW5kO1xuICAgICAgICAgICAgICAgIGlmIChrZXlQcm9wcy5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5jb21tZW50ICs9ICdcXG4nICsga2V5UHJvcHMuY29tbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmNvbW1lbnQgPSBrZXlQcm9wcy5jb21tZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlQcm9wcy5uZXdsaW5lQWZ0ZXJQcm9wIHx8IHV0aWxDb250YWluc05ld2xpbmUuY29udGFpbnNOZXdsaW5lKGtleSkpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGtleSA/PyBzdGFydFtzdGFydC5sZW5ndGggLSAxXSwgJ01VTFRJTElORV9JTVBMSUNJVF9LRVknLCAnSW1wbGljaXQga2V5cyBuZWVkIHRvIGJlIG9uIGEgc2luZ2xlIGxpbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlQcm9wcy5mb3VuZD8uaW5kZW50ICE9PSBibS5pbmRlbnQpIHtcbiAgICAgICAgICAgIG9uRXJyb3Iob2Zmc2V0LCAnQkFEX0lOREVOVCcsIHN0YXJ0Q29sTXNnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBrZXkgdmFsdWVcbiAgICAgICAgY3R4LmF0S2V5ID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qga2V5U3RhcnQgPSBrZXlQcm9wcy5lbmQ7XG4gICAgICAgIGNvbnN0IGtleU5vZGUgPSBrZXlcbiAgICAgICAgICAgID8gY29tcG9zZU5vZGUoY3R4LCBrZXksIGtleVByb3BzLCBvbkVycm9yKVxuICAgICAgICAgICAgOiBjb21wb3NlRW1wdHlOb2RlKGN0eCwga2V5U3RhcnQsIHN0YXJ0LCBudWxsLCBrZXlQcm9wcywgb25FcnJvcik7XG4gICAgICAgIGlmIChjdHguc2NoZW1hLmNvbXBhdClcbiAgICAgICAgICAgIHV0aWxGbG93SW5kZW50Q2hlY2suZmxvd0luZGVudENoZWNrKGJtLmluZGVudCwga2V5LCBvbkVycm9yKTtcbiAgICAgICAgY3R4LmF0S2V5ID0gZmFsc2U7XG4gICAgICAgIGlmICh1dGlsTWFwSW5jbHVkZXMubWFwSW5jbHVkZXMoY3R4LCBtYXAuaXRlbXMsIGtleU5vZGUpKVxuICAgICAgICAgICAgb25FcnJvcihrZXlTdGFydCwgJ0RVUExJQ0FURV9LRVknLCAnTWFwIGtleXMgbXVzdCBiZSB1bmlxdWUnKTtcbiAgICAgICAgLy8gdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBjb25zdCB2YWx1ZVByb3BzID0gcmVzb2x2ZVByb3BzLnJlc29sdmVQcm9wcyhzZXAgPz8gW10sIHtcbiAgICAgICAgICAgIGluZGljYXRvcjogJ21hcC12YWx1ZS1pbmQnLFxuICAgICAgICAgICAgbmV4dDogdmFsdWUsXG4gICAgICAgICAgICBvZmZzZXQ6IGtleU5vZGUucmFuZ2VbMl0sXG4gICAgICAgICAgICBvbkVycm9yLFxuICAgICAgICAgICAgcGFyZW50SW5kZW50OiBibS5pbmRlbnQsXG4gICAgICAgICAgICBzdGFydE9uTmV3bGluZTogIWtleSB8fCBrZXkudHlwZSA9PT0gJ2Jsb2NrLXNjYWxhcidcbiAgICAgICAgfSk7XG4gICAgICAgIG9mZnNldCA9IHZhbHVlUHJvcHMuZW5kO1xuICAgICAgICBpZiAodmFsdWVQcm9wcy5mb3VuZCkge1xuICAgICAgICAgICAgaWYgKGltcGxpY2l0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlPy50eXBlID09PSAnYmxvY2stbWFwJyAmJiAhdmFsdWVQcm9wcy5oYXNOZXdsaW5lKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKG9mZnNldCwgJ0JMT0NLX0FTX0lNUExJQ0lUX0tFWScsICdOZXN0ZWQgbWFwcGluZ3MgYXJlIG5vdCBhbGxvd2VkIGluIGNvbXBhY3QgbWFwcGluZ3MnKTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4Lm9wdGlvbnMuc3RyaWN0ICYmXG4gICAgICAgICAgICAgICAgICAgIGtleVByb3BzLnN0YXJ0IDwgdmFsdWVQcm9wcy5mb3VuZC5vZmZzZXQgLSAxMDI0KVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGtleU5vZGUucmFuZ2UsICdLRVlfT1ZFUl8xMDI0X0NIQVJTJywgJ1RoZSA6IGluZGljYXRvciBtdXN0IGJlIGF0IG1vc3QgMTAyNCBjaGFycyBhZnRlciB0aGUgc3RhcnQgb2YgYW4gaW1wbGljaXQgYmxvY2sgbWFwcGluZyBrZXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZhbHVlIHZhbHVlXG4gICAgICAgICAgICBjb25zdCB2YWx1ZU5vZGUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgID8gY29tcG9zZU5vZGUoY3R4LCB2YWx1ZSwgdmFsdWVQcm9wcywgb25FcnJvcilcbiAgICAgICAgICAgICAgICA6IGNvbXBvc2VFbXB0eU5vZGUoY3R4LCBvZmZzZXQsIHNlcCwgbnVsbCwgdmFsdWVQcm9wcywgb25FcnJvcik7XG4gICAgICAgICAgICBpZiAoY3R4LnNjaGVtYS5jb21wYXQpXG4gICAgICAgICAgICAgICAgdXRpbEZsb3dJbmRlbnRDaGVjay5mbG93SW5kZW50Q2hlY2soYm0uaW5kZW50LCB2YWx1ZSwgb25FcnJvcik7XG4gICAgICAgICAgICBvZmZzZXQgPSB2YWx1ZU5vZGUucmFuZ2VbMl07XG4gICAgICAgICAgICBjb25zdCBwYWlyID0gbmV3IFBhaXIuUGFpcihrZXlOb2RlLCB2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgaWYgKGN0eC5vcHRpb25zLmtlZXBTb3VyY2VUb2tlbnMpXG4gICAgICAgICAgICAgICAgcGFpci5zcmNUb2tlbiA9IGNvbGxJdGVtO1xuICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2gocGFpcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBrZXkgd2l0aCBubyB2YWx1ZVxuICAgICAgICAgICAgaWYgKGltcGxpY2l0S2V5KVxuICAgICAgICAgICAgICAgIG9uRXJyb3Ioa2V5Tm9kZS5yYW5nZSwgJ01JU1NJTkdfQ0hBUicsICdJbXBsaWNpdCBtYXAga2V5cyBuZWVkIHRvIGJlIGZvbGxvd2VkIGJ5IG1hcCB2YWx1ZXMnKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZVByb3BzLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Tm9kZS5jb21tZW50KVxuICAgICAgICAgICAgICAgICAgICBrZXlOb2RlLmNvbW1lbnQgKz0gJ1xcbicgKyB2YWx1ZVByb3BzLmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBrZXlOb2RlLmNvbW1lbnQgPSB2YWx1ZVByb3BzLmNvbW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYWlyID0gbmV3IFBhaXIuUGFpcihrZXlOb2RlKTtcbiAgICAgICAgICAgIGlmIChjdHgub3B0aW9ucy5rZWVwU291cmNlVG9rZW5zKVxuICAgICAgICAgICAgICAgIHBhaXIuc3JjVG9rZW4gPSBjb2xsSXRlbTtcbiAgICAgICAgICAgIG1hcC5pdGVtcy5wdXNoKHBhaXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb21tZW50RW5kICYmIGNvbW1lbnRFbmQgPCBvZmZzZXQpXG4gICAgICAgIG9uRXJyb3IoY29tbWVudEVuZCwgJ0lNUE9TU0lCTEUnLCAnTWFwIGNvbW1lbnQgd2l0aCB0cmFpbGluZyBjb250ZW50Jyk7XG4gICAgbWFwLnJhbmdlID0gW2JtLm9mZnNldCwgb2Zmc2V0LCBjb21tZW50RW5kID8/IG9mZnNldF07XG4gICAgcmV0dXJuIG1hcDtcbn1cblxuZXhwb3J0cy5yZXNvbHZlQmxvY2tNYXAgPSByZXNvbHZlQmxvY2tNYXA7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIFlBTUxTZXEgPSByZXF1aXJlKCcuLi9ub2Rlcy9ZQU1MU2VxLmpzJyk7XG52YXIgcmVzb2x2ZVByb3BzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXByb3BzLmpzJyk7XG52YXIgdXRpbEZsb3dJbmRlbnRDaGVjayA9IHJlcXVpcmUoJy4vdXRpbC1mbG93LWluZGVudC1jaGVjay5qcycpO1xuXG5mdW5jdGlvbiByZXNvbHZlQmxvY2tTZXEoeyBjb21wb3NlTm9kZSwgY29tcG9zZUVtcHR5Tm9kZSB9LCBjdHgsIGJzLCBvbkVycm9yLCB0YWcpIHtcbiAgICBjb25zdCBOb2RlQ2xhc3MgPSB0YWc/Lm5vZGVDbGFzcyA/PyBZQU1MU2VxLllBTUxTZXE7XG4gICAgY29uc3Qgc2VxID0gbmV3IE5vZGVDbGFzcyhjdHguc2NoZW1hKTtcbiAgICBpZiAoY3R4LmF0Um9vdClcbiAgICAgICAgY3R4LmF0Um9vdCA9IGZhbHNlO1xuICAgIGlmIChjdHguYXRLZXkpXG4gICAgICAgIGN0eC5hdEtleSA9IGZhbHNlO1xuICAgIGxldCBvZmZzZXQgPSBicy5vZmZzZXQ7XG4gICAgbGV0IGNvbW1lbnRFbmQgPSBudWxsO1xuICAgIGZvciAoY29uc3QgeyBzdGFydCwgdmFsdWUgfSBvZiBicy5pdGVtcykge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHJlc29sdmVQcm9wcy5yZXNvbHZlUHJvcHMoc3RhcnQsIHtcbiAgICAgICAgICAgIGluZGljYXRvcjogJ3NlcS1pdGVtLWluZCcsXG4gICAgICAgICAgICBuZXh0OiB2YWx1ZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG9uRXJyb3IsXG4gICAgICAgICAgICBwYXJlbnRJbmRlbnQ6IGJzLmluZGVudCxcbiAgICAgICAgICAgIHN0YXJ0T25OZXdsaW5lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXByb3BzLmZvdW5kKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuYW5jaG9yIHx8IHByb3BzLnRhZyB8fCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZT8udHlwZSA9PT0gJ2Jsb2NrLXNlcScpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IocHJvcHMuZW5kLCAnQkFEX0lOREVOVCcsICdBbGwgc2VxdWVuY2UgaXRlbXMgbXVzdCBzdGFydCBhdCB0aGUgc2FtZSBjb2x1bW4nKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3Iob2Zmc2V0LCAnTUlTU0lOR19DSEFSJywgJ1NlcXVlbmNlIGl0ZW0gd2l0aG91dCAtIGluZGljYXRvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tbWVudEVuZCA9IHByb3BzLmVuZDtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgc2VxLmNvbW1lbnQgPSBwcm9wcy5jb21tZW50O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGUgPSB2YWx1ZVxuICAgICAgICAgICAgPyBjb21wb3NlTm9kZShjdHgsIHZhbHVlLCBwcm9wcywgb25FcnJvcilcbiAgICAgICAgICAgIDogY29tcG9zZUVtcHR5Tm9kZShjdHgsIHByb3BzLmVuZCwgc3RhcnQsIG51bGwsIHByb3BzLCBvbkVycm9yKTtcbiAgICAgICAgaWYgKGN0eC5zY2hlbWEuY29tcGF0KVxuICAgICAgICAgICAgdXRpbEZsb3dJbmRlbnRDaGVjay5mbG93SW5kZW50Q2hlY2soYnMuaW5kZW50LCB2YWx1ZSwgb25FcnJvcik7XG4gICAgICAgIG9mZnNldCA9IG5vZGUucmFuZ2VbMl07XG4gICAgICAgIHNlcS5pdGVtcy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgICBzZXEucmFuZ2UgPSBbYnMub2Zmc2V0LCBvZmZzZXQsIGNvbW1lbnRFbmQgPz8gb2Zmc2V0XTtcbiAgICByZXR1cm4gc2VxO1xufVxuXG5leHBvcnRzLnJlc29sdmVCbG9ja1NlcSA9IHJlc29sdmVCbG9ja1NlcTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiByZXNvbHZlRW5kKGVuZCwgb2Zmc2V0LCByZXFTcGFjZSwgb25FcnJvcikge1xuICAgIGxldCBjb21tZW50ID0gJyc7XG4gICAgaWYgKGVuZCkge1xuICAgICAgICBsZXQgaGFzU3BhY2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNlcCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIGVuZCkge1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UsIHR5cGUgfSA9IHRva2VuO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAgICAgICAgICBoYXNTcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXFTcGFjZSAmJiAhaGFzU3BhY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHRva2VuLCAnTUlTU0lOR19DSEFSJywgJ0NvbW1lbnRzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gb3RoZXIgdG9rZW5zIGJ5IHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2IgPSBzb3VyY2Uuc3Vic3RyaW5nKDEpIHx8ICcgJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21tZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGNiO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ICs9IHNlcCArIGNiO1xuICAgICAgICAgICAgICAgICAgICBzZXAgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcCArPSBzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGhhc1NwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ1VORVhQRUNURURfVE9LRU4nLCBgVW5leHBlY3RlZCAke3R5cGV9IGF0IG5vZGUgZW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgKz0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBjb21tZW50LCBvZmZzZXQgfTtcbn1cblxuZXhwb3J0cy5yZXNvbHZlRW5kID0gcmVzb2x2ZUVuZDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xudmFyIFBhaXIgPSByZXF1aXJlKCcuLi9ub2Rlcy9QYWlyLmpzJyk7XG52YXIgWUFNTE1hcCA9IHJlcXVpcmUoJy4uL25vZGVzL1lBTUxNYXAuanMnKTtcbnZhciBZQU1MU2VxID0gcmVxdWlyZSgnLi4vbm9kZXMvWUFNTFNlcS5qcycpO1xudmFyIHJlc29sdmVFbmQgPSByZXF1aXJlKCcuL3Jlc29sdmUtZW5kLmpzJyk7XG52YXIgcmVzb2x2ZVByb3BzID0gcmVxdWlyZSgnLi9yZXNvbHZlLXByb3BzLmpzJyk7XG52YXIgdXRpbENvbnRhaW5zTmV3bGluZSA9IHJlcXVpcmUoJy4vdXRpbC1jb250YWlucy1uZXdsaW5lLmpzJyk7XG52YXIgdXRpbE1hcEluY2x1ZGVzID0gcmVxdWlyZSgnLi91dGlsLW1hcC1pbmNsdWRlcy5qcycpO1xuXG5jb25zdCBibG9ja01zZyA9ICdCbG9jayBjb2xsZWN0aW9ucyBhcmUgbm90IGFsbG93ZWQgd2l0aGluIGZsb3cgY29sbGVjdGlvbnMnO1xuY29uc3QgaXNCbG9jayA9ICh0b2tlbikgPT4gdG9rZW4gJiYgKHRva2VuLnR5cGUgPT09ICdibG9jay1tYXAnIHx8IHRva2VuLnR5cGUgPT09ICdibG9jay1zZXEnKTtcbmZ1bmN0aW9uIHJlc29sdmVGbG93Q29sbGVjdGlvbih7IGNvbXBvc2VOb2RlLCBjb21wb3NlRW1wdHlOb2RlIH0sIGN0eCwgZmMsIG9uRXJyb3IsIHRhZykge1xuICAgIGNvbnN0IGlzTWFwID0gZmMuc3RhcnQuc291cmNlID09PSAneyc7XG4gICAgY29uc3QgZmNOYW1lID0gaXNNYXAgPyAnZmxvdyBtYXAnIDogJ2Zsb3cgc2VxdWVuY2UnO1xuICAgIGNvbnN0IE5vZGVDbGFzcyA9ICh0YWc/Lm5vZGVDbGFzcyA/PyAoaXNNYXAgPyBZQU1MTWFwLllBTUxNYXAgOiBZQU1MU2VxLllBTUxTZXEpKTtcbiAgICBjb25zdCBjb2xsID0gbmV3IE5vZGVDbGFzcyhjdHguc2NoZW1hKTtcbiAgICBjb2xsLmZsb3cgPSB0cnVlO1xuICAgIGNvbnN0IGF0Um9vdCA9IGN0eC5hdFJvb3Q7XG4gICAgaWYgKGF0Um9vdClcbiAgICAgICAgY3R4LmF0Um9vdCA9IGZhbHNlO1xuICAgIGlmIChjdHguYXRLZXkpXG4gICAgICAgIGN0eC5hdEtleSA9IGZhbHNlO1xuICAgIGxldCBvZmZzZXQgPSBmYy5vZmZzZXQgKyBmYy5zdGFydC5zb3VyY2UubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmMuaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgY29sbEl0ZW0gPSBmYy5pdGVtc1tpXTtcbiAgICAgICAgY29uc3QgeyBzdGFydCwga2V5LCBzZXAsIHZhbHVlIH0gPSBjb2xsSXRlbTtcbiAgICAgICAgY29uc3QgcHJvcHMgPSByZXNvbHZlUHJvcHMucmVzb2x2ZVByb3BzKHN0YXJ0LCB7XG4gICAgICAgICAgICBmbG93OiBmY05hbWUsXG4gICAgICAgICAgICBpbmRpY2F0b3I6ICdleHBsaWNpdC1rZXktaW5kJyxcbiAgICAgICAgICAgIG5leHQ6IGtleSA/PyBzZXA/LlswXSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG9uRXJyb3IsXG4gICAgICAgICAgICBwYXJlbnRJbmRlbnQ6IGZjLmluZGVudCxcbiAgICAgICAgICAgIHN0YXJ0T25OZXdsaW5lOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwcm9wcy5mb3VuZCkge1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5hbmNob3IgJiYgIXByb3BzLnRhZyAmJiAhc2VwICYmICF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwICYmIHByb3BzLmNvbW1hKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHByb3BzLmNvbW1hLCAnVU5FWFBFQ1RFRF9UT0tFTicsIGBVbmV4cGVjdGVkICwgaW4gJHtmY05hbWV9YCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA8IGZjLml0ZW1zLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IocHJvcHMuc3RhcnQsICdVTkVYUEVDVEVEX1RPS0VOJywgYFVuZXhwZWN0ZWQgZW1wdHkgaXRlbSBpbiAke2ZjTmFtZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbC5jb21tZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbC5jb21tZW50ICs9ICdcXG4nICsgcHJvcHMuY29tbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbC5jb21tZW50ID0gcHJvcHMuY29tbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcHJvcHMuZW5kO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc01hcCAmJiBjdHgub3B0aW9ucy5zdHJpY3QgJiYgdXRpbENvbnRhaW5zTmV3bGluZS5jb250YWluc05ld2xpbmUoa2V5KSlcbiAgICAgICAgICAgICAgICBvbkVycm9yKGtleSwgLy8gY2hlY2tlZCBieSBjb250YWluc05ld2xpbmUoKVxuICAgICAgICAgICAgICAgICdNVUxUSUxJTkVfSU1QTElDSVRfS0VZJywgJ0ltcGxpY2l0IGtleXMgb2YgZmxvdyBzZXF1ZW5jZSBwYWlycyBuZWVkIHRvIGJlIG9uIGEgc2luZ2xlIGxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHByb3BzLmNvbW1hKVxuICAgICAgICAgICAgICAgIG9uRXJyb3IocHJvcHMuY29tbWEsICdVTkVYUEVDVEVEX1RPS0VOJywgYFVuZXhwZWN0ZWQgLCBpbiAke2ZjTmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghcHJvcHMuY29tbWEpXG4gICAgICAgICAgICAgICAgb25FcnJvcihwcm9wcy5zdGFydCwgJ01JU1NJTkdfQ0hBUicsIGBNaXNzaW5nICwgYmV0d2VlbiAke2ZjTmFtZX0gaXRlbXNgKTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IHByZXZJdGVtQ29tbWVudCA9ICcnO1xuICAgICAgICAgICAgICAgIGxvb3A6IGZvciAoY29uc3Qgc3Qgb2Ygc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21tYSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2SXRlbUNvbW1lbnQgPSBzdC5zb3VyY2Uuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJdGVtQ29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldiA9IGNvbGwuaXRlbXNbY29sbC5pdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aXR5LmlzUGFpcihwcmV2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBwcmV2LnZhbHVlID8/IHByZXYua2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldi5jb21tZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jb21tZW50ICs9ICdcXG4nICsgcHJldkl0ZW1Db21tZW50O1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2LmNvbW1lbnQgPSBwcmV2SXRlbUNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmNvbW1lbnQgPSBwcm9wcy5jb21tZW50LnN1YnN0cmluZyhwcmV2SXRlbUNvbW1lbnQubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNNYXAgJiYgIXNlcCAmJiAhcHJvcHMuZm91bmQpIHtcbiAgICAgICAgICAgIC8vIGl0ZW0gaXMgYSB2YWx1ZSBpbiBhIHNlcVxuICAgICAgICAgICAgLy8g4oaSIGtleSAmIHNlcCBhcmUgZW1wdHksIHN0YXJ0IGRvZXMgbm90IGluY2x1ZGUgPyBvciA6XG4gICAgICAgICAgICBjb25zdCB2YWx1ZU5vZGUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgID8gY29tcG9zZU5vZGUoY3R4LCB2YWx1ZSwgcHJvcHMsIG9uRXJyb3IpXG4gICAgICAgICAgICAgICAgOiBjb21wb3NlRW1wdHlOb2RlKGN0eCwgcHJvcHMuZW5kLCBzZXAsIG51bGwsIHByb3BzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIGNvbGwuaXRlbXMucHVzaCh2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gdmFsdWVOb2RlLnJhbmdlWzJdO1xuICAgICAgICAgICAgaWYgKGlzQmxvY2sodmFsdWUpKVxuICAgICAgICAgICAgICAgIG9uRXJyb3IodmFsdWVOb2RlLnJhbmdlLCAnQkxPQ0tfSU5fRkxPVycsIGJsb2NrTXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGl0ZW0gaXMgYSBrZXkrdmFsdWUgcGFpclxuICAgICAgICAgICAgLy8ga2V5IHZhbHVlXG4gICAgICAgICAgICBjdHguYXRLZXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3Qga2V5U3RhcnQgPSBwcm9wcy5lbmQ7XG4gICAgICAgICAgICBjb25zdCBrZXlOb2RlID0ga2V5XG4gICAgICAgICAgICAgICAgPyBjb21wb3NlTm9kZShjdHgsIGtleSwgcHJvcHMsIG9uRXJyb3IpXG4gICAgICAgICAgICAgICAgOiBjb21wb3NlRW1wdHlOb2RlKGN0eCwga2V5U3RhcnQsIHN0YXJ0LCBudWxsLCBwcm9wcywgb25FcnJvcik7XG4gICAgICAgICAgICBpZiAoaXNCbG9jayhrZXkpKVxuICAgICAgICAgICAgICAgIG9uRXJyb3Ioa2V5Tm9kZS5yYW5nZSwgJ0JMT0NLX0lOX0ZMT1cnLCBibG9ja01zZyk7XG4gICAgICAgICAgICBjdHguYXRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlUHJvcHMgPSByZXNvbHZlUHJvcHMucmVzb2x2ZVByb3BzKHNlcCA/PyBbXSwge1xuICAgICAgICAgICAgICAgIGZsb3c6IGZjTmFtZSxcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3I6ICdtYXAtdmFsdWUtaW5kJyxcbiAgICAgICAgICAgICAgICBuZXh0OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGtleU5vZGUucmFuZ2VbMl0sXG4gICAgICAgICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICAgICAgICBwYXJlbnRJbmRlbnQ6IGZjLmluZGVudCxcbiAgICAgICAgICAgICAgICBzdGFydE9uTmV3bGluZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHZhbHVlUHJvcHMuZm91bmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTWFwICYmICFwcm9wcy5mb3VuZCAmJiBjdHgub3B0aW9ucy5zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Qgb2Ygc2VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ID09PSB2YWx1ZVByb3BzLmZvdW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3QudHlwZSA9PT0gJ25ld2xpbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3Ioc3QsICdNVUxUSUxJTkVfSU1QTElDSVRfS0VZJywgJ0ltcGxpY2l0IGtleXMgb2YgZmxvdyBzZXF1ZW5jZSBwYWlycyBuZWVkIHRvIGJlIG9uIGEgc2luZ2xlIGxpbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMuc3RhcnQgPCB2YWx1ZVByb3BzLmZvdW5kLm9mZnNldCAtIDEwMjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHZhbHVlUHJvcHMuZm91bmQsICdLRVlfT1ZFUl8xMDI0X0NIQVJTJywgJ1RoZSA6IGluZGljYXRvciBtdXN0IGJlIGF0IG1vc3QgMTAyNCBjaGFycyBhZnRlciB0aGUgc3RhcnQgb2YgYW4gaW1wbGljaXQgZmxvdyBzZXF1ZW5jZSBrZXknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgnc291cmNlJyBpbiB2YWx1ZSAmJiB2YWx1ZS5zb3VyY2U/LlswXSA9PT0gJzonKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHZhbHVlLCAnTUlTU0lOR19DSEFSJywgYE1pc3Npbmcgc3BhY2UgYWZ0ZXIgOiBpbiAke2ZjTmFtZX1gKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodmFsdWVQcm9wcy5zdGFydCwgJ01JU1NJTkdfQ0hBUicsIGBNaXNzaW5nICwgb3IgOiBiZXR3ZWVuICR7ZmNOYW1lfSBpdGVtc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdmFsdWUgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTm9kZSA9IHZhbHVlXG4gICAgICAgICAgICAgICAgPyBjb21wb3NlTm9kZShjdHgsIHZhbHVlLCB2YWx1ZVByb3BzLCBvbkVycm9yKVxuICAgICAgICAgICAgICAgIDogdmFsdWVQcm9wcy5mb3VuZFxuICAgICAgICAgICAgICAgICAgICA/IGNvbXBvc2VFbXB0eU5vZGUoY3R4LCB2YWx1ZVByb3BzLmVuZCwgc2VwLCBudWxsLCB2YWx1ZVByb3BzLCBvbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAodmFsdWVOb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQmxvY2sodmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHZhbHVlTm9kZS5yYW5nZSwgJ0JMT0NLX0lOX0ZMT1cnLCBibG9ja01zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZVByb3BzLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Tm9kZS5jb21tZW50KVxuICAgICAgICAgICAgICAgICAgICBrZXlOb2RlLmNvbW1lbnQgKz0gJ1xcbicgKyB2YWx1ZVByb3BzLmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBrZXlOb2RlLmNvbW1lbnQgPSB2YWx1ZVByb3BzLmNvbW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYWlyID0gbmV3IFBhaXIuUGFpcihrZXlOb2RlLCB2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgaWYgKGN0eC5vcHRpb25zLmtlZXBTb3VyY2VUb2tlbnMpXG4gICAgICAgICAgICAgICAgcGFpci5zcmNUb2tlbiA9IGNvbGxJdGVtO1xuICAgICAgICAgICAgaWYgKGlzTWFwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwID0gY29sbDtcbiAgICAgICAgICAgICAgICBpZiAodXRpbE1hcEluY2x1ZGVzLm1hcEluY2x1ZGVzKGN0eCwgbWFwLml0ZW1zLCBrZXlOb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihrZXlTdGFydCwgJ0RVUExJQ0FURV9LRVknLCAnTWFwIGtleXMgbXVzdCBiZSB1bmlxdWUnKTtcbiAgICAgICAgICAgICAgICBtYXAuaXRlbXMucHVzaChwYWlyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBZQU1MTWFwLllBTUxNYXAoY3R4LnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgbWFwLmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1hcC5pdGVtcy5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZFJhbmdlID0gKHZhbHVlTm9kZSA/PyBrZXlOb2RlKS5yYW5nZTtcbiAgICAgICAgICAgICAgICBtYXAucmFuZ2UgPSBba2V5Tm9kZS5yYW5nZVswXSwgZW5kUmFuZ2VbMV0sIGVuZFJhbmdlWzJdXTtcbiAgICAgICAgICAgICAgICBjb2xsLml0ZW1zLnB1c2gobWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IHZhbHVlTm9kZSA/IHZhbHVlTm9kZS5yYW5nZVsyXSA6IHZhbHVlUHJvcHMuZW5kO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV4cGVjdGVkRW5kID0gaXNNYXAgPyAnfScgOiAnXSc7XG4gICAgY29uc3QgW2NlLCAuLi5lZV0gPSBmYy5lbmQ7XG4gICAgbGV0IGNlUG9zID0gb2Zmc2V0O1xuICAgIGlmIChjZT8uc291cmNlID09PSBleHBlY3RlZEVuZClcbiAgICAgICAgY2VQb3MgPSBjZS5vZmZzZXQgKyBjZS5zb3VyY2UubGVuZ3RoO1xuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuYW1lID0gZmNOYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBmY05hbWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICBjb25zdCBtc2cgPSBhdFJvb3RcbiAgICAgICAgICAgID8gYCR7bmFtZX0gbXVzdCBlbmQgd2l0aCBhICR7ZXhwZWN0ZWRFbmR9YFxuICAgICAgICAgICAgOiBgJHtuYW1lfSBpbiBibG9jayBjb2xsZWN0aW9uIG11c3QgYmUgc3VmZmljaWVudGx5IGluZGVudGVkIGFuZCBlbmQgd2l0aCBhICR7ZXhwZWN0ZWRFbmR9YDtcbiAgICAgICAgb25FcnJvcihvZmZzZXQsIGF0Um9vdCA/ICdNSVNTSU5HX0NIQVInIDogJ0JBRF9JTkRFTlQnLCBtc2cpO1xuICAgICAgICBpZiAoY2UgJiYgY2Uuc291cmNlLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgICAgIGVlLnVuc2hpZnQoY2UpO1xuICAgIH1cbiAgICBpZiAoZWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBlbmQgPSByZXNvbHZlRW5kLnJlc29sdmVFbmQoZWUsIGNlUG9zLCBjdHgub3B0aW9ucy5zdHJpY3QsIG9uRXJyb3IpO1xuICAgICAgICBpZiAoZW5kLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChjb2xsLmNvbW1lbnQpXG4gICAgICAgICAgICAgICAgY29sbC5jb21tZW50ICs9ICdcXG4nICsgZW5kLmNvbW1lbnQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29sbC5jb21tZW50ID0gZW5kLmNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29sbC5yYW5nZSA9IFtmYy5vZmZzZXQsIGNlUG9zLCBlbmQub2Zmc2V0XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbGwucmFuZ2UgPSBbZmMub2Zmc2V0LCBjZVBvcywgY2VQb3NdO1xuICAgIH1cbiAgICByZXR1cm4gY29sbDtcbn1cblxuZXhwb3J0cy5yZXNvbHZlRmxvd0NvbGxlY3Rpb24gPSByZXNvbHZlRmxvd0NvbGxlY3Rpb247XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi4vbm9kZXMvaWRlbnRpdHkuanMnKTtcbnZhciBTY2FsYXIgPSByZXF1aXJlKCcuLi9ub2Rlcy9TY2FsYXIuanMnKTtcbnZhciBZQU1MTWFwID0gcmVxdWlyZSgnLi4vbm9kZXMvWUFNTE1hcC5qcycpO1xudmFyIFlBTUxTZXEgPSByZXF1aXJlKCcuLi9ub2Rlcy9ZQU1MU2VxLmpzJyk7XG52YXIgcmVzb2x2ZUJsb2NrTWFwID0gcmVxdWlyZSgnLi9yZXNvbHZlLWJsb2NrLW1hcC5qcycpO1xudmFyIHJlc29sdmVCbG9ja1NlcSA9IHJlcXVpcmUoJy4vcmVzb2x2ZS1ibG9jay1zZXEuanMnKTtcbnZhciByZXNvbHZlRmxvd0NvbGxlY3Rpb24gPSByZXF1aXJlKCcuL3Jlc29sdmUtZmxvdy1jb2xsZWN0aW9uLmpzJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVDb2xsZWN0aW9uKENOLCBjdHgsIHRva2VuLCBvbkVycm9yLCB0YWdOYW1lLCB0YWcpIHtcbiAgICBjb25zdCBjb2xsID0gdG9rZW4udHlwZSA9PT0gJ2Jsb2NrLW1hcCdcbiAgICAgICAgPyByZXNvbHZlQmxvY2tNYXAucmVzb2x2ZUJsb2NrTWFwKENOLCBjdHgsIHRva2VuLCBvbkVycm9yLCB0YWcpXG4gICAgICAgIDogdG9rZW4udHlwZSA9PT0gJ2Jsb2NrLXNlcSdcbiAgICAgICAgICAgID8gcmVzb2x2ZUJsb2NrU2VxLnJlc29sdmVCbG9ja1NlcShDTiwgY3R4LCB0b2tlbiwgb25FcnJvciwgdGFnKVxuICAgICAgICAgICAgOiByZXNvbHZlRmxvd0NvbGxlY3Rpb24ucmVzb2x2ZUZsb3dDb2xsZWN0aW9uKENOLCBjdHgsIHRva2VuLCBvbkVycm9yLCB0YWcpO1xuICAgIGNvbnN0IENvbGwgPSBjb2xsLmNvbnN0cnVjdG9yO1xuICAgIC8vIElmIHdlIGdvdCBhIHRhZ05hbWUgbWF0Y2hpbmcgdGhlIGNsYXNzLCBvciB0aGUgdGFnIG5hbWUgaXMgJyEnLFxuICAgIC8vIHRoZW4gdXNlIHRoZSB0YWdOYW1lIGZyb20gdGhlIG5vZGUgY2xhc3MgdXNlZCB0byBjcmVhdGUgaXQuXG4gICAgaWYgKHRhZ05hbWUgPT09ICchJyB8fCB0YWdOYW1lID09PSBDb2xsLnRhZ05hbWUpIHtcbiAgICAgICAgY29sbC50YWcgPSBDb2xsLnRhZ05hbWU7XG4gICAgICAgIHJldHVybiBjb2xsO1xuICAgIH1cbiAgICBpZiAodGFnTmFtZSlcbiAgICAgICAgY29sbC50YWcgPSB0YWdOYW1lO1xuICAgIHJldHVybiBjb2xsO1xufVxuZnVuY3Rpb24gY29tcG9zZUNvbGxlY3Rpb24oQ04sIGN0eCwgdG9rZW4sIHByb3BzLCBvbkVycm9yKSB7XG4gICAgY29uc3QgdGFnVG9rZW4gPSBwcm9wcy50YWc7XG4gICAgY29uc3QgdGFnTmFtZSA9ICF0YWdUb2tlblxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBjdHguZGlyZWN0aXZlcy50YWdOYW1lKHRhZ1Rva2VuLnNvdXJjZSwgbXNnID0+IG9uRXJyb3IodGFnVG9rZW4sICdUQUdfUkVTT0xWRV9GQUlMRUQnLCBtc2cpKTtcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2Jsb2NrLXNlcScpIHtcbiAgICAgICAgY29uc3QgeyBhbmNob3IsIG5ld2xpbmVBZnRlclByb3A6IG5sIH0gPSBwcm9wcztcbiAgICAgICAgY29uc3QgbGFzdFByb3AgPSBhbmNob3IgJiYgdGFnVG9rZW5cbiAgICAgICAgICAgID8gYW5jaG9yLm9mZnNldCA+IHRhZ1Rva2VuLm9mZnNldFxuICAgICAgICAgICAgICAgID8gYW5jaG9yXG4gICAgICAgICAgICAgICAgOiB0YWdUb2tlblxuICAgICAgICAgICAgOiAoYW5jaG9yID8/IHRhZ1Rva2VuKTtcbiAgICAgICAgaWYgKGxhc3RQcm9wICYmICghbmwgfHwgbmwub2Zmc2V0IDwgbGFzdFByb3Aub2Zmc2V0KSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdNaXNzaW5nIG5ld2xpbmUgYWZ0ZXIgYmxvY2sgc2VxdWVuY2UgcHJvcHMnO1xuICAgICAgICAgICAgb25FcnJvcihsYXN0UHJvcCwgJ01JU1NJTkdfQ0hBUicsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV4cFR5cGUgPSB0b2tlbi50eXBlID09PSAnYmxvY2stbWFwJ1xuICAgICAgICA/ICdtYXAnXG4gICAgICAgIDogdG9rZW4udHlwZSA9PT0gJ2Jsb2NrLXNlcSdcbiAgICAgICAgICAgID8gJ3NlcSdcbiAgICAgICAgICAgIDogdG9rZW4uc3RhcnQuc291cmNlID09PSAneydcbiAgICAgICAgICAgICAgICA/ICdtYXAnXG4gICAgICAgICAgICAgICAgOiAnc2VxJztcbiAgICAvLyBzaG9ydGN1dDogY2hlY2sgaWYgaXQncyBhIGdlbmVyaWMgWUFNTE1hcCBvciBZQU1MU2VxXG4gICAgLy8gYmVmb3JlIGp1bXBpbmcgaW50byB0aGUgY3VzdG9tIHRhZyBsb2dpYy5cbiAgICBpZiAoIXRhZ1Rva2VuIHx8XG4gICAgICAgICF0YWdOYW1lIHx8XG4gICAgICAgIHRhZ05hbWUgPT09ICchJyB8fFxuICAgICAgICAodGFnTmFtZSA9PT0gWUFNTE1hcC5ZQU1MTWFwLnRhZ05hbWUgJiYgZXhwVHlwZSA9PT0gJ21hcCcpIHx8XG4gICAgICAgICh0YWdOYW1lID09PSBZQU1MU2VxLllBTUxTZXEudGFnTmFtZSAmJiBleHBUeXBlID09PSAnc2VxJykpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVDb2xsZWN0aW9uKENOLCBjdHgsIHRva2VuLCBvbkVycm9yLCB0YWdOYW1lKTtcbiAgICB9XG4gICAgbGV0IHRhZyA9IGN0eC5zY2hlbWEudGFncy5maW5kKHQgPT4gdC50YWcgPT09IHRhZ05hbWUgJiYgdC5jb2xsZWN0aW9uID09PSBleHBUeXBlKTtcbiAgICBpZiAoIXRhZykge1xuICAgICAgICBjb25zdCBrdCA9IGN0eC5zY2hlbWEua25vd25UYWdzW3RhZ05hbWVdO1xuICAgICAgICBpZiAoa3Q/LmNvbGxlY3Rpb24gPT09IGV4cFR5cGUpIHtcbiAgICAgICAgICAgIGN0eC5zY2hlbWEudGFncy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIGt0LCB7IGRlZmF1bHQ6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgIHRhZyA9IGt0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGt0KSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcih0YWdUb2tlbiwgJ0JBRF9DT0xMRUNUSU9OX1RZUEUnLCBgJHtrdC50YWd9IHVzZWQgZm9yICR7ZXhwVHlwZX0gY29sbGVjdGlvbiwgYnV0IGV4cGVjdHMgJHtrdC5jb2xsZWN0aW9uID8/ICdzY2FsYXInfWAsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb25FcnJvcih0YWdUb2tlbiwgJ1RBR19SRVNPTFZFX0ZBSUxFRCcsIGBVbnJlc29sdmVkIHRhZzogJHt0YWdOYW1lfWAsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVDb2xsZWN0aW9uKENOLCBjdHgsIHRva2VuLCBvbkVycm9yLCB0YWdOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb2xsID0gcmVzb2x2ZUNvbGxlY3Rpb24oQ04sIGN0eCwgdG9rZW4sIG9uRXJyb3IsIHRhZ05hbWUsIHRhZyk7XG4gICAgY29uc3QgcmVzID0gdGFnLnJlc29sdmU/Lihjb2xsLCBtc2cgPT4gb25FcnJvcih0YWdUb2tlbiwgJ1RBR19SRVNPTFZFX0ZBSUxFRCcsIG1zZyksIGN0eC5vcHRpb25zKSA/PyBjb2xsO1xuICAgIGNvbnN0IG5vZGUgPSBpZGVudGl0eS5pc05vZGUocmVzKVxuICAgICAgICA/IHJlc1xuICAgICAgICA6IG5ldyBTY2FsYXIuU2NhbGFyKHJlcyk7XG4gICAgbm9kZS5yYW5nZSA9IGNvbGwucmFuZ2U7XG4gICAgbm9kZS50YWcgPSB0YWdOYW1lO1xuICAgIGlmICh0YWc/LmZvcm1hdClcbiAgICAgICAgbm9kZS5mb3JtYXQgPSB0YWcuZm9ybWF0O1xuICAgIHJldHVybiBub2RlO1xufVxuXG5leHBvcnRzLmNvbXBvc2VDb2xsZWN0aW9uID0gY29tcG9zZUNvbGxlY3Rpb247XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4uL25vZGVzL1NjYWxhci5qcycpO1xuXG5mdW5jdGlvbiByZXNvbHZlQmxvY2tTY2FsYXIoY3R4LCBzY2FsYXIsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBzdGFydCA9IHNjYWxhci5vZmZzZXQ7XG4gICAgY29uc3QgaGVhZGVyID0gcGFyc2VCbG9ja1NjYWxhckhlYWRlcihzY2FsYXIsIGN0eC5vcHRpb25zLnN0cmljdCwgb25FcnJvcik7XG4gICAgaWYgKCFoZWFkZXIpXG4gICAgICAgIHJldHVybiB7IHZhbHVlOiAnJywgdHlwZTogbnVsbCwgY29tbWVudDogJycsIHJhbmdlOiBbc3RhcnQsIHN0YXJ0LCBzdGFydF0gfTtcbiAgICBjb25zdCB0eXBlID0gaGVhZGVyLm1vZGUgPT09ICc+JyA/IFNjYWxhci5TY2FsYXIuQkxPQ0tfRk9MREVEIDogU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMO1xuICAgIGNvbnN0IGxpbmVzID0gc2NhbGFyLnNvdXJjZSA/IHNwbGl0TGluZXMoc2NhbGFyLnNvdXJjZSkgOiBbXTtcbiAgICAvLyBkZXRlcm1pbmUgdGhlIGVuZCBvZiBjb250ZW50ICYgc3RhcnQgb2YgY2hvbXBpbmdcbiAgICBsZXQgY2hvbXBTdGFydCA9IGxpbmVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGxpbmVzW2ldWzFdO1xuICAgICAgICBpZiAoY29udGVudCA9PT0gJycgfHwgY29udGVudCA9PT0gJ1xccicpXG4gICAgICAgICAgICBjaG9tcFN0YXJ0ID0gaTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIHNob3J0Y3V0IGZvciBlbXB0eSBjb250ZW50c1xuICAgIGlmIChjaG9tcFN0YXJ0ID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyLmNob21wID09PSAnKycgJiYgbGluZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyAnXFxuJy5yZXBlYXQoTWF0aC5tYXgoMSwgbGluZXMubGVuZ3RoIC0gMSkpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBsZXQgZW5kID0gc3RhcnQgKyBoZWFkZXIubGVuZ3RoO1xuICAgICAgICBpZiAoc2NhbGFyLnNvdXJjZSlcbiAgICAgICAgICAgIGVuZCArPSBzY2FsYXIuc291cmNlLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWUsIHR5cGUsIGNvbW1lbnQ6IGhlYWRlci5jb21tZW50LCByYW5nZTogW3N0YXJ0LCBlbmQsIGVuZF0gfTtcbiAgICB9XG4gICAgLy8gZmluZCB0aGUgaW5kZW50YXRpb24gbGV2ZWwgdG8gdHJpbSBmcm9tIHN0YXJ0XG4gICAgbGV0IHRyaW1JbmRlbnQgPSBzY2FsYXIuaW5kZW50ICsgaGVhZGVyLmluZGVudDtcbiAgICBsZXQgb2Zmc2V0ID0gc2NhbGFyLm9mZnNldCArIGhlYWRlci5sZW5ndGg7XG4gICAgbGV0IGNvbnRlbnRTdGFydCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaG9tcFN0YXJ0OyArK2kpIHtcbiAgICAgICAgY29uc3QgW2luZGVudCwgY29udGVudF0gPSBsaW5lc1tpXTtcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09ICcnIHx8IGNvbnRlbnQgPT09ICdcXHInKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmluZGVudCA9PT0gMCAmJiBpbmRlbnQubGVuZ3RoID4gdHJpbUluZGVudClcbiAgICAgICAgICAgICAgICB0cmltSW5kZW50ID0gaW5kZW50Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbmRlbnQubGVuZ3RoIDwgdHJpbUluZGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnQmxvY2sgc2NhbGFycyB3aXRoIG1vcmUtaW5kZW50ZWQgbGVhZGluZyBlbXB0eSBsaW5lcyBtdXN0IHVzZSBhbiBleHBsaWNpdCBpbmRlbnRhdGlvbiBpbmRpY2F0b3InO1xuICAgICAgICAgICAgICAgIG9uRXJyb3Iob2Zmc2V0ICsgaW5kZW50Lmxlbmd0aCwgJ01JU1NJTkdfQ0hBUicsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlYWRlci5pbmRlbnQgPT09IDApXG4gICAgICAgICAgICAgICAgdHJpbUluZGVudCA9IGluZGVudC5sZW5ndGg7XG4gICAgICAgICAgICBjb250ZW50U3RhcnQgPSBpO1xuICAgICAgICAgICAgaWYgKHRyaW1JbmRlbnQgPT09IDAgJiYgIWN0eC5hdFJvb3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gJ0Jsb2NrIHNjYWxhciB2YWx1ZXMgaW4gY29sbGVjdGlvbnMgbXVzdCBiZSBpbmRlbnRlZCc7XG4gICAgICAgICAgICAgICAgb25FcnJvcihvZmZzZXQsICdCQURfSU5ERU5UJywgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXQgKz0gaW5kZW50Lmxlbmd0aCArIGNvbnRlbnQubGVuZ3RoICsgMTtcbiAgICB9XG4gICAgLy8gaW5jbHVkZSB0cmFpbGluZyBtb3JlLWluZGVudGVkIGVtcHR5IGxpbmVzIGluIGNvbnRlbnRcbiAgICBmb3IgKGxldCBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSBjaG9tcFN0YXJ0OyAtLWkpIHtcbiAgICAgICAgaWYgKGxpbmVzW2ldWzBdLmxlbmd0aCA+IHRyaW1JbmRlbnQpXG4gICAgICAgICAgICBjaG9tcFN0YXJ0ID0gaSArIDE7XG4gICAgfVxuICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgIGxldCBzZXAgPSAnJztcbiAgICBsZXQgcHJldk1vcmVJbmRlbnRlZCA9IGZhbHNlO1xuICAgIC8vIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBrZXB0IGludGFjdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudFN0YXJ0OyArK2kpXG4gICAgICAgIHZhbHVlICs9IGxpbmVzW2ldWzBdLnNsaWNlKHRyaW1JbmRlbnQpICsgJ1xcbic7XG4gICAgZm9yIChsZXQgaSA9IGNvbnRlbnRTdGFydDsgaSA8IGNob21wU3RhcnQ7ICsraSkge1xuICAgICAgICBsZXQgW2luZGVudCwgY29udGVudF0gPSBsaW5lc1tpXTtcbiAgICAgICAgb2Zmc2V0ICs9IGluZGVudC5sZW5ndGggKyBjb250ZW50Lmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IGNybGYgPSBjb250ZW50W2NvbnRlbnQubGVuZ3RoIC0gMV0gPT09ICdcXHInO1xuICAgICAgICBpZiAoY3JsZilcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIGFscmVhZHkgY2F1Z2h0IGluIGxleGVyICovXG4gICAgICAgIGlmIChjb250ZW50ICYmIGluZGVudC5sZW5ndGggPCB0cmltSW5kZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSBoZWFkZXIuaW5kZW50XG4gICAgICAgICAgICAgICAgPyAnZXhwbGljaXQgaW5kZW50YXRpb24gaW5kaWNhdG9yJ1xuICAgICAgICAgICAgICAgIDogJ2ZpcnN0IGxpbmUnO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBCbG9jayBzY2FsYXIgbGluZXMgbXVzdCBub3QgYmUgbGVzcyBpbmRlbnRlZCB0aGFuIHRoZWlyICR7c3JjfWA7XG4gICAgICAgICAgICBvbkVycm9yKG9mZnNldCAtIGNvbnRlbnQubGVuZ3RoIC0gKGNybGYgPyAyIDogMSksICdCQURfSU5ERU5UJywgbWVzc2FnZSk7XG4gICAgICAgICAgICBpbmRlbnQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gU2NhbGFyLlNjYWxhci5CTE9DS19MSVRFUkFMKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBpbmRlbnQuc2xpY2UodHJpbUluZGVudCkgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZW50Lmxlbmd0aCA+IHRyaW1JbmRlbnQgfHwgY29udGVudFswXSA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIC8vIG1vcmUtaW5kZW50ZWQgY29udGVudCB3aXRoaW4gYSBmb2xkZWQgYmxvY2tcbiAgICAgICAgICAgIGlmIChzZXAgPT09ICcgJylcbiAgICAgICAgICAgICAgICBzZXAgPSAnXFxuJztcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwcmV2TW9yZUluZGVudGVkICYmIHNlcCA9PT0gJ1xcbicpXG4gICAgICAgICAgICAgICAgc2VwID0gJ1xcblxcbic7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBpbmRlbnQuc2xpY2UodHJpbUluZGVudCkgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgICAgICBwcmV2TW9yZUluZGVudGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZW50ID09PSAnJykge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZVxuICAgICAgICAgICAgaWYgKHNlcCA9PT0gJ1xcbicpXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBzZXAgKyBjb250ZW50O1xuICAgICAgICAgICAgc2VwID0gJyAnO1xuICAgICAgICAgICAgcHJldk1vcmVJbmRlbnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoaGVhZGVyLmNob21wKSB7XG4gICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNob21wU3RhcnQ7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSAnXFxuJyArIGxpbmVzW2ldWzBdLnNsaWNlKHRyaW1JbmRlbnQpO1xuICAgICAgICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSAnXFxuJylcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSAnXFxuJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgfVxuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgaGVhZGVyLmxlbmd0aCArIHNjYWxhci5zb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiB7IHZhbHVlLCB0eXBlLCBjb21tZW50OiBoZWFkZXIuY29tbWVudCwgcmFuZ2U6IFtzdGFydCwgZW5kLCBlbmRdIH07XG59XG5mdW5jdGlvbiBwYXJzZUJsb2NrU2NhbGFySGVhZGVyKHsgb2Zmc2V0LCBwcm9wcyB9LCBzdHJpY3QsIG9uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICBpZiAocHJvcHNbMF0udHlwZSAhPT0gJ2Jsb2NrLXNjYWxhci1oZWFkZXInKSB7XG4gICAgICAgIG9uRXJyb3IocHJvcHNbMF0sICdJTVBPU1NJQkxFJywgJ0Jsb2NrIHNjYWxhciBoZWFkZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHNvdXJjZSB9ID0gcHJvcHNbMF07XG4gICAgY29uc3QgbW9kZSA9IHNvdXJjZVswXTtcbiAgICBsZXQgaW5kZW50ID0gMDtcbiAgICBsZXQgY2hvbXAgPSAnJztcbiAgICBsZXQgZXJyb3IgPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBjaCA9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKCFjaG9tcCAmJiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSlcbiAgICAgICAgICAgIGNob21wID0gY2g7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbiA9IE51bWJlcihjaCk7XG4gICAgICAgICAgICBpZiAoIWluZGVudCAmJiBuKVxuICAgICAgICAgICAgICAgIGluZGVudCA9IG47XG4gICAgICAgICAgICBlbHNlIGlmIChlcnJvciA9PT0gLTEpXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBvZmZzZXQgKyBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlcnJvciAhPT0gLTEpXG4gICAgICAgIG9uRXJyb3IoZXJyb3IsICdVTkVYUEVDVEVEX1RPS0VOJywgYEJsb2NrIHNjYWxhciBoZWFkZXIgaW5jbHVkZXMgZXh0cmEgY2hhcmFjdGVyczogJHtzb3VyY2V9YCk7XG4gICAgbGV0IGhhc1NwYWNlID0gZmFsc2U7XG4gICAgbGV0IGNvbW1lbnQgPSAnJztcbiAgICBsZXQgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcHJvcHNbaV07XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAgICAgIGhhc1NwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gdG9rZW4uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIWhhc1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnQ29tbWVudHMgbXVzdCBiZSBzZXBhcmF0ZWQgZnJvbSBvdGhlciB0b2tlbnMgYnkgd2hpdGUgc3BhY2UgY2hhcmFjdGVycyc7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdNSVNTSU5HX0NIQVInLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVuZ3RoICs9IHRva2VuLnNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29tbWVudCA9IHRva2VuLnNvdXJjZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ1VORVhQRUNURURfVE9LRU4nLCB0b2tlbi5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gdG9rZW4uc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IHNob3VsZCBub3QgaGFwcGVuICovXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBVbmV4cGVjdGVkIHRva2VuIGluIGJsb2NrIHNjYWxhciBoZWFkZXI6ICR7dG9rZW4udHlwZX1gO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdVTkVYUEVDVEVEX1RPS0VOJywgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHMgPSB0b2tlbi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgaWYgKHRzICYmIHR5cGVvZiB0cyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCArPSB0cy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbW9kZSwgaW5kZW50LCBjaG9tcCwgY29tbWVudCwgbGVuZ3RoIH07XG59XG4vKiogQHJldHVybnMgQXJyYXkgb2YgbGluZXMgc3BsaXQgdXAgYXMgYFtpbmRlbnQsIGNvbnRlbnRdYCAqL1xuZnVuY3Rpb24gc3BsaXRMaW5lcyhzb3VyY2UpIHtcbiAgICBjb25zdCBzcGxpdCA9IHNvdXJjZS5zcGxpdCgvXFxuKCAqKS8pO1xuICAgIGNvbnN0IGZpcnN0ID0gc3BsaXRbMF07XG4gICAgY29uc3QgbSA9IGZpcnN0Lm1hdGNoKC9eKCAqKS8pO1xuICAgIGNvbnN0IGxpbmUwID0gbT8uWzFdXG4gICAgICAgID8gW21bMV0sIGZpcnN0LnNsaWNlKG1bMV0ubGVuZ3RoKV1cbiAgICAgICAgOiBbJycsIGZpcnN0XTtcbiAgICBjb25zdCBsaW5lcyA9IFtsaW5lMF07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzcGxpdC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgbGluZXMucHVzaChbc3BsaXRbaV0sIHNwbGl0W2kgKyAxXV0pO1xuICAgIHJldHVybiBsaW5lcztcbn1cblxuZXhwb3J0cy5yZXNvbHZlQmxvY2tTY2FsYXIgPSByZXNvbHZlQmxvY2tTY2FsYXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIFNjYWxhciA9IHJlcXVpcmUoJy4uL25vZGVzL1NjYWxhci5qcycpO1xudmFyIHJlc29sdmVFbmQgPSByZXF1aXJlKCcuL3Jlc29sdmUtZW5kLmpzJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVGbG93U2NhbGFyKHNjYWxhciwgc3RyaWN0LCBvbkVycm9yKSB7XG4gICAgY29uc3QgeyBvZmZzZXQsIHR5cGUsIHNvdXJjZSwgZW5kIH0gPSBzY2FsYXI7XG4gICAgbGV0IF90eXBlO1xuICAgIGxldCB2YWx1ZTtcbiAgICBjb25zdCBfb25FcnJvciA9IChyZWwsIGNvZGUsIG1zZykgPT4gb25FcnJvcihvZmZzZXQgKyByZWwsIGNvZGUsIG1zZyk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgICAgICBfdHlwZSA9IFNjYWxhci5TY2FsYXIuUExBSU47XG4gICAgICAgICAgICB2YWx1ZSA9IHBsYWluVmFsdWUoc291cmNlLCBfb25FcnJvcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgX3R5cGUgPSBTY2FsYXIuU2NhbGFyLlFVT1RFX1NJTkdMRTtcbiAgICAgICAgICAgIHZhbHVlID0gc2luZ2xlUXVvdGVkVmFsdWUoc291cmNlLCBfb25FcnJvcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG91YmxlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgX3R5cGUgPSBTY2FsYXIuU2NhbGFyLlFVT1RFX0RPVUJMRTtcbiAgICAgICAgICAgIHZhbHVlID0gZG91YmxlUXVvdGVkVmFsdWUoc291cmNlLCBfb25FcnJvcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG9uRXJyb3Ioc2NhbGFyLCAnVU5FWFBFQ1RFRF9UT0tFTicsIGBFeHBlY3RlZCBhIGZsb3cgc2NhbGFyIHZhbHVlLCBidXQgZm91bmQ6ICR7dHlwZX1gKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgY29tbWVudDogJycsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IFtvZmZzZXQsIG9mZnNldCArIHNvdXJjZS5sZW5ndGgsIG9mZnNldCArIHNvdXJjZS5sZW5ndGhdXG4gICAgICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZUVuZCA9IG9mZnNldCArIHNvdXJjZS5sZW5ndGg7XG4gICAgY29uc3QgcmUgPSByZXNvbHZlRW5kLnJlc29sdmVFbmQoZW5kLCB2YWx1ZUVuZCwgc3RyaWN0LCBvbkVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdHlwZTogX3R5cGUsXG4gICAgICAgIGNvbW1lbnQ6IHJlLmNvbW1lbnQsXG4gICAgICAgIHJhbmdlOiBbb2Zmc2V0LCB2YWx1ZUVuZCwgcmUub2Zmc2V0XVxuICAgIH07XG59XG5mdW5jdGlvbiBwbGFpblZhbHVlKHNvdXJjZSwgb25FcnJvcikge1xuICAgIGxldCBiYWRDaGFyID0gJyc7XG4gICAgc3dpdGNoIChzb3VyY2VbMF0pIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgIGJhZENoYXIgPSAnYSB0YWIgY2hhcmFjdGVyJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgIGJhZENoYXIgPSAnZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVyICwnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgYmFkQ2hhciA9ICdkaXJlY3RpdmUgaW5kaWNhdG9yIGNoYXJhY3RlciAlJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd8JzpcbiAgICAgICAgY2FzZSAnPic6IHtcbiAgICAgICAgICAgIGJhZENoYXIgPSBgYmxvY2sgc2NhbGFyIGluZGljYXRvciAke3NvdXJjZVswXX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgIGNhc2UgJ2AnOiB7XG4gICAgICAgICAgICBiYWRDaGFyID0gYHJlc2VydmVkIGNoYXJhY3RlciAke3NvdXJjZVswXX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJhZENoYXIpXG4gICAgICAgIG9uRXJyb3IoMCwgJ0JBRF9TQ0FMQVJfU1RBUlQnLCBgUGxhaW4gdmFsdWUgY2Fubm90IHN0YXJ0IHdpdGggJHtiYWRDaGFyfWApO1xuICAgIHJldHVybiBmb2xkTGluZXMoc291cmNlKTtcbn1cbmZ1bmN0aW9uIHNpbmdsZVF1b3RlZFZhbHVlKHNvdXJjZSwgb25FcnJvcikge1xuICAgIGlmIChzb3VyY2Vbc291cmNlLmxlbmd0aCAtIDFdICE9PSBcIidcIiB8fCBzb3VyY2UubGVuZ3RoID09PSAxKVxuICAgICAgICBvbkVycm9yKHNvdXJjZS5sZW5ndGgsICdNSVNTSU5HX0NIQVInLCBcIk1pc3NpbmcgY2xvc2luZyAncXVvdGVcIik7XG4gICAgcmV0dXJuIGZvbGRMaW5lcyhzb3VyY2Uuc2xpY2UoMSwgLTEpKS5yZXBsYWNlKC8nJy9nLCBcIidcIik7XG59XG5mdW5jdGlvbiBmb2xkTGluZXMoc291cmNlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5lZ2F0aXZlIGxvb2tiZWhpbmQgaGVyZSBhbmQgaW4gdGhlIGByZWAgUmVnRXhwIGlzIHRvXG4gICAgICogcHJldmVudCBjYXVzaW5nIGEgcG9seW5vbWlhbCBzZWFyY2ggdGltZSBpbiBjZXJ0YWluIGNhc2VzLlxuICAgICAqXG4gICAgICogVGhlIHRyeS1jYXRjaCBpcyBmb3IgU2FmYXJpLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgdGhpcyB5ZXQ6XG4gICAgICogaHR0cHM6Ly9jYW5pdXNlLmNvbS9qcy1yZWdleHAtbG9va2JlaGluZFxuICAgICAqL1xuICAgIGxldCBmaXJzdCwgbGluZTtcbiAgICB0cnkge1xuICAgICAgICBmaXJzdCA9IG5ldyBSZWdFeHAoJyguKj8pKD88IVsgXFx0XSlbIFxcdF0qXFxyP1xcbicsICdzeScpO1xuICAgICAgICBsaW5lID0gbmV3IFJlZ0V4cCgnWyBcXHRdKiguKj8pKD86KD88IVsgXFx0XSlbIFxcdF0qKT9cXHI/XFxuJywgJ3N5Jyk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgZmlyc3QgPSAvKC4qPylbIFxcdF0qXFxyP1xcbi9zeTtcbiAgICAgICAgbGluZSA9IC9bIFxcdF0qKC4qPylbIFxcdF0qXFxyP1xcbi9zeTtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gZmlyc3QuZXhlYyhzb3VyY2UpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgbGV0IHJlcyA9IG1hdGNoWzFdO1xuICAgIGxldCBzZXAgPSAnICc7XG4gICAgbGV0IHBvcyA9IGZpcnN0Lmxhc3RJbmRleDtcbiAgICBsaW5lLmxhc3RJbmRleCA9IHBvcztcbiAgICB3aGlsZSAoKG1hdGNoID0gbGluZS5leGVjKHNvdXJjZSkpKSB7XG4gICAgICAgIGlmIChtYXRjaFsxXSA9PT0gJycpIHtcbiAgICAgICAgICAgIGlmIChzZXAgPT09ICdcXG4nKVxuICAgICAgICAgICAgICAgIHJlcyArPSBzZXA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VwID0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMgKz0gc2VwICsgbWF0Y2hbMV07XG4gICAgICAgICAgICBzZXAgPSAnICc7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gbGluZS5sYXN0SW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IGxhc3QgPSAvWyBcXHRdKiguKikvc3k7XG4gICAgbGFzdC5sYXN0SW5kZXggPSBwb3M7XG4gICAgbWF0Y2ggPSBsYXN0LmV4ZWMoc291cmNlKTtcbiAgICByZXR1cm4gcmVzICsgc2VwICsgKG1hdGNoPy5bMV0gPz8gJycpO1xufVxuZnVuY3Rpb24gZG91YmxlUXVvdGVkVmFsdWUoc291cmNlLCBvbkVycm9yKSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc291cmNlLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBjaCA9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKGNoID09PSAnXFxyJyAmJiBzb3VyY2VbaSArIDFdID09PSAnXFxuJylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoY2ggPT09ICdcXG4nKSB7XG4gICAgICAgICAgICBjb25zdCB7IGZvbGQsIG9mZnNldCB9ID0gZm9sZE5ld2xpbmUoc291cmNlLCBpKTtcbiAgICAgICAgICAgIHJlcyArPSBmb2xkO1xuICAgICAgICAgICAgaSA9IG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHNvdXJjZVsrK2ldO1xuICAgICAgICAgICAgY29uc3QgY2MgPSBlc2NhcGVDb2Rlc1tuZXh0XTtcbiAgICAgICAgICAgIGlmIChjYylcbiAgICAgICAgICAgICAgICByZXMgKz0gY2M7XG4gICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgZXNjYXBlZCBuZXdsaW5lcywgYnV0IHN0aWxsIHRyaW0gdGhlIGZvbGxvd2luZyBsaW5lXG4gICAgICAgICAgICAgICAgbmV4dCA9IHNvdXJjZVtpICsgMV07XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgPT09ICcgJyB8fCBuZXh0ID09PSAnXFx0JylcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHNvdXJjZVsrK2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09ICdcXHInICYmIHNvdXJjZVtpICsgMV0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBlc2NhcGVkIENSTEYgbmV3bGluZXMsIGJ1dCBzdGlsbCB0cmltIHRoZSBmb2xsb3dpbmcgbGluZVxuICAgICAgICAgICAgICAgIG5leHQgPSBzb3VyY2VbKytpICsgMV07XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgPT09ICcgJyB8fCBuZXh0ID09PSAnXFx0JylcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHNvdXJjZVsrK2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09ICd4JyB8fCBuZXh0ID09PSAndScgfHwgbmV4dCA9PT0gJ1UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0geyB4OiAyLCB1OiA0LCBVOiA4IH1bbmV4dF07XG4gICAgICAgICAgICAgICAgcmVzICs9IHBhcnNlQ2hhckNvZGUoc291cmNlLCBpICsgMSwgbGVuZ3RoLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBpICs9IGxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IHNvdXJjZS5zdWJzdHIoaSAtIDEsIDIpO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoaSAtIDEsICdCQURfRFFfRVNDQVBFJywgYEludmFsaWQgZXNjYXBlIHNlcXVlbmNlICR7cmF3fWApO1xuICAgICAgICAgICAgICAgIHJlcyArPSByYXc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIC8vIHRyaW0gdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgY29uc3Qgd3NTdGFydCA9IGk7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHNvdXJjZVtpICsgMV07XG4gICAgICAgICAgICB3aGlsZSAobmV4dCA9PT0gJyAnIHx8IG5leHQgPT09ICdcXHQnKVxuICAgICAgICAgICAgICAgIG5leHQgPSBzb3VyY2VbKytpICsgMV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gJ1xcbicgJiYgIShuZXh0ID09PSAnXFxyJyAmJiBzb3VyY2VbaSArIDJdID09PSAnXFxuJykpXG4gICAgICAgICAgICAgICAgcmVzICs9IGkgPiB3c1N0YXJ0ID8gc291cmNlLnNsaWNlKHdzU3RhcnQsIGkgKyAxKSA6IGNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzICs9IGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzb3VyY2Vbc291cmNlLmxlbmd0aCAtIDFdICE9PSAnXCInIHx8IHNvdXJjZS5sZW5ndGggPT09IDEpXG4gICAgICAgIG9uRXJyb3Ioc291cmNlLmxlbmd0aCwgJ01JU1NJTkdfQ0hBUicsICdNaXNzaW5nIGNsb3NpbmcgXCJxdW90ZScpO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEZvbGQgYSBzaW5nbGUgbmV3bGluZSBpbnRvIGEgc3BhY2UsIG11bHRpcGxlIG5ld2xpbmVzIHRvIE4gLSAxIG5ld2xpbmVzLlxuICogUHJlc3VtZXMgYHNvdXJjZVtvZmZzZXRdID09PSAnXFxuJ2BcbiAqL1xuZnVuY3Rpb24gZm9sZE5ld2xpbmUoc291cmNlLCBvZmZzZXQpIHtcbiAgICBsZXQgZm9sZCA9ICcnO1xuICAgIGxldCBjaCA9IHNvdXJjZVtvZmZzZXQgKyAxXTtcbiAgICB3aGlsZSAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xcdCcgfHwgY2ggPT09ICdcXG4nIHx8IGNoID09PSAnXFxyJykge1xuICAgICAgICBpZiAoY2ggPT09ICdcXHInICYmIHNvdXJjZVtvZmZzZXQgKyAyXSAhPT0gJ1xcbicpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGNoID09PSAnXFxuJylcbiAgICAgICAgICAgIGZvbGQgKz0gJ1xcbic7XG4gICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICBjaCA9IHNvdXJjZVtvZmZzZXQgKyAxXTtcbiAgICB9XG4gICAgaWYgKCFmb2xkKVxuICAgICAgICBmb2xkID0gJyAnO1xuICAgIHJldHVybiB7IGZvbGQsIG9mZnNldCB9O1xufVxuY29uc3QgZXNjYXBlQ29kZXMgPSB7XG4gICAgJzAnOiAnXFwwJywgLy8gbnVsbCBjaGFyYWN0ZXJcbiAgICBhOiAnXFx4MDcnLCAvLyBiZWxsIGNoYXJhY3RlclxuICAgIGI6ICdcXGInLCAvLyBiYWNrc3BhY2VcbiAgICBlOiAnXFx4MWInLCAvLyBlc2NhcGUgY2hhcmFjdGVyXG4gICAgZjogJ1xcZicsIC8vIGZvcm0gZmVlZFxuICAgIG46ICdcXG4nLCAvLyBsaW5lIGZlZWRcbiAgICByOiAnXFxyJywgLy8gY2FycmlhZ2UgcmV0dXJuXG4gICAgdDogJ1xcdCcsIC8vIGhvcml6b250YWwgdGFiXG4gICAgdjogJ1xcdicsIC8vIHZlcnRpY2FsIHRhYlxuICAgIE46ICdcXHUwMDg1JywgLy8gVW5pY29kZSBuZXh0IGxpbmVcbiAgICBfOiAnXFx1MDBhMCcsIC8vIFVuaWNvZGUgbm9uLWJyZWFraW5nIHNwYWNlXG4gICAgTDogJ1xcdTIwMjgnLCAvLyBVbmljb2RlIGxpbmUgc2VwYXJhdG9yXG4gICAgUDogJ1xcdTIwMjknLCAvLyBVbmljb2RlIHBhcmFncmFwaCBzZXBhcmF0b3JcbiAgICAnICc6ICcgJyxcbiAgICAnXCInOiAnXCInLFxuICAgICcvJzogJy8nLFxuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgICdcXHQnOiAnXFx0J1xufTtcbmZ1bmN0aW9uIHBhcnNlQ2hhckNvZGUoc291cmNlLCBvZmZzZXQsIGxlbmd0aCwgb25FcnJvcikge1xuICAgIGNvbnN0IGNjID0gc291cmNlLnN1YnN0cihvZmZzZXQsIGxlbmd0aCk7XG4gICAgY29uc3Qgb2sgPSBjYy5sZW5ndGggPT09IGxlbmd0aCAmJiAvXlswLTlhLWZBLUZdKyQvLnRlc3QoY2MpO1xuICAgIGNvbnN0IGNvZGUgPSBvayA/IHBhcnNlSW50KGNjLCAxNikgOiBOYU47XG4gICAgaWYgKGlzTmFOKGNvZGUpKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IHNvdXJjZS5zdWJzdHIob2Zmc2V0IC0gMiwgbGVuZ3RoICsgMik7XG4gICAgICAgIG9uRXJyb3Iob2Zmc2V0IC0gMiwgJ0JBRF9EUV9FU0NBUEUnLCBgSW52YWxpZCBlc2NhcGUgc2VxdWVuY2UgJHtyYXd9YCk7XG4gICAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlKTtcbn1cblxuZXhwb3J0cy5yZXNvbHZlRmxvd1NjYWxhciA9IHJlc29sdmVGbG93U2NhbGFyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgU2NhbGFyID0gcmVxdWlyZSgnLi4vbm9kZXMvU2NhbGFyLmpzJyk7XG52YXIgcmVzb2x2ZUJsb2NrU2NhbGFyID0gcmVxdWlyZSgnLi9yZXNvbHZlLWJsb2NrLXNjYWxhci5qcycpO1xudmFyIHJlc29sdmVGbG93U2NhbGFyID0gcmVxdWlyZSgnLi9yZXNvbHZlLWZsb3ctc2NhbGFyLmpzJyk7XG5cbmZ1bmN0aW9uIGNvbXBvc2VTY2FsYXIoY3R4LCB0b2tlbiwgdGFnVG9rZW4sIG9uRXJyb3IpIHtcbiAgICBjb25zdCB7IHZhbHVlLCB0eXBlLCBjb21tZW50LCByYW5nZSB9ID0gdG9rZW4udHlwZSA9PT0gJ2Jsb2NrLXNjYWxhcidcbiAgICAgICAgPyByZXNvbHZlQmxvY2tTY2FsYXIucmVzb2x2ZUJsb2NrU2NhbGFyKGN0eCwgdG9rZW4sIG9uRXJyb3IpXG4gICAgICAgIDogcmVzb2x2ZUZsb3dTY2FsYXIucmVzb2x2ZUZsb3dTY2FsYXIodG9rZW4sIGN0eC5vcHRpb25zLnN0cmljdCwgb25FcnJvcik7XG4gICAgY29uc3QgdGFnTmFtZSA9IHRhZ1Rva2VuXG4gICAgICAgID8gY3R4LmRpcmVjdGl2ZXMudGFnTmFtZSh0YWdUb2tlbi5zb3VyY2UsIG1zZyA9PiBvbkVycm9yKHRhZ1Rva2VuLCAnVEFHX1JFU09MVkVfRkFJTEVEJywgbXNnKSlcbiAgICAgICAgOiBudWxsO1xuICAgIGxldCB0YWc7XG4gICAgaWYgKGN0eC5vcHRpb25zLnN0cmluZ0tleXMgJiYgY3R4LmF0S2V5KSB7XG4gICAgICAgIHRhZyA9IGN0eC5zY2hlbWFbaWRlbnRpdHkuU0NBTEFSXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFnTmFtZSlcbiAgICAgICAgdGFnID0gZmluZFNjYWxhclRhZ0J5TmFtZShjdHguc2NoZW1hLCB2YWx1ZSwgdGFnTmFtZSwgdGFnVG9rZW4sIG9uRXJyb3IpO1xuICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09ICdzY2FsYXInKVxuICAgICAgICB0YWcgPSBmaW5kU2NhbGFyVGFnQnlUZXN0KGN0eCwgdmFsdWUsIHRva2VuLCBvbkVycm9yKTtcbiAgICBlbHNlXG4gICAgICAgIHRhZyA9IGN0eC5zY2hlbWFbaWRlbnRpdHkuU0NBTEFSXTtcbiAgICBsZXQgc2NhbGFyO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHRhZy5yZXNvbHZlKHZhbHVlLCBtc2cgPT4gb25FcnJvcih0YWdUb2tlbiA/PyB0b2tlbiwgJ1RBR19SRVNPTFZFX0ZBSUxFRCcsIG1zZyksIGN0eC5vcHRpb25zKTtcbiAgICAgICAgc2NhbGFyID0gaWRlbnRpdHkuaXNTY2FsYXIocmVzKSA/IHJlcyA6IG5ldyBTY2FsYXIuU2NhbGFyKHJlcyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgIG9uRXJyb3IodGFnVG9rZW4gPz8gdG9rZW4sICdUQUdfUkVTT0xWRV9GQUlMRUQnLCBtc2cpO1xuICAgICAgICBzY2FsYXIgPSBuZXcgU2NhbGFyLlNjYWxhcih2YWx1ZSk7XG4gICAgfVxuICAgIHNjYWxhci5yYW5nZSA9IHJhbmdlO1xuICAgIHNjYWxhci5zb3VyY2UgPSB2YWx1ZTtcbiAgICBpZiAodHlwZSlcbiAgICAgICAgc2NhbGFyLnR5cGUgPSB0eXBlO1xuICAgIGlmICh0YWdOYW1lKVxuICAgICAgICBzY2FsYXIudGFnID0gdGFnTmFtZTtcbiAgICBpZiAodGFnLmZvcm1hdClcbiAgICAgICAgc2NhbGFyLmZvcm1hdCA9IHRhZy5mb3JtYXQ7XG4gICAgaWYgKGNvbW1lbnQpXG4gICAgICAgIHNjYWxhci5jb21tZW50ID0gY29tbWVudDtcbiAgICByZXR1cm4gc2NhbGFyO1xufVxuZnVuY3Rpb24gZmluZFNjYWxhclRhZ0J5TmFtZShzY2hlbWEsIHZhbHVlLCB0YWdOYW1lLCB0YWdUb2tlbiwgb25FcnJvcikge1xuICAgIGlmICh0YWdOYW1lID09PSAnIScpXG4gICAgICAgIHJldHVybiBzY2hlbWFbaWRlbnRpdHkuU0NBTEFSXTsgLy8gbm9uLXNwZWNpZmljIHRhZ1xuICAgIGNvbnN0IG1hdGNoV2l0aFRlc3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRhZyBvZiBzY2hlbWEudGFncykge1xuICAgICAgICBpZiAoIXRhZy5jb2xsZWN0aW9uICYmIHRhZy50YWcgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmICh0YWcuZGVmYXVsdCAmJiB0YWcudGVzdClcbiAgICAgICAgICAgICAgICBtYXRjaFdpdGhUZXN0LnB1c2godGFnKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgdGFnIG9mIG1hdGNoV2l0aFRlc3QpXG4gICAgICAgIGlmICh0YWcudGVzdD8udGVzdCh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGFnO1xuICAgIGNvbnN0IGt0ID0gc2NoZW1hLmtub3duVGFnc1t0YWdOYW1lXTtcbiAgICBpZiAoa3QgJiYgIWt0LmNvbGxlY3Rpb24pIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGtub3duIHRhZyBpcyBhdmFpbGFibGUgZm9yIHN0cmluZ2lmeWluZyxcbiAgICAgICAgLy8gYnV0IGRvZXMgbm90IGdldCB1c2VkIGJ5IGRlZmF1bHQuXG4gICAgICAgIHNjaGVtYS50YWdzLnB1c2goT2JqZWN0LmFzc2lnbih7fSwga3QsIHsgZGVmYXVsdDogZmFsc2UsIHRlc3Q6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIHJldHVybiBrdDtcbiAgICB9XG4gICAgb25FcnJvcih0YWdUb2tlbiwgJ1RBR19SRVNPTFZFX0ZBSUxFRCcsIGBVbnJlc29sdmVkIHRhZzogJHt0YWdOYW1lfWAsIHRhZ05hbWUgIT09ICd0YWc6eWFtbC5vcmcsMjAwMjpzdHInKTtcbiAgICByZXR1cm4gc2NoZW1hW2lkZW50aXR5LlNDQUxBUl07XG59XG5mdW5jdGlvbiBmaW5kU2NhbGFyVGFnQnlUZXN0KHsgYXRLZXksIGRpcmVjdGl2ZXMsIHNjaGVtYSB9LCB2YWx1ZSwgdG9rZW4sIG9uRXJyb3IpIHtcbiAgICBjb25zdCB0YWcgPSBzY2hlbWEudGFncy5maW5kKHRhZyA9PiAodGFnLmRlZmF1bHQgPT09IHRydWUgfHwgKGF0S2V5ICYmIHRhZy5kZWZhdWx0ID09PSAna2V5JykpICYmXG4gICAgICAgIHRhZy50ZXN0Py50ZXN0KHZhbHVlKSkgfHwgc2NoZW1hW2lkZW50aXR5LlNDQUxBUl07XG4gICAgaWYgKHNjaGVtYS5jb21wYXQpIHtcbiAgICAgICAgY29uc3QgY29tcGF0ID0gc2NoZW1hLmNvbXBhdC5maW5kKHRhZyA9PiB0YWcuZGVmYXVsdCAmJiB0YWcudGVzdD8udGVzdCh2YWx1ZSkpID8/XG4gICAgICAgICAgICBzY2hlbWFbaWRlbnRpdHkuU0NBTEFSXTtcbiAgICAgICAgaWYgKHRhZy50YWcgIT09IGNvbXBhdC50YWcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRzID0gZGlyZWN0aXZlcy50YWdTdHJpbmcodGFnLnRhZyk7XG4gICAgICAgICAgICBjb25zdCBjcyA9IGRpcmVjdGl2ZXMudGFnU3RyaW5nKGNvbXBhdC50YWcpO1xuICAgICAgICAgICAgY29uc3QgbXNnID0gYFZhbHVlIG1heSBiZSBwYXJzZWQgYXMgZWl0aGVyICR7dHN9IG9yICR7Y3N9YDtcbiAgICAgICAgICAgIG9uRXJyb3IodG9rZW4sICdUQUdfUkVTT0xWRV9GQUlMRUQnLCBtc2csIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG59XG5cbmV4cG9ydHMuY29tcG9zZVNjYWxhciA9IGNvbXBvc2VTY2FsYXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZW1wdHlTY2FsYXJQb3NpdGlvbihvZmZzZXQsIGJlZm9yZSwgcG9zKSB7XG4gICAgaWYgKGJlZm9yZSkge1xuICAgICAgICBwb3MgPz8gKHBvcyA9IGJlZm9yZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gcG9zIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGxldCBzdCA9IGJlZm9yZVtpXTtcbiAgICAgICAgICAgIHN3aXRjaCAoc3QudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IC09IHN0LnNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGVjaG5pY2FsbHksIGFuIGVtcHR5IHNjYWxhciBpcyBpbW1lZGlhdGVseSBhZnRlciB0aGUgbGFzdCBub24tZW1wdHlcbiAgICAgICAgICAgIC8vIG5vZGUsIGJ1dCBpdCdzIG1vcmUgdXNlZnVsIHRvIHBsYWNlIGl0IGFmdGVyIGFueSB3aGl0ZXNwYWNlLlxuICAgICAgICAgICAgc3QgPSBiZWZvcmVbKytpXTtcbiAgICAgICAgICAgIHdoaWxlIChzdD8udHlwZSA9PT0gJ3NwYWNlJykge1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdC5zb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHN0ID0gYmVmb3JlWysraV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xufVxuXG5leHBvcnRzLmVtcHR5U2NhbGFyUG9zaXRpb24gPSBlbXB0eVNjYWxhclBvc2l0aW9uO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBBbGlhcyA9IHJlcXVpcmUoJy4uL25vZGVzL0FsaWFzLmpzJyk7XG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xudmFyIGNvbXBvc2VDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi9jb21wb3NlLWNvbGxlY3Rpb24uanMnKTtcbnZhciBjb21wb3NlU2NhbGFyID0gcmVxdWlyZSgnLi9jb21wb3NlLXNjYWxhci5qcycpO1xudmFyIHJlc29sdmVFbmQgPSByZXF1aXJlKCcuL3Jlc29sdmUtZW5kLmpzJyk7XG52YXIgdXRpbEVtcHR5U2NhbGFyUG9zaXRpb24gPSByZXF1aXJlKCcuL3V0aWwtZW1wdHktc2NhbGFyLXBvc2l0aW9uLmpzJyk7XG5cbmNvbnN0IENOID0geyBjb21wb3NlTm9kZSwgY29tcG9zZUVtcHR5Tm9kZSB9O1xuZnVuY3Rpb24gY29tcG9zZU5vZGUoY3R4LCB0b2tlbiwgcHJvcHMsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBhdEtleSA9IGN0eC5hdEtleTtcbiAgICBjb25zdCB7IHNwYWNlQmVmb3JlLCBjb21tZW50LCBhbmNob3IsIHRhZyB9ID0gcHJvcHM7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGlzU3JjVG9rZW4gPSB0cnVlO1xuICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlICdhbGlhcyc6XG4gICAgICAgICAgICBub2RlID0gY29tcG9zZUFsaWFzKGN0eCwgdG9rZW4sIG9uRXJyb3IpO1xuICAgICAgICAgICAgaWYgKGFuY2hvciB8fCB0YWcpXG4gICAgICAgICAgICAgICAgb25FcnJvcih0b2tlbiwgJ0FMSUFTX1BST1BTJywgJ0FuIGFsaWFzIG5vZGUgbXVzdCBub3Qgc3BlY2lmeSBhbnkgcHJvcGVydGllcycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgIGNhc2UgJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgY2FzZSAnZG91YmxlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICBjYXNlICdibG9jay1zY2FsYXInOlxuICAgICAgICAgICAgbm9kZSA9IGNvbXBvc2VTY2FsYXIuY29tcG9zZVNjYWxhcihjdHgsIHRva2VuLCB0YWcsIG9uRXJyb3IpO1xuICAgICAgICAgICAgaWYgKGFuY2hvcilcbiAgICAgICAgICAgICAgICBub2RlLmFuY2hvciA9IGFuY2hvci5zb3VyY2Uuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Jsb2NrLW1hcCc6XG4gICAgICAgIGNhc2UgJ2Jsb2NrLXNlcSc6XG4gICAgICAgIGNhc2UgJ2Zsb3ctY29sbGVjdGlvbic6XG4gICAgICAgICAgICBub2RlID0gY29tcG9zZUNvbGxlY3Rpb24uY29tcG9zZUNvbGxlY3Rpb24oQ04sIGN0eCwgdG9rZW4sIHByb3BzLCBvbkVycm9yKTtcbiAgICAgICAgICAgIGlmIChhbmNob3IpXG4gICAgICAgICAgICAgICAgbm9kZS5hbmNob3IgPSBhbmNob3Iuc291cmNlLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdG9rZW4udHlwZSA9PT0gJ2Vycm9yJ1xuICAgICAgICAgICAgICAgID8gdG9rZW4ubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogYFVuc3VwcG9ydGVkIHRva2VuICh0eXBlOiAke3Rva2VuLnR5cGV9KWA7XG4gICAgICAgICAgICBvbkVycm9yKHRva2VuLCAnVU5FWFBFQ1RFRF9UT0tFTicsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgbm9kZSA9IGNvbXBvc2VFbXB0eU5vZGUoY3R4LCB0b2tlbi5vZmZzZXQsIHVuZGVmaW5lZCwgbnVsbCwgcHJvcHMsIG9uRXJyb3IpO1xuICAgICAgICAgICAgaXNTcmNUb2tlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhbmNob3IgJiYgbm9kZS5hbmNob3IgPT09ICcnKVxuICAgICAgICBvbkVycm9yKGFuY2hvciwgJ0JBRF9BTElBUycsICdBbmNob3IgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZycpO1xuICAgIGlmIChhdEtleSAmJlxuICAgICAgICBjdHgub3B0aW9ucy5zdHJpbmdLZXlzICYmXG4gICAgICAgICghaWRlbnRpdHkuaXNTY2FsYXIobm9kZSkgfHxcbiAgICAgICAgICAgIHR5cGVvZiBub2RlLnZhbHVlICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKG5vZGUudGFnICYmIG5vZGUudGFnICE9PSAndGFnOnlhbWwub3JnLDIwMDI6c3RyJykpKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9ICdXaXRoIHN0cmluZ0tleXMsIGFsbCBrZXlzIG11c3QgYmUgc3RyaW5ncyc7XG4gICAgICAgIG9uRXJyb3IodGFnID8/IHRva2VuLCAnTk9OX1NUUklOR19LRVknLCBtc2cpO1xuICAgIH1cbiAgICBpZiAoc3BhY2VCZWZvcmUpXG4gICAgICAgIG5vZGUuc3BhY2VCZWZvcmUgPSB0cnVlO1xuICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnc2NhbGFyJyAmJiB0b2tlbi5zb3VyY2UgPT09ICcnKVxuICAgICAgICAgICAgbm9kZS5jb21tZW50ID0gY29tbWVudDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbm9kZS5jb21tZW50QmVmb3JlID0gY29tbWVudDtcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUeXBlIGNoZWNraW5nIG1pc3NlcyBtZWFuaW5nIG9mIGlzU3JjVG9rZW5cbiAgICBpZiAoY3R4Lm9wdGlvbnMua2VlcFNvdXJjZVRva2VucyAmJiBpc1NyY1Rva2VuKVxuICAgICAgICBub2RlLnNyY1Rva2VuID0gdG9rZW47XG4gICAgcmV0dXJuIG5vZGU7XG59XG5mdW5jdGlvbiBjb21wb3NlRW1wdHlOb2RlKGN0eCwgb2Zmc2V0LCBiZWZvcmUsIHBvcywgeyBzcGFjZUJlZm9yZSwgY29tbWVudCwgYW5jaG9yLCB0YWcsIGVuZCB9LCBvbkVycm9yKSB7XG4gICAgY29uc3QgdG9rZW4gPSB7XG4gICAgICAgIHR5cGU6ICdzY2FsYXInLFxuICAgICAgICBvZmZzZXQ6IHV0aWxFbXB0eVNjYWxhclBvc2l0aW9uLmVtcHR5U2NhbGFyUG9zaXRpb24ob2Zmc2V0LCBiZWZvcmUsIHBvcyksXG4gICAgICAgIGluZGVudDogLTEsXG4gICAgICAgIHNvdXJjZTogJydcbiAgICB9O1xuICAgIGNvbnN0IG5vZGUgPSBjb21wb3NlU2NhbGFyLmNvbXBvc2VTY2FsYXIoY3R4LCB0b2tlbiwgdGFnLCBvbkVycm9yKTtcbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgIG5vZGUuYW5jaG9yID0gYW5jaG9yLnNvdXJjZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIGlmIChub2RlLmFuY2hvciA9PT0gJycpXG4gICAgICAgICAgICBvbkVycm9yKGFuY2hvciwgJ0JBRF9BTElBUycsICdBbmNob3IgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoc3BhY2VCZWZvcmUpXG4gICAgICAgIG5vZGUuc3BhY2VCZWZvcmUgPSB0cnVlO1xuICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgIG5vZGUuY29tbWVudCA9IGNvbW1lbnQ7XG4gICAgICAgIG5vZGUucmFuZ2VbMl0gPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuZnVuY3Rpb24gY29tcG9zZUFsaWFzKHsgb3B0aW9ucyB9LCB7IG9mZnNldCwgc291cmNlLCBlbmQgfSwgb25FcnJvcikge1xuICAgIGNvbnN0IGFsaWFzID0gbmV3IEFsaWFzLkFsaWFzKHNvdXJjZS5zdWJzdHJpbmcoMSkpO1xuICAgIGlmIChhbGlhcy5zb3VyY2UgPT09ICcnKVxuICAgICAgICBvbkVycm9yKG9mZnNldCwgJ0JBRF9BTElBUycsICdBbGlhcyBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nJyk7XG4gICAgaWYgKGFsaWFzLnNvdXJjZS5lbmRzV2l0aCgnOicpKVxuICAgICAgICBvbkVycm9yKG9mZnNldCArIHNvdXJjZS5sZW5ndGggLSAxLCAnQkFEX0FMSUFTJywgJ0FsaWFzIGVuZGluZyBpbiA6IGlzIGFtYmlndW91cycsIHRydWUpO1xuICAgIGNvbnN0IHZhbHVlRW5kID0gb2Zmc2V0ICsgc291cmNlLmxlbmd0aDtcbiAgICBjb25zdCByZSA9IHJlc29sdmVFbmQucmVzb2x2ZUVuZChlbmQsIHZhbHVlRW5kLCBvcHRpb25zLnN0cmljdCwgb25FcnJvcik7XG4gICAgYWxpYXMucmFuZ2UgPSBbb2Zmc2V0LCB2YWx1ZUVuZCwgcmUub2Zmc2V0XTtcbiAgICBpZiAocmUuY29tbWVudClcbiAgICAgICAgYWxpYXMuY29tbWVudCA9IHJlLmNvbW1lbnQ7XG4gICAgcmV0dXJuIGFsaWFzO1xufVxuXG5leHBvcnRzLmNvbXBvc2VFbXB0eU5vZGUgPSBjb21wb3NlRW1wdHlOb2RlO1xuZXhwb3J0cy5jb21wb3NlTm9kZSA9IGNvbXBvc2VOb2RlO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBEb2N1bWVudCA9IHJlcXVpcmUoJy4uL2RvYy9Eb2N1bWVudC5qcycpO1xudmFyIGNvbXBvc2VOb2RlID0gcmVxdWlyZSgnLi9jb21wb3NlLW5vZGUuanMnKTtcbnZhciByZXNvbHZlRW5kID0gcmVxdWlyZSgnLi9yZXNvbHZlLWVuZC5qcycpO1xudmFyIHJlc29sdmVQcm9wcyA9IHJlcXVpcmUoJy4vcmVzb2x2ZS1wcm9wcy5qcycpO1xuXG5mdW5jdGlvbiBjb21wb3NlRG9jKG9wdGlvbnMsIGRpcmVjdGl2ZXMsIHsgb2Zmc2V0LCBzdGFydCwgdmFsdWUsIGVuZCB9LCBvbkVycm9yKSB7XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBfZGlyZWN0aXZlczogZGlyZWN0aXZlcyB9LCBvcHRpb25zKTtcbiAgICBjb25zdCBkb2MgPSBuZXcgRG9jdW1lbnQuRG9jdW1lbnQodW5kZWZpbmVkLCBvcHRzKTtcbiAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIGF0S2V5OiBmYWxzZSxcbiAgICAgICAgYXRSb290OiB0cnVlLFxuICAgICAgICBkaXJlY3RpdmVzOiBkb2MuZGlyZWN0aXZlcyxcbiAgICAgICAgb3B0aW9uczogZG9jLm9wdGlvbnMsXG4gICAgICAgIHNjaGVtYTogZG9jLnNjaGVtYVxuICAgIH07XG4gICAgY29uc3QgcHJvcHMgPSByZXNvbHZlUHJvcHMucmVzb2x2ZVByb3BzKHN0YXJ0LCB7XG4gICAgICAgIGluZGljYXRvcjogJ2RvYy1zdGFydCcsXG4gICAgICAgIG5leHQ6IHZhbHVlID8/IGVuZD8uWzBdLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICAgIHBhcmVudEluZGVudDogMCxcbiAgICAgICAgc3RhcnRPbk5ld2xpbmU6IHRydWVcbiAgICB9KTtcbiAgICBpZiAocHJvcHMuZm91bmQpIHtcbiAgICAgICAgZG9jLmRpcmVjdGl2ZXMuZG9jU3RhcnQgPSB0cnVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgICh2YWx1ZS50eXBlID09PSAnYmxvY2stbWFwJyB8fCB2YWx1ZS50eXBlID09PSAnYmxvY2stc2VxJykgJiZcbiAgICAgICAgICAgICFwcm9wcy5oYXNOZXdsaW5lKVxuICAgICAgICAgICAgb25FcnJvcihwcm9wcy5lbmQsICdNSVNTSU5HX0NIQVInLCAnQmxvY2sgY29sbGVjdGlvbiBjYW5ub3Qgc3RhcnQgb24gc2FtZSBsaW5lIHdpdGggZGlyZWN0aXZlcy1lbmQgbWFya2VyJyk7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgSWYgQ29udGVudHMgaXMgc2V0LCBsZXQncyB0cnVzdCB0aGUgdXNlclxuICAgIGRvYy5jb250ZW50cyA9IHZhbHVlXG4gICAgICAgID8gY29tcG9zZU5vZGUuY29tcG9zZU5vZGUoY3R4LCB2YWx1ZSwgcHJvcHMsIG9uRXJyb3IpXG4gICAgICAgIDogY29tcG9zZU5vZGUuY29tcG9zZUVtcHR5Tm9kZShjdHgsIHByb3BzLmVuZCwgc3RhcnQsIG51bGwsIHByb3BzLCBvbkVycm9yKTtcbiAgICBjb25zdCBjb250ZW50RW5kID0gZG9jLmNvbnRlbnRzLnJhbmdlWzJdO1xuICAgIGNvbnN0IHJlID0gcmVzb2x2ZUVuZC5yZXNvbHZlRW5kKGVuZCwgY29udGVudEVuZCwgZmFsc2UsIG9uRXJyb3IpO1xuICAgIGlmIChyZS5jb21tZW50KVxuICAgICAgICBkb2MuY29tbWVudCA9IHJlLmNvbW1lbnQ7XG4gICAgZG9jLnJhbmdlID0gW29mZnNldCwgY29udGVudEVuZCwgcmUub2Zmc2V0XTtcbiAgICByZXR1cm4gZG9jO1xufVxuXG5leHBvcnRzLmNvbXBvc2VEb2MgPSBjb21wb3NlRG9jO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBub2RlX3Byb2Nlc3MgPSByZXF1aXJlKCdwcm9jZXNzJyk7XG52YXIgZGlyZWN0aXZlcyA9IHJlcXVpcmUoJy4uL2RvYy9kaXJlY3RpdmVzLmpzJyk7XG52YXIgRG9jdW1lbnQgPSByZXF1aXJlKCcuLi9kb2MvRG9jdW1lbnQuanMnKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCcuLi9lcnJvcnMuanMnKTtcbnZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4uL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgY29tcG9zZURvYyA9IHJlcXVpcmUoJy4vY29tcG9zZS1kb2MuanMnKTtcbnZhciByZXNvbHZlRW5kID0gcmVxdWlyZSgnLi9yZXNvbHZlLWVuZC5qcycpO1xuXG5mdW5jdGlvbiBnZXRFcnJvclBvcyhzcmMpIHtcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gJ251bWJlcicpXG4gICAgICAgIHJldHVybiBbc3JjLCBzcmMgKyAxXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzcmMpKVxuICAgICAgICByZXR1cm4gc3JjLmxlbmd0aCA9PT0gMiA/IHNyYyA6IFtzcmNbMF0sIHNyY1sxXV07XG4gICAgY29uc3QgeyBvZmZzZXQsIHNvdXJjZSB9ID0gc3JjO1xuICAgIHJldHVybiBbb2Zmc2V0LCBvZmZzZXQgKyAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgPyBzb3VyY2UubGVuZ3RoIDogMSldO1xufVxuZnVuY3Rpb24gcGFyc2VQcmVsdWRlKHByZWx1ZGUpIHtcbiAgICBsZXQgY29tbWVudCA9ICcnO1xuICAgIGxldCBhdENvbW1lbnQgPSBmYWxzZTtcbiAgICBsZXQgYWZ0ZXJFbXB0eUxpbmUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWx1ZGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gcHJlbHVkZVtpXTtcbiAgICAgICAgc3dpdGNoIChzb3VyY2VbMF0pIHtcbiAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgIGNvbW1lbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgKGNvbW1lbnQgPT09ICcnID8gJycgOiBhZnRlckVtcHR5TGluZSA/ICdcXG5cXG4nIDogJ1xcbicpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzb3VyY2Uuc3Vic3RyaW5nKDEpIHx8ICcgJyk7XG4gICAgICAgICAgICAgICAgYXRDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhZnRlckVtcHR5TGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgICAgICAgaWYgKHByZWx1ZGVbaSArIDFdPy5bMF0gIT09ICcjJylcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIGF0Q29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1heSBiZSB3cm9uZyBhZnRlciBkb2MtZW5kLCBidXQgaW4gdGhhdCBjYXNlIGl0IGRvZXNuJ3QgbWF0dGVyXG4gICAgICAgICAgICAgICAgaWYgKCFhdENvbW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyRW1wdHlMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhdENvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBjb21tZW50LCBhZnRlckVtcHR5TGluZSB9O1xufVxuLyoqXG4gKiBDb21wb3NlIGEgc3RyZWFtIG9mIENTVCBub2RlcyBpbnRvIGEgc3RyZWFtIG9mIFlBTUwgRG9jdW1lbnRzLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBDb21wb3NlciwgUGFyc2VyIH0gZnJvbSAneWFtbCdcbiAqXG4gKiBjb25zdCBzcmM6IHN0cmluZyA9IC4uLlxuICogY29uc3QgdG9rZW5zID0gbmV3IFBhcnNlcigpLnBhcnNlKHNyYylcbiAqIGNvbnN0IGRvY3MgPSBuZXcgQ29tcG9zZXIoKS5jb21wb3NlKHRva2VucylcbiAqIGBgYFxuICovXG5jbGFzcyBDb21wb3NlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuZG9jID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdERpcmVjdGl2ZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcmVsdWRlID0gW107XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgIHRoaXMud2FybmluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gKHNvdXJjZSwgY29kZSwgbWVzc2FnZSwgd2FybmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gZ2V0RXJyb3JQb3Moc291cmNlKTtcbiAgICAgICAgICAgIGlmICh3YXJuaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMud2FybmluZ3MucHVzaChuZXcgZXJyb3JzLllBTUxXYXJuaW5nKHBvcywgY29kZSwgbWVzc2FnZSkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2gobmV3IGVycm9ycy5ZQU1MUGFyc2VFcnJvcihwb3MsIGNvZGUsIG1lc3NhZ2UpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItbnVsbGlzaC1jb2FsZXNjaW5nXG4gICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IG5ldyBkaXJlY3RpdmVzLkRpcmVjdGl2ZXMoeyB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb24gfHwgJzEuMicgfSk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGRlY29yYXRlKGRvYywgYWZ0ZXJEb2MpIHtcbiAgICAgICAgY29uc3QgeyBjb21tZW50LCBhZnRlckVtcHR5TGluZSB9ID0gcGFyc2VQcmVsdWRlKHRoaXMucHJlbHVkZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coeyBkYzogZG9jLmNvbW1lbnQsIHByZWx1ZGUsIGNvbW1lbnQgfSlcbiAgICAgICAgaWYgKGNvbW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRjID0gZG9jLmNvbnRlbnRzO1xuICAgICAgICAgICAgaWYgKGFmdGVyRG9jKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNvbW1lbnQgPSBkb2MuY29tbWVudCA/IGAke2RvYy5jb21tZW50fVxcbiR7Y29tbWVudH1gIDogY29tbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFmdGVyRW1wdHlMaW5lIHx8IGRvYy5kaXJlY3RpdmVzLmRvY1N0YXJ0IHx8ICFkYykge1xuICAgICAgICAgICAgICAgIGRvYy5jb21tZW50QmVmb3JlID0gY29tbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlkZW50aXR5LmlzQ29sbGVjdGlvbihkYykgJiYgIWRjLmZsb3cgJiYgZGMuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBpdCA9IGRjLml0ZW1zWzBdO1xuICAgICAgICAgICAgICAgIGlmIChpZGVudGl0eS5pc1BhaXIoaXQpKVxuICAgICAgICAgICAgICAgICAgICBpdCA9IGl0LmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IGl0LmNvbW1lbnRCZWZvcmU7XG4gICAgICAgICAgICAgICAgaXQuY29tbWVudEJlZm9yZSA9IGNiID8gYCR7Y29tbWVudH1cXG4ke2NifWAgOiBjb21tZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2IgPSBkYy5jb21tZW50QmVmb3JlO1xuICAgICAgICAgICAgICAgIGRjLmNvbW1lbnRCZWZvcmUgPSBjYiA/IGAke2NvbW1lbnR9XFxuJHtjYn1gIDogY29tbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZ0ZXJEb2MpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGRvYy5lcnJvcnMsIHRoaXMuZXJyb3JzKTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGRvYy53YXJuaW5ncywgdGhpcy53YXJuaW5ncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb2MuZXJyb3JzID0gdGhpcy5lcnJvcnM7XG4gICAgICAgICAgICBkb2Mud2FybmluZ3MgPSB0aGlzLndhcm5pbmdzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlbHVkZSA9IFtdO1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLndhcm5pbmdzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgc3RyZWFtIHN0YXR1cyBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIE1vc3RseSB1c2VmdWwgYXQgdGhlIGVuZCBvZiBpbnB1dCBmb3IgYW4gZW1wdHkgc3RyZWFtLlxuICAgICAqL1xuICAgIHN0cmVhbUluZm8oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21tZW50OiBwYXJzZVByZWx1ZGUodGhpcy5wcmVsdWRlKS5jb21tZW50LFxuICAgICAgICAgICAgZGlyZWN0aXZlczogdGhpcy5kaXJlY3RpdmVzLFxuICAgICAgICAgICAgZXJyb3JzOiB0aGlzLmVycm9ycyxcbiAgICAgICAgICAgIHdhcm5pbmdzOiB0aGlzLndhcm5pbmdzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBvc2UgdG9rZW5zIGludG8gZG9jdW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZvcmNlRG9jIC0gSWYgdGhlIHN0cmVhbSBjb250YWlucyBubyBkb2N1bWVudCwgc3RpbGwgZW1pdCBhIGZpbmFsIGRvY3VtZW50IGluY2x1ZGluZyBhbnkgY29tbWVudHMgYW5kIGRpcmVjdGl2ZXMgdGhhdCB3b3VsZCBiZSBhcHBsaWVkIHRvIGEgc3Vic2VxdWVudCBkb2N1bWVudC5cbiAgICAgKiBAcGFyYW0gZW5kT2Zmc2V0IC0gU2hvdWxkIGJlIHNldCBpZiBgZm9yY2VEb2NgIGlzIGFsc28gc2V0LCB0byBzZXQgdGhlIGRvY3VtZW50IHJhbmdlIGVuZCBhbmQgdG8gaW5kaWNhdGUgZXJyb3JzIGNvcnJlY3RseS5cbiAgICAgKi9cbiAgICAqY29tcG9zZSh0b2tlbnMsIGZvcmNlRG9jID0gZmFsc2UsIGVuZE9mZnNldCA9IC0xKSB7XG4gICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKVxuICAgICAgICAgICAgeWllbGQqIHRoaXMubmV4dCh0b2tlbik7XG4gICAgICAgIHlpZWxkKiB0aGlzLmVuZChmb3JjZURvYywgZW5kT2Zmc2V0KTtcbiAgICB9XG4gICAgLyoqIEFkdmFuY2UgdGhlIGNvbXBvc2VyIGJ5IG9uZSBDU1QgdG9rZW4uICovXG4gICAgKm5leHQodG9rZW4pIHtcbiAgICAgICAgaWYgKG5vZGVfcHJvY2Vzcy5lbnYuTE9HX1NUUkVBTSlcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRva2VuLCB7IGRlcHRoOiBudWxsIH0pO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RpcmVjdGl2ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJlY3RpdmVzLmFkZCh0b2tlbi5zb3VyY2UsIChvZmZzZXQsIG1lc3NhZ2UsIHdhcm5pbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zID0gZ2V0RXJyb3JQb3ModG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBwb3NbMF0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IocG9zLCAnQkFEX0RJUkVDVElWRScsIG1lc3NhZ2UsIHdhcm5pbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucHJlbHVkZS5wdXNoKHRva2VuLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdERpcmVjdGl2ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnQnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jID0gY29tcG9zZURvYy5jb21wb3NlRG9jKHRoaXMub3B0aW9ucywgdGhpcy5kaXJlY3RpdmVzLCB0b2tlbiwgdGhpcy5vbkVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdERpcmVjdGl2ZXMgJiYgIWRvYy5kaXJlY3RpdmVzLmRvY1N0YXJ0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IodG9rZW4sICdNSVNTSU5HX0NIQVInLCAnTWlzc2luZyBkaXJlY3RpdmVzLWVuZC9kb2Mtc3RhcnQgaW5kaWNhdG9yIGxpbmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRlKGRvYywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvYylcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgdGhpcy5kb2M7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgICAgICAgICAgICAgdGhpcy5hdERpcmVjdGl2ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2J5dGUtb3JkZXItbWFyayc6XG4gICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgIHRoaXMucHJlbHVkZS5wdXNoKHRva2VuLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB0b2tlbi5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgPyBgJHt0b2tlbi5tZXNzYWdlfTogJHtKU09OLnN0cmluZ2lmeSh0b2tlbi5zb3VyY2UpfWBcbiAgICAgICAgICAgICAgICAgICAgOiB0b2tlbi5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGVycm9ycy5ZQU1MUGFyc2VFcnJvcihnZXRFcnJvclBvcyh0b2tlbiksICdVTkVYUEVDVEVEX1RPS0VOJywgbXNnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdERpcmVjdGl2ZXMgfHwgIXRoaXMuZG9jKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLmVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2RvYy1lbmQnOiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRvYykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSAnVW5leHBlY3RlZCBkb2MtZW5kIHdpdGhvdXQgcHJlY2VkaW5nIGRvY3VtZW50JztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChuZXcgZXJyb3JzLllBTUxQYXJzZUVycm9yKGdldEVycm9yUG9zKHRva2VuKSwgJ1VORVhQRUNURURfVE9LRU4nLCBtc2cpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZG9jLmRpcmVjdGl2ZXMuZG9jRW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSByZXNvbHZlRW5kLnJlc29sdmVFbmQodG9rZW4uZW5kLCB0b2tlbi5vZmZzZXQgKyB0b2tlbi5zb3VyY2UubGVuZ3RoLCB0aGlzLmRvYy5vcHRpb25zLnN0cmljdCwgdGhpcy5vbkVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlY29yYXRlKHRoaXMuZG9jLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kLmNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGMgPSB0aGlzLmRvYy5jb21tZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvYy5jb21tZW50ID0gZGMgPyBgJHtkY31cXG4ke2VuZC5jb21tZW50fWAgOiBlbmQuY29tbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kb2MucmFuZ2VbMl0gPSBlbmQub2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKG5ldyBlcnJvcnMuWUFNTFBhcnNlRXJyb3IoZ2V0RXJyb3JQb3ModG9rZW4pLCAnVU5FWFBFQ1RFRF9UT0tFTicsIGBVbnN1cHBvcnRlZCB0b2tlbiAke3Rva2VuLnR5cGV9YCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgYXQgZW5kIG9mIGlucHV0IHRvIHlpZWxkIGFueSByZW1haW5pbmcgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm9yY2VEb2MgLSBJZiB0aGUgc3RyZWFtIGNvbnRhaW5zIG5vIGRvY3VtZW50LCBzdGlsbCBlbWl0IGEgZmluYWwgZG9jdW1lbnQgaW5jbHVkaW5nIGFueSBjb21tZW50cyBhbmQgZGlyZWN0aXZlcyB0aGF0IHdvdWxkIGJlIGFwcGxpZWQgdG8gYSBzdWJzZXF1ZW50IGRvY3VtZW50LlxuICAgICAqIEBwYXJhbSBlbmRPZmZzZXQgLSBTaG91bGQgYmUgc2V0IGlmIGBmb3JjZURvY2AgaXMgYWxzbyBzZXQsIHRvIHNldCB0aGUgZG9jdW1lbnQgcmFuZ2UgZW5kIGFuZCB0byBpbmRpY2F0ZSBlcnJvcnMgY29ycmVjdGx5LlxuICAgICAqL1xuICAgICplbmQoZm9yY2VEb2MgPSBmYWxzZSwgZW5kT2Zmc2V0ID0gLTEpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9jKSB7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRlKHRoaXMuZG9jLCB0cnVlKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuZG9jO1xuICAgICAgICAgICAgdGhpcy5kb2MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlRG9jKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IF9kaXJlY3RpdmVzOiB0aGlzLmRpcmVjdGl2ZXMgfSwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudC5Eb2N1bWVudCh1bmRlZmluZWQsIG9wdHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXREaXJlY3RpdmVzKVxuICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihlbmRPZmZzZXQsICdNSVNTSU5HX0NIQVInLCAnTWlzc2luZyBkaXJlY3RpdmVzLWVuZCBpbmRpY2F0b3IgbGluZScpO1xuICAgICAgICAgICAgZG9jLnJhbmdlID0gWzAsIGVuZE9mZnNldCwgZW5kT2Zmc2V0XTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGUoZG9jLCBmYWxzZSk7XG4gICAgICAgICAgICB5aWVsZCBkb2M7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydHMuQ29tcG9zZXIgPSBDb21wb3NlcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVzb2x2ZUJsb2NrU2NhbGFyID0gcmVxdWlyZSgnLi4vY29tcG9zZS9yZXNvbHZlLWJsb2NrLXNjYWxhci5qcycpO1xudmFyIHJlc29sdmVGbG93U2NhbGFyID0gcmVxdWlyZSgnLi4vY29tcG9zZS9yZXNvbHZlLWZsb3ctc2NhbGFyLmpzJyk7XG52YXIgZXJyb3JzID0gcmVxdWlyZSgnLi4vZXJyb3JzLmpzJyk7XG52YXIgc3RyaW5naWZ5U3RyaW5nID0gcmVxdWlyZSgnLi4vc3RyaW5naWZ5L3N0cmluZ2lmeVN0cmluZy5qcycpO1xuXG5mdW5jdGlvbiByZXNvbHZlQXNTY2FsYXIodG9rZW4sIHN0cmljdCA9IHRydWUsIG9uRXJyb3IpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY29uc3QgX29uRXJyb3IgPSAocG9zLCBjb2RlLCBtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0eXBlb2YgcG9zID09PSAnbnVtYmVyJyA/IHBvcyA6IEFycmF5LmlzQXJyYXkocG9zKSA/IHBvc1swXSA6IHBvcy5vZmZzZXQ7XG4gICAgICAgICAgICBpZiAob25FcnJvcilcbiAgICAgICAgICAgICAgICBvbkVycm9yKG9mZnNldCwgY29kZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5ZQU1MUGFyc2VFcnJvcihbb2Zmc2V0LCBvZmZzZXQgKyAxXSwgY29kZSwgbWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICAgIGNhc2UgJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgIGNhc2UgJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZsb3dTY2FsYXIucmVzb2x2ZUZsb3dTY2FsYXIodG9rZW4sIHN0cmljdCwgX29uRXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnYmxvY2stc2NhbGFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUJsb2NrU2NhbGFyLnJlc29sdmVCbG9ja1NjYWxhcih7IG9wdGlvbnM6IHsgc3RyaWN0IH0gfSwgdG9rZW4sIF9vbkVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHNjYWxhciB0b2tlbiB3aXRoIGB2YWx1ZWBcbiAqXG4gKiBWYWx1ZXMgdGhhdCByZXByZXNlbnQgYW4gYWN0dWFsIHN0cmluZyBidXQgbWF5IGJlIHBhcnNlZCBhcyBhIGRpZmZlcmVudCB0eXBlIHNob3VsZCB1c2UgYSBgdHlwZWAgb3RoZXIgdGhhbiBgJ1BMQUlOJ2AsXG4gKiBhcyB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgYW55IHNjaGVtYSBvcGVyYXRpb25zIGFuZCB3b24ndCBjaGVjayBmb3Igc3VjaCBjb25mbGljdHMuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZhbHVlLCB3aGljaCB3aWxsIGhhdmUgaXRzIGNvbnRlbnQgcHJvcGVybHkgaW5kZW50ZWQuXG4gKiBAcGFyYW0gY29udGV4dC5lbmQgQ29tbWVudHMgYW5kIHdoaXRlc3BhY2UgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgdmFsdWUsIG9yIGFmdGVyIHRoZSBibG9jayBzY2FsYXIgaGVhZGVyLiBJZiB1bmRlZmluZWQsIGEgbmV3bGluZSB3aWxsIGJlIGFkZGVkLlxuICogQHBhcmFtIGNvbnRleHQuaW1wbGljaXRLZXkgQmVpbmcgd2l0aGluIGFuIGltcGxpY2l0IGtleSBtYXkgYWZmZWN0IHRoZSByZXNvbHZlZCB0eXBlIG9mIHRoZSB0b2tlbidzIHZhbHVlLlxuICogQHBhcmFtIGNvbnRleHQuaW5kZW50IFRoZSBpbmRlbnQgbGV2ZWwgb2YgdGhlIHRva2VuLlxuICogQHBhcmFtIGNvbnRleHQuaW5GbG93IElzIHRoaXMgc2NhbGFyIHdpdGhpbiBhIGZsb3cgY29sbGVjdGlvbj8gVGhpcyBtYXkgYWZmZWN0IHRoZSByZXNvbHZlZCB0eXBlIG9mIHRoZSB0b2tlbidzIHZhbHVlLlxuICogQHBhcmFtIGNvbnRleHQub2Zmc2V0IFRoZSBvZmZzZXQgcG9zaXRpb24gb2YgdGhlIHRva2VuLlxuICogQHBhcmFtIGNvbnRleHQudHlwZSBUaGUgcHJlZmVycmVkIHR5cGUgb2YgdGhlIHNjYWxhciB0b2tlbi4gSWYgdW5kZWZpbmVkLCB0aGUgcHJldmlvdXMgdHlwZSBvZiB0aGUgYHRva2VuYCB3aWxsIGJlIHVzZWQsIGRlZmF1bHRpbmcgdG8gYCdQTEFJTidgLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTY2FsYXJUb2tlbih2YWx1ZSwgY29udGV4dCkge1xuICAgIGNvbnN0IHsgaW1wbGljaXRLZXkgPSBmYWxzZSwgaW5kZW50LCBpbkZsb3cgPSBmYWxzZSwgb2Zmc2V0ID0gLTEsIHR5cGUgPSAnUExBSU4nIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHNvdXJjZSA9IHN0cmluZ2lmeVN0cmluZy5zdHJpbmdpZnlTdHJpbmcoeyB0eXBlLCB2YWx1ZSB9LCB7XG4gICAgICAgIGltcGxpY2l0S2V5LFxuICAgICAgICBpbmRlbnQ6IGluZGVudCA+IDAgPyAnICcucmVwZWF0KGluZGVudCkgOiAnJyxcbiAgICAgICAgaW5GbG93LFxuICAgICAgICBvcHRpb25zOiB7IGJsb2NrUXVvdGU6IHRydWUsIGxpbmVXaWR0aDogLTEgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVuZCA9IGNvbnRleHQuZW5kID8/IFtcbiAgICAgICAgeyB0eXBlOiAnbmV3bGluZScsIG9mZnNldDogLTEsIGluZGVudCwgc291cmNlOiAnXFxuJyB9XG4gICAgXTtcbiAgICBzd2l0Y2ggKHNvdXJjZVswXSkge1xuICAgICAgICBjYXNlICd8JzpcbiAgICAgICAgY2FzZSAnPic6IHtcbiAgICAgICAgICAgIGNvbnN0IGhlID0gc291cmNlLmluZGV4T2YoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgaGVhZCA9IHNvdXJjZS5zdWJzdHJpbmcoMCwgaGUpO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHNvdXJjZS5zdWJzdHJpbmcoaGUgKyAxKSArICdcXG4nO1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSBbXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAnYmxvY2stc2NhbGFyLWhlYWRlcicsIG9mZnNldCwgaW5kZW50LCBzb3VyY2U6IGhlYWQgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICghYWRkRW5kdG9CbG9ja1Byb3BzKHByb3BzLCBlbmQpKVxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2goeyB0eXBlOiAnbmV3bGluZScsIG9mZnNldDogLTEsIGluZGVudCwgc291cmNlOiAnXFxuJyB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdibG9jay1zY2FsYXInLCBvZmZzZXQsIGluZGVudCwgcHJvcHMsIHNvdXJjZTogYm9keSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdkb3VibGUtcXVvdGVkLXNjYWxhcicsIG9mZnNldCwgaW5kZW50LCBzb3VyY2UsIGVuZCB9O1xuICAgICAgICBjYXNlIFwiJ1wiOlxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJywgb2Zmc2V0LCBpbmRlbnQsIHNvdXJjZSwgZW5kIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnc2NhbGFyJywgb2Zmc2V0LCBpbmRlbnQsIHNvdXJjZSwgZW5kIH07XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgdGhlIHZhbHVlIG9mIGB0b2tlbmAgdG8gdGhlIGdpdmVuIHN0cmluZyBgdmFsdWVgLCBvdmVyd3JpdGluZyBhbnkgcHJldmlvdXMgY29udGVudHMgYW5kIHR5cGUgdGhhdCBpdCBtYXkgaGF2ZS5cbiAqXG4gKiBCZXN0IGVmZm9ydHMgYXJlIG1hZGUgdG8gcmV0YWluIGFueSBjb21tZW50cyBwcmV2aW91c2x5IGFzc29jaWF0ZWQgd2l0aCB0aGUgYHRva2VuYCxcbiAqIHRob3VnaCBhbGwgY29udGVudHMgd2l0aGluIGEgY29sbGVjdGlvbidzIGBpdGVtc2Agd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAqXG4gKiBWYWx1ZXMgdGhhdCByZXByZXNlbnQgYW4gYWN0dWFsIHN0cmluZyBidXQgbWF5IGJlIHBhcnNlZCBhcyBhIGRpZmZlcmVudCB0eXBlIHNob3VsZCB1c2UgYSBgdHlwZWAgb3RoZXIgdGhhbiBgJ1BMQUlOJ2AsXG4gKiBhcyB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgYW55IHNjaGVtYSBvcGVyYXRpb25zIGFuZCB3b24ndCBjaGVjayBmb3Igc3VjaCBjb25mbGljdHMuXG4gKlxuICogQHBhcmFtIHRva2VuIEFueSB0b2tlbi4gSWYgaXQgZG9lcyBub3QgaW5jbHVkZSBhbiBgaW5kZW50YCB2YWx1ZSwgdGhlIHZhbHVlIHdpbGwgYmUgc3RyaW5naWZpZWQgYXMgaWYgaXQgd2VyZSBhbiBpbXBsaWNpdCBrZXkuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmFsdWUsIHdoaWNoIHdpbGwgaGF2ZSBpdHMgY29udGVudCBwcm9wZXJseSBpbmRlbnRlZC5cbiAqIEBwYXJhbSBjb250ZXh0LmFmdGVyS2V5IEluIG1vc3QgY2FzZXMsIHZhbHVlcyBhZnRlciBhIGtleSBzaG91bGQgaGF2ZSBhbiBhZGRpdGlvbmFsIGxldmVsIG9mIGluZGVudGF0aW9uLlxuICogQHBhcmFtIGNvbnRleHQuaW1wbGljaXRLZXkgQmVpbmcgd2l0aGluIGFuIGltcGxpY2l0IGtleSBtYXkgYWZmZWN0IHRoZSByZXNvbHZlZCB0eXBlIG9mIHRoZSB0b2tlbidzIHZhbHVlLlxuICogQHBhcmFtIGNvbnRleHQuaW5GbG93IEJlaW5nIHdpdGhpbiBhIGZsb3cgY29sbGVjdGlvbiBtYXkgYWZmZWN0IHRoZSByZXNvbHZlZCB0eXBlIG9mIHRoZSB0b2tlbidzIHZhbHVlLlxuICogQHBhcmFtIGNvbnRleHQudHlwZSBUaGUgcHJlZmVycmVkIHR5cGUgb2YgdGhlIHNjYWxhciB0b2tlbi4gSWYgdW5kZWZpbmVkLCB0aGUgcHJldmlvdXMgdHlwZSBvZiB0aGUgYHRva2VuYCB3aWxsIGJlIHVzZWQsIGRlZmF1bHRpbmcgdG8gYCdQTEFJTidgLlxuICovXG5mdW5jdGlvbiBzZXRTY2FsYXJWYWx1ZSh0b2tlbiwgdmFsdWUsIGNvbnRleHQgPSB7fSkge1xuICAgIGxldCB7IGFmdGVyS2V5ID0gZmFsc2UsIGltcGxpY2l0S2V5ID0gZmFsc2UsIGluRmxvdyA9IGZhbHNlLCB0eXBlIH0gPSBjb250ZXh0O1xuICAgIGxldCBpbmRlbnQgPSAnaW5kZW50JyBpbiB0b2tlbiA/IHRva2VuLmluZGVudCA6IG51bGw7XG4gICAgaWYgKGFmdGVyS2V5ICYmIHR5cGVvZiBpbmRlbnQgPT09ICdudW1iZXInKVxuICAgICAgICBpbmRlbnQgKz0gMjtcbiAgICBpZiAoIXR5cGUpXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgICAgIHR5cGUgPSAnUVVPVEVfU0lOR0xFJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgICAgICB0eXBlID0gJ1FVT1RFX0RPVUJMRSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdibG9jay1zY2FsYXInOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gdG9rZW4ucHJvcHNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSAnYmxvY2stc2NhbGFyLWhlYWRlcicpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBibG9jayBzY2FsYXIgaGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgdHlwZSA9IGhlYWRlci5zb3VyY2VbMF0gPT09ICc+JyA/ICdCTE9DS19GT0xERUQnIDogJ0JMT0NLX0xJVEVSQUwnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0eXBlID0gJ1BMQUlOJztcbiAgICAgICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHN0cmluZ2lmeVN0cmluZy5zdHJpbmdpZnlTdHJpbmcoeyB0eXBlLCB2YWx1ZSB9LCB7XG4gICAgICAgIGltcGxpY2l0S2V5OiBpbXBsaWNpdEtleSB8fCBpbmRlbnQgPT09IG51bGwsXG4gICAgICAgIGluZGVudDogaW5kZW50ICE9PSBudWxsICYmIGluZGVudCA+IDAgPyAnICcucmVwZWF0KGluZGVudCkgOiAnJyxcbiAgICAgICAgaW5GbG93LFxuICAgICAgICBvcHRpb25zOiB7IGJsb2NrUXVvdGU6IHRydWUsIGxpbmVXaWR0aDogLTEgfVxuICAgIH0pO1xuICAgIHN3aXRjaCAoc291cmNlWzBdKSB7XG4gICAgICAgIGNhc2UgJ3wnOlxuICAgICAgICBjYXNlICc+JzpcbiAgICAgICAgICAgIHNldEJsb2NrU2NhbGFyVmFsdWUodG9rZW4sIHNvdXJjZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgc2V0Rmxvd1NjYWxhclZhbHVlKHRva2VuLCBzb3VyY2UsICdkb3VibGUtcXVvdGVkLXNjYWxhcicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCInXCI6XG4gICAgICAgICAgICBzZXRGbG93U2NhbGFyVmFsdWUodG9rZW4sIHNvdXJjZSwgJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHNldEZsb3dTY2FsYXJWYWx1ZSh0b2tlbiwgc291cmNlLCAnc2NhbGFyJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0QmxvY2tTY2FsYXJWYWx1ZSh0b2tlbiwgc291cmNlKSB7XG4gICAgY29uc3QgaGUgPSBzb3VyY2UuaW5kZXhPZignXFxuJyk7XG4gICAgY29uc3QgaGVhZCA9IHNvdXJjZS5zdWJzdHJpbmcoMCwgaGUpO1xuICAgIGNvbnN0IGJvZHkgPSBzb3VyY2Uuc3Vic3RyaW5nKGhlICsgMSkgKyAnXFxuJztcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2Jsb2NrLXNjYWxhcicpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdG9rZW4ucHJvcHNbMF07XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gJ2Jsb2NrLXNjYWxhci1oZWFkZXInKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJsb2NrIHNjYWxhciBoZWFkZXInKTtcbiAgICAgICAgaGVhZGVyLnNvdXJjZSA9IGhlYWQ7XG4gICAgICAgIHRva2VuLnNvdXJjZSA9IGJvZHk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB7IG9mZnNldCB9ID0gdG9rZW47XG4gICAgICAgIGNvbnN0IGluZGVudCA9ICdpbmRlbnQnIGluIHRva2VuID8gdG9rZW4uaW5kZW50IDogLTE7XG4gICAgICAgIGNvbnN0IHByb3BzID0gW1xuICAgICAgICAgICAgeyB0eXBlOiAnYmxvY2stc2NhbGFyLWhlYWRlcicsIG9mZnNldCwgaW5kZW50LCBzb3VyY2U6IGhlYWQgfVxuICAgICAgICBdO1xuICAgICAgICBpZiAoIWFkZEVuZHRvQmxvY2tQcm9wcyhwcm9wcywgJ2VuZCcgaW4gdG9rZW4gPyB0b2tlbi5lbmQgOiB1bmRlZmluZWQpKVxuICAgICAgICAgICAgcHJvcHMucHVzaCh7IHR5cGU6ICduZXdsaW5lJywgb2Zmc2V0OiAtMSwgaW5kZW50LCBzb3VyY2U6ICdcXG4nIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0b2tlbikpXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAndHlwZScgJiYga2V5ICE9PSAnb2Zmc2V0JylcbiAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW5ba2V5XTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0b2tlbiwgeyB0eXBlOiAnYmxvY2stc2NhbGFyJywgaW5kZW50LCBwcm9wcywgc291cmNlOiBib2R5IH0pO1xuICAgIH1cbn1cbi8qKiBAcmV0dXJucyBgdHJ1ZWAgaWYgbGFzdCB0b2tlbiBpcyBhIG5ld2xpbmUgKi9cbmZ1bmN0aW9uIGFkZEVuZHRvQmxvY2tQcm9wcyhwcm9wcywgZW5kKSB7XG4gICAgaWYgKGVuZClcbiAgICAgICAgZm9yIChjb25zdCBzdCBvZiBlbmQpXG4gICAgICAgICAgICBzd2l0Y2ggKHN0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnB1c2goc3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucHVzaChzdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHNldEZsb3dTY2FsYXJWYWx1ZSh0b2tlbiwgc291cmNlLCB0eXBlKSB7XG4gICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgIGNhc2UgJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgdG9rZW4udHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB0b2tlbi5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmxvY2stc2NhbGFyJzoge1xuICAgICAgICAgICAgY29uc3QgZW5kID0gdG9rZW4ucHJvcHMuc2xpY2UoMSk7XG4gICAgICAgICAgICBsZXQgb2EgPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRva2VuLnByb3BzWzBdLnR5cGUgPT09ICdibG9jay1zY2FsYXItaGVhZGVyJylcbiAgICAgICAgICAgICAgICBvYSAtPSB0b2tlbi5wcm9wc1swXS5zb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b2sgb2YgZW5kKVxuICAgICAgICAgICAgICAgIHRvay5vZmZzZXQgKz0gb2E7XG4gICAgICAgICAgICBkZWxldGUgdG9rZW4ucHJvcHM7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRva2VuLCB7IHR5cGUsIHNvdXJjZSwgZW5kIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYmxvY2stbWFwJzpcbiAgICAgICAgY2FzZSAnYmxvY2stc2VxJzoge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdG9rZW4ub2Zmc2V0ICsgc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG5sID0geyB0eXBlOiAnbmV3bGluZScsIG9mZnNldCwgaW5kZW50OiB0b2tlbi5pbmRlbnQsIHNvdXJjZTogJ1xcbicgfTtcbiAgICAgICAgICAgIGRlbGV0ZSB0b2tlbi5pdGVtcztcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG9rZW4sIHsgdHlwZSwgc291cmNlLCBlbmQ6IFtubF0gfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBpbmRlbnQgPSAnaW5kZW50JyBpbiB0b2tlbiA/IHRva2VuLmluZGVudCA6IC0xO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gJ2VuZCcgaW4gdG9rZW4gJiYgQXJyYXkuaXNBcnJheSh0b2tlbi5lbmQpXG4gICAgICAgICAgICAgICAgPyB0b2tlbi5lbmQuZmlsdGVyKHN0ID0+IHN0LnR5cGUgPT09ICdzcGFjZScgfHxcbiAgICAgICAgICAgICAgICAgICAgc3QudHlwZSA9PT0gJ2NvbW1lbnQnIHx8XG4gICAgICAgICAgICAgICAgICAgIHN0LnR5cGUgPT09ICduZXdsaW5lJylcbiAgICAgICAgICAgICAgICA6IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModG9rZW4pKVxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICd0eXBlJyAmJiBrZXkgIT09ICdvZmZzZXQnKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW5ba2V5XTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG9rZW4sIHsgdHlwZSwgaW5kZW50LCBzb3VyY2UsIGVuZCB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0cy5jcmVhdGVTY2FsYXJUb2tlbiA9IGNyZWF0ZVNjYWxhclRva2VuO1xuZXhwb3J0cy5yZXNvbHZlQXNTY2FsYXIgPSByZXNvbHZlQXNTY2FsYXI7XG5leHBvcnRzLnNldFNjYWxhclZhbHVlID0gc2V0U2NhbGFyVmFsdWU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTdHJpbmdpZnkgYSBDU1QgZG9jdW1lbnQsIHRva2VuLCBvciBjb2xsZWN0aW9uIGl0ZW1cbiAqXG4gKiBGYWlyIHdhcm5pbmc6IFRoaXMgYXBwbGllcyBubyB2YWxpZGF0aW9uIHdoYXRzb2V2ZXIsIGFuZFxuICogc2ltcGx5IGNvbmNhdGVuYXRlcyB0aGUgc291cmNlcyBpbiB0aGVpciBsb2dpY2FsIG9yZGVyLlxuICovXG5jb25zdCBzdHJpbmdpZnkgPSAoY3N0KSA9PiAndHlwZScgaW4gY3N0ID8gc3RyaW5naWZ5VG9rZW4oY3N0KSA6IHN0cmluZ2lmeUl0ZW0oY3N0KTtcbmZ1bmN0aW9uIHN0cmluZ2lmeVRva2VuKHRva2VuKSB7XG4gICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Jsb2NrLXNjYWxhcic6IHtcbiAgICAgICAgICAgIGxldCByZXMgPSAnJztcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9rIG9mIHRva2VuLnByb3BzKVxuICAgICAgICAgICAgICAgIHJlcyArPSBzdHJpbmdpZnlUb2tlbih0b2spO1xuICAgICAgICAgICAgcmV0dXJuIHJlcyArIHRva2VuLnNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdibG9jay1tYXAnOlxuICAgICAgICBjYXNlICdibG9jay1zZXEnOiB7XG4gICAgICAgICAgICBsZXQgcmVzID0gJyc7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdG9rZW4uaXRlbXMpXG4gICAgICAgICAgICAgICAgcmVzICs9IHN0cmluZ2lmeUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Zsb3ctY29sbGVjdGlvbic6IHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0b2tlbi5zdGFydC5zb3VyY2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdG9rZW4uaXRlbXMpXG4gICAgICAgICAgICAgICAgcmVzICs9IHN0cmluZ2lmeUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0IG9mIHRva2VuLmVuZClcbiAgICAgICAgICAgICAgICByZXMgKz0gc3Quc291cmNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdkb2N1bWVudCc6IHtcbiAgICAgICAgICAgIGxldCByZXMgPSBzdHJpbmdpZnlJdGVtKHRva2VuKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi5lbmQpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdCBvZiB0b2tlbi5lbmQpXG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSBzdC5zb3VyY2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0b2tlbi5zb3VyY2U7XG4gICAgICAgICAgICBpZiAoJ2VuZCcgaW4gdG9rZW4gJiYgdG9rZW4uZW5kKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Qgb2YgdG9rZW4uZW5kKVxuICAgICAgICAgICAgICAgICAgICByZXMgKz0gc3Quc291cmNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUl0ZW0oeyBzdGFydCwga2V5LCBzZXAsIHZhbHVlIH0pIHtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgZm9yIChjb25zdCBzdCBvZiBzdGFydClcbiAgICAgICAgcmVzICs9IHN0LnNvdXJjZTtcbiAgICBpZiAoa2V5KVxuICAgICAgICByZXMgKz0gc3RyaW5naWZ5VG9rZW4oa2V5KTtcbiAgICBpZiAoc2VwKVxuICAgICAgICBmb3IgKGNvbnN0IHN0IG9mIHNlcClcbiAgICAgICAgICAgIHJlcyArPSBzdC5zb3VyY2U7XG4gICAgaWYgKHZhbHVlKVxuICAgICAgICByZXMgKz0gc3RyaW5naWZ5VG9rZW4odmFsdWUpO1xuICAgIHJldHVybiByZXM7XG59XG5cbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEJSRUFLID0gU3ltYm9sKCdicmVhayB2aXNpdCcpO1xuY29uc3QgU0tJUCA9IFN5bWJvbCgnc2tpcCBjaGlsZHJlbicpO1xuY29uc3QgUkVNT1ZFID0gU3ltYm9sKCdyZW1vdmUgaXRlbScpO1xuLyoqXG4gKiBBcHBseSBhIHZpc2l0b3IgdG8gYSBDU1QgZG9jdW1lbnQgb3IgaXRlbS5cbiAqXG4gKiBXYWxrcyB0aHJvdWdoIHRoZSB0cmVlIChkZXB0aC1maXJzdCkgc3RhcnRpbmcgZnJvbSB0aGUgcm9vdCwgY2FsbGluZyBhXG4gKiBgdmlzaXRvcmAgZnVuY3Rpb24gd2l0aCB0d28gYXJndW1lbnRzIHdoZW4gZW50ZXJpbmcgZWFjaCBpdGVtOlxuICogICAtIGBpdGVtYDogVGhlIGN1cnJlbnQgaXRlbSwgd2hpY2ggaW5jbHVkZWQgdGhlIGZvbGxvd2luZyBtZW1iZXJzOlxuICogICAgIC0gYHN0YXJ0OiBTb3VyY2VUb2tlbltdYCDigJMgU291cmNlIHRva2VucyBiZWZvcmUgdGhlIGtleSBvciB2YWx1ZSxcbiAqICAgICAgIHBvc3NpYmx5IGluY2x1ZGluZyBpdHMgYW5jaG9yIG9yIHRhZy5cbiAqICAgICAtIGBrZXk/OiBUb2tlbiB8IG51bGxgIOKAkyBTZXQgZm9yIHBhaXIgdmFsdWVzLiBNYXkgdGhlbiBiZSBgbnVsbGAsIGlmXG4gKiAgICAgICB0aGUga2V5IGJlZm9yZSB0aGUgYDpgIHNlcGFyYXRvciBpcyBlbXB0eS5cbiAqICAgICAtIGBzZXA/OiBTb3VyY2VUb2tlbltdYCDigJMgU291cmNlIHRva2VucyBiZXR3ZWVuIHRoZSBrZXkgYW5kIHRoZSB2YWx1ZSxcbiAqICAgICAgIHdoaWNoIHNob3VsZCBpbmNsdWRlIHRoZSBgOmAgbWFwIHZhbHVlIGluZGljYXRvciBpZiBgdmFsdWVgIGlzIHNldC5cbiAqICAgICAtIGB2YWx1ZT86IFRva2VuYCDigJMgVGhlIHZhbHVlIG9mIGEgc2VxdWVuY2UgaXRlbSwgb3Igb2YgYSBtYXAgcGFpci5cbiAqICAgLSBgcGF0aGA6IFRoZSBzdGVwcyBmcm9tIHRoZSByb290IHRvIHRoZSBjdXJyZW50IG5vZGUsIGFzIGFuIGFycmF5IG9mXG4gKiAgICAgYFsna2V5JyB8ICd2YWx1ZScsIG51bWJlcl1gIHR1cGxlcy5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSB2aXNpdG9yIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgdGhlIHRyYXZlcnNhbDpcbiAqICAgLSBgdW5kZWZpbmVkYCAoZGVmYXVsdCk6IERvIG5vdGhpbmcgYW5kIGNvbnRpbnVlXG4gKiAgIC0gYHZpc2l0LlNLSVBgOiBEbyBub3QgdmlzaXQgdGhlIGNoaWxkcmVuIG9mIHRoaXMgdG9rZW4sIGNvbnRpbnVlIHdpdGhcbiAqICAgICAgbmV4dCBzaWJsaW5nXG4gKiAgIC0gYHZpc2l0LkJSRUFLYDogVGVybWluYXRlIHRyYXZlcnNhbCBjb21wbGV0ZWx5XG4gKiAgIC0gYHZpc2l0LlJFTU9WRWA6IFJlbW92ZSB0aGUgY3VycmVudCBpdGVtLCB0aGVuIGNvbnRpbnVlIHdpdGggdGhlIG5leHQgb25lXG4gKiAgIC0gYG51bWJlcmA6IFNldCB0aGUgaW5kZXggb2YgdGhlIG5leHQgc3RlcC4gVGhpcyBpcyB1c2VmdWwgZXNwZWNpYWxseSBpZlxuICogICAgIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudCB0b2tlbiBoYXMgY2hhbmdlZC5cbiAqICAgLSBgZnVuY3Rpb25gOiBEZWZpbmUgdGhlIG5leHQgdmlzaXRvciBmb3IgdGhpcyBpdGVtLiBBZnRlciB0aGUgb3JpZ2luYWxcbiAqICAgICB2aXNpdG9yIGlzIGNhbGxlZCBvbiBpdGVtIGVudHJ5LCBuZXh0IHZpc2l0b3JzIGFyZSBjYWxsZWQgYWZ0ZXIgaGFuZGxpbmdcbiAqICAgICBhIG5vbi1lbXB0eSBga2V5YCBhbmQgd2hlbiBleGl0aW5nIHRoZSBpdGVtLlxuICovXG5mdW5jdGlvbiB2aXNpdChjc3QsIHZpc2l0b3IpIHtcbiAgICBpZiAoJ3R5cGUnIGluIGNzdCAmJiBjc3QudHlwZSA9PT0gJ2RvY3VtZW50JylcbiAgICAgICAgY3N0ID0geyBzdGFydDogY3N0LnN0YXJ0LCB2YWx1ZTogY3N0LnZhbHVlIH07XG4gICAgX3Zpc2l0KE9iamVjdC5mcmVlemUoW10pLCBjc3QsIHZpc2l0b3IpO1xufVxuLy8gV2l0aG91dCB0aGUgYGFzIHN5bWJvbGAgY2FzdHMsIFRTIGRlY2xhcmVzIHRoZXNlIGluIHRoZSBgdmlzaXRgXG4vLyBuYW1lc3BhY2UgdXNpbmcgYHZhcmAsIGJ1dCB0aGVuIGNvbXBsYWlucyBhYm91dCB0aGF0IGJlY2F1c2Vcbi8vIGB1bmlxdWUgc3ltYm9sYCBtdXN0IGJlIGBjb25zdGAuXG4vKiogVGVybWluYXRlIHZpc2l0IHRyYXZlcnNhbCBjb21wbGV0ZWx5ICovXG52aXNpdC5CUkVBSyA9IEJSRUFLO1xuLyoqIERvIG5vdCB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgaXRlbSAqL1xudmlzaXQuU0tJUCA9IFNLSVA7XG4vKiogUmVtb3ZlIHRoZSBjdXJyZW50IGl0ZW0gKi9cbnZpc2l0LlJFTU9WRSA9IFJFTU9WRTtcbi8qKiBGaW5kIHRoZSBpdGVtIGF0IGBwYXRoYCBmcm9tIGBjc3RgIGFzIHRoZSByb290ICovXG52aXNpdC5pdGVtQXRQYXRoID0gKGNzdCwgcGF0aCkgPT4ge1xuICAgIGxldCBpdGVtID0gY3N0O1xuICAgIGZvciAoY29uc3QgW2ZpZWxkLCBpbmRleF0gb2YgcGF0aCkge1xuICAgICAgICBjb25zdCB0b2sgPSBpdGVtPy5bZmllbGRdO1xuICAgICAgICBpZiAodG9rICYmICdpdGVtcycgaW4gdG9rKSB7XG4gICAgICAgICAgICBpdGVtID0gdG9rLml0ZW1zW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbn07XG4vKipcbiAqIEdldCB0aGUgaW1tZWRpYXRlIHBhcmVudCBjb2xsZWN0aW9uIG9mIHRoZSBpdGVtIGF0IGBwYXRoYCBmcm9tIGBjc3RgIGFzIHRoZSByb290LlxuICpcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgY29sbGVjdGlvbiBpcyBub3QgZm91bmQsIHdoaWNoIHNob3VsZCBuZXZlciBoYXBwZW4gaWYgdGhlIGl0ZW0gaXRzZWxmIGV4aXN0cy5cbiAqL1xudmlzaXQucGFyZW50Q29sbGVjdGlvbiA9IChjc3QsIHBhdGgpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSB2aXNpdC5pdGVtQXRQYXRoKGNzdCwgcGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIGNvbnN0IGZpZWxkID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdWzBdO1xuICAgIGNvbnN0IGNvbGwgPSBwYXJlbnQ/LltmaWVsZF07XG4gICAgaWYgKGNvbGwgJiYgJ2l0ZW1zJyBpbiBjb2xsKVxuICAgICAgICByZXR1cm4gY29sbDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmVudCBjb2xsZWN0aW9uIG5vdCBmb3VuZCcpO1xufTtcbmZ1bmN0aW9uIF92aXNpdChwYXRoLCBpdGVtLCB2aXNpdG9yKSB7XG4gICAgbGV0IGN0cmwgPSB2aXNpdG9yKGl0ZW0sIHBhdGgpO1xuICAgIGlmICh0eXBlb2YgY3RybCA9PT0gJ3N5bWJvbCcpXG4gICAgICAgIHJldHVybiBjdHJsO1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgWydrZXknLCAndmFsdWUnXSkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGl0ZW1bZmllbGRdO1xuICAgICAgICBpZiAodG9rZW4gJiYgJ2l0ZW1zJyBpbiB0b2tlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbi5pdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNpID0gX3Zpc2l0KE9iamVjdC5mcmVlemUocGF0aC5jb25jYXQoW1tmaWVsZCwgaV1dKSksIHRva2VuLml0ZW1zW2ldLCB2aXNpdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNpID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgaSA9IGNpIC0gMTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaSA9PT0gQlJFQUspXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCUkVBSztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaSA9PT0gUkVNT1ZFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuLml0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3RybCA9PT0gJ2Z1bmN0aW9uJyAmJiBmaWVsZCA9PT0gJ2tleScpXG4gICAgICAgICAgICAgICAgY3RybCA9IGN0cmwoaXRlbSwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBjdHJsID09PSAnZnVuY3Rpb24nID8gY3RybChpdGVtLCBwYXRoKSA6IGN0cmw7XG59XG5cbmV4cG9ydHMudmlzaXQgPSB2aXNpdDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3N0U2NhbGFyID0gcmVxdWlyZSgnLi9jc3Qtc2NhbGFyLmpzJyk7XG52YXIgY3N0U3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9jc3Qtc3RyaW5naWZ5LmpzJyk7XG52YXIgY3N0VmlzaXQgPSByZXF1aXJlKCcuL2NzdC12aXNpdC5qcycpO1xuXG4vKiogVGhlIGJ5dGUgb3JkZXIgbWFyayAqL1xuY29uc3QgQk9NID0gJ1xcdXtGRUZGfSc7XG4vKiogU3RhcnQgb2YgZG9jLW1vZGUgKi9cbmNvbnN0IERPQ1VNRU5UID0gJ1xceDAyJzsgLy8gQzA6IFN0YXJ0IG9mIFRleHRcbi8qKiBVbmV4cGVjdGVkIGVuZCBvZiBmbG93LW1vZGUgKi9cbmNvbnN0IEZMT1dfRU5EID0gJ1xceDE4JzsgLy8gQzA6IENhbmNlbFxuLyoqIE5leHQgdG9rZW4gaXMgYSBzY2FsYXIgdmFsdWUgKi9cbmNvbnN0IFNDQUxBUiA9ICdcXHgxZic7IC8vIEMwOiBVbml0IFNlcGFyYXRvclxuLyoqIEByZXR1cm5zIGB0cnVlYCBpZiBgdG9rZW5gIGlzIGEgZmxvdyBvciBibG9jayBjb2xsZWN0aW9uICovXG5jb25zdCBpc0NvbGxlY3Rpb24gPSAodG9rZW4pID0+ICEhdG9rZW4gJiYgJ2l0ZW1zJyBpbiB0b2tlbjtcbi8qKiBAcmV0dXJucyBgdHJ1ZWAgaWYgYHRva2VuYCBpcyBhIGZsb3cgb3IgYmxvY2sgc2NhbGFyOyBub3QgYW4gYWxpYXMgKi9cbmNvbnN0IGlzU2NhbGFyID0gKHRva2VuKSA9PiAhIXRva2VuICYmXG4gICAgKHRva2VuLnR5cGUgPT09ICdzY2FsYXInIHx8XG4gICAgICAgIHRva2VuLnR5cGUgPT09ICdzaW5nbGUtcXVvdGVkLXNjYWxhcicgfHxcbiAgICAgICAgdG9rZW4udHlwZSA9PT0gJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJyB8fFxuICAgICAgICB0b2tlbi50eXBlID09PSAnYmxvY2stc2NhbGFyJyk7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqIEdldCBhIHByaW50YWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIGxleGVyIHRva2VuICovXG5mdW5jdGlvbiBwcmV0dHlUb2tlbih0b2tlbikge1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgY2FzZSBCT006XG4gICAgICAgICAgICByZXR1cm4gJzxCT00+JztcbiAgICAgICAgY2FzZSBET0NVTUVOVDpcbiAgICAgICAgICAgIHJldHVybiAnPERPQz4nO1xuICAgICAgICBjYXNlIEZMT1dfRU5EOlxuICAgICAgICAgICAgcmV0dXJuICc8RkxPV19FTkQ+JztcbiAgICAgICAgY2FzZSBTQ0FMQVI6XG4gICAgICAgICAgICByZXR1cm4gJzxTQ0FMQVI+JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0b2tlbik7XG4gICAgfVxufVxuLyoqIElkZW50aWZ5IHRoZSB0eXBlIG9mIGEgbGV4ZXIgdG9rZW4uIE1heSByZXR1cm4gYG51bGxgIGZvciB1bmtub3duIHRva2Vucy4gKi9cbmZ1bmN0aW9uIHRva2VuVHlwZShzb3VyY2UpIHtcbiAgICBzd2l0Y2ggKHNvdXJjZSkge1xuICAgICAgICBjYXNlIEJPTTpcbiAgICAgICAgICAgIHJldHVybiAnYnl0ZS1vcmRlci1tYXJrJztcbiAgICAgICAgY2FzZSBET0NVTUVOVDpcbiAgICAgICAgICAgIHJldHVybiAnZG9jLW1vZGUnO1xuICAgICAgICBjYXNlIEZMT1dfRU5EOlxuICAgICAgICAgICAgcmV0dXJuICdmbG93LWVycm9yLWVuZCc7XG4gICAgICAgIGNhc2UgU0NBTEFSOlxuICAgICAgICAgICAgcmV0dXJuICdzY2FsYXInO1xuICAgICAgICBjYXNlICctLS0nOlxuICAgICAgICAgICAgcmV0dXJuICdkb2Mtc3RhcnQnO1xuICAgICAgICBjYXNlICcuLi4nOlxuICAgICAgICAgICAgcmV0dXJuICdkb2MtZW5kJztcbiAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgY2FzZSAnXFxyXFxuJzpcbiAgICAgICAgICAgIHJldHVybiAnbmV3bGluZSc7XG4gICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgcmV0dXJuICdzZXEtaXRlbS1pbmQnO1xuICAgICAgICBjYXNlICc/JzpcbiAgICAgICAgICAgIHJldHVybiAnZXhwbGljaXQta2V5LWluZCc7XG4gICAgICAgIGNhc2UgJzonOlxuICAgICAgICAgICAgcmV0dXJuICdtYXAtdmFsdWUtaW5kJztcbiAgICAgICAgY2FzZSAneyc6XG4gICAgICAgICAgICByZXR1cm4gJ2Zsb3ctbWFwLXN0YXJ0JztcbiAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICByZXR1cm4gJ2Zsb3ctbWFwLWVuZCc7XG4gICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgcmV0dXJuICdmbG93LXNlcS1zdGFydCc7XG4gICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgcmV0dXJuICdmbG93LXNlcS1lbmQnO1xuICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgIHJldHVybiAnY29tbWEnO1xuICAgIH1cbiAgICBzd2l0Y2ggKHNvdXJjZVswXSkge1xuICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgIHJldHVybiAnc3BhY2UnO1xuICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgIHJldHVybiAnY29tbWVudCc7XG4gICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgcmV0dXJuICdkaXJlY3RpdmUtbGluZSc7XG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgcmV0dXJuICdhbGlhcyc7XG4gICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgcmV0dXJuICdhbmNob3InO1xuICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICAgIHJldHVybiAndGFnJztcbiAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgIHJldHVybiAnc2luZ2xlLXF1b3RlZC1zY2FsYXInO1xuICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgICByZXR1cm4gJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJztcbiAgICAgICAgY2FzZSAnfCc6XG4gICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgICAgcmV0dXJuICdibG9jay1zY2FsYXItaGVhZGVyJztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydHMuY3JlYXRlU2NhbGFyVG9rZW4gPSBjc3RTY2FsYXIuY3JlYXRlU2NhbGFyVG9rZW47XG5leHBvcnRzLnJlc29sdmVBc1NjYWxhciA9IGNzdFNjYWxhci5yZXNvbHZlQXNTY2FsYXI7XG5leHBvcnRzLnNldFNjYWxhclZhbHVlID0gY3N0U2NhbGFyLnNldFNjYWxhclZhbHVlO1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBjc3RTdHJpbmdpZnkuc3RyaW5naWZ5O1xuZXhwb3J0cy52aXNpdCA9IGNzdFZpc2l0LnZpc2l0O1xuZXhwb3J0cy5CT00gPSBCT007XG5leHBvcnRzLkRPQ1VNRU5UID0gRE9DVU1FTlQ7XG5leHBvcnRzLkZMT1dfRU5EID0gRkxPV19FTkQ7XG5leHBvcnRzLlNDQUxBUiA9IFNDQUxBUjtcbmV4cG9ydHMuaXNDb2xsZWN0aW9uID0gaXNDb2xsZWN0aW9uO1xuZXhwb3J0cy5pc1NjYWxhciA9IGlzU2NhbGFyO1xuZXhwb3J0cy5wcmV0dHlUb2tlbiA9IHByZXR0eVRva2VuO1xuZXhwb3J0cy50b2tlblR5cGUgPSB0b2tlblR5cGU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxudmFyIGNzdCA9IHJlcXVpcmUoJy4vY3N0LmpzJyk7XG5cbi8qXG5TVEFSVCAtPiBzdHJlYW1cblxuc3RyZWFtXG4gIGRpcmVjdGl2ZSAtPiBsaW5lLWVuZCAtPiBzdHJlYW1cbiAgaW5kZW50ICsgbGluZS1lbmQgLT4gc3RyZWFtXG4gIFtlbHNlXSAtPiBsaW5lLXN0YXJ0XG5cbmxpbmUtZW5kXG4gIGNvbW1lbnQgLT4gbGluZS1lbmRcbiAgbmV3bGluZSAtPiAuXG4gIGlucHV0LWVuZCAtPiBFTkRcblxubGluZS1zdGFydFxuICBkb2Mtc3RhcnQgLT4gZG9jXG4gIGRvYy1lbmQgLT4gc3RyZWFtXG4gIFtlbHNlXSAtPiBpbmRlbnQgLT4gYmxvY2stc3RhcnRcblxuYmxvY2stc3RhcnRcbiAgc2VxLWl0ZW0tc3RhcnQgLT4gYmxvY2stc3RhcnRcbiAgZXhwbGljaXQta2V5LXN0YXJ0IC0+IGJsb2NrLXN0YXJ0XG4gIG1hcC12YWx1ZS1zdGFydCAtPiBibG9jay1zdGFydFxuICBbZWxzZV0gLT4gZG9jXG5cbmRvY1xuICBsaW5lLWVuZCAtPiBsaW5lLXN0YXJ0XG4gIHNwYWNlcyAtPiBkb2NcbiAgYW5jaG9yIC0+IGRvY1xuICB0YWcgLT4gZG9jXG4gIGZsb3ctc3RhcnQgLT4gZmxvdyAtPiBkb2NcbiAgZmxvdy1lbmQgLT4gZXJyb3IgLT4gZG9jXG4gIHNlcS1pdGVtLXN0YXJ0IC0+IGVycm9yIC0+IGRvY1xuICBleHBsaWNpdC1rZXktc3RhcnQgLT4gZXJyb3IgLT4gZG9jXG4gIG1hcC12YWx1ZS1zdGFydCAtPiBkb2NcbiAgYWxpYXMgLT4gZG9jXG4gIHF1b3RlLXN0YXJ0IC0+IHF1b3RlZC1zY2FsYXIgLT4gZG9jXG4gIGJsb2NrLXNjYWxhci1oZWFkZXIgLT4gbGluZS1lbmQgLT4gYmxvY2stc2NhbGFyKG1pbikgLT4gbGluZS1zdGFydFxuICBbZWxzZV0gLT4gcGxhaW4tc2NhbGFyKGZhbHNlLCBtaW4pIC0+IGRvY1xuXG5mbG93XG4gIGxpbmUtZW5kIC0+IGZsb3dcbiAgc3BhY2VzIC0+IGZsb3dcbiAgYW5jaG9yIC0+IGZsb3dcbiAgdGFnIC0+IGZsb3dcbiAgZmxvdy1zdGFydCAtPiBmbG93IC0+IGZsb3dcbiAgZmxvdy1lbmQgLT4gLlxuICBzZXEtaXRlbS1zdGFydCAtPiBlcnJvciAtPiBmbG93XG4gIGV4cGxpY2l0LWtleS1zdGFydCAtPiBmbG93XG4gIG1hcC12YWx1ZS1zdGFydCAtPiBmbG93XG4gIGFsaWFzIC0+IGZsb3dcbiAgcXVvdGUtc3RhcnQgLT4gcXVvdGVkLXNjYWxhciAtPiBmbG93XG4gIGNvbW1hIC0+IGZsb3dcbiAgW2Vsc2VdIC0+IHBsYWluLXNjYWxhcih0cnVlLCAwKSAtPiBmbG93XG5cbnF1b3RlZC1zY2FsYXJcbiAgcXVvdGUtZW5kIC0+IC5cbiAgW2Vsc2VdIC0+IHF1b3RlZC1zY2FsYXJcblxuYmxvY2stc2NhbGFyKG1pbilcbiAgbmV3bGluZSArIHBlZWsoaW5kZW50IDwgbWluKSAtPiAuXG4gIFtlbHNlXSAtPiBibG9jay1zY2FsYXIobWluKVxuXG5wbGFpbi1zY2FsYXIoaXMtZmxvdywgbWluKVxuICBzY2FsYXItZW5kKGlzLWZsb3cpIC0+IC5cbiAgcGVlayhuZXdsaW5lICsgKGluZGVudCA8IG1pbikpIC0+IC5cbiAgW2Vsc2VdIC0+IHBsYWluLXNjYWxhcihtaW4pXG4qL1xuZnVuY3Rpb24gaXNFbXB0eShjaCkge1xuICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgJyAnOlxuICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICBjYXNlICdcXHInOlxuICAgICAgICBjYXNlICdcXHQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY29uc3QgaGV4RGlnaXRzID0gbmV3IFNldCgnMDEyMzQ1Njc4OUFCQ0RFRmFiY2RlZicpO1xuY29uc3QgdGFnQ2hhcnMgPSBuZXcgU2V0KFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotIzsvPzpAJj0rJF8uIX4qJygpXCIpO1xuY29uc3QgZmxvd0luZGljYXRvckNoYXJzID0gbmV3IFNldCgnLFtde30nKTtcbmNvbnN0IGludmFsaWRBbmNob3JDaGFycyA9IG5ldyBTZXQoJyAsW117fVxcblxcclxcdCcpO1xuY29uc3QgaXNOb3RBbmNob3JDaGFyID0gKGNoKSA9PiAhY2ggfHwgaW52YWxpZEFuY2hvckNoYXJzLmhhcyhjaCk7XG4vKipcbiAqIFNwbGl0cyBhbiBpbnB1dCBzdHJpbmcgaW50byBsZXhpY2FsIHRva2VucywgaS5lLiBzbWFsbGVyIHN0cmluZ3MgdGhhdCBhcmVcbiAqIGVhc2lseSBpZGVudGlmaWFibGUgYnkgYHRva2Vucy50b2tlblR5cGUoKWAuXG4gKlxuICogTGV4aW5nIHN0YXJ0cyBhbHdheXMgaW4gYSBcInN0cmVhbVwiIGNvbnRleHQuIEluY29tcGxldGUgaW5wdXQgbWF5IGJlIGJ1ZmZlcmVkXG4gKiB1bnRpbCBhIGNvbXBsZXRlIHRva2VuIGNhbiBiZSBlbWl0dGVkLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIHNsaWNlcyBvZiB0aGUgb3JpZ2luYWwgaW5wdXQsIHRoZSBmb2xsb3dpbmcgY29udHJvbCBjaGFyYWN0ZXJzXG4gKiBtYXkgYWxzbyBiZSBlbWl0dGVkOlxuICpcbiAqIC0gYFxceDAyYCAoU3RhcnQgb2YgVGV4dCk6IEEgZG9jdW1lbnQgc3RhcnRzIHdpdGggdGhlIG5leHQgdG9rZW5cbiAqIC0gYFxceDE4YCAoQ2FuY2VsKTogVW5leHBlY3RlZCBlbmQgb2YgZmxvdy1tb2RlIChpbmRpY2F0ZXMgYW4gZXJyb3IpXG4gKiAtIGBcXHgxZmAgKFVuaXQgU2VwYXJhdG9yKTogTmV4dCB0b2tlbiBpcyBhIHNjYWxhciB2YWx1ZVxuICogLSBgXFx1e0ZFRkZ9YCAoQnl0ZSBvcmRlciBtYXJrKTogRW1pdHRlZCBzZXBhcmF0ZWx5IG91dHNpZGUgZG9jdW1lbnRzXG4gKi9cbmNsYXNzIExleGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyIG1hcmtzIHRoZSBlbmQgb2ZcbiAgICAgICAgICogYWxsIGlucHV0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF0RW5kID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHBsaWNpdCBpbmRlbnQgc2V0IGluIGJsb2NrIHNjYWxhciBoZWFkZXIsIGFzIGFuIG9mZnNldCBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAqIG1pbmltdW0gaW5kZW50LCBzbyBlLmcuIHNldCB0byAxIGZyb20gYSBoZWFkZXIgYHwyK2AuIFNldCB0byAtMSBpZiBub3RcbiAgICAgICAgICogZXhwbGljaXRseSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsb2NrU2NhbGFySW5kZW50ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbG9jayBzY2FsYXJzIHRoYXQgaW5jbHVkZSBhICsgKGtlZXApIGNob21waW5nIGluZGljYXRvciBpbiB0aGVpciBoZWFkZXJcbiAgICAgICAgICogaW5jbHVkZSB0cmFpbGluZyBlbXB0eSBsaW5lcywgd2hpY2ggYXJlIG90aGVyd2lzZSBleGNsdWRlZCBmcm9tIHRoZVxuICAgICAgICAgKiBzY2FsYXIncyBjb250ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxvY2tTY2FsYXJLZWVwID0gZmFsc2U7XG4gICAgICAgIC8qKiBDdXJyZW50IGlucHV0ICovXG4gICAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIG5vdGluZyB3aGV0aGVyIHRoZSBtYXAgdmFsdWUgaW5kaWNhdG9yIDogY2FuIGltbWVkaWF0ZWx5IGZvbGxvdyB0aGlzXG4gICAgICAgICAqIG5vZGUgd2l0aGluIGEgZmxvdyBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbG93S2V5ID0gZmFsc2U7XG4gICAgICAgIC8qKiBDb3VudCBvZiBzdXJyb3VuZGluZyBmbG93IGNvbGxlY3Rpb24gbGV2ZWxzLiAqL1xuICAgICAgICB0aGlzLmZsb3dMZXZlbCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbXVtIGxldmVsIG9mIGluZGVudGF0aW9uIHJlcXVpcmVkIGZvciBuZXh0IGxpbmVzIHRvIGJlIHBhcnNlZCBhcyBhXG4gICAgICAgICAqIHBhcnQgb2YgdGhlIGN1cnJlbnQgc2NhbGFyIHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRlbnROZXh0ID0gMDtcbiAgICAgICAgLyoqIEluZGVudGF0aW9uIGxldmVsIG9mIHRoZSBjdXJyZW50IGxpbmUuICovXG4gICAgICAgIHRoaXMuaW5kZW50VmFsdWUgPSAwO1xuICAgICAgICAvKiogUG9zaXRpb24gb2YgdGhlIG5leHQgXFxuIGNoYXJhY3Rlci4gKi9cbiAgICAgICAgdGhpcy5saW5lRW5kUG9zID0gbnVsbDtcbiAgICAgICAgLyoqIFN0b3JlcyB0aGUgc3RhdGUgb2YgdGhlIGxleGVyIGlmIHJlYWNoaW5nIHRoZSBlbmQgb2YgaW5jcG9tcGxldGUgaW5wdXQgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEEgcG9pbnRlciB0byBgYnVmZmVyYDsgdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGxleGVyLiAqL1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIFlBTUwgdG9rZW5zIGZyb20gdGhlIGBzb3VyY2VgIHN0cmluZy4gSWYgYGluY29tcGxldGVgLFxuICAgICAqIGEgcGFydCBvZiB0aGUgbGFzdCBsaW5lIG1heSBiZSBsZWZ0IGFzIGEgYnVmZmVyIGZvciB0aGUgbmV4dCBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBnZW5lcmF0b3Igb2YgbGV4aWNhbCB0b2tlbnNcbiAgICAgKi9cbiAgICAqbGV4KHNvdXJjZSwgaW5jb21wbGV0ZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ3NvdXJjZSBpcyBub3QgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIgPyB0aGlzLmJ1ZmZlciArIHNvdXJjZSA6IHNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMubGluZUVuZFBvcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdEVuZCA9ICFpbmNvbXBsZXRlO1xuICAgICAgICBsZXQgbmV4dCA9IHRoaXMubmV4dCA/PyAnc3RyZWFtJztcbiAgICAgICAgd2hpbGUgKG5leHQgJiYgKGluY29tcGxldGUgfHwgdGhpcy5oYXNDaGFycygxKSkpXG4gICAgICAgICAgICBuZXh0ID0geWllbGQqIHRoaXMucGFyc2VOZXh0KG5leHQpO1xuICAgIH1cbiAgICBhdExpbmVFbmQoKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5wb3M7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuYnVmZmVyW2ldO1xuICAgICAgICB3aGlsZSAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xcdCcpXG4gICAgICAgICAgICBjaCA9IHRoaXMuYnVmZmVyWysraV07XG4gICAgICAgIGlmICghY2ggfHwgY2ggPT09ICcjJyB8fCBjaCA9PT0gJ1xcbicpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGNoID09PSAnXFxyJylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcltpICsgMV0gPT09ICdcXG4nO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNoYXJBdChuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLnBvcyArIG5dO1xuICAgIH1cbiAgICBjb250aW51ZVNjYWxhcihvZmZzZXQpIHtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5idWZmZXJbb2Zmc2V0XTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZW50TmV4dCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpbmRlbnQgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGNoID09PSAnICcpXG4gICAgICAgICAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlclsrK2luZGVudCArIG9mZnNldF07XG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuYnVmZmVyW2luZGVudCArIG9mZnNldCArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSAnXFxuJyB8fCAoIW5leHQgJiYgIXRoaXMuYXRFbmQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0ICsgaW5kZW50ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaCA9PT0gJ1xcbicgfHwgaW5kZW50ID49IHRoaXMuaW5kZW50TmV4dCB8fCAoIWNoICYmICF0aGlzLmF0RW5kKVxuICAgICAgICAgICAgICAgID8gb2Zmc2V0ICsgaW5kZW50XG4gICAgICAgICAgICAgICAgOiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBkdCA9IHRoaXMuYnVmZmVyLnN1YnN0cihvZmZzZXQsIDMpO1xuICAgICAgICAgICAgaWYgKChkdCA9PT0gJy0tLScgfHwgZHQgPT09ICcuLi4nKSAmJiBpc0VtcHR5KHRoaXMuYnVmZmVyW29mZnNldCArIDNdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgZ2V0TGluZSgpIHtcbiAgICAgICAgbGV0IGVuZCA9IHRoaXMubGluZUVuZFBvcztcbiAgICAgICAgaWYgKHR5cGVvZiBlbmQgIT09ICdudW1iZXInIHx8IChlbmQgIT09IC0xICYmIGVuZCA8IHRoaXMucG9zKSkge1xuICAgICAgICAgICAgZW5kID0gdGhpcy5idWZmZXIuaW5kZXhPZignXFxuJywgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5saW5lRW5kUG9zID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXRFbmQgPyB0aGlzLmJ1ZmZlci5zdWJzdHJpbmcodGhpcy5wb3MpIDogbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyW2VuZCAtIDFdID09PSAnXFxyJylcbiAgICAgICAgICAgIGVuZCAtPSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc3Vic3RyaW5nKHRoaXMucG9zLCBlbmQpO1xuICAgIH1cbiAgICBoYXNDaGFycyhuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcyArIG4gPD0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBzZXROZXh0KHN0YXRlKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc3Vic3RyaW5nKHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmxpbmVFbmRQb3MgPSBudWxsO1xuICAgICAgICB0aGlzLm5leHQgPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHBlZWsobikge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc3Vic3RyKHRoaXMucG9zLCBuKTtcbiAgICB9XG4gICAgKnBhcnNlTmV4dChuZXh0KSB7XG4gICAgICAgIHN3aXRjaCAobmV4dCkge1xuICAgICAgICAgICAgY2FzZSAnc3RyZWFtJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucGFyc2VTdHJlYW0oKTtcbiAgICAgICAgICAgIGNhc2UgJ2xpbmUtc3RhcnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUxpbmVTdGFydCgpO1xuICAgICAgICAgICAgY2FzZSAnYmxvY2stc3RhcnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUJsb2NrU3RhcnQoKTtcbiAgICAgICAgICAgIGNhc2UgJ2RvYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlRG9jdW1lbnQoKTtcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3cnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUZsb3dDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICBjYXNlICdxdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucGFyc2VRdW90ZWRTY2FsYXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ2Jsb2NrLXNjYWxhcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlQmxvY2tTY2FsYXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ3BsYWluLXNjYWxhcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlUGxhaW5TY2FsYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqcGFyc2VTdHJlYW0oKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgIGlmIChsaW5lID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0TmV4dCgnc3RyZWFtJyk7XG4gICAgICAgIGlmIChsaW5lWzBdID09PSBjc3QuQk9NKSB7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQoMSk7XG4gICAgICAgICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVbMF0gPT09ICclJykge1xuICAgICAgICAgICAgbGV0IGRpckVuZCA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGNzID0gbGluZS5pbmRleE9mKCcjJyk7XG4gICAgICAgICAgICB3aGlsZSAoY3MgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2ggPSBsaW5lW2NzIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnICcgfHwgY2ggPT09ICdcXHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpckVuZCA9IGNzIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjcyA9IGxpbmUuaW5kZXhPZignIycsIGNzICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaCA9IGxpbmVbZGlyRW5kIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnICcgfHwgY2ggPT09ICdcXHQnKVxuICAgICAgICAgICAgICAgICAgICBkaXJFbmQgLT0gMTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbiA9ICh5aWVsZCogdGhpcy5wdXNoQ291bnQoZGlyRW5kKSkgKyAoeWllbGQqIHRoaXMucHVzaFNwYWNlcyh0cnVlKSk7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQobGluZS5sZW5ndGggLSBuKTsgLy8gcG9zc2libGUgY29tbWVudFxuICAgICAgICAgICAgdGhpcy5wdXNoTmV3bGluZSgpO1xuICAgICAgICAgICAgcmV0dXJuICdzdHJlYW0nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0TGluZUVuZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBzcCA9IHlpZWxkKiB0aGlzLnB1c2hTcGFjZXModHJ1ZSk7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQobGluZS5sZW5ndGggLSBzcCk7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoTmV3bGluZSgpO1xuICAgICAgICAgICAgcmV0dXJuICdzdHJlYW0nO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGNzdC5ET0NVTUVOVDtcbiAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlTGluZVN0YXJ0KCk7XG4gICAgfVxuICAgICpwYXJzZUxpbmVTdGFydCgpIHtcbiAgICAgICAgY29uc3QgY2ggPSB0aGlzLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKCFjaCAmJiAhdGhpcy5hdEVuZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE5leHQoJ2xpbmUtc3RhcnQnKTtcbiAgICAgICAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcuJykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF0RW5kICYmICF0aGlzLmhhc0NoYXJzKDQpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE5leHQoJ2xpbmUtc3RhcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnBlZWsoMyk7XG4gICAgICAgICAgICBpZiAoKHMgPT09ICctLS0nIHx8IHMgPT09ICcuLi4nKSAmJiBpc0VtcHR5KHRoaXMuY2hhckF0KDMpKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hDb3VudCgzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGVudFZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGVudE5leHQgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBzID09PSAnLS0tJyA/ICdkb2MnIDogJ3N0cmVhbSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRlbnRWYWx1ZSA9IHlpZWxkKiB0aGlzLnB1c2hTcGFjZXMoZmFsc2UpO1xuICAgICAgICBpZiAodGhpcy5pbmRlbnROZXh0ID4gdGhpcy5pbmRlbnRWYWx1ZSAmJiAhaXNFbXB0eSh0aGlzLmNoYXJBdCgxKSkpXG4gICAgICAgICAgICB0aGlzLmluZGVudE5leHQgPSB0aGlzLmluZGVudFZhbHVlO1xuICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucGFyc2VCbG9ja1N0YXJ0KCk7XG4gICAgfVxuICAgICpwYXJzZUJsb2NrU3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IFtjaDAsIGNoMV0gPSB0aGlzLnBlZWsoMik7XG4gICAgICAgIGlmICghY2gxICYmICF0aGlzLmF0RW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0TmV4dCgnYmxvY2stc3RhcnQnKTtcbiAgICAgICAgaWYgKChjaDAgPT09ICctJyB8fCBjaDAgPT09ICc/JyB8fCBjaDAgPT09ICc6JykgJiYgaXNFbXB0eShjaDEpKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gKHlpZWxkKiB0aGlzLnB1c2hDb3VudCgxKSkgKyAoeWllbGQqIHRoaXMucHVzaFNwYWNlcyh0cnVlKSk7XG4gICAgICAgICAgICB0aGlzLmluZGVudE5leHQgPSB0aGlzLmluZGVudFZhbHVlICsgMTtcbiAgICAgICAgICAgIHRoaXMuaW5kZW50VmFsdWUgKz0gbjtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUJsb2NrU3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2RvYyc7XG4gICAgfVxuICAgICpwYXJzZURvY3VtZW50KCkge1xuICAgICAgICB5aWVsZCogdGhpcy5wdXNoU3BhY2VzKHRydWUpO1xuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgIGlmIChsaW5lID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0TmV4dCgnZG9jJyk7XG4gICAgICAgIGxldCBuID0geWllbGQqIHRoaXMucHVzaEluZGljYXRvcnMoKTtcbiAgICAgICAgc3dpdGNoIChsaW5lW25dKSB7XG4gICAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQobGluZS5sZW5ndGggLSBuKTtcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoTmV3bGluZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUxpbmVTdGFydCgpO1xuICAgICAgICAgICAgY2FzZSAneyc6XG4gICAgICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQoMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbG93S2V5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5mbG93TGV2ZWwgPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiAnZmxvdyc7XG4gICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoQ291bnQoMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdkb2MnO1xuICAgICAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucHVzaFVudGlsKGlzTm90QW5jaG9yQ2hhcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdkb2MnO1xuICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucGFyc2VRdW90ZWRTY2FsYXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ3wnOlxuICAgICAgICAgICAgY2FzZSAnPic6XG4gICAgICAgICAgICAgICAgbiArPSB5aWVsZCogdGhpcy5wYXJzZUJsb2NrU2NhbGFySGVhZGVyKCk7XG4gICAgICAgICAgICAgICAgbiArPSB5aWVsZCogdGhpcy5wdXNoU3BhY2VzKHRydWUpO1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hDb3VudChsaW5lLmxlbmd0aCAtIG4pO1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hOZXdsaW5lKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlQmxvY2tTY2FsYXIoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnBhcnNlUGxhaW5TY2FsYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqcGFyc2VGbG93Q29sbGVjdGlvbigpIHtcbiAgICAgICAgbGV0IG5sLCBzcDtcbiAgICAgICAgbGV0IGluZGVudCA9IC0xO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBubCA9IHlpZWxkKiB0aGlzLnB1c2hOZXdsaW5lKCk7XG4gICAgICAgICAgICBpZiAobmwgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3AgPSB5aWVsZCogdGhpcy5wdXNoU3BhY2VzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGVudFZhbHVlID0gaW5kZW50ID0gc3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcCArPSB5aWVsZCogdGhpcy5wdXNoU3BhY2VzKHRydWUpO1xuICAgICAgICB9IHdoaWxlIChubCArIHNwID4gMCk7XG4gICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgaWYgKGxpbmUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXROZXh0KCdmbG93Jyk7XG4gICAgICAgIGlmICgoaW5kZW50ICE9PSAtMSAmJiBpbmRlbnQgPCB0aGlzLmluZGVudE5leHQgJiYgbGluZVswXSAhPT0gJyMnKSB8fFxuICAgICAgICAgICAgKGluZGVudCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIChsaW5lLnN0YXJ0c1dpdGgoJy0tLScpIHx8IGxpbmUuc3RhcnRzV2l0aCgnLi4uJykpICYmXG4gICAgICAgICAgICAgICAgaXNFbXB0eShsaW5lWzNdKSkpIHtcbiAgICAgICAgICAgIC8vIEFsbG93aW5nIGZvciB0aGUgdGVybWluYWwgXSBvciB9IGF0IHRoZSBzYW1lIChyYXRoZXIgdGhhbiBncmVhdGVyKVxuICAgICAgICAgICAgLy8gaW5kZW50IGxldmVsIGFzIHRoZSBpbml0aWFsIFsgb3IgeyBpcyB0ZWNobmljYWxseSBpbnZhbGlkLCBidXRcbiAgICAgICAgICAgIC8vIGZhaWxpbmcgaGVyZSB3b3VsZCBiZSBzdXJwcmlzaW5nIHRvIHVzZXJzLlxuICAgICAgICAgICAgY29uc3QgYXRGbG93RW5kTWFya2VyID0gaW5kZW50ID09PSB0aGlzLmluZGVudE5leHQgLSAxICYmXG4gICAgICAgICAgICAgICAgdGhpcy5mbG93TGV2ZWwgPT09IDEgJiZcbiAgICAgICAgICAgICAgICAobGluZVswXSA9PT0gJ10nIHx8IGxpbmVbMF0gPT09ICd9Jyk7XG4gICAgICAgICAgICBpZiAoIWF0Rmxvd0VuZE1hcmtlcikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICB0aGlzLmZsb3dMZXZlbCA9IDA7XG4gICAgICAgICAgICAgICAgeWllbGQgY3N0LkZMT1dfRU5EO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUxpbmVTdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgd2hpbGUgKGxpbmVbbl0gPT09ICcsJykge1xuICAgICAgICAgICAgbiArPSB5aWVsZCogdGhpcy5wdXNoQ291bnQoMSk7XG4gICAgICAgICAgICBuICs9IHlpZWxkKiB0aGlzLnB1c2hTcGFjZXModHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBuICs9IHlpZWxkKiB0aGlzLnB1c2hJbmRpY2F0b3JzKCk7XG4gICAgICAgIHN3aXRjaCAobGluZVtuXSkge1xuICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdmbG93JztcbiAgICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hDb3VudChsaW5lLmxlbmd0aCAtIG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiAnZmxvdyc7XG4gICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hDb3VudCgxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsb3dMZXZlbCArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiAnZmxvdyc7XG4gICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnB1c2hDb3VudCgxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmxvd0xldmVsIC09IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmxvd0xldmVsID8gJ2Zsb3cnIDogJ2RvYyc7XG4gICAgICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoVW50aWwoaXNOb3RBbmNob3JDaGFyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Zsb3cnO1xuICAgICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZVF1b3RlZFNjYWxhcigpO1xuICAgICAgICAgICAgY2FzZSAnOic6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5jaGFyQXQoMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd0tleSB8fCBpc0VtcHR5KG5leHQpIHx8IG5leHQgPT09ICcsJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucHVzaENvdW50KDEpO1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wdXNoU3BhY2VzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Zsb3cnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuZmxvd0tleSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZVBsYWluU2NhbGFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnBhcnNlUXVvdGVkU2NhbGFyKCkge1xuICAgICAgICBjb25zdCBxdW90ZSA9IHRoaXMuY2hhckF0KDApO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5idWZmZXIuaW5kZXhPZihxdW90ZSwgdGhpcy5wb3MgKyAxKTtcbiAgICAgICAgaWYgKHF1b3RlID09PSBcIidcIikge1xuICAgICAgICAgICAgd2hpbGUgKGVuZCAhPT0gLTEgJiYgdGhpcy5idWZmZXJbZW5kICsgMV0gPT09IFwiJ1wiKVxuICAgICAgICAgICAgICAgIGVuZCA9IHRoaXMuYnVmZmVyLmluZGV4T2YoXCInXCIsIGVuZCArIDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZG91YmxlLXF1b3RlXG4gICAgICAgICAgICB3aGlsZSAoZW5kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5idWZmZXJbZW5kIC0gMSAtIG5dID09PSAnXFxcXCcpXG4gICAgICAgICAgICAgICAgICAgIG4gKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAobiAlIDIgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGVuZCA9IHRoaXMuYnVmZmVyLmluZGV4T2YoJ1wiJywgZW5kICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBsb29raW5nIGZvciBuZXdsaW5lcyB3aXRoaW4gdGhlIHF1b3Rlc1xuICAgICAgICBjb25zdCBxYiA9IHRoaXMuYnVmZmVyLnN1YnN0cmluZygwLCBlbmQpO1xuICAgICAgICBsZXQgbmwgPSBxYi5pbmRleE9mKCdcXG4nLCB0aGlzLnBvcyk7XG4gICAgICAgIGlmIChubCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHdoaWxlIChubCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcyA9IHRoaXMuY29udGludWVTY2FsYXIobmwgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY3MgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBubCA9IHFiLmluZGV4T2YoJ1xcbicsIGNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChubCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGFuIGVycm9yIGNhdXNlZCBieSBhbiB1bmV4cGVjdGVkIHVuaW5kZW50XG4gICAgICAgICAgICAgICAgZW5kID0gbmwgLSAocWJbbmwgLSAxXSA9PT0gJ1xccicgPyAyIDogMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hdEVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXROZXh0KCdxdW90ZWQtc2NhbGFyJyk7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQqIHRoaXMucHVzaFRvSW5kZXgoZW5kICsgMSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5mbG93TGV2ZWwgPyAnZmxvdycgOiAnZG9jJztcbiAgICB9XG4gICAgKnBhcnNlQmxvY2tTY2FsYXJIZWFkZXIoKSB7XG4gICAgICAgIHRoaXMuYmxvY2tTY2FsYXJJbmRlbnQgPSAtMTtcbiAgICAgICAgdGhpcy5ibG9ja1NjYWxhcktlZXAgPSBmYWxzZTtcbiAgICAgICAgbGV0IGkgPSB0aGlzLnBvcztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoID0gdGhpcy5idWZmZXJbKytpXTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJysnKVxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tTY2FsYXJLZWVwID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID4gJzAnICYmIGNoIDw9ICc5JylcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrU2NhbGFySW5kZW50ID0gTnVtYmVyKGNoKSAtIDE7XG4gICAgICAgICAgICBlbHNlIGlmIChjaCAhPT0gJy0nKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wdXNoVW50aWwoY2ggPT4gaXNFbXB0eShjaCkgfHwgY2ggPT09ICcjJyk7XG4gICAgfVxuICAgICpwYXJzZUJsb2NrU2NhbGFyKCkge1xuICAgICAgICBsZXQgbmwgPSB0aGlzLnBvcyAtIDE7IC8vIG1heSBiZSAtMSBpZiB0aGlzLnBvcyA9PT0gMFxuICAgICAgICBsZXQgaW5kZW50ID0gMDtcbiAgICAgICAgbGV0IGNoO1xuICAgICAgICBsb29wOiBmb3IgKGxldCBpID0gdGhpcy5wb3M7IChjaCA9IHRoaXMuYnVmZmVyW2ldKTsgKytpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgICAgICBubCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuYnVmZmVyW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0ICYmICF0aGlzLmF0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0TmV4dCgnYmxvY2stc2NhbGFyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSAnXFxuJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gLy8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhayBsb29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY2ggJiYgIXRoaXMuYXRFbmQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXROZXh0KCdibG9jay1zY2FsYXInKTtcbiAgICAgICAgaWYgKGluZGVudCA+PSB0aGlzLmluZGVudE5leHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJsb2NrU2NhbGFySW5kZW50ID09PSAtMSlcbiAgICAgICAgICAgICAgICB0aGlzLmluZGVudE5leHQgPSBpbmRlbnQ7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGVudE5leHQgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2NrU2NhbGFySW5kZW50ICsgKHRoaXMuaW5kZW50TmV4dCA9PT0gMCA/IDEgOiB0aGlzLmluZGVudE5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gdGhpcy5jb250aW51ZVNjYWxhcihubCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChjcyA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIG5sID0gdGhpcy5idWZmZXIuaW5kZXhPZignXFxuJywgY3MpO1xuICAgICAgICAgICAgfSB3aGlsZSAobmwgIT09IC0xKTtcbiAgICAgICAgICAgIGlmIChubCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXRFbmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE5leHQoJ2Jsb2NrLXNjYWxhcicpO1xuICAgICAgICAgICAgICAgIG5sID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRyYWlsaW5nIGluc3VmZmljaWVudGx5IGluZGVudGVkIHRhYnMgYXJlIGludmFsaWQuXG4gICAgICAgIC8vIFRvIGNhdGNoIHRoYXQgZHVyaW5nIHBhcnNpbmcsIHdlIGluY2x1ZGUgdGhlbSBpbiB0aGUgYmxvY2sgc2NhbGFyIHZhbHVlLlxuICAgICAgICBsZXQgaSA9IG5sICsgMTtcbiAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgd2hpbGUgKGNoID09PSAnICcpXG4gICAgICAgICAgICBjaCA9IHRoaXMuYnVmZmVyWysraV07XG4gICAgICAgIGlmIChjaCA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIHdoaWxlIChjaCA9PT0gJ1xcdCcgfHwgY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xccicgfHwgY2ggPT09ICdcXG4nKVxuICAgICAgICAgICAgICAgIGNoID0gdGhpcy5idWZmZXJbKytpXTtcbiAgICAgICAgICAgIG5sID0gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuYmxvY2tTY2FsYXJLZWVwKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSBubCAtIDE7XG4gICAgICAgICAgICAgICAgbGV0IGNoID0gdGhpcy5idWZmZXJbaV07XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXFxyJylcbiAgICAgICAgICAgICAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlclstLWldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyID0gaTsgLy8gRHJvcCB0aGUgbGluZSBpZiBsYXN0IGNoYXIgbm90IG1vcmUgaW5kZW50ZWRcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2ggPT09ICcgJylcbiAgICAgICAgICAgICAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlclstLWldO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xcbicgJiYgaSA+PSB0aGlzLnBvcyAmJiBpICsgMSArIGluZGVudCA+IGxhc3RDaGFyKVxuICAgICAgICAgICAgICAgICAgICBubCA9IGk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGNzdC5TQ0FMQVI7XG4gICAgICAgIHlpZWxkKiB0aGlzLnB1c2hUb0luZGV4KG5sICsgMSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wYXJzZUxpbmVTdGFydCgpO1xuICAgIH1cbiAgICAqcGFyc2VQbGFpblNjYWxhcigpIHtcbiAgICAgICAgY29uc3QgaW5GbG93ID0gdGhpcy5mbG93TGV2ZWwgPiAwO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5wb3MgLSAxO1xuICAgICAgICBsZXQgaSA9IHRoaXMucG9zIC0gMTtcbiAgICAgICAgbGV0IGNoO1xuICAgICAgICB3aGlsZSAoKGNoID0gdGhpcy5idWZmZXJbKytpXSkpIHtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuYnVmZmVyW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShuZXh0KSB8fCAoaW5GbG93ICYmIGZsb3dJbmRpY2F0b3JDaGFycy5oYXMobmV4dCkpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNFbXB0eShjaCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMuYnVmZmVyW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLmJ1ZmZlcltpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT09ICcjJyB8fCAoaW5GbG93ICYmIGZsb3dJbmRpY2F0b3JDaGFycy5oYXMobmV4dCkpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzID0gdGhpcy5jb250aW51ZVNjYWxhcihpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjcyA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaSA9IE1hdGgubWF4KGksIGNzIC0gMik7IC8vIHRvIGFkdmFuY2UsIGJ1dCBzdGlsbCBhY2NvdW50IGZvciAnICMnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGluRmxvdyAmJiBmbG93SW5kaWNhdG9yQ2hhcnMuaGFzKGNoKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoICYmICF0aGlzLmF0RW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0TmV4dCgncGxhaW4tc2NhbGFyJyk7XG4gICAgICAgIHlpZWxkIGNzdC5TQ0FMQVI7XG4gICAgICAgIHlpZWxkKiB0aGlzLnB1c2hUb0luZGV4KGVuZCArIDEsIHRydWUpO1xuICAgICAgICByZXR1cm4gaW5GbG93ID8gJ2Zsb3cnIDogJ2RvYyc7XG4gICAgfVxuICAgICpwdXNoQ291bnQobikge1xuICAgICAgICBpZiAobiA+IDApIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYnVmZmVyLnN1YnN0cih0aGlzLnBvcywgbik7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSBuO1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgICpwdXNoVG9JbmRleChpLCBhbGxvd0VtcHR5KSB7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLmJ1ZmZlci5zbGljZSh0aGlzLnBvcywgaSk7XG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICB5aWVsZCBzO1xuICAgICAgICAgICAgdGhpcy5wb3MgKz0gcy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWxsb3dFbXB0eSlcbiAgICAgICAgICAgIHlpZWxkICcnO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgKnB1c2hJbmRpY2F0b3JzKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKCh5aWVsZCogdGhpcy5wdXNoVGFnKCkpICtcbiAgICAgICAgICAgICAgICAgICAgKHlpZWxkKiB0aGlzLnB1c2hTcGFjZXModHJ1ZSkpICtcbiAgICAgICAgICAgICAgICAgICAgKHlpZWxkKiB0aGlzLnB1c2hJbmRpY2F0b3JzKCkpKTtcbiAgICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAoKHlpZWxkKiB0aGlzLnB1c2hVbnRpbChpc05vdEFuY2hvckNoYXIpKSArXG4gICAgICAgICAgICAgICAgICAgICh5aWVsZCogdGhpcy5wdXNoU3BhY2VzKHRydWUpKSArXG4gICAgICAgICAgICAgICAgICAgICh5aWVsZCogdGhpcy5wdXNoSW5kaWNhdG9ycygpKSk7XG4gICAgICAgICAgICBjYXNlICctJzogLy8gdGhpcyBpcyBhbiBlcnJvclxuICAgICAgICAgICAgY2FzZSAnPyc6IC8vIHRoaXMgaXMgYW4gZXJyb3Igb3V0c2lkZSBmbG93IGNvbGxlY3Rpb25zXG4gICAgICAgICAgICBjYXNlICc6Jzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluRmxvdyA9IHRoaXMuZmxvd0xldmVsID4gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBjaDEgPSB0aGlzLmNoYXJBdCgxKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eShjaDEpIHx8IChpbkZsb3cgJiYgZmxvd0luZGljYXRvckNoYXJzLmhhcyhjaDEpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluRmxvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZW50TmV4dCA9IHRoaXMuaW5kZW50VmFsdWUgKyAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZsb3dLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3dLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoeWllbGQqIHRoaXMucHVzaENvdW50KDEpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoeWllbGQqIHRoaXMucHVzaFNwYWNlcyh0cnVlKSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHlpZWxkKiB0aGlzLnB1c2hJbmRpY2F0b3JzKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgICpwdXNoVGFnKCkge1xuICAgICAgICBpZiAodGhpcy5jaGFyQXQoMSkgPT09ICc8Jykge1xuICAgICAgICAgICAgbGV0IGkgPSB0aGlzLnBvcyArIDI7XG4gICAgICAgICAgICBsZXQgY2ggPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgICAgIHdoaWxlICghaXNFbXB0eShjaCkgJiYgY2ggIT09ICc+JylcbiAgICAgICAgICAgICAgICBjaCA9IHRoaXMuYnVmZmVyWysraV07XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucHVzaFRvSW5kZXgoY2ggPT09ICc+JyA/IGkgKyAxIDogaSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGkgPSB0aGlzLnBvcyArIDE7XG4gICAgICAgICAgICBsZXQgY2ggPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgICAgIHdoaWxlIChjaCkge1xuICAgICAgICAgICAgICAgIGlmICh0YWdDaGFycy5oYXMoY2gpKVxuICAgICAgICAgICAgICAgICAgICBjaCA9IHRoaXMuYnVmZmVyWysraV07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09ICclJyAmJlxuICAgICAgICAgICAgICAgICAgICBoZXhEaWdpdHMuaGFzKHRoaXMuYnVmZmVyW2kgKyAxXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgaGV4RGlnaXRzLmhhcyh0aGlzLmJ1ZmZlcltpICsgMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoID0gdGhpcy5idWZmZXJbKGkgKz0gMyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnB1c2hUb0luZGV4KGksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqcHVzaE5ld2xpbmUoKSB7XG4gICAgICAgIGNvbnN0IGNoID0gdGhpcy5idWZmZXJbdGhpcy5wb3NdO1xuICAgICAgICBpZiAoY2ggPT09ICdcXG4nKVxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLnB1c2hDb3VudCgxKTtcbiAgICAgICAgZWxzZSBpZiAoY2ggPT09ICdcXHInICYmIHRoaXMuY2hhckF0KDEpID09PSAnXFxuJylcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5wdXNoQ291bnQoMik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAqcHVzaFNwYWNlcyhhbGxvd1RhYnMpIHtcbiAgICAgICAgbGV0IGkgPSB0aGlzLnBvcyAtIDE7XG4gICAgICAgIGxldCBjaDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlclsrK2ldO1xuICAgICAgICB9IHdoaWxlIChjaCA9PT0gJyAnIHx8IChhbGxvd1RhYnMgJiYgY2ggPT09ICdcXHQnKSk7XG4gICAgICAgIGNvbnN0IG4gPSBpIC0gdGhpcy5wb3M7XG4gICAgICAgIGlmIChuID4gMCkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5idWZmZXIuc3Vic3RyKHRoaXMucG9zLCBuKTtcbiAgICAgICAgICAgIHRoaXMucG9zID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgKnB1c2hVbnRpbCh0ZXN0KSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5wb3M7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuYnVmZmVyW2ldO1xuICAgICAgICB3aGlsZSAoIXRlc3QoY2gpKVxuICAgICAgICAgICAgY2ggPSB0aGlzLmJ1ZmZlclsrK2ldO1xuICAgICAgICByZXR1cm4geWllbGQqIHRoaXMucHVzaFRvSW5kZXgoaSwgZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5MZXhlciA9IExleGVyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVHJhY2tzIG5ld2xpbmVzIGR1cmluZyBwYXJzaW5nIGluIG9yZGVyIHRvIHByb3ZpZGUgYW4gZWZmaWNpZW50IEFQSSBmb3JcbiAqIGRldGVybWluaW5nIHRoZSBvbmUtaW5kZXhlZCBgeyBsaW5lLCBjb2wgfWAgcG9zaXRpb24gZm9yIGFueSBvZmZzZXRcbiAqIHdpdGhpbiB0aGUgaW5wdXQuXG4gKi9cbmNsYXNzIExpbmVDb3VudGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5saW5lU3RhcnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgYmUgY2FsbGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBjYWxsXG4gICAgICAgICAqIGBsaW5lQ291bnRlci5saW5lU3RhcnRzLnNvcnQoKWAgYmVmb3JlIGNhbGxpbmcgYGxpbmVQb3MoKWAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZE5ld0xpbmUgPSAob2Zmc2V0KSA9PiB0aGlzLmxpbmVTdGFydHMucHVzaChvZmZzZXQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIGFuZCByZXR1cm5zIHRoZSAxLWluZGV4ZWQgeyBsaW5lLCBjb2wgfVxuICAgICAgICAgKiBwb3NpdGlvbiBvZiBgb2Zmc2V0YC4gSWYgYGxpbmUgPT09IDBgLCBgYWRkTmV3TGluZWAgaGFzIG5ldmVyIGJlZW5cbiAgICAgICAgICogY2FsbGVkIG9yIGBvZmZzZXRgIGlzIGJlZm9yZSB0aGUgZmlyc3Qga25vd24gbmV3bGluZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVBvcyA9IChvZmZzZXQpID0+IHtcbiAgICAgICAgICAgIGxldCBsb3cgPSAwO1xuICAgICAgICAgICAgbGV0IGhpZ2ggPSB0aGlzLmxpbmVTdGFydHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSAobG93ICsgaGlnaCkgPj4gMTsgLy8gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpbmVTdGFydHNbbWlkXSA8IG9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lU3RhcnRzW2xvd10gPT09IG9mZnNldClcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsaW5lOiBsb3cgKyAxLCBjb2w6IDEgfTtcbiAgICAgICAgICAgIGlmIChsb3cgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbGluZTogMCwgY29sOiBvZmZzZXQgfTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5saW5lU3RhcnRzW2xvdyAtIDFdO1xuICAgICAgICAgICAgcmV0dXJuIHsgbGluZTogbG93LCBjb2w6IG9mZnNldCAtIHN0YXJ0ICsgMSB9O1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0cy5MaW5lQ291bnRlciA9IExpbmVDb3VudGVyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBub2RlX3Byb2Nlc3MgPSByZXF1aXJlKCdwcm9jZXNzJyk7XG52YXIgY3N0ID0gcmVxdWlyZSgnLi9jc3QuanMnKTtcbnZhciBsZXhlciA9IHJlcXVpcmUoJy4vbGV4ZXIuanMnKTtcblxuZnVuY3Rpb24gaW5jbHVkZXNUb2tlbihsaXN0LCB0eXBlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAobGlzdFtpXS50eXBlID09PSB0eXBlKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZE5vbkVtcHR5SW5kZXgobGlzdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgICBzd2l0Y2ggKGxpc3RbaV0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gaXNGbG93VG9rZW4odG9rZW4pIHtcbiAgICBzd2l0Y2ggKHRva2VuPy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2FsaWFzJzpcbiAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICBjYXNlICdkb3VibGUtcXVvdGVkLXNjYWxhcic6XG4gICAgICAgIGNhc2UgJ2Zsb3ctY29sbGVjdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRQcmV2UHJvcHMocGFyZW50KSB7XG4gICAgc3dpdGNoIChwYXJlbnQudHlwZSkge1xuICAgICAgICBjYXNlICdkb2N1bWVudCc6XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LnN0YXJ0O1xuICAgICAgICBjYXNlICdibG9jay1tYXAnOiB7XG4gICAgICAgICAgICBjb25zdCBpdCA9IHBhcmVudC5pdGVtc1twYXJlbnQuaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByZXR1cm4gaXQuc2VwID8/IGl0LnN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Jsb2NrLXNlcSc6XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50Lml0ZW1zW3BhcmVudC5pdGVtcy5sZW5ndGggLSAxXS5zdGFydDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG4vKiogTm90ZTogTWF5IG1vZGlmeSBpbnB1dCBhcnJheSAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3RLZXlTdGFydFByb3BzKHByZXYpIHtcbiAgICBpZiAocHJldi5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBsZXQgaSA9IHByZXYubGVuZ3RoO1xuICAgIGxvb3A6IHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICBzd2l0Y2ggKHByZXZbaV0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZG9jLXN0YXJ0JzpcbiAgICAgICAgICAgIGNhc2UgJ2V4cGxpY2l0LWtleS1pbmQnOlxuICAgICAgICAgICAgY2FzZSAnbWFwLXZhbHVlLWluZCc6XG4gICAgICAgICAgICBjYXNlICdzZXEtaXRlbS1pbmQnOlxuICAgICAgICAgICAgY2FzZSAnbmV3bGluZSc6XG4gICAgICAgICAgICAgICAgYnJlYWsgbG9vcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAocHJldlsrK2ldPy50eXBlID09PSAnc3BhY2UnKSB7XG4gICAgICAgIC8qIGxvb3AgKi9cbiAgICB9XG4gICAgcmV0dXJuIHByZXYuc3BsaWNlKGksIHByZXYubGVuZ3RoKTtcbn1cbmZ1bmN0aW9uIGZpeEZsb3dTZXFJdGVtcyhmYykge1xuICAgIGlmIChmYy5zdGFydC50eXBlID09PSAnZmxvdy1zZXEtc3RhcnQnKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXQgb2YgZmMuaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdC5zZXAgJiZcbiAgICAgICAgICAgICAgICAhaXQudmFsdWUgJiZcbiAgICAgICAgICAgICAgICAhaW5jbHVkZXNUb2tlbihpdC5zdGFydCwgJ2V4cGxpY2l0LWtleS1pbmQnKSAmJlxuICAgICAgICAgICAgICAgICFpbmNsdWRlc1Rva2VuKGl0LnNlcCwgJ21hcC12YWx1ZS1pbmQnKSkge1xuICAgICAgICAgICAgICAgIGlmIChpdC5rZXkpXG4gICAgICAgICAgICAgICAgICAgIGl0LnZhbHVlID0gaXQua2V5O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBpdC5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmxvd1Rva2VuKGl0LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQudmFsdWUuZW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaXQudmFsdWUuZW5kLCBpdC5zZXApO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpdC52YWx1ZS5lbmQgPSBpdC5zZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaXQuc3RhcnQsIGl0LnNlcCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGl0LnNlcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBZQU1MIGNvbmNyZXRlIHN5bnRheCB0cmVlIChDU1QpIHBhcnNlclxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBzcmM6IHN0cmluZyA9IC4uLlxuICogZm9yIChjb25zdCB0b2tlbiBvZiBuZXcgUGFyc2VyKCkucGFyc2Uoc3JjKSkge1xuICogICAvLyB0b2tlbjogVG9rZW5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRvIHVzZSB0aGUgcGFyc2VyIHdpdGggYSB1c2VyLXByb3ZpZGVkIGxleGVyOlxuICpcbiAqIGBgYHRzXG4gKiBmdW5jdGlvbiogcGFyc2Uoc291cmNlOiBzdHJpbmcsIGxleGVyOiBMZXhlcikge1xuICogICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKClcbiAqICAgZm9yIChjb25zdCBsZXhlbWUgb2YgbGV4ZXIubGV4KHNvdXJjZSkpXG4gKiAgICAgeWllbGQqIHBhcnNlci5uZXh0KGxleGVtZSlcbiAqICAgeWllbGQqIHBhcnNlci5lbmQoKVxuICogfVxuICpcbiAqIGNvbnN0IHNyYzogc3RyaW5nID0gLi4uXG4gKiBjb25zdCBsZXhlciA9IG5ldyBMZXhlcigpXG4gKiBmb3IgKGNvbnN0IHRva2VuIG9mIHBhcnNlKHNyYywgbGV4ZXIpKSB7XG4gKiAgIC8vIHRva2VuOiBUb2tlblxuICogfVxuICogYGBgXG4gKi9cbmNsYXNzIFBhcnNlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG9uTmV3TGluZSAtIElmIGRlZmluZWQsIGNhbGxlZCBzZXBhcmF0ZWx5IHdpdGggdGhlIHN0YXJ0IHBvc2l0aW9uIG9mXG4gICAgICogICBlYWNoIG5ldyBsaW5lIChpbiBgcGFyc2UoKWAsIGluY2x1ZGluZyB0aGUgc3RhcnQgb2YgaW5wdXQpLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9uTmV3TGluZSkge1xuICAgICAgICAvKiogSWYgdHJ1ZSwgc3BhY2UgYW5kIHNlcXVlbmNlIGluZGljYXRvcnMgY291bnQgYXMgaW5kZW50YXRpb24gKi9cbiAgICAgICAgdGhpcy5hdE5ld0xpbmUgPSB0cnVlO1xuICAgICAgICAvKiogSWYgdHJ1ZSwgbmV4dCB0b2tlbiBpcyBhIHNjYWxhciB2YWx1ZSAqL1xuICAgICAgICB0aGlzLmF0U2NhbGFyID0gZmFsc2U7XG4gICAgICAgIC8qKiBDdXJyZW50IGluZGVudGF0aW9uIGxldmVsICovXG4gICAgICAgIHRoaXMuaW5kZW50ID0gMDtcbiAgICAgICAgLyoqIEN1cnJlbnQgb2Zmc2V0IHNpbmNlIHRoZSBzdGFydCBvZiBwYXJzaW5nICovXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqIE9uIHRoZSBzYW1lIGxpbmUgd2l0aCBhIGJsb2NrIG1hcCBrZXkgKi9cbiAgICAgICAgdGhpcy5vbktleUxpbmUgPSBmYWxzZTtcbiAgICAgICAgLyoqIFRvcCBpbmRpY2F0ZXMgdGhlIG5vZGUgdGhhdCdzIGN1cnJlbnRseSBiZWluZyBidWlsdCAqL1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIC8qKiBUaGUgc291cmNlIG9mIHRoZSBjdXJyZW50IHRva2VuLCBzZXQgaW4gcGFyc2UoKSAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9ICcnO1xuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgdG9rZW4sIHNldCBpbiBwYXJzZSgpICovXG4gICAgICAgIHRoaXMudHlwZSA9ICcnO1xuICAgICAgICAvLyBNdXN0IGJlIGRlZmluZWQgYWZ0ZXIgYG5leHQoKWBcbiAgICAgICAgdGhpcy5sZXhlciA9IG5ldyBsZXhlci5MZXhlcigpO1xuICAgICAgICB0aGlzLm9uTmV3TGluZSA9IG9uTmV3TGluZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgYHNvdXJjZWAgYXMgYSBZQU1MIHN0cmVhbS5cbiAgICAgKiBJZiBgaW5jb21wbGV0ZWAsIGEgcGFydCBvZiB0aGUgbGFzdCBsaW5lIG1heSBiZSBsZWZ0IGFzIGEgYnVmZmVyIGZvciB0aGUgbmV4dCBjYWxsLlxuICAgICAqXG4gICAgICogRXJyb3JzIGFyZSBub3QgdGhyb3duLCBidXQgeWllbGRlZCBhcyBgeyB0eXBlOiAnZXJyb3InLCBtZXNzYWdlIH1gIHRva2Vucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZ2VuZXJhdG9yIG9mIHRva2VucyByZXByZXNlbnRpbmcgZWFjaCBkaXJlY3RpdmUsIGRvY3VtZW50LCBhbmQgb3RoZXIgc3RydWN0dXJlLlxuICAgICAqL1xuICAgICpwYXJzZShzb3VyY2UsIGluY29tcGxldGUgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5vbk5ld0xpbmUgJiYgdGhpcy5vZmZzZXQgPT09IDApXG4gICAgICAgICAgICB0aGlzLm9uTmV3TGluZSgwKTtcbiAgICAgICAgZm9yIChjb25zdCBsZXhlbWUgb2YgdGhpcy5sZXhlci5sZXgoc291cmNlLCBpbmNvbXBsZXRlKSlcbiAgICAgICAgICAgIHlpZWxkKiB0aGlzLm5leHQobGV4ZW1lKTtcbiAgICAgICAgaWYgKCFpbmNvbXBsZXRlKVxuICAgICAgICAgICAgeWllbGQqIHRoaXMuZW5kKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkdmFuY2UgdGhlIHBhcnNlciBieSB0aGUgYHNvdXJjZWAgb2Ygb25lIGxleGljYWwgdG9rZW4uXG4gICAgICovXG4gICAgKm5leHQoc291cmNlKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBpZiAobm9kZV9wcm9jZXNzLmVudi5MT0dfVE9LRU5TKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3wnLCBjc3QucHJldHR5VG9rZW4oc291cmNlKSk7XG4gICAgICAgIGlmICh0aGlzLmF0U2NhbGFyKSB7XG4gICAgICAgICAgICB0aGlzLmF0U2NhbGFyID0gZmFsc2U7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5zdGVwKCk7XG4gICAgICAgICAgICB0aGlzLm9mZnNldCArPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjc3QudG9rZW5UeXBlKHNvdXJjZSk7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBOb3QgYSBZQU1MIHRva2VuOiAke3NvdXJjZX1gO1xuICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKHsgdHlwZTogJ2Vycm9yJywgb2Zmc2V0OiB0aGlzLm9mZnNldCwgbWVzc2FnZSwgc291cmNlIH0pO1xuICAgICAgICAgICAgdGhpcy5vZmZzZXQgKz0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc2NhbGFyJykge1xuICAgICAgICAgICAgdGhpcy5hdE5ld0xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYXRTY2FsYXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gJ3NjYWxhcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgeWllbGQqIHRoaXMuc3RlcCgpO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmV3bGluZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXROZXdMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRlbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbk5ld0xpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTmV3TGluZSh0aGlzLm9mZnNldCArIHNvdXJjZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0TmV3TGluZSAmJiBzb3VyY2VbMF0gPT09ICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZW50ICs9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V4cGxpY2l0LWtleS1pbmQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21hcC12YWx1ZS1pbmQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NlcS1pdGVtLWluZCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0TmV3TGluZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZW50ICs9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RvYy1tb2RlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmbG93LWVycm9yLWVuZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0TmV3TGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgKz0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ2FsbCBhdCBlbmQgb2YgaW5wdXQgdG8gcHVzaCBvdXQgYW55IHJlbWFpbmluZyBjb25zdHJ1Y3Rpb25zICovXG4gICAgKmVuZCgpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhY2subGVuZ3RoID4gMClcbiAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCgpO1xuICAgIH1cbiAgICBnZXQgc291cmNlVG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IHN0ID0ge1xuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgIGluZGVudDogdGhpcy5pbmRlbnQsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdDtcbiAgICB9XG4gICAgKnN0ZXAoKSB7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMucGVlaygxKTtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2RvYy1lbmQnICYmIHRvcD8udHlwZSAhPT0gJ2RvYy1lbmQnKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5zdGFjay5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZG9jLWVuZCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRvcClcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5zdHJlYW0oKTtcbiAgICAgICAgc3dpdGNoICh0b3AudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5kb2N1bWVudCh0b3ApO1xuICAgICAgICAgICAgY2FzZSAnYWxpYXMnOlxuICAgICAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICAgIGNhc2UgJ3NpbmdsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgIGNhc2UgJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMuc2NhbGFyKHRvcCk7XG4gICAgICAgICAgICBjYXNlICdibG9jay1zY2FsYXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogdGhpcy5ibG9ja1NjYWxhcih0b3ApO1xuICAgICAgICAgICAgY2FzZSAnYmxvY2stbWFwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMuYmxvY2tNYXAodG9wKTtcbiAgICAgICAgICAgIGNhc2UgJ2Jsb2NrLXNlcSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLmJsb2NrU2VxdWVuY2UodG9wKTtcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctY29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLmZsb3dDb2xsZWN0aW9uKHRvcCk7XG4gICAgICAgICAgICBjYXNlICdkb2MtZW5kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIHRoaXMuZG9jdW1lbnRFbmQodG9wKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCBzaG91bGQgbm90IGhhcHBlbiAqL1xuICAgICAgICB5aWVsZCogdGhpcy5wb3AoKTtcbiAgICB9XG4gICAgcGVlayhuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gbl07XG4gICAgfVxuICAgICpwb3AoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBlcnJvciA/PyB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdUcmllZCB0byBwb3AgYW4gZW1wdHkgc3RhY2snO1xuICAgICAgICAgICAgeWllbGQgeyB0eXBlOiAnZXJyb3InLCBvZmZzZXQ6IHRoaXMub2Zmc2V0LCBzb3VyY2U6ICcnLCBtZXNzYWdlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHlpZWxkIHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdG9wID0gdGhpcy5wZWVrKDEpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdibG9jay1zY2FsYXInKSB7XG4gICAgICAgICAgICAgICAgLy8gQmxvY2sgc2NhbGFycyB1c2UgdGhlaXIgcGFyZW50IHJhdGhlciB0aGFuIGhlYWRlciBpbmRlbnRcbiAgICAgICAgICAgICAgICB0b2tlbi5pbmRlbnQgPSAnaW5kZW50JyBpbiB0b3AgPyB0b3AuaW5kZW50IDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09ICdmbG93LWNvbGxlY3Rpb24nICYmIHRvcC50eXBlID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGFsbCBpbmRlbnQgZm9yIHRvcC1sZXZlbCBmbG93IGNvbGxlY3Rpb25zXG4gICAgICAgICAgICAgICAgdG9rZW4uaW5kZW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnZmxvdy1jb2xsZWN0aW9uJylcbiAgICAgICAgICAgICAgICBmaXhGbG93U2VxSXRlbXModG9rZW4pO1xuICAgICAgICAgICAgc3dpdGNoICh0b3AudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgICAgICAgICAgICAgdG9wLnZhbHVlID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jsb2NrLXNjYWxhcic6XG4gICAgICAgICAgICAgICAgICAgIHRvcC5wcm9wcy5wdXNoKHRva2VuKTsgLy8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxvY2stbWFwJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdCA9IHRvcC5pdGVtc1t0b3AuaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wLml0ZW1zLnB1c2goeyBzdGFydDogW10sIGtleTogdG9rZW4sIHNlcDogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uS2V5TGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXQuc2VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC52YWx1ZSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpdCwgeyBrZXk6IHRva2VuLCBzZXA6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbktleUxpbmUgPSAhaXQuZXhwbGljaXRLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jsb2NrLXNlcSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXQgPSB0b3AuaXRlbXNbdG9wLml0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AuaXRlbXMucHVzaCh7IHN0YXJ0OiBbXSwgdmFsdWU6IHRva2VuIH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpdC52YWx1ZSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvdy1jb2xsZWN0aW9uJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdCA9IHRvcC5pdGVtc1t0b3AuaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXQgfHwgaXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AuaXRlbXMucHVzaCh7IHN0YXJ0OiBbXSwga2V5OiB0b2tlbiwgc2VwOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXQuc2VwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXQudmFsdWUgPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpdCwgeyBrZXk6IHRva2VuLCBzZXA6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IHNob3VsZCBub3QgaGFwcGVuICovXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRvcC50eXBlID09PSAnZG9jdW1lbnQnIHx8XG4gICAgICAgICAgICAgICAgdG9wLnR5cGUgPT09ICdibG9jay1tYXAnIHx8XG4gICAgICAgICAgICAgICAgdG9wLnR5cGUgPT09ICdibG9jay1zZXEnKSAmJlxuICAgICAgICAgICAgICAgICh0b2tlbi50eXBlID09PSAnYmxvY2stbWFwJyB8fCB0b2tlbi50eXBlID09PSAnYmxvY2stc2VxJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gdG9rZW4uaXRlbXNbdG9rZW4uaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiZcbiAgICAgICAgICAgICAgICAgICAgIWxhc3Quc2VwICYmXG4gICAgICAgICAgICAgICAgICAgICFsYXN0LnZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIGxhc3Quc3RhcnQubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmaW5kTm9uRW1wdHlJbmRleChsYXN0LnN0YXJ0KSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLmluZGVudCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdC5zdGFydC5ldmVyeShzdCA9PiBzdC50eXBlICE9PSAnY29tbWVudCcgfHwgc3QuaW5kZW50IDwgdG9rZW4uaW5kZW50KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcC50eXBlID09PSAnZG9jdW1lbnQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wLmVuZCA9IGxhc3Quc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcC5pdGVtcy5wdXNoKHsgc3RhcnQ6IGxhc3Quc3RhcnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuLml0ZW1zLnNwbGljZSgtMSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICpzdHJlYW0oKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXJlY3RpdmUtbGluZSc6XG4gICAgICAgICAgICAgICAgeWllbGQgeyB0eXBlOiAnZGlyZWN0aXZlJywgb2Zmc2V0OiB0aGlzLm9mZnNldCwgc291cmNlOiB0aGlzLnNvdXJjZSB9O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ2J5dGUtb3JkZXItbWFyayc6XG4gICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuc291cmNlVG9rZW47XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnZG9jLW1vZGUnOlxuICAgICAgICAgICAgY2FzZSAnZG9jLXN0YXJ0Jzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RvY3VtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAnZG9jLXN0YXJ0JylcbiAgICAgICAgICAgICAgICAgICAgZG9jLnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjay5wdXNoKGRvYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgbWVzc2FnZTogYFVuZXhwZWN0ZWQgJHt0aGlzLnR5cGV9IHRva2VuIGluIFlBTUwgc3RyZWFtYCxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgKmRvY3VtZW50KGRvYykge1xuICAgICAgICBpZiAoZG9jLnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiB0aGlzLmxpbmVFbmQoZG9jKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RvYy1zdGFydCc6IHtcbiAgICAgICAgICAgICAgICBpZiAoZmluZE5vbkVtcHR5SW5kZXgoZG9jLnN0YXJ0KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnN0ZXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBkb2Muc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdhbmNob3InOlxuICAgICAgICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnbmV3bGluZSc6XG4gICAgICAgICAgICAgICAgZG9jLnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ2ID0gdGhpcy5zdGFydEJsb2NrVmFsdWUoZG9jKTtcbiAgICAgICAgaWYgKGJ2KVxuICAgICAgICAgICAgdGhpcy5zdGFjay5wdXNoKGJ2KTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBVbmV4cGVjdGVkICR7dGhpcy50eXBlfSB0b2tlbiBpbiBZQU1MIGRvY3VtZW50YCxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgICpzY2FsYXIoc2NhbGFyKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdtYXAtdmFsdWUtaW5kJykge1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IGdldFByZXZQcm9wcyh0aGlzLnBlZWsoMikpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRGaXJzdEtleVN0YXJ0UHJvcHMocHJldik7XG4gICAgICAgICAgICBsZXQgc2VwO1xuICAgICAgICAgICAgaWYgKHNjYWxhci5lbmQpIHtcbiAgICAgICAgICAgICAgICBzZXAgPSBzY2FsYXIuZW5kO1xuICAgICAgICAgICAgICAgIHNlcC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2FsYXIuZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNlcCA9IFt0aGlzLnNvdXJjZVRva2VuXTtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2stbWFwJyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHNjYWxhci5vZmZzZXQsXG4gICAgICAgICAgICAgICAgaW5kZW50OiBzY2FsYXIuaW5kZW50LFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbeyBzdGFydCwga2V5OiBzY2FsYXIsIHNlcCB9XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXSA9IG1hcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB5aWVsZCogdGhpcy5saW5lRW5kKHNjYWxhcik7XG4gICAgfVxuICAgICpibG9ja1NjYWxhcihzY2FsYXIpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnbmV3bGluZSc6XG4gICAgICAgICAgICAgICAgc2NhbGFyLnByb3BzLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICAgICAgICBzY2FsYXIuc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICAgICAgLy8gYmxvY2stc2NhbGFyIHNvdXJjZSBpbmNsdWRlcyB0cmFpbGluZyBuZXdsaW5lXG4gICAgICAgICAgICAgICAgdGhpcy5hdE5ld0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZW50ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbk5ld0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5sID0gdGhpcy5zb3VyY2UuaW5kZXhPZignXFxuJykgKyAxO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmwgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25OZXdMaW5lKHRoaXMub2Zmc2V0ICsgbmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmwgPSB0aGlzLnNvdXJjZS5pbmRleE9mKCdcXG4nLCBubCkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgc2hvdWxkIG5vdCBoYXBwZW4gKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuc3RlcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgICpibG9ja01hcChtYXApIHtcbiAgICAgICAgY29uc3QgaXQgPSBtYXAuaXRlbXNbbWFwLml0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICAvLyBpdC5zZXAgaXMgdHJ1ZS1pc2ggaWYgcGFpciBhbHJlYWR5IGhhcyBrZXkgb3IgOiBzZXBhcmF0b3JcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGl0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9ICdlbmQnIGluIGl0LnZhbHVlID8gaXQudmFsdWUuZW5kIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gQXJyYXkuaXNBcnJheShlbmQpID8gZW5kW2VuZC5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3Q/LnR5cGUgPT09ICdjb21tZW50JylcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZD8ucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2goeyBzdGFydDogW3RoaXMuc291cmNlVG9rZW5dIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdC5zZXApIHtcbiAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICBpZiAoaXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2goeyBzdGFydDogW3RoaXMuc291cmNlVG9rZW5dIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdC5zZXApIHtcbiAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdEluZGVudGVkQ29tbWVudChpdC5zdGFydCwgbWFwLmluZGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBtYXAuaXRlbXNbbWFwLml0ZW1zLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcHJldj8udmFsdWU/LmVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlbmQsIGl0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuaXRlbXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGl0LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRlbnQgPj0gbWFwLmluZGVudCkge1xuICAgICAgICAgICAgY29uc3QgYXRNYXBJbmRlbnQgPSAhdGhpcy5vbktleUxpbmUgJiYgdGhpcy5pbmRlbnQgPT09IG1hcC5pbmRlbnQ7XG4gICAgICAgICAgICBjb25zdCBhdE5leHRJdGVtID0gYXRNYXBJbmRlbnQgJiZcbiAgICAgICAgICAgICAgICAoaXQuc2VwIHx8IGl0LmV4cGxpY2l0S2V5KSAmJlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSAhPT0gJ3NlcS1pdGVtLWluZCc7XG4gICAgICAgICAgICAvLyBGb3IgZW1wdHkgbm9kZXMsIGFzc2lnbiBuZXdsaW5lLXNlcGFyYXRlZCBub3QgaW5kZW50ZWQgZW1wdHkgdG9rZW5zIHRvIGZvbGxvd2luZyBub2RlXG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBbXTtcbiAgICAgICAgICAgIGlmIChhdE5leHRJdGVtICYmIGl0LnNlcCAmJiAhaXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBubCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXQuc2VwLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ID0gaXQuc2VwW2ldO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5sLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3QuaW5kZW50ID4gbWFwLmluZGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmwubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmwubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmwubGVuZ3RoID49IDIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaXQuc2VwLnNwbGljZShubFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FuY2hvcic6XG4gICAgICAgICAgICAgICAgY2FzZSAndGFnJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0TmV4dEl0ZW0gfHwgaXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuaXRlbXMucHVzaCh7IHN0YXJ0IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbktleUxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0LnNlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdleHBsaWNpdC1rZXktaW5kJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdC5zZXAgJiYgIWl0LmV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXQuZXhwbGljaXRLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF0TmV4dEl0ZW0gfHwgaXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuaXRlbXMucHVzaCh7IHN0YXJ0LCBleHBsaWNpdEtleTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Jsb2NrLW1hcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbeyBzdGFydDogW3RoaXMuc291cmNlVG9rZW5dLCBleHBsaWNpdEtleTogdHJ1ZSB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbktleUxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSAnbWFwLXZhbHVlLWluZCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5leHBsaWNpdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdC5zZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZXNUb2tlbihpdC5zdGFydCwgJ25ld2xpbmUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGl0LCB7IGtleTogbnVsbCwgc2VwOiBbdGhpcy5zb3VyY2VUb2tlbl0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGdldEZpcnN0S2V5U3RhcnRQcm9wcyhpdC5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2stbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFt7IHN0YXJ0LCBrZXk6IG51bGwsIHNlcDogW3RoaXMuc291cmNlVG9rZW5dIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2goeyBzdGFydDogW10sIGtleTogbnVsbCwgc2VwOiBbdGhpcy5zb3VyY2VUb2tlbl0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmNsdWRlc1Rva2VuKGl0LnNlcCwgJ21hcC12YWx1ZS1pbmQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdibG9jay1tYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogW3sgc3RhcnQsIGtleTogbnVsbCwgc2VwOiBbdGhpcy5zb3VyY2VUb2tlbl0gfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRmxvd1Rva2VuKGl0LmtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW5jbHVkZXNUb2tlbihpdC5zZXAsICduZXdsaW5lJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGdldEZpcnN0S2V5U3RhcnRQcm9wcyhpdC5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gaXQua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcCA9IGl0LnNlcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXAucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgZ3VhcmQgaXMgd3JvbmcgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdC5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGd1YXJkIGlzIHdyb25nIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaXQuc2VwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdibG9jay1tYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogW3sgc3RhcnQsIGtleSwgc2VwIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGFydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IGFjdHVhbGx5IGF0IG5leHQgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0LnNlcCA9IGl0LnNlcC5jb25jYXQoc3RhcnQsIHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0LnNlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaXQsIHsga2V5OiBudWxsLCBzZXA6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0LnZhbHVlIHx8IGF0TmV4dEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuaXRlbXMucHVzaCh7IHN0YXJ0LCBrZXk6IG51bGwsIHNlcDogW3RoaXMuc291cmNlVG9rZW5dIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5jbHVkZXNUb2tlbihpdC5zZXAsICdtYXAtdmFsdWUtaW5kJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2stbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50OiB0aGlzLmluZGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFt7IHN0YXJ0OiBbXSwga2V5OiBudWxsLCBzZXA6IFt0aGlzLnNvdXJjZVRva2VuXSB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbktleUxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSAnYWxpYXMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NjYWxhcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2RvdWJsZS1xdW90ZWQtc2NhbGFyJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcyA9IHRoaXMuZmxvd1NjYWxhcih0aGlzLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXROZXh0SXRlbSB8fCBpdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2goeyBzdGFydCwga2V5OiBmcywgc2VwOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdC5zZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaChmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGl0LCB7IGtleTogZnMsIHNlcDogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uS2V5TGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ2ID0gdGhpcy5zdGFydEJsb2NrVmFsdWUobWFwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnYudHlwZSA9PT0gJ2Jsb2NrLXNlcScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0LmV4cGxpY2l0S2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0LnNlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW5jbHVkZXNUb2tlbihpdC5zZXAsICduZXdsaW5lJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VuZXhwZWN0ZWQgYmxvY2stc2VxLWluZCBvbiBzYW1lIGxpbmUgd2l0aCBrZXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF0TWFwSW5kZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLml0ZW1zLnB1c2goeyBzdGFydCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaChidik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQqIHRoaXMucG9wKCk7XG4gICAgICAgIHlpZWxkKiB0aGlzLnN0ZXAoKTtcbiAgICB9XG4gICAgKmJsb2NrU2VxdWVuY2Uoc2VxKSB7XG4gICAgICAgIGNvbnN0IGl0ID0gc2VxLml0ZW1zW3NlcS5pdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgIGlmIChpdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSAnZW5kJyBpbiBpdC52YWx1ZSA/IGl0LnZhbHVlLmVuZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IEFycmF5LmlzQXJyYXkoZW5kKSA/IGVuZFtlbmQubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Py50eXBlID09PSAnY29tbWVudCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ/LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcS5pdGVtcy5wdXNoKHsgc3RhcnQ6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgICAgIGlmIChpdC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgc2VxLml0ZW1zLnB1c2goeyBzdGFydDogW3RoaXMuc291cmNlVG9rZW5dIH0pO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdEluZGVudGVkQ29tbWVudChpdC5zdGFydCwgc2VxLmluZGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBzZXEuaXRlbXNbc2VxLml0ZW1zLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcHJldj8udmFsdWU/LmVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlbmQsIGl0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXEuaXRlbXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGl0LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ2FuY2hvcic6XG4gICAgICAgICAgICBjYXNlICd0YWcnOlxuICAgICAgICAgICAgICAgIGlmIChpdC52YWx1ZSB8fCB0aGlzLmluZGVudCA8PSBzZXEuaW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ3NlcS1pdGVtLWluZCc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZW50ICE9PSBzZXEuaW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoaXQudmFsdWUgfHwgaW5jbHVkZXNUb2tlbihpdC5zdGFydCwgJ3NlcS1pdGVtLWluZCcpKVxuICAgICAgICAgICAgICAgICAgICBzZXEuaXRlbXMucHVzaCh7IHN0YXJ0OiBbdGhpcy5zb3VyY2VUb2tlbl0gfSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRlbnQgPiBzZXEuaW5kZW50KSB7XG4gICAgICAgICAgICBjb25zdCBidiA9IHRoaXMuc3RhcnRCbG9ja1ZhbHVlKHNlcSk7XG4gICAgICAgICAgICBpZiAoYnYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2goYnYpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5wb3AoKTtcbiAgICAgICAgeWllbGQqIHRoaXMuc3RlcCgpO1xuICAgIH1cbiAgICAqZmxvd0NvbGxlY3Rpb24oZmMpIHtcbiAgICAgICAgY29uc3QgaXQgPSBmYy5pdGVtc1tmYy5pdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2Zsb3ctZXJyb3ItZW5kJykge1xuICAgICAgICAgICAgbGV0IHRvcDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB0b3AgPSB0aGlzLnBlZWsoMSk7XG4gICAgICAgICAgICB9IHdoaWxlICh0b3A/LnR5cGUgPT09ICdmbG93LWNvbGxlY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmYy5lbmQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbW1hJzpcbiAgICAgICAgICAgICAgICBjYXNlICdleHBsaWNpdC1rZXktaW5kJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdCB8fCBpdC5zZXApXG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5pdGVtcy5wdXNoKHsgc3RhcnQ6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaXQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21hcC12YWx1ZS1pbmQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0IHx8IGl0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmMuaXRlbXMucHVzaCh7IHN0YXJ0OiBbXSwga2V5OiBudWxsLCBzZXA6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXQuc2VwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaXQsIHsga2V5OiBudWxsLCBzZXA6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICBjYXNlICduZXdsaW5lJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhbmNob3InOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhZyc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXQgfHwgaXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5pdGVtcy5wdXNoKHsgc3RhcnQ6IFt0aGlzLnNvdXJjZVRva2VuXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXQuc2VwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdhbGlhcyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2NhbGFyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzaW5nbGUtcXVvdGVkLXNjYWxhcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnZG91YmxlLXF1b3RlZC1zY2FsYXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gdGhpcy5mbG93U2NhbGFyKHRoaXMudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXQgfHwgaXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5pdGVtcy5wdXNoKHsgc3RhcnQ6IFtdLCBrZXk6IGZzLCBzZXA6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdC5zZXApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2goZnMpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGl0LCB7IGtleTogZnMsIHNlcDogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvdy1tYXAtZW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmbG93LXNlcS1lbmQnOlxuICAgICAgICAgICAgICAgICAgICBmYy5lbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnYgPSB0aGlzLnN0YXJ0QmxvY2tWYWx1ZShmYyk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSBzaG91bGQgbm90IGhhcHBlbiAqL1xuICAgICAgICAgICAgaWYgKGJ2KVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sucHVzaChidik7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5zdGVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBlZWsoMik7XG4gICAgICAgICAgICBpZiAocGFyZW50LnR5cGUgPT09ICdibG9jay1tYXAnICYmXG4gICAgICAgICAgICAgICAgKCh0aGlzLnR5cGUgPT09ICdtYXAtdmFsdWUtaW5kJyAmJiBwYXJlbnQuaW5kZW50ID09PSBmYy5pbmRlbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnR5cGUgPT09ICduZXdsaW5lJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXBhcmVudC5pdGVtc1twYXJlbnQuaXRlbXMubGVuZ3RoIC0gMV0uc2VwKSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5zdGVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdtYXAtdmFsdWUtaW5kJyAmJlxuICAgICAgICAgICAgICAgIHBhcmVudC50eXBlICE9PSAnZmxvdy1jb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBnZXRQcmV2UHJvcHMocGFyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGdldEZpcnN0S2V5U3RhcnRQcm9wcyhwcmV2KTtcbiAgICAgICAgICAgICAgICBmaXhGbG93U2VxSXRlbXMoZmMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcCA9IGZjLmVuZC5zcGxpY2UoMSwgZmMuZW5kLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2stbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBmYy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGluZGVudDogZmMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogW3sgc3RhcnQsIGtleTogZmMsIHNlcCB9XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5vbktleUxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXSA9IG1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmxpbmVFbmQoZmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZsb3dTY2FsYXIodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5vbk5ld0xpbmUpIHtcbiAgICAgICAgICAgIGxldCBubCA9IHRoaXMuc291cmNlLmluZGV4T2YoJ1xcbicpICsgMTtcbiAgICAgICAgICAgIHdoaWxlIChubCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25OZXdMaW5lKHRoaXMub2Zmc2V0ICsgbmwpO1xuICAgICAgICAgICAgICAgIG5sID0gdGhpcy5zb3VyY2UuaW5kZXhPZignXFxuJywgbmwpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGFydEJsb2NrVmFsdWUocGFyZW50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdhbGlhcyc6XG4gICAgICAgICAgICBjYXNlICdzY2FsYXInOlxuICAgICAgICAgICAgY2FzZSAnc2luZ2xlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgY2FzZSAnZG91YmxlLXF1b3RlZC1zY2FsYXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZsb3dTY2FsYXIodGhpcy50eXBlKTtcbiAgICAgICAgICAgIGNhc2UgJ2Jsb2NrLXNjYWxhci1oZWFkZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdibG9jay1zY2FsYXInLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICBwcm9wczogW3RoaXMuc291cmNlVG9rZW5dLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctbWFwLXN0YXJ0JzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctc2VxLXN0YXJ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmxvdy1jb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50OiB0aGlzLmluZGVudCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMuc291cmNlVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdzZXEtaXRlbS1pbmQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdibG9jay1zZXEnLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBpbmRlbnQ6IHRoaXMuaW5kZW50LFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogW3sgc3RhcnQ6IFt0aGlzLnNvdXJjZVRva2VuXSB9XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdleHBsaWNpdC1rZXktaW5kJzoge1xuICAgICAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gZ2V0UHJldlByb3BzKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRGaXJzdEtleVN0YXJ0UHJvcHMocHJldik7XG4gICAgICAgICAgICAgICAgc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2stbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50OiB0aGlzLmluZGVudCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFt7IHN0YXJ0LCBleHBsaWNpdEtleTogdHJ1ZSB9XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdtYXAtdmFsdWUtaW5kJzoge1xuICAgICAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gZ2V0UHJldlByb3BzKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBnZXRGaXJzdEtleVN0YXJ0UHJvcHMocHJldik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Jsb2NrLW1hcCcsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGluZGVudDogdGhpcy5pbmRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbeyBzdGFydCwga2V5OiBudWxsLCBzZXA6IFt0aGlzLnNvdXJjZVRva2VuXSB9XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGF0SW5kZW50ZWRDb21tZW50KHN0YXJ0LCBpbmRlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gJ2NvbW1lbnQnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pbmRlbnQgPD0gaW5kZW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gc3RhcnQuZXZlcnkoc3QgPT4gc3QudHlwZSA9PT0gJ25ld2xpbmUnIHx8IHN0LnR5cGUgPT09ICdzcGFjZScpO1xuICAgIH1cbiAgICAqZG9jdW1lbnRFbmQoZG9jRW5kKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09ICdkb2MtbW9kZScpIHtcbiAgICAgICAgICAgIGlmIChkb2NFbmQuZW5kKVxuICAgICAgICAgICAgICAgIGRvY0VuZC5lbmQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkb2NFbmQuZW5kID0gW3RoaXMuc291cmNlVG9rZW5dO1xuICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ25ld2xpbmUnKVxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgICpsaW5lRW5kKHRva2VuKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjb21tYSc6XG4gICAgICAgICAgICBjYXNlICdkb2Mtc3RhcnQnOlxuICAgICAgICAgICAgY2FzZSAnZG9jLWVuZCc6XG4gICAgICAgICAgICBjYXNlICdmbG93LXNlcS1lbmQnOlxuICAgICAgICAgICAgY2FzZSAnZmxvdy1tYXAtZW5kJzpcbiAgICAgICAgICAgIGNhc2UgJ21hcC12YWx1ZS1pbmQnOlxuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLnN0ZXAoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICAgICAgICAgIHRoaXMub25LZXlMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGFsbCBvdGhlciB2YWx1ZXMgYXJlIGVycm9yc1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5lbmQpXG4gICAgICAgICAgICAgICAgICAgIHRva2VuLmVuZC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4uZW5kID0gW3RoaXMuc291cmNlVG9rZW5dO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICduZXdsaW5lJylcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydHMuUGFyc2VyID0gUGFyc2VyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBjb21wb3NlciA9IHJlcXVpcmUoJy4vY29tcG9zZS9jb21wb3Nlci5qcycpO1xudmFyIERvY3VtZW50ID0gcmVxdWlyZSgnLi9kb2MvRG9jdW1lbnQuanMnKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCcuL2Vycm9ycy5qcycpO1xudmFyIGxvZyA9IHJlcXVpcmUoJy4vbG9nLmpzJyk7XG52YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL25vZGVzL2lkZW50aXR5LmpzJyk7XG52YXIgbGluZUNvdW50ZXIgPSByZXF1aXJlKCcuL3BhcnNlL2xpbmUtY291bnRlci5qcycpO1xudmFyIHBhcnNlciA9IHJlcXVpcmUoJy4vcGFyc2UvcGFyc2VyLmpzJyk7XG5cbmZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgcHJldHR5RXJyb3JzID0gb3B0aW9ucy5wcmV0dHlFcnJvcnMgIT09IGZhbHNlO1xuICAgIGNvbnN0IGxpbmVDb3VudGVyJDEgPSBvcHRpb25zLmxpbmVDb3VudGVyIHx8IChwcmV0dHlFcnJvcnMgJiYgbmV3IGxpbmVDb3VudGVyLkxpbmVDb3VudGVyKCkpIHx8IG51bGw7XG4gICAgcmV0dXJuIHsgbGluZUNvdW50ZXI6IGxpbmVDb3VudGVyJDEsIHByZXR0eUVycm9ycyB9O1xufVxuLyoqXG4gKiBQYXJzZSB0aGUgaW5wdXQgYXMgYSBzdHJlYW0gb2YgWUFNTCBkb2N1bWVudHMuXG4gKlxuICogRG9jdW1lbnRzIHNob3VsZCBiZSBzZXBhcmF0ZWQgZnJvbSBlYWNoIG90aGVyIGJ5IGAuLi5gIG9yIGAtLS1gIG1hcmtlciBsaW5lcy5cbiAqXG4gKiBAcmV0dXJucyBJZiBhbiBlbXB0eSBgZG9jc2AgYXJyYXkgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgb2YgdHlwZVxuICogICBFbXB0eVN0cmVhbSBhbmQgY29udGFpbiBhZGRpdGlvbmFsIHN0cmVhbSBpbmZvcm1hdGlvbi4gSW5cbiAqICAgVHlwZVNjcmlwdCwgeW91IHNob3VsZCB1c2UgYCdlbXB0eScgaW4gZG9jc2AgYXMgYSB0eXBlIGd1YXJkIGZvciBpdC5cbiAqL1xuZnVuY3Rpb24gcGFyc2VBbGxEb2N1bWVudHMoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGxpbmVDb3VudGVyLCBwcmV0dHlFcnJvcnMgfSA9IHBhcnNlT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBwYXJzZXIkMSA9IG5ldyBwYXJzZXIuUGFyc2VyKGxpbmVDb3VudGVyPy5hZGROZXdMaW5lKTtcbiAgICBjb25zdCBjb21wb3NlciQxID0gbmV3IGNvbXBvc2VyLkNvbXBvc2VyKG9wdGlvbnMpO1xuICAgIGNvbnN0IGRvY3MgPSBBcnJheS5mcm9tKGNvbXBvc2VyJDEuY29tcG9zZShwYXJzZXIkMS5wYXJzZShzb3VyY2UpKSk7XG4gICAgaWYgKHByZXR0eUVycm9ycyAmJiBsaW5lQ291bnRlcilcbiAgICAgICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jcykge1xuICAgICAgICAgICAgZG9jLmVycm9ycy5mb3JFYWNoKGVycm9ycy5wcmV0dGlmeUVycm9yKHNvdXJjZSwgbGluZUNvdW50ZXIpKTtcbiAgICAgICAgICAgIGRvYy53YXJuaW5ncy5mb3JFYWNoKGVycm9ycy5wcmV0dGlmeUVycm9yKHNvdXJjZSwgbGluZUNvdW50ZXIpKTtcbiAgICAgICAgfVxuICAgIGlmIChkb2NzLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiBkb2NzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFtdLCB7IGVtcHR5OiB0cnVlIH0sIGNvbXBvc2VyJDEuc3RyZWFtSW5mbygpKTtcbn1cbi8qKiBQYXJzZSBhbiBpbnB1dCBzdHJpbmcgaW50byBhIHNpbmdsZSBZQU1MLkRvY3VtZW50ICovXG5mdW5jdGlvbiBwYXJzZURvY3VtZW50KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBsaW5lQ291bnRlciwgcHJldHR5RXJyb3JzIH0gPSBwYXJzZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgcGFyc2VyJDEgPSBuZXcgcGFyc2VyLlBhcnNlcihsaW5lQ291bnRlcj8uYWRkTmV3TGluZSk7XG4gICAgY29uc3QgY29tcG9zZXIkMSA9IG5ldyBjb21wb3Nlci5Db21wb3NlcihvcHRpb25zKTtcbiAgICAvLyBgZG9jYCBpcyBhbHdheXMgc2V0IGJ5IGNvbXBvc2UuZW5kKHRydWUpIGF0IHRoZSB2ZXJ5IGxhdGVzdFxuICAgIGxldCBkb2MgPSBudWxsO1xuICAgIGZvciAoY29uc3QgX2RvYyBvZiBjb21wb3NlciQxLmNvbXBvc2UocGFyc2VyJDEucGFyc2Uoc291cmNlKSwgdHJ1ZSwgc291cmNlLmxlbmd0aCkpIHtcbiAgICAgICAgaWYgKCFkb2MpXG4gICAgICAgICAgICBkb2MgPSBfZG9jO1xuICAgICAgICBlbHNlIGlmIChkb2Mub3B0aW9ucy5sb2dMZXZlbCAhPT0gJ3NpbGVudCcpIHtcbiAgICAgICAgICAgIGRvYy5lcnJvcnMucHVzaChuZXcgZXJyb3JzLllBTUxQYXJzZUVycm9yKF9kb2MucmFuZ2Uuc2xpY2UoMCwgMiksICdNVUxUSVBMRV9ET0NTJywgJ1NvdXJjZSBjb250YWlucyBtdWx0aXBsZSBkb2N1bWVudHM7IHBsZWFzZSB1c2UgWUFNTC5wYXJzZUFsbERvY3VtZW50cygpJykpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXR0eUVycm9ycyAmJiBsaW5lQ291bnRlcikge1xuICAgICAgICBkb2MuZXJyb3JzLmZvckVhY2goZXJyb3JzLnByZXR0aWZ5RXJyb3Ioc291cmNlLCBsaW5lQ291bnRlcikpO1xuICAgICAgICBkb2Mud2FybmluZ3MuZm9yRWFjaChlcnJvcnMucHJldHRpZnlFcnJvcihzb3VyY2UsIGxpbmVDb3VudGVyKSk7XG4gICAgfVxuICAgIHJldHVybiBkb2M7XG59XG5mdW5jdGlvbiBwYXJzZShzcmMsIHJldml2ZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQgX3Jldml2ZXIgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIF9yZXZpdmVyID0gcmV2aXZlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkICYmIHJldml2ZXIgJiYgdHlwZW9mIHJldml2ZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG9wdGlvbnMgPSByZXZpdmVyO1xuICAgIH1cbiAgICBjb25zdCBkb2MgPSBwYXJzZURvY3VtZW50KHNyYywgb3B0aW9ucyk7XG4gICAgaWYgKCFkb2MpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGRvYy53YXJuaW5ncy5mb3JFYWNoKHdhcm5pbmcgPT4gbG9nLndhcm4oZG9jLm9wdGlvbnMubG9nTGV2ZWwsIHdhcm5pbmcpKTtcbiAgICBpZiAoZG9jLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChkb2Mub3B0aW9ucy5sb2dMZXZlbCAhPT0gJ3NpbGVudCcpXG4gICAgICAgICAgICB0aHJvdyBkb2MuZXJyb3JzWzBdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2MuZXJyb3JzID0gW107XG4gICAgfVxuICAgIHJldHVybiBkb2MudG9KUyhPYmplY3QuYXNzaWduKHsgcmV2aXZlcjogX3Jldml2ZXIgfSwgb3B0aW9ucykpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlLCByZXBsYWNlciwgb3B0aW9ucykge1xuICAgIGxldCBfcmVwbGFjZXIgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgcmVwbGFjZXIgPT09ICdmdW5jdGlvbicgfHwgQXJyYXkuaXNBcnJheShyZXBsYWNlcikpIHtcbiAgICAgICAgX3JlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCAmJiByZXBsYWNlcikge1xuICAgICAgICBvcHRpb25zID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zLmxlbmd0aDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbnN0IGluZGVudCA9IE1hdGgucm91bmQob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMgPSBpbmRlbnQgPCAxID8gdW5kZWZpbmVkIDogaW5kZW50ID4gOCA/IHsgaW5kZW50OiA4IH0gOiB7IGluZGVudCB9O1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB7IGtlZXBVbmRlZmluZWQgfSA9IG9wdGlvbnMgPz8gcmVwbGFjZXIgPz8ge307XG4gICAgICAgIGlmICgha2VlcFVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpZGVudGl0eS5pc0RvY3VtZW50KHZhbHVlKSAmJiAhX3JlcGxhY2VyKVxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcob3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBEb2N1bWVudC5Eb2N1bWVudCh2YWx1ZSwgX3JlcGxhY2VyLCBvcHRpb25zKS50b1N0cmluZyhvcHRpb25zKTtcbn1cblxuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5wYXJzZUFsbERvY3VtZW50cyA9IHBhcnNlQWxsRG9jdW1lbnRzO1xuZXhwb3J0cy5wYXJzZURvY3VtZW50ID0gcGFyc2VEb2N1bWVudDtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbnZhciBjb21wb3NlciA9IHJlcXVpcmUoJy4vY29tcG9zZS9jb21wb3Nlci5qcycpO1xudmFyIERvY3VtZW50ID0gcmVxdWlyZSgnLi9kb2MvRG9jdW1lbnQuanMnKTtcbnZhciBTY2hlbWEgPSByZXF1aXJlKCcuL3NjaGVtYS9TY2hlbWEuanMnKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCcuL2Vycm9ycy5qcycpO1xudmFyIEFsaWFzID0gcmVxdWlyZSgnLi9ub2Rlcy9BbGlhcy5qcycpO1xudmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9ub2Rlcy9pZGVudGl0eS5qcycpO1xudmFyIFBhaXIgPSByZXF1aXJlKCcuL25vZGVzL1BhaXIuanMnKTtcbnZhciBTY2FsYXIgPSByZXF1aXJlKCcuL25vZGVzL1NjYWxhci5qcycpO1xudmFyIFlBTUxNYXAgPSByZXF1aXJlKCcuL25vZGVzL1lBTUxNYXAuanMnKTtcbnZhciBZQU1MU2VxID0gcmVxdWlyZSgnLi9ub2Rlcy9ZQU1MU2VxLmpzJyk7XG52YXIgY3N0ID0gcmVxdWlyZSgnLi9wYXJzZS9jc3QuanMnKTtcbnZhciBsZXhlciA9IHJlcXVpcmUoJy4vcGFyc2UvbGV4ZXIuanMnKTtcbnZhciBsaW5lQ291bnRlciA9IHJlcXVpcmUoJy4vcGFyc2UvbGluZS1jb3VudGVyLmpzJyk7XG52YXIgcGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZS9wYXJzZXIuanMnKTtcbnZhciBwdWJsaWNBcGkgPSByZXF1aXJlKCcuL3B1YmxpYy1hcGkuanMnKTtcbnZhciB2aXNpdCA9IHJlcXVpcmUoJy4vdmlzaXQuanMnKTtcblxuXG5cbmV4cG9ydHMuQ29tcG9zZXIgPSBjb21wb3Nlci5Db21wb3NlcjtcbmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudC5Eb2N1bWVudDtcbmV4cG9ydHMuU2NoZW1hID0gU2NoZW1hLlNjaGVtYTtcbmV4cG9ydHMuWUFNTEVycm9yID0gZXJyb3JzLllBTUxFcnJvcjtcbmV4cG9ydHMuWUFNTFBhcnNlRXJyb3IgPSBlcnJvcnMuWUFNTFBhcnNlRXJyb3I7XG5leHBvcnRzLllBTUxXYXJuaW5nID0gZXJyb3JzLllBTUxXYXJuaW5nO1xuZXhwb3J0cy5BbGlhcyA9IEFsaWFzLkFsaWFzO1xuZXhwb3J0cy5pc0FsaWFzID0gaWRlbnRpdHkuaXNBbGlhcztcbmV4cG9ydHMuaXNDb2xsZWN0aW9uID0gaWRlbnRpdHkuaXNDb2xsZWN0aW9uO1xuZXhwb3J0cy5pc0RvY3VtZW50ID0gaWRlbnRpdHkuaXNEb2N1bWVudDtcbmV4cG9ydHMuaXNNYXAgPSBpZGVudGl0eS5pc01hcDtcbmV4cG9ydHMuaXNOb2RlID0gaWRlbnRpdHkuaXNOb2RlO1xuZXhwb3J0cy5pc1BhaXIgPSBpZGVudGl0eS5pc1BhaXI7XG5leHBvcnRzLmlzU2NhbGFyID0gaWRlbnRpdHkuaXNTY2FsYXI7XG5leHBvcnRzLmlzU2VxID0gaWRlbnRpdHkuaXNTZXE7XG5leHBvcnRzLlBhaXIgPSBQYWlyLlBhaXI7XG5leHBvcnRzLlNjYWxhciA9IFNjYWxhci5TY2FsYXI7XG5leHBvcnRzLllBTUxNYXAgPSBZQU1MTWFwLllBTUxNYXA7XG5leHBvcnRzLllBTUxTZXEgPSBZQU1MU2VxLllBTUxTZXE7XG5leHBvcnRzLkNTVCA9IGNzdDtcbmV4cG9ydHMuTGV4ZXIgPSBsZXhlci5MZXhlcjtcbmV4cG9ydHMuTGluZUNvdW50ZXIgPSBsaW5lQ291bnRlci5MaW5lQ291bnRlcjtcbmV4cG9ydHMuUGFyc2VyID0gcGFyc2VyLlBhcnNlcjtcbmV4cG9ydHMucGFyc2UgPSBwdWJsaWNBcGkucGFyc2U7XG5leHBvcnRzLnBhcnNlQWxsRG9jdW1lbnRzID0gcHVibGljQXBpLnBhcnNlQWxsRG9jdW1lbnRzO1xuZXhwb3J0cy5wYXJzZURvY3VtZW50ID0gcHVibGljQXBpLnBhcnNlRG9jdW1lbnQ7XG5leHBvcnRzLnN0cmluZ2lmeSA9IHB1YmxpY0FwaS5zdHJpbmdpZnk7XG5leHBvcnRzLnZpc2l0ID0gdmlzaXQudmlzaXQ7XG5leHBvcnRzLnZpc2l0QXN5bmMgPSB2aXNpdC52aXNpdEFzeW5jO1xuIiwKICAgICIvKipcbiAqIEFJIEVuZ2luZWVyaW5nIFN5c3RlbSBDb25maWd1cmF0aW9uIFNjaGVtYVxuICovXG5cbi8qKlxuICogUnVubmVyIENvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSdW5uZXJDb25maWcge1xuICAgIC8qKiBCYWNrZW5kIHRvIHVzZSBmb3IgZXhlY3V0aW9uICovXG4gICAgYmFja2VuZDogXCJvcGVuY29kZVwiIHwgXCJhbnRocm9waWNcIjtcbiAgICAvKiogUmV2aWV3IG1vZGUgZm9yIEFJIHJldmlld3MgKi9cbiAgICByZXZpZXc6IFwibm9uZVwiIHwgXCJvcGVuY29kZVwiIHwgXCJhbnRocm9waWNcIiB8IFwiYm90aFwiO1xuICAgIC8qKiBEaXJlY3RvcnkgZm9yIHJ1biBhcnRpZmFjdHMgKi9cbiAgICBhcnRpZmFjdHNEaXI6IHN0cmluZztcbiAgICAvKiogTWF4aW11bSBpdGVyYXRpb25zIHBlciBydW4gKi9cbiAgICBtYXhJdGVyczogbnVtYmVyO1xuICAgIC8qKiBQcmludCBsb2dzIHRvIHN0ZGVyciAqL1xuICAgIHByaW50TG9ncz86IGJvb2xlYW47XG4gICAgLyoqIExvZyBsZXZlbCAqL1xuICAgIGxvZ0xldmVsPzogXCJERUJVR1wiIHwgXCJJTkZPXCIgfCBcIldBUk5cIiB8IFwiRVJST1JcIjtcbn1cblxuLyoqXG4gKiBMb29wIENvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMb29wQ29uZmlnIHtcbiAgICAvKiogTWF4aW11bSBudW1iZXIgb2YgbG9vcCBjeWNsZXMgKi9cbiAgICBtYXhDeWNsZXM6IG51bWJlcjtcbiAgICAvKiogTnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIHBlciBjeWNsZSBvbiBmYWlsdXJlICovXG4gICAgY3ljbGVSZXRyaWVzOiBudW1iZXI7XG4gICAgLyoqIENoZWNrcG9pbnQgZnJlcXVlbmN5IChzYXZlIHN0YXRlIGV2ZXJ5IE4gY3ljbGVzKSAqL1xuICAgIGNoZWNrcG9pbnRGcmVxdWVuY3k6IG51bWJlcjtcbiAgICAvKiogU3R1Y2sgZGV0ZWN0aW9uIHRocmVzaG9sZCAtIGFib3J0IGFmdGVyIE4gY3ljbGVzIHdpdGggbm8gcHJvZ3Jlc3MgKi9cbiAgICBzdHVja1RocmVzaG9sZDogbnVtYmVyO1xufVxuXG4vKipcbiAqIERlYnVnIENvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWJ1Z0NvbmZpZyB7XG4gICAgLyoqIFByaW50IGV2ZXJ5IHRvb2wgaW52b2NhdGlvbiBpbnB1dC9vdXRwdXQgdG8gY29uc29sZSBhbmQgbG9ncyAqL1xuICAgIHdvcms6IGJvb2xlYW47XG59XG5cbi8qKlxuICogT3BlbkNvZGUgQ29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5Db2RlQ29uZmlnIHtcbiAgICAvKiogTW9kZWwgdG8gdXNlIGZvciBPcGVuQ29kZSAqL1xuICAgIG1vZGVsOiBzdHJpbmc7XG4gICAgLyoqIFRlbXBlcmF0dXJlIGZvciBnZW5lcmF0aW9uICovXG4gICAgdGVtcGVyYXR1cmU6IG51bWJlcjtcbiAgICAvKiogRXhpc3Rpbmcgc2VydmVyIFVSTCAob3B0aW9uYWwgLSB3aWxsIHNwYXduIGlmIG5vdCBwcm92aWRlZCkgKi9cbiAgICBzZXJ2ZXJVcmw/OiBzdHJpbmc7XG4gICAgLyoqIFdvcmtpbmcgZGlyZWN0b3J5IGZvciBPcGVuQ29kZSBzZXNzaW9uICovXG4gICAgZGlyZWN0b3J5Pzogc3RyaW5nO1xuICAgIC8qKiBQcm9tcHQgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgKi9cbiAgICBwcm9tcHRUaW1lb3V0TXM/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQW50aHJvcGljIENvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBbnRocm9waWNDb25maWcge1xuICAgIC8qKiBXaGV0aGVyIEFudGhyb3BpYyBiYWNrZW5kIGlzIGVuYWJsZWQgKi9cbiAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIC8qKiBNb2RlbCB0byB1c2UgZm9yIEFudGhyb3BpYyAqL1xuICAgIG1vZGVsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogR2F0ZSBDb21tYW5kIENvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHYXRlQ29tbWFuZENvbmZpZyB7XG4gICAgLyoqIENvbW1hbmQgdG8gZXhlY3V0ZSBmb3IgdGhpcyBnYXRlICovXG4gICAgY29tbWFuZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFF1YWxpdHkgR2F0ZXMgQ29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdhdGVzQ29uZmlnIHtcbiAgICAvKiogTGludCBnYXRlIGNvbmZpZ3VyYXRpb24gKi9cbiAgICBsaW50OiBHYXRlQ29tbWFuZENvbmZpZztcbiAgICAvKiogVHlwZSBjaGVjayBnYXRlIGNvbmZpZ3VyYXRpb24gKi9cbiAgICB0eXBlY2hlY2s6IEdhdGVDb21tYW5kQ29uZmlnO1xuICAgIC8qKiBUZXN0IGdhdGUgY29uZmlndXJhdGlvbiAqL1xuICAgIHRlc3Q6IEdhdGVDb21tYW5kQ29uZmlnO1xuICAgIC8qKiBCdWlsZCBnYXRlIGNvbmZpZ3VyYXRpb24gKi9cbiAgICBidWlsZDogR2F0ZUNvbW1hbmRDb25maWc7XG4gICAgLyoqIEFjY2VwdGFuY2UgZ2F0ZSBjb25maWd1cmF0aW9uIChlLmcuLCBnaXQgZGlmZiAtLW5hbWUtb25seSkgKi9cbiAgICBhY2NlcHRhbmNlOiBHYXRlQ29tbWFuZENvbmZpZztcbn1cblxuLyoqXG4gKiBNb2RlbHMgQ29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsc0NvbmZpZyB7XG4gICAgLyoqIE1vZGVsIGZvciByZXNlYXJjaCB0YXNrcyAqL1xuICAgIHJlc2VhcmNoOiBzdHJpbmc7XG4gICAgLyoqIE1vZGVsIGZvciBwbGFubmluZyB0YXNrcyAqL1xuICAgIHBsYW5uaW5nOiBzdHJpbmc7XG4gICAgLyoqIE1vZGVsIGZvciBjb2RlYmFzZSBleHBsb3JhdGlvbiAqL1xuICAgIGV4cGxvcmF0aW9uOiBzdHJpbmc7XG4gICAgLyoqIE1vZGVsIGZvciBjb2RpbmcvaW1wbGVtZW50YXRpb24gKi9cbiAgICBjb2Rpbmc6IHN0cmluZztcbiAgICAvKiogRGVmYXVsdCBmYWxsYmFjayBtb2RlbCAqL1xuICAgIGRlZmF1bHQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBOb3RpZmljYXRpb24gQ29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbnNDb25maWcge1xuICAgIC8qKiBEaXNjb3JkIG5vdGlmaWNhdGlvbiBzZXR0aW5ncyAqL1xuICAgIGRpc2NvcmQ6IHtcbiAgICAgICAgLyoqIEVuYWJsZSBEaXNjb3JkIG5vdGlmaWNhdGlvbnMgKi9cbiAgICAgICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICAgICAgLyoqIEJvdCB1c2VybmFtZSAqL1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgICAgICAvKiogQm90IGF2YXRhciBVUkwgKi9cbiAgICAgICAgYXZhdGFyVXJsPzogc3RyaW5nO1xuICAgICAgICAvKiogV2ViaG9vayBVUkwgKHNob3VsZCBjb21lIGZyb20gZW52LCBuZXZlciBoYXJkY29kZWQpICovXG4gICAgICAgIHdlYmhvb2s/OiB7XG4gICAgICAgICAgICAvKiogU291cmNlIHR5cGUgLSBvbmx5ICdlbnYnIHN1cHBvcnRlZCBmb3Igc2VjcmV0cyAqL1xuICAgICAgICAgICAgc291cmNlOiBcImVudlwiO1xuICAgICAgICAgICAgLyoqIEVudmlyb25tZW50IHZhcmlhYmxlIG5hbWUgZm9yIHRoZSB3ZWJob29rIFVSTCAqL1xuICAgICAgICAgICAgZW52VmFyOiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKiBVSSBDb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVWlDb25maWcge1xuICAgIC8qKiBTdXBwcmVzcyBub2lzeSB3YXJuaW5ncy9sb2dzICovXG4gICAgc2lsZW50OiBib29sZWFuO1xufVxuXG4vKipcbiAqIE1haW4gQ29uZmlndXJhdGlvbiBTY2hlbWFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBaUVuZ0NvbmZpZyB7XG4gICAgLyoqIENvbmZpZ3VyYXRpb24gdmVyc2lvbiAqL1xuICAgIHZlcnNpb246IG51bWJlcjtcbiAgICAvKiogUnVubmVyIGNvbmZpZ3VyYXRpb24gKi9cbiAgICBydW5uZXI6IFJ1bm5lckNvbmZpZztcbiAgICAvKiogTG9vcCBjb25maWd1cmF0aW9uICovXG4gICAgbG9vcDogTG9vcENvbmZpZztcbiAgICAvKiogRGVidWcgY29uZmlndXJhdGlvbiAqL1xuICAgIGRlYnVnOiBEZWJ1Z0NvbmZpZztcbiAgICAvKiogT3BlbkNvZGUgY29uZmlndXJhdGlvbiAqL1xuICAgIG9wZW5jb2RlOiBPcGVuQ29kZUNvbmZpZztcbiAgICAvKiogQW50aHJvcGljIGNvbmZpZ3VyYXRpb24gKi9cbiAgICBhbnRocm9waWM6IEFudGhyb3BpY0NvbmZpZztcbiAgICAvKiogUXVhbGl0eSBnYXRlcyBjb25maWd1cmF0aW9uICovXG4gICAgZ2F0ZXM6IEdhdGVzQ29uZmlnO1xuICAgIC8qKiBNb2RlbHMgY29uZmlndXJhdGlvbiAqL1xuICAgIG1vZGVsczogTW9kZWxzQ29uZmlnO1xuICAgIC8qKiBOb3RpZmljYXRpb25zIGNvbmZpZ3VyYXRpb24gKi9cbiAgICBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25zQ29uZmlnO1xuICAgIC8qKiBVSSBjb25maWd1cmF0aW9uICovXG4gICAgdWk6IFVpQ29uZmlnO1xufVxuXG4vKipcbiAqIERlZmF1bHQgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9DT05GSUc6IEFpRW5nQ29uZmlnID0ge1xuICAgIHZlcnNpb246IDEsXG4gICAgcnVubmVyOiB7XG4gICAgICAgIGJhY2tlbmQ6IFwib3BlbmNvZGVcIixcbiAgICAgICAgcmV2aWV3OiBcIm9wZW5jb2RlXCIsXG4gICAgICAgIGFydGlmYWN0c0RpcjogXCIuYWktZW5nL3J1bnNcIixcbiAgICAgICAgbWF4SXRlcnM6IDMsXG4gICAgICAgIHByaW50TG9nczogZmFsc2UsXG4gICAgICAgIGxvZ0xldmVsOiBcIklORk9cIixcbiAgICB9LFxuICAgIGxvb3A6IHtcbiAgICAgICAgbWF4Q3ljbGVzOiA1MCxcbiAgICAgICAgY3ljbGVSZXRyaWVzOiAyLFxuICAgICAgICBjaGVja3BvaW50RnJlcXVlbmN5OiAxLFxuICAgICAgICBzdHVja1RocmVzaG9sZDogNSxcbiAgICB9LFxuICAgIGRlYnVnOiB7XG4gICAgICAgIHdvcms6IGZhbHNlLFxuICAgIH0sXG4gICAgb3BlbmNvZGU6IHtcbiAgICAgICAgbW9kZWw6IFwiY2xhdWRlLTMtNS1zb25uZXQtbGF0ZXN0XCIsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjIsXG4gICAgICAgIHNlcnZlclVybDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3Rvcnk6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvbXB0VGltZW91dE1zOiAxMjAwMDAsXG4gICAgfSxcbiAgICBhbnRocm9waWM6IHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIG1vZGVsOiBcImNsYXVkZS0zLTUtc29ubmV0LWxhdGVzdFwiLFxuICAgIH0sXG4gICAgZ2F0ZXM6IHtcbiAgICAgICAgbGludDogeyBjb21tYW5kOiBcImJ1biBydW4gbGludFwiIH0sXG4gICAgICAgIHR5cGVjaGVjazogeyBjb21tYW5kOiBcImJ1biBydW4gdHlwZWNoZWNrXCIgfSxcbiAgICAgICAgdGVzdDogeyBjb21tYW5kOiBcImJ1biB0ZXN0XCIgfSxcbiAgICAgICAgYnVpbGQ6IHsgY29tbWFuZDogXCJidW4gcnVuIGJ1aWxkXCIgfSxcbiAgICAgICAgYWNjZXB0YW5jZTogeyBjb21tYW5kOiBcImdpdCBkaWZmIC0tbmFtZS1vbmx5XCIgfSxcbiAgICB9LFxuICAgIG1vZGVsczoge1xuICAgICAgICByZXNlYXJjaDogXCJnaXRodWItY29waWxvdC9ncHQtNS4yXCIsXG4gICAgICAgIHBsYW5uaW5nOiBcImdpdGh1Yi1jb3BpbG90L2dwdC01LjJcIixcbiAgICAgICAgZXhwbG9yYXRpb246IFwiZ2l0aHViLWNvcGlsb3QvZ3B0LTUuMlwiLFxuICAgICAgICBjb2Rpbmc6IFwiZ2l0aHViLWNvcGlsb3QvZ3B0LTUuMlwiLFxuICAgICAgICBkZWZhdWx0OiBcImdpdGh1Yi1jb3BpbG90L2dwdC01LjJcIixcbiAgICB9LFxuICAgIG5vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgZGlzY29yZDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICB1c2VybmFtZTogXCJSYWxwaFwiLFxuICAgICAgICAgICAgYXZhdGFyVXJsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3ZWJob29rOiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiBcImVudlwiLFxuICAgICAgICAgICAgICAgIGVudlZhcjogXCJESVNDT1JEX1dFQkhPT0tfVVJMXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgdWk6IHtcbiAgICAgICAgc2lsZW50OiBmYWxzZSxcbiAgICB9LFxufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFU0MgPSAnXFx4MUInO1xuY29uc3QgQ1NJID0gYCR7RVNDfVtgO1xuY29uc3QgYmVlcCA9ICdcXHUwMDA3JztcblxuY29uc3QgY3Vyc29yID0ge1xuICB0byh4LCB5KSB7XG4gICAgaWYgKCF5KSByZXR1cm4gYCR7Q1NJfSR7eCArIDF9R2A7XG4gICAgcmV0dXJuIGAke0NTSX0ke3kgKyAxfTske3ggKyAxfUhgO1xuICB9LFxuICBtb3ZlKHgsIHkpIHtcbiAgICBsZXQgcmV0ID0gJyc7XG5cbiAgICBpZiAoeCA8IDApIHJldCArPSBgJHtDU0l9JHsteH1EYDtcbiAgICBlbHNlIGlmICh4ID4gMCkgcmV0ICs9IGAke0NTSX0ke3h9Q2A7XG5cbiAgICBpZiAoeSA8IDApIHJldCArPSBgJHtDU0l9JHsteX1BYDtcbiAgICBlbHNlIGlmICh5ID4gMCkgcmV0ICs9IGAke0NTSX0ke3l9QmA7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICB1cDogKGNvdW50ID0gMSkgPT4gYCR7Q1NJfSR7Y291bnR9QWAsXG4gIGRvd246IChjb3VudCA9IDEpID0+IGAke0NTSX0ke2NvdW50fUJgLFxuICBmb3J3YXJkOiAoY291bnQgPSAxKSA9PiBgJHtDU0l9JHtjb3VudH1DYCxcbiAgYmFja3dhcmQ6IChjb3VudCA9IDEpID0+IGAke0NTSX0ke2NvdW50fURgLFxuICBuZXh0TGluZTogKGNvdW50ID0gMSkgPT4gYCR7Q1NJfUVgLnJlcGVhdChjb3VudCksXG4gIHByZXZMaW5lOiAoY291bnQgPSAxKSA9PiBgJHtDU0l9RmAucmVwZWF0KGNvdW50KSxcbiAgbGVmdDogYCR7Q1NJfUdgLFxuICBoaWRlOiBgJHtDU0l9PzI1bGAsXG4gIHNob3c6IGAke0NTSX0/MjVoYCxcbiAgc2F2ZTogYCR7RVNDfTdgLFxuICByZXN0b3JlOiBgJHtFU0N9OGBcbn1cblxuY29uc3Qgc2Nyb2xsID0ge1xuICB1cDogKGNvdW50ID0gMSkgPT4gYCR7Q1NJfVNgLnJlcGVhdChjb3VudCksXG4gIGRvd246IChjb3VudCA9IDEpID0+IGAke0NTSX1UYC5yZXBlYXQoY291bnQpXG59XG5cbmNvbnN0IGVyYXNlID0ge1xuICBzY3JlZW46IGAke0NTSX0ySmAsXG4gIHVwOiAoY291bnQgPSAxKSA9PiBgJHtDU0l9MUpgLnJlcGVhdChjb3VudCksXG4gIGRvd246IChjb3VudCA9IDEpID0+IGAke0NTSX1KYC5yZXBlYXQoY291bnQpLFxuICBsaW5lOiBgJHtDU0l9MktgLFxuICBsaW5lRW5kOiBgJHtDU0l9S2AsXG4gIGxpbmVTdGFydDogYCR7Q1NJfTFLYCxcbiAgbGluZXMoY291bnQpIHtcbiAgICBsZXQgY2xlYXIgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICBjbGVhciArPSB0aGlzLmxpbmUgKyAoaSA8IGNvdW50IC0gMSA/IGN1cnNvci51cCgpIDogJycpO1xuICAgIGlmIChjb3VudClcbiAgICAgIGNsZWFyICs9IGN1cnNvci5sZWZ0O1xuICAgIHJldHVybiBjbGVhcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgY3Vyc29yLCBzY3JvbGwsIGVyYXNlLCBiZWVwIH07XG4iLAogICAgImxldCBwID0gcHJvY2VzcyB8fCB7fSwgYXJndiA9IHAuYXJndiB8fCBbXSwgZW52ID0gcC5lbnYgfHwge31cbmxldCBpc0NvbG9yU3VwcG9ydGVkID1cblx0ISghIWVudi5OT19DT0xPUiB8fCBhcmd2LmluY2x1ZGVzKFwiLS1uby1jb2xvclwiKSkgJiZcblx0KCEhZW52LkZPUkNFX0NPTE9SIHx8IGFyZ3YuaW5jbHVkZXMoXCItLWNvbG9yXCIpIHx8IHAucGxhdGZvcm0gPT09IFwid2luMzJcIiB8fCAoKHAuc3Rkb3V0IHx8IHt9KS5pc1RUWSAmJiBlbnYuVEVSTSAhPT0gXCJkdW1iXCIpIHx8ICEhZW52LkNJKVxuXG5sZXQgZm9ybWF0dGVyID0gKG9wZW4sIGNsb3NlLCByZXBsYWNlID0gb3BlbikgPT5cblx0aW5wdXQgPT4ge1xuXHRcdGxldCBzdHJpbmcgPSBcIlwiICsgaW5wdXQsIGluZGV4ID0gc3RyaW5nLmluZGV4T2YoY2xvc2UsIG9wZW4ubGVuZ3RoKVxuXHRcdHJldHVybiB+aW5kZXggPyBvcGVuICsgcmVwbGFjZUNsb3NlKHN0cmluZywgY2xvc2UsIHJlcGxhY2UsIGluZGV4KSArIGNsb3NlIDogb3BlbiArIHN0cmluZyArIGNsb3NlXG5cdH1cblxubGV0IHJlcGxhY2VDbG9zZSA9IChzdHJpbmcsIGNsb3NlLCByZXBsYWNlLCBpbmRleCkgPT4ge1xuXHRsZXQgcmVzdWx0ID0gXCJcIiwgY3Vyc29yID0gMFxuXHRkbyB7XG5cdFx0cmVzdWx0ICs9IHN0cmluZy5zdWJzdHJpbmcoY3Vyc29yLCBpbmRleCkgKyByZXBsYWNlXG5cdFx0Y3Vyc29yID0gaW5kZXggKyBjbG9zZS5sZW5ndGhcblx0XHRpbmRleCA9IHN0cmluZy5pbmRleE9mKGNsb3NlLCBjdXJzb3IpXG5cdH0gd2hpbGUgKH5pbmRleClcblx0cmV0dXJuIHJlc3VsdCArIHN0cmluZy5zdWJzdHJpbmcoY3Vyc29yKVxufVxuXG5sZXQgY3JlYXRlQ29sb3JzID0gKGVuYWJsZWQgPSBpc0NvbG9yU3VwcG9ydGVkKSA9PiB7XG5cdGxldCBmID0gZW5hYmxlZCA/IGZvcm1hdHRlciA6ICgpID0+IFN0cmluZ1xuXHRyZXR1cm4ge1xuXHRcdGlzQ29sb3JTdXBwb3J0ZWQ6IGVuYWJsZWQsXG5cdFx0cmVzZXQ6IGYoXCJcXHgxYlswbVwiLCBcIlxceDFiWzBtXCIpLFxuXHRcdGJvbGQ6IGYoXCJcXHgxYlsxbVwiLCBcIlxceDFiWzIybVwiLCBcIlxceDFiWzIybVxceDFiWzFtXCIpLFxuXHRcdGRpbTogZihcIlxceDFiWzJtXCIsIFwiXFx4MWJbMjJtXCIsIFwiXFx4MWJbMjJtXFx4MWJbMm1cIiksXG5cdFx0aXRhbGljOiBmKFwiXFx4MWJbM21cIiwgXCJcXHgxYlsyM21cIiksXG5cdFx0dW5kZXJsaW5lOiBmKFwiXFx4MWJbNG1cIiwgXCJcXHgxYlsyNG1cIiksXG5cdFx0aW52ZXJzZTogZihcIlxceDFiWzdtXCIsIFwiXFx4MWJbMjdtXCIpLFxuXHRcdGhpZGRlbjogZihcIlxceDFiWzhtXCIsIFwiXFx4MWJbMjhtXCIpLFxuXHRcdHN0cmlrZXRocm91Z2g6IGYoXCJcXHgxYls5bVwiLCBcIlxceDFiWzI5bVwiKSxcblxuXHRcdGJsYWNrOiBmKFwiXFx4MWJbMzBtXCIsIFwiXFx4MWJbMzltXCIpLFxuXHRcdHJlZDogZihcIlxceDFiWzMxbVwiLCBcIlxceDFiWzM5bVwiKSxcblx0XHRncmVlbjogZihcIlxceDFiWzMybVwiLCBcIlxceDFiWzM5bVwiKSxcblx0XHR5ZWxsb3c6IGYoXCJcXHgxYlszM21cIiwgXCJcXHgxYlszOW1cIiksXG5cdFx0Ymx1ZTogZihcIlxceDFiWzM0bVwiLCBcIlxceDFiWzM5bVwiKSxcblx0XHRtYWdlbnRhOiBmKFwiXFx4MWJbMzVtXCIsIFwiXFx4MWJbMzltXCIpLFxuXHRcdGN5YW46IGYoXCJcXHgxYlszNm1cIiwgXCJcXHgxYlszOW1cIiksXG5cdFx0d2hpdGU6IGYoXCJcXHgxYlszN21cIiwgXCJcXHgxYlszOW1cIiksXG5cdFx0Z3JheTogZihcIlxceDFiWzkwbVwiLCBcIlxceDFiWzM5bVwiKSxcblxuXHRcdGJnQmxhY2s6IGYoXCJcXHgxYls0MG1cIiwgXCJcXHgxYls0OW1cIiksXG5cdFx0YmdSZWQ6IGYoXCJcXHgxYls0MW1cIiwgXCJcXHgxYls0OW1cIiksXG5cdFx0YmdHcmVlbjogZihcIlxceDFiWzQybVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ1llbGxvdzogZihcIlxceDFiWzQzbVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ0JsdWU6IGYoXCJcXHgxYls0NG1cIiwgXCJcXHgxYls0OW1cIiksXG5cdFx0YmdNYWdlbnRhOiBmKFwiXFx4MWJbNDVtXCIsIFwiXFx4MWJbNDltXCIpLFxuXHRcdGJnQ3lhbjogZihcIlxceDFiWzQ2bVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ1doaXRlOiBmKFwiXFx4MWJbNDdtXCIsIFwiXFx4MWJbNDltXCIpLFxuXG5cdFx0YmxhY2tCcmlnaHQ6IGYoXCJcXHgxYls5MG1cIiwgXCJcXHgxYlszOW1cIiksXG5cdFx0cmVkQnJpZ2h0OiBmKFwiXFx4MWJbOTFtXCIsIFwiXFx4MWJbMzltXCIpLFxuXHRcdGdyZWVuQnJpZ2h0OiBmKFwiXFx4MWJbOTJtXCIsIFwiXFx4MWJbMzltXCIpLFxuXHRcdHllbGxvd0JyaWdodDogZihcIlxceDFiWzkzbVwiLCBcIlxceDFiWzM5bVwiKSxcblx0XHRibHVlQnJpZ2h0OiBmKFwiXFx4MWJbOTRtXCIsIFwiXFx4MWJbMzltXCIpLFxuXHRcdG1hZ2VudGFCcmlnaHQ6IGYoXCJcXHgxYls5NW1cIiwgXCJcXHgxYlszOW1cIiksXG5cdFx0Y3lhbkJyaWdodDogZihcIlxceDFiWzk2bVwiLCBcIlxceDFiWzM5bVwiKSxcblx0XHR3aGl0ZUJyaWdodDogZihcIlxceDFiWzk3bVwiLCBcIlxceDFiWzM5bVwiKSxcblxuXHRcdGJnQmxhY2tCcmlnaHQ6IGYoXCJcXHgxYlsxMDBtXCIsIFwiXFx4MWJbNDltXCIpLFxuXHRcdGJnUmVkQnJpZ2h0OiBmKFwiXFx4MWJbMTAxbVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ0dyZWVuQnJpZ2h0OiBmKFwiXFx4MWJbMTAybVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ1llbGxvd0JyaWdodDogZihcIlxceDFiWzEwM21cIiwgXCJcXHgxYls0OW1cIiksXG5cdFx0YmdCbHVlQnJpZ2h0OiBmKFwiXFx4MWJbMTA0bVwiLCBcIlxceDFiWzQ5bVwiKSxcblx0XHRiZ01hZ2VudGFCcmlnaHQ6IGYoXCJcXHgxYlsxMDVtXCIsIFwiXFx4MWJbNDltXCIpLFxuXHRcdGJnQ3lhbkJyaWdodDogZihcIlxceDFiWzEwNm1cIiwgXCJcXHgxYls0OW1cIiksXG5cdFx0YmdXaGl0ZUJyaWdodDogZihcIlxceDFiWzEwN21cIiwgXCJcXHgxYls0OW1cIiksXG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVDb2xvcnMoKVxubW9kdWxlLmV4cG9ydHMuY3JlYXRlQ29sb3JzID0gY3JlYXRlQ29sb3JzXG4iLAogICAgIi8qKlxuICogQ0xJIFVJIHV0aWxpdGllcyBmb3IgYWktZW5nIHJhbHBoXG4gKlxuICogQ29uc29sZSBzdHlsaW5nIGFuZCBvdXRwdXQgaGVscGVyc1xuICovXG5pbXBvcnQgeyBFT0wgfSBmcm9tIFwibm9kZTpvc1wiO1xuXG5leHBvcnQgbmFtZXNwYWNlIFVJIHtcbiAgICBleHBvcnQgY29uc3QgU3R5bGUgPSB7XG4gICAgICAgIC8vIENvbG9yc1xuICAgICAgICBURVhUX0hJR0hMSUdIVDogXCJcXHgxYls5Nm1cIixcbiAgICAgICAgVEVYVF9ISUdITElHSFRfQk9MRDogXCJcXHgxYls5Nm1cXHgxYlsxbVwiLFxuICAgICAgICBURVhUX0RJTTogXCJcXHgxYls5MG1cIixcbiAgICAgICAgVEVYVF9ESU1fQk9MRDogXCJcXHgxYls5MG1cXHgxYlsxbVwiLFxuICAgICAgICBURVhUX05PUk1BTDogXCJcXHgxYlswbVwiLFxuICAgICAgICBURVhUX05PUk1BTF9CT0xEOiBcIlxceDFiWzFtXCIsXG4gICAgICAgIFRFWFRfV0FSTklORzogXCJcXHgxYls5M21cIixcbiAgICAgICAgVEVYVF9XQVJOSU5HX0JPTEQ6IFwiXFx4MWJbOTNtXFx4MWJbMW1cIixcbiAgICAgICAgVEVYVF9EQU5HRVI6IFwiXFx4MWJbOTFtXCIsXG4gICAgICAgIFRFWFRfREFOR0VSX0JPTEQ6IFwiXFx4MWJbOTFtXFx4MWJbMW1cIixcbiAgICAgICAgVEVYVF9TVUNDRVNTOiBcIlxceDFiWzkybVwiLFxuICAgICAgICBURVhUX1NVQ0NFU1NfQk9MRDogXCJcXHgxYls5Mm1cXHgxYlsxbVwiLFxuICAgICAgICBURVhUX0lORk86IFwiXFx4MWJbOTRtXCIsXG4gICAgICAgIFRFWFRfSU5GT19CT0xEOiBcIlxceDFiWzk0bVxceDFiWzFtXCIsXG4gICAgfTtcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBwcmludGxuKC4uLm1lc3NhZ2U6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKG1lc3NhZ2Uuam9pbihcIiBcIikgKyBFT0wpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBwcmludCguLi5tZXNzYWdlOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgICAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShtZXNzYWdlLmpvaW4oXCIgXCIpKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZXJyb3IobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHByaW50bG4oXG4gICAgICAgICAgICBgJHtTdHlsZS5URVhUX0RBTkdFUl9CT0xEfUVycm9yOiAke1N0eWxlLlRFWFRfTk9STUFMfSR7bWVzc2FnZX1gLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBwcmludGxuKGAke1N0eWxlLlRFWFRfU1VDQ0VTU19CT0xEfeKckyAke1N0eWxlLlRFWFRfTk9STUFMfSR7bWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaW5mbyhtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcHJpbnRsbihgJHtTdHlsZS5URVhUX0lORk9fQk9MRH3ihLkgJHtTdHlsZS5URVhUX05PUk1BTH0ke21lc3NhZ2V9YCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHdhcm4obWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHByaW50bG4oYCR7U3R5bGUuVEVYVF9XQVJOSU5HX0JPTER9ISAke1N0eWxlLlRFWFRfTk9STUFMfSR7bWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gaGVhZGVyKHRpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcHJpbnRsbigpO1xuICAgICAgICBwcmludGxuKFN0eWxlLlRFWFRfSElHSExJR0hUX0JPTEQgKyB0aXRsZSArIFN0eWxlLlRFWFRfTk9STUFMKTtcbiAgICAgICAgcHJpbnRsbihTdHlsZS5URVhUX0RJTSArIFwi4pSAXCIucmVwZWF0KDUwKSArIFN0eWxlLlRFWFRfTk9STUFMKTtcbiAgICB9XG59XG4iLAogICAgIi8qKlxuICogSW5pdGlhbGl6ZSBhaS1lbmcgY29uZmlndXJhdGlvbiBmaWxlXG4gKi9cblxuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gXCJub2RlOmZzXCI7XG5pbXBvcnQgeyBta2Rpciwgd3JpdGVGaWxlIH0gZnJvbSBcIm5vZGU6ZnMvcHJvbWlzZXNcIjtcbmltcG9ydCB7IGpvaW4gfSBmcm9tIFwibm9kZTpwYXRoXCI7XG5pbXBvcnQgWUFNTCBmcm9tIFwieWFtbFwiO1xuaW1wb3J0IHR5cGUgeyBJbml0RmxhZ3MgfSBmcm9tIFwiLi4vY2xpL2ZsYWdzXCI7XG5pbXBvcnQgeyBVSSB9IGZyb20gXCIuLi9jbGkvdWlcIjtcbmltcG9ydCB7IERFRkFVTFRfQ09ORklHIH0gZnJvbSBcIi4uL2NvbmZpZy9zY2hlbWFcIjtcblxuLyoqXG4gKiBJbml0aWFsaXplIGNvbmZpZ3VyYXRpb24gZmlsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdENvbmZpZyhmbGFnczogSW5pdEZsYWdzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY29uZmlnRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCBcIi5haS1lbmdcIik7XG4gICAgY29uc3QgY29uZmlnUGF0aCA9IGpvaW4oY29uZmlnRGlyLCBcImNvbmZpZy55YW1sXCIpO1xuXG4gICAgLy8gQ2hlY2sgaWYgY29uZmlnIGFscmVhZHkgZXhpc3RzXG4gICAgaWYgKGV4aXN0c1N5bmMoY29uZmlnUGF0aCkgJiYgIWZsYWdzLm92ZXJ3cml0ZSkge1xuICAgICAgICBVSS5lcnJvcihcIkNvbmZpZ3VyYXRpb24gZmlsZSBhbHJlYWR5IGV4aXN0czpcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCAgJHtjb25maWdQYXRofWApO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJVc2UgLS1vdmVyd3JpdGUgdG8gcmVwbGFjZSBpdCwgb3IgZWRpdCB0aGUgZXhpc3RpbmcgZmlsZS5cIixcbiAgICAgICAgKTtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cblxuICAgIGlmIChmbGFncy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKaoO+4jyAgSW50ZXJhY3RpdmUgbW9kZSByZXF1aXJlcyBhZGRpdGlvbmFsIGRlcGVuZGVuY2llcy5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiICBucG0gaW5zdGFsbCBAY2xhY2svcHJvbXB0c1wiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJGb3Igbm93LCBjcmVhdGluZyBjb25maWcgd2l0aCBkZWZhdWx0cy4uLlxcblwiKTtcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgLmFpLWVuZyBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBhd2FpdCBta2Rpcihjb25maWdEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgICAgIGNvbnN0IHlhbWxDb250ZW50ID0gWUFNTC5zdHJpbmdpZnkoREVGQVVMVF9DT05GSUcsIHtcbiAgICAgICAgICAgIGluZGVudDogMixcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgd3JpdGVGaWxlKGNvbmZpZ1BhdGgsIHlhbWxDb250ZW50LCBcInV0Zi04XCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBJbml0aWFsaXplZCAuYWktZW5nL2NvbmZpZy55YW1sIHdpdGggZGVmYXVsdHNcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiXFxu8J+TiyBOZXh0IHN0ZXBzOlwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCIgIDEuIEVkaXQgLmFpLWVuZy9jb25maWcueWFtbCB0byBjdXN0b21pemUgc2V0dGluZ3NcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiICAyLiBTZXQgdXAgQUkgbW9kZWxzIGFuZCBiYWNrZW5kc1wiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCIgIDMuIENvbmZpZ3VyZSBxdWFsaXR5IGdhdGVzIGZvciB5b3VyIHByb2plY3RcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCIgIDQuIFJ1biAnYWktZW5nIHJhbHBoIFxcXCJ5b3VyIHRhc2tcXFwiJyB0byBzdGFydCBkZXZlbG9wbWVudFwiLFxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB3cml0ZSBjb25maWd1cmF0aW9uIGZpbGU6ICR7Y29uZmlnUGF0aH1gKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cbn1cbiIsCiAgICAiLyoqXG4gKiBhaS1lbmcgaW5zdGFsbCBjb21tYW5kXG4gKlxuICogSW5zdGFsbHMgT3BlbkNvZGUvQ2xhdWRlIGFzc2V0cyB0byBwcm9qZWN0IG9yIGdsb2JhbCBsb2NhdGlvbi5cbiAqIFJlcGxhY2VzIHRoZSBhdXRvbWF0aWMgcG9zdGluc3RhbGwgYmVoYXZpb3IuXG4gKi9cblxuaW1wb3J0IGZzIGZyb20gXCJub2RlOmZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwibm9kZTpwYXRoXCI7XG5pbXBvcnQge1xuICAgIHR5cGUgT3BlbkNvZGVDb250ZW50LFxuICAgIGdldERpc3RPcGVuQ29kZUNvbnRlbnQsXG59IGZyb20gXCJAYWktZW5nLXN5c3RlbS9jb3JlXCI7XG5cbmNvbnN0IE5BTUVTUEFDRV9QUkVGSVggPSBcImFpLWVuZ1wiO1xuXG5pbnRlcmZhY2UgSW5zdGFsbEZsYWdzIHtcbiAgICBzY29wZT86IFwicHJvamVjdFwiIHwgXCJnbG9iYWxcIiB8IFwiYXV0b1wiO1xuICAgIGRyeVJ1bj86IGJvb2xlYW47XG4gICAgeWVzPzogYm9vbGVhbjtcbiAgICB2ZXJib3NlPzogYm9vbGVhbjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY2xlYW5OYW1lc3BhY2VkRGlyZWN0b3J5KFxuICAgIGJhc2VEaXI6IHN0cmluZyxcbiAgICBzdWJkaXI6IHN0cmluZyxcbiAgICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgICBzaWxlbnQgPSBmYWxzZSxcbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRpciA9IHBhdGguam9pbihiYXNlRGlyLCBzdWJkaXIsIG5hbWVzcGFjZSk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZGlyKSkge1xuICAgICAgICBmcy5ybVN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XG4gICAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICDinIUgQ2xlYW5lZCBleGlzdGluZyAke3N1YmRpcn0vJHtuYW1lc3BhY2V9L2ApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjbGVhbkFpRW5nU2tpbGxzKFxuICAgIHRhcmdldE9wZW5Db2RlRGlyOiBzdHJpbmcsXG4gICAgZGlzdE9wZW5Db2RlRGlyOiBzdHJpbmcsXG4gICAgc2lsZW50ID0gZmFsc2UsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0YXJnZXRTa2lsbERpciA9IHBhdGguam9pbih0YXJnZXRPcGVuQ29kZURpciwgXCJza2lsbFwiKTtcbiAgICBjb25zdCBkaXN0U2tpbGxEaXIgPSBwYXRoLmpvaW4oZGlzdE9wZW5Db2RlRGlyLCBcInNraWxsXCIpO1xuICAgIGlmICghZnMuZXhpc3RzU3luYyhkaXN0U2tpbGxEaXIpKSByZXR1cm47XG5cbiAgICBjb25zdCBhaUVuZ1NraWxsTmFtZXMgPSBmc1xuICAgICAgICAucmVhZGRpclN5bmMoZGlzdFNraWxsRGlyLCB7IHdpdGhGaWxlVHlwZXM6IHRydWUgfSlcbiAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmlzRGlyZWN0b3J5KCkpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiBlbnRyeS5uYW1lKTtcblxuICAgIGlmIChhaUVuZ1NraWxsTmFtZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBsZXQgY2xlYW5lZENvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IHNraWxsTmFtZSBvZiBhaUVuZ1NraWxsTmFtZXMpIHtcbiAgICAgICAgY29uc3Qgc2tpbGxQYXRoID0gcGF0aC5qb2luKHRhcmdldFNraWxsRGlyLCBza2lsbE5hbWUpO1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhza2lsbFBhdGgpKSB7XG4gICAgICAgICAgICBmcy5ybVN5bmMoc2tpbGxQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XG4gICAgICAgICAgICBjbGVhbmVkQ291bnQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc2lsZW50ICYmIGNsZWFuZWRDb3VudCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYCAg4pyFIENsZWFuZWQgJHtjbGVhbmVkQ291bnR9IGV4aXN0aW5nIGFpLWVuZyBza2lsbHNgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzUGx1Z2luUmVmZXJlbmNlZChjb25maWdQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25maWdDb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGNvbmZpZ1BhdGgsIFwidXRmLThcIik7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IEpTT04ucGFyc2UoY29uZmlnQ29udGVudCk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5wbHVnaW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnBsdWdpbi5pbmNsdWRlcyhcImFpLWVuZy1zeXN0ZW1cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaW5kT3BlbkNvZGVDb25maWcoXG4gICAgcHJvamVjdERpcjogc3RyaW5nLFxuKTogeyBwYXRoOiBzdHJpbmc7IGlzR2xvYmFsOiBib29sZWFuIH0gfCBudWxsIHtcbiAgICBjb25zdCBob21lRGlyID0gcHJvY2Vzcy5lbnYuSE9NRSB8fCBwcm9jZXNzLmVudi5VU0VSUFJPRklMRSB8fCBcIlwiO1xuXG4gICAgLy8gQ2hlY2sgcHJvamVjdCAub3BlbmNvZGUvXG4gICAgY29uc3QgcHJvamVjdENvbmZpZyA9IHBhdGguam9pbihwcm9qZWN0RGlyLCBcIi5vcGVuY29kZVwiLCBcIm9wZW5jb2RlLmpzb25jXCIpO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKHByb2plY3RDb25maWcpKSB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IHByb2plY3RDb25maWcsIGlzR2xvYmFsOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGdsb2JhbCB+Ly5jb25maWcvb3BlbmNvZGUvXG4gICAgY29uc3QgZ2xvYmFsQ29uZmlnID0gcGF0aC5qb2luKFxuICAgICAgICBob21lRGlyLFxuICAgICAgICBcIi5jb25maWdcIixcbiAgICAgICAgXCJvcGVuY29kZVwiLFxuICAgICAgICBcIm9wZW5jb2RlLmpzb25jXCIsXG4gICAgKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhnbG9iYWxDb25maWcpKSB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IGdsb2JhbENvbmZpZywgaXNHbG9iYWw6IHRydWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGV0ZWN0SW5zdGFsbGF0aW9uU2NvcGUoXG4gICAgcHJvamVjdERpcjogc3RyaW5nLFxuKTogXCJwcm9qZWN0XCIgfCBcImdsb2JhbFwiIHwgbnVsbCB7XG4gICAgY29uc3QgY29uZmlnID0gZmluZE9wZW5Db2RlQ29uZmlnKHByb2plY3REaXIpO1xuICAgIGlmIChjb25maWcpIHJldHVybiBjb25maWcuaXNHbG9iYWwgPyBcImdsb2JhbFwiIDogXCJwcm9qZWN0XCI7XG5cbiAgICAvLyBJZiBubyBjb25maWcgZXhpc3RzLCBjaGVjayBpZiB3ZSdyZSBpbiBhIHByb2plY3Qgd2l0aCBwYWNrYWdlLmpzb25cbiAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4ocHJvamVjdERpciwgXCJwYWNrYWdlLmpzb25cIikpKSB7XG4gICAgICAgIHJldHVybiBcInByb2plY3RcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJnbG9iYWxcIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcnVuSW5zdGFsbGVyKGZsYWdzOiBJbnN0YWxsRmxhZ3MpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcm9qZWN0RGlyID0gcHJvY2Vzcy5jd2QoKTtcbiAgICBjb25zdCBob21lRGlyID0gcHJvY2Vzcy5lbnYuSE9NRSB8fCBwcm9jZXNzLmVudi5VU0VSUFJPRklMRSB8fCBcIlwiO1xuXG4gICAgLy8gR2V0IGNvbnRlbnQgZnJvbSBjb3JlIHBhY2thZ2VcbiAgICBjb25zdCBvcGVuQ29kZUNvbnRlbnQgPSBhd2FpdCBnZXREaXN0T3BlbkNvZGVDb250ZW50KCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgaW5zdGFsbGF0aW9uIHNjb3BlXG4gICAgbGV0IHNjb3BlID0gZmxhZ3Muc2NvcGU7XG4gICAgaWYgKCFzY29wZSB8fCBzY29wZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgY29uc3QgZGV0ZWN0ZWQgPSBkZXRlY3RJbnN0YWxsYXRpb25TY29wZShwcm9qZWN0RGlyKTtcbiAgICAgICAgaWYgKCFkZXRlY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCLinYwgQ291bGQgbm90IGRldGVjdCBpbnN0YWxsYXRpb24gc2NvcGUuIFVzZSAtLXNjb3BlIHByb2plY3R8Z2xvYmFsXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICB9XG4gICAgICAgIHNjb3BlID0gZGV0ZWN0ZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0T3BlbkNvZGVEaXIgPVxuICAgICAgICBzY29wZSA9PT0gXCJnbG9iYWxcIlxuICAgICAgICAgICAgPyBwYXRoLmpvaW4oaG9tZURpciwgXCIuY29uZmlnXCIsIFwib3BlbmNvZGVcIilcbiAgICAgICAgICAgIDogcGF0aC5qb2luKHByb2plY3REaXIsIFwiLm9wZW5jb2RlXCIpO1xuXG4gICAgaWYgKGZsYWdzLnZlcmJvc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coYEluc3RhbGxpbmcgdG86ICR7dGFyZ2V0T3BlbkNvZGVEaXJ9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTY29wZTogJHtzY29wZX1gKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0YXJnZXQgZGlyZWN0b3J5XG4gICAgaWYgKHNjb3BlID09PSBcInByb2plY3RcIikge1xuICAgICAgICBjb25zdCBvcGVuY29kZURpciA9IHBhdGguam9pbihwcm9qZWN0RGlyLCBcIi5vcGVuY29kZVwiKTtcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKG9wZW5jb2RlRGlyKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLinYwgTm8gLm9wZW5jb2RlLyBkaXJlY3RvcnkgZm91bmQgaW4gcHJvamVjdFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICAgUnVuICdvcGVuY29kZSBpbml0JyBmaXJzdCBvciB1c2UgLS1zY29wZSBnbG9iYWxcIik7XG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYWktZW5nLXN5c3RlbSBwbHVnaW4gcmVmZXJlbmNlXG4gICAgY29uc3QgY29uZmlnID0gZmluZE9wZW5Db2RlQ29uZmlnKHByb2plY3REaXIpO1xuICAgIGlmIChjb25maWcgJiYgIWlzUGx1Z2luUmVmZXJlbmNlZChjb25maWcucGF0aCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIuKaoO+4jyAgb3BlbmNvZGUuanNvbmMgZG9lcyBub3QgcmVmZXJlbmNlIGFpLWVuZy1zeXN0ZW0gcGx1Z2luXCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCIgICBBZGQgJ2FpLWVuZy1zeXN0ZW0nIHRvIHRoZSBwbHVnaW4gYXJyYXkgaW4gb3BlbmNvZGUuanNvbmNcIixcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZmxhZ3MuZHJ5UnVuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBkcnktcnVuOiBXb3VsZCBpbnN0YWxsIHRoZSBmb2xsb3dpbmcgZmlsZXM6XCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGAgICBDb21tYW5kcyAtPiAke3RhcmdldE9wZW5Db2RlRGlyfS9jb21tYW5kLyR7TkFNRVNQQUNFX1BSRUZJWH0vYCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICAgQWdlbnRzICAgLT4gJHt0YXJnZXRPcGVuQ29kZURpcn0vYWdlbnQvJHtOQU1FU1BBQ0VfUFJFRklYfS9gLFxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAgU2tpbGxzICAgLT4gJHt0YXJnZXRPcGVuQ29kZURpcn0vc2tpbGwvYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJbnN0YWxsIGNvbnRlbnQgdXNpbmcgY29yZSBwYWNrYWdlXG4gICAgYXdhaXQgaW5zdGFsbENvbnRlbnRGcm9tQ29yZShvcGVuQ29kZUNvbnRlbnQsIHRhcmdldE9wZW5Db2RlRGlyKTtcblxuICAgIGNvbnNvbGUubG9nKFwiXFxu4pyFIEluc3RhbGxhdGlvbiBjb21wbGV0ZSFcIik7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAgIFwiICAgUmVzdGFydCBPcGVuQ29kZSBvciBDbGF1ZGUgQ29kZSB0byB1c2UgbmV3IGNvbW1hbmRzIGFuZCBhZ2VudHMuXCIsXG4gICAgKTtcbn1cblxuLyoqXG4gKiBJbnN0YWxsIGNvbnRlbnQgZnJvbSBjb3JlIHBhY2thZ2UgdG8gdGFyZ2V0IGRpcmVjdG9yeVxuICovXG5hc3luYyBmdW5jdGlvbiBpbnN0YWxsQ29udGVudEZyb21Db3JlKFxuICAgIGNvbnRlbnQ6IE9wZW5Db2RlQ29udGVudCxcbiAgICB0YXJnZXRPcGVuQ29kZURpcjogc3RyaW5nLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gSW5zdGFsbCBjb21tYW5kcyAobmFtZXNwYWNlZCB1bmRlciBhaS1lbmcvKVxuICAgIGlmIChjb250ZW50LmNvbW1hbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY29tbWFuZHNEaXIgPSBwYXRoLmpvaW4oXG4gICAgICAgICAgICB0YXJnZXRPcGVuQ29kZURpcixcbiAgICAgICAgICAgIFwiY29tbWFuZFwiLFxuICAgICAgICAgICAgTkFNRVNQQUNFX1BSRUZJWCxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgY2xlYW5OYW1lc3BhY2VkRGlyZWN0b3J5KFxuICAgICAgICAgICAgdGFyZ2V0T3BlbkNvZGVEaXIsXG4gICAgICAgICAgICBcImNvbW1hbmRcIixcbiAgICAgICAgICAgIE5BTUVTUEFDRV9QUkVGSVgsXG4gICAgICAgICk7XG5cbiAgICAgICAgZnMubWtkaXJTeW5jKGNvbW1hbmRzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgY29udGVudC5jb21tYW5kcykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9IHBhdGguam9pbihjb21tYW5kc0RpciwgY29tbWFuZC5wYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldERpciA9IHBhdGguZGlybmFtZSh0YXJnZXRQYXRoKTtcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyh0YXJnZXREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgICAgICAgICBpZiAoY29tbWFuZC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyh0YXJnZXRQYXRoLCBjb21tYW5kLmNvbnRlbnQsIFwidXRmLThcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGAgIOKchSBJbnN0YWxsZWQgJHtjb250ZW50LmNvbW1hbmRzLmxlbmd0aH0gY29tbWFuZHMgdG8gJHtjb21tYW5kc0Rpcn1gLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIEluc3RhbGwgYWdlbnRzIChuYW1lc3BhY2VkIHVuZGVyIGFpLWVuZy8pXG4gICAgaWYgKGNvbnRlbnQuYWdlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYWdlbnRzRGlyID0gcGF0aC5qb2luKFxuICAgICAgICAgICAgdGFyZ2V0T3BlbkNvZGVEaXIsXG4gICAgICAgICAgICBcImFnZW50XCIsXG4gICAgICAgICAgICBOQU1FU1BBQ0VfUFJFRklYLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCBjbGVhbk5hbWVzcGFjZWREaXJlY3RvcnkoXG4gICAgICAgICAgICB0YXJnZXRPcGVuQ29kZURpcixcbiAgICAgICAgICAgIFwiYWdlbnRcIixcbiAgICAgICAgICAgIE5BTUVTUEFDRV9QUkVGSVgsXG4gICAgICAgICk7XG5cbiAgICAgICAgZnMubWtkaXJTeW5jKGFnZW50c0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhZ2VudCBvZiBjb250ZW50LmFnZW50cykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9IHBhdGguam9pbihhZ2VudHNEaXIsIGFnZW50LnBhdGgpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGlyID0gcGF0aC5kaXJuYW1lKHRhcmdldFBhdGgpO1xuICAgICAgICAgICAgZnMubWtkaXJTeW5jKHRhcmdldERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cbiAgICAgICAgICAgIGlmIChhZ2VudC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyh0YXJnZXRQYXRoLCBhZ2VudC5jb250ZW50LCBcInV0Zi04XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICDinIUgSW5zdGFsbGVkICR7Y29udGVudC5hZ2VudHMubGVuZ3RofSBhZ2VudHMgdG8gJHthZ2VudHNEaXJ9YCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YWxsIHNraWxscyAobm90IG5hbWVzcGFjZWQpXG4gICAgaWYgKGNvbnRlbnQuc2tpbGxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc2tpbGxzRGlyID0gcGF0aC5qb2luKHRhcmdldE9wZW5Db2RlRGlyLCBcInNraWxsXCIpO1xuICAgICAgICBhd2FpdCBjbGVhbkFpRW5nU2tpbGxzKHRhcmdldE9wZW5Db2RlRGlyLCBcIlwiKTtcblxuICAgICAgICBmcy5ta2RpclN5bmMoc2tpbGxzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIGNvbnRlbnQuc2tpbGxzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQYXRoID0gcGF0aC5qb2luKHNraWxsc0Rpciwgc2tpbGwucGF0aCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXREaXIgPSBwYXRoLmRpcm5hbWUodGFyZ2V0UGF0aCk7XG4gICAgICAgICAgICBmcy5ta2RpclN5bmModGFyZ2V0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgaWYgKHNraWxsLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHRhcmdldFBhdGgsIHNraWxsLmNvbnRlbnQsIFwidXRmLThcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGAgIOKchSBJbnN0YWxsZWQgJHtjb250ZW50LnNraWxscy5sZW5ndGh9IHNraWxscyB0byAke3NraWxsc0Rpcn1gLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIEluc3RhbGwgdG9vbHMgKGlmIGFueSlcbiAgICBpZiAoY29udGVudC50b29scy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHRvb2xzRGlyID0gcGF0aC5qb2luKHRhcmdldE9wZW5Db2RlRGlyLCBcInRvb2xcIik7XG4gICAgICAgIGZzLm1rZGlyU3luYyh0b29sc0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIGNvbnRlbnQudG9vbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhdGggPSBwYXRoLmpvaW4odG9vbHNEaXIsIHRvb2wucGF0aCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXREaXIgPSBwYXRoLmRpcm5hbWUodGFyZ2V0UGF0aCk7XG4gICAgICAgICAgICBmcy5ta2RpclN5bmModGFyZ2V0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgaWYgKHRvb2wuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmModGFyZ2V0UGF0aCwgdG9vbC5jb250ZW50LCBcInV0Zi04XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICDinIUgSW5zdGFsbGVkICR7Y29udGVudC50b29scy5sZW5ndGh9IHRvb2xzIHRvICR7dG9vbHNEaXJ9YCxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJ1bkluc3RhbGxlciB9O1xuIiwKICAgICIjIS91c3IvYmluL2VudiBub2RlXG4vKipcbiAqIENMSSBlbnRyeSBwb2ludCBmb3IgYWktZW5nLXN5c3RlbVxuICpcbiAqIERpc3BhdGNoZXIgdGhhdCByb3V0ZXMgdG8gc3ViY29tbWFuZHM6XG4gKiAgIC0gYWktZW5nIHJhbHBoIC4uLiAgICAgOiBJdGVyYXRpb24gbG9vcCBydW5uZXIgKGRlZmF1bHQgYmVoYXZpb3IpXG4gKiAgIC0gYWktZW5nIGluc3RhbGwgICAgICA6IEluc3RhbGwgT3BlbkNvZGUvQ2xhdWRlIGFzc2V0c1xuICogICAtIGFpLWVuZyBcInByb21wdFwiICAgICA6IERlZmF1bHRzIHRvIHJhbHBoIChzaG9ydGN1dClcbiAqL1xuXG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwibm9kZTp1dGlsXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9sb2FkQ29uZmlnXCI7XG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi4vdXRpbC9sb2dcIjtcbmltcG9ydCB0eXBlIHsgTG9nTGV2ZWwsIFJhbHBoRmxhZ3MgfSBmcm9tIFwiLi9mbGFnc1wiO1xuaW1wb3J0IHsgcnVuQ2xpIH0gZnJvbSBcIi4vcnVuLWNsaVwiO1xuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi91aVwiO1xuXG4vLyBUVUkgaXMgbG9hZGVkIGR5bmFtaWNhbGx5IHRvIGF2b2lkIGJ1bmRsaW5nIGlzc3Vlc1xuLy8gaW1wb3J0IHsgbGF1bmNoVHVpIH0gZnJvbSBcIi4vdHVpL0FwcFwiO1xuXG5jb25zdCBUT1BfSEVMUF9URVhUID0gYFxuYWktZW5nIC0gQUkgRW5naW5lZXJpbmcgU3lzdGVtIENMSVxuXG5VU0FHRTpcbiAgYWktZW5nIDxjb21tYW5kPiBbb3B0aW9uc11cbiAgYWktZW5nIFwicHJvbXB0XCIgW29wdGlvbnNdICAgICAgICAgICMgU2hvcnRjdXQ6IGRlZmF1bHRzIHRvICdyYWxwaCdcblxuQ09NTUFORFM6XG4gIGluaXQgW29wdGlvbnNdICAgICAgICAgICAgICAgICAgICAgIyBJbml0aWFsaXplIC5haS1lbmcvY29uZmlnLnlhbWwgd2l0aCBkZWZhdWx0c1xuICByYWxwaCA8cHJvbXB0fHdvcmtmbG93PiBbb3B0aW9uc10gICMgSXRlcmF0aW9uIGxvb3AgcnVubmVyXG4gIGluc3RhbGwgW29wdGlvbnNdICAgICAgICAgICAgICAgICAgIyBJbnN0YWxsIE9wZW5Db2RlL0NsYXVkZSBhc3NldHNcblxuR0xPQkFMIE9QVElPTlM6XG4gIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZVxuICAtdiwgLS12ZXJib3NlICAgICAgICAgICAgICAgICAgICAgIFZlcmJvc2Ugb3V0cHV0IChERUJVRyBsZXZlbCBsb2dzKVxuXG5FWEFNUExFUzpcbiAgYWktZW5nIGluaXQgICAgICAgICAgICAgICAgICAgICMgSW5pdGlhbGl6ZSBjb25maWcgd2l0aCBkZWZhdWx0c1xuICBhaS1lbmcgaW5pdCAtLWludGVyYWN0aXZlICAgICAgICMgSW50ZXJhY3RpdmUgY29uZmlnIHNldHVwXG4gIGFpLWVuZyBcImltcGxlbWVudCB1c2VyIGF1dGhlbnRpY2F0aW9uXCJcbiAgYWktZW5nIHJhbHBoIFwiZml4IGJ1Z1wiIC0tcHJpbnQtbG9ncyAtLWxvZy1sZXZlbCBERUJVR1xuICBhaS1lbmcgaW5zdGFsbCAtLXNjb3BlIHByb2plY3RcbiAgYWktZW5nIHJhbHBoIGZlYXR1cmUtc3BlYy55bWwgLS1tYXgtaXRlcnMgNVxuICBhaS1lbmcgcmFscGggLS10dWkgLS1yZXN1bWVcbiAgYWktZW5nIHJhbHBoIFwibWFrZSBmbGVldHRvb2xzIHVzYWJsZVwiIC0tc2hpcCAtLW1heC1jeWNsZXMgMzBcbiAgYWktZW5nIHJhbHBoIFwibWFrZSBmbGVldHRvb2xzIHVzYWJsZVwiIC0tZHJhZnQgLS1tYXgtY3ljbGVzIDEwIC0tY2lcbmA7XG5cbmNvbnN0IElOSVRfSEVMUF9URVhUID0gYFxuYWktZW5nIGluaXQgLSBJbml0aWFsaXplIC5haS1lbmcvY29uZmlnLnlhbWwgd2l0aCBkZWZhdWx0c1xuXG5VU0FHRTpcbiAgYWktZW5nIGluaXQgW29wdGlvbnNdXG5cbk9QVElPTlM6XG4gIC1pLCAtLWludGVyYWN0aXZlICAgIEludGVyYWN0aXZlIGNvbmZpZ3VyYXRpb24gc2V0dXBcbiAgLS1vdmVyd3JpdGUgICAgICAgICAgIE92ZXJ3cml0ZSBleGlzdGluZyBjb25maWcgZmlsZVxuICAtaCwgLS1oZWxwICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2VcbiAgLXYsIC0tdmVyYm9zZSAgICAgICAgIFZlcmJvc2Ugb3V0cHV0XG5cbkVYQU1QTEVTOlxuICBhaS1lbmcgaW5pdCAgICAgICAgICAgICAgICAgICAgIyBDcmVhdGUgY29uZmlnIHdpdGggZGVmYXVsdHNcbiAgYWktZW5nIGluaXQgLS1pbnRlcmFjdGl2ZSAgICAgICAjIEludGVyYWN0aXZlIHNldHVwIHdpdGggcHJvbXB0c1xuICBhaS1lbmcgaW5pdCAtLW92ZXJ3cml0ZSAgICAgICAgICAjIFJlcGxhY2UgZXhpc3RpbmcgY29uZmlnXG5gO1xuXG5jb25zdCBJTlNUQUxMX0hFTFBfVEVYVCA9IGBcbmFpLWVuZyBpbnN0YWxsIC0gSW5zdGFsbCBPcGVuQ29kZS9DbGF1ZGUgYXNzZXRzXG5cblVTQUdFOlxuICBhaS1lbmcgaW5zdGFsbCBbb3B0aW9uc11cblxuT1BUSU9OUzpcbiAgLS1zY29wZSBwcm9qZWN0fGdsb2JhbHxhdXRvICAgICAgICBXaGVyZSB0byBpbnN0YWxsIChkZWZhdWx0OiBhdXRvLWRldGVjdClcbiAgLS1kcnktcnVuICAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHdoYXQgd291bGQgYmUgZG9uZSB3aXRob3V0IHdyaXRpbmdcbiAgLS15ZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lwIGNvbmZpcm1hdGlvbiBwcm9tcHRzXG4gIC12LCAtLXZlcmJvc2UgICAgICAgICAgICAgICAgICAgICAgVmVyYm9zZSBvdXRwdXRcblxuRVhBTVBMRVM6XG4gIGFpLWVuZyBpbnN0YWxsICAgICAgICAgICAgICAgICAgICAgICAgICAjIEF1dG8tZGV0ZWN0IHByb2plY3QgdnMgZ2xvYmFsXG4gIGFpLWVuZyBpbnN0YWxsIC0tc2NvcGUgcHJvamVjdCAgICAgICAgICAjIEluc3RhbGwgdG8gcHJvamVjdCAub3BlbmNvZGUvXG4gIGFpLWVuZyBpbnN0YWxsIC0tc2NvcGUgZ2xvYmFsICAgICAgICAgICAjIEluc3RhbGwgdG8gfi8uY29uZmlnL29wZW5jb2RlL1xuICBhaS1lbmcgaW5zdGFsbCAtLWRyeS1ydW4gICAgICAgICAgICAgICAgIyBQcmV2aWV3IG9wZXJhdGlvbnNcbmA7XG5cbmNvbnN0IFJBTFBIX0hFTFBfVEVYVCA9IGBcbmFpLWVuZyByYWxwaCAtIEl0ZXJhdGlvbiBsb29wIHJ1bm5lciBmb3IgYWktZW5nLXN5c3RlbVxuXG5VU0FHRTpcbiAgYWktZW5nIHJhbHBoIDxwcm9tcHR8d29ya2Zsb3c+IFtvcHRpb25zXVxuXG5QT1NJVElPTkFMOlxuICBwcm9tcHQvd29ya2Zsb3cgICAgVGFzayBwcm9tcHQgb3IgcGF0aCB0byB3b3JrZmxvdyBzcGVjaWZpY2F0aW9uXG5cbk9QVElPTlM6XG4gIC0tbWF4LWl0ZXJzIDxuPiAgICAgTWF4aW11bSBpdGVyYXRpb25zIChkZWZhdWx0OiBmcm9tIGNvbmZpZylcbiAgLS1nYXRlcyA8ZzEsZzI+ICAgICBDb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBxdWFsaXR5IGdhdGVzXG4gIC0tcmV2aWV3IDxtb2RlPiAgICAgUmV2aWV3IG1vZGU6IG5vbmV8b3BlbmNvZGV8YW50aHJvcGljfGJvdGhcbiAgLS1yZXN1bWUgICAgICAgICAgICBSZXN1bWUgcHJldmlvdXMgcnVuXG4gIC0tcnVuLWlkIDxpZD4gICAgICAgU3BlY2lmaWMgcnVuIElEIHRvIHJlc3VtZVxuICAtLWRyeS1ydW4gICAgICAgICAgIFNob3cgd2hhdCB3b3VsZCBiZSBkb25lIHdpdGhvdXQgZXhlY3V0aW5nXG4gIC0tY2kgICAgICAgICAgICAgICAgUnVuIGluIENJIG1vZGUgKG5vIGludGVyYWN0aXZlIHByb21wdHMpXG5cbiAgLS1wcmludC1sb2dzICAgICAgICBQcmludCBkZXRhaWxlZCBsb2dzIHRvIHN0ZGVyclxuICAtLWxvZy1sZXZlbCA8bHZsPiAgIExvZyBsZXZlbDogREVCVUd8SU5GT3xXQVJOfEVSUk9SIChkZWZhdWx0OiBJTkZPKVxuICAtdiwgLS12ZXJib3NlICAgICAgIFZlcmJvc2Ugb3V0cHV0IChzYW1lIGFzIC0tbG9nLWxldmVsIERFQlVHKVxuICAtLXR1aSAgICAgICAgICAgICAgIFVzZSBUVUkgbW9kZSBpbnN0ZWFkIG9mIENMSVxuICAtLW5vLXN0cmVhbSAgICAgICAgIERpc2FibGUgc3RyZWFtaW5nIG91dHB1dCAoYnVmZmVyZWQgbW9kZSlcblxuICAtLW5vLWxvb3AgICAgICAgICAgIFJ1biBzaW5nbGUgaXRlcmF0aW9uIG9ubHkgKGRpc2FibGUgbG9vcCBtb2RlKVxuICAtLWNvbXBsZXRpb24gPHRvaz4gIExvb3AgZXhpdCB0b2tlbiAocmVxdWlyZWQsIGUuZy4sIC0tY29tcGxldGlvbiBcIjxwcm9taXNlPkRPTkU8L3Byb21pc2U+XCIpXG4gIC0tc2hpcCAgICAgICAgICAgICAgQXV0by1leGl0IHdoZW4gYWdlbnQgb3V0cHV0cyBcIjxwcm9taXNlPlNISVA8L3Byb21pc2U+XCJcbiAgLS1kcmFmdCAgICAgICAgICAgICBSdW4gZm9yIG1heC1jeWNsZXMgdGhlbiBzdG9wIGZvciB5b3VyIHJldmlldyAoZGVmYXVsdCBiZWhhdmlvcilcbiAgLS1tYXgtY3ljbGVzIDxuPiAgICBNYXhpbXVtIGxvb3AgY3ljbGVzIChkZWZhdWx0OiA1MClcbiAgLS1zdHVjay10aHJlc2hvbGQgPG4+IEFib3J0IGFmdGVyIE4gY3ljbGVzIHdpdGggbm8gcHJvZ3Jlc3MgKGRlZmF1bHQ6IDUpXG4gIC0tY2hlY2twb2ludCA8bj4gICAgU2F2ZSBjaGVja3BvaW50IGV2ZXJ5IE4gY3ljbGVzIChkZWZhdWx0OiAxKVxuICAtLWRlYnVnLXdvcmsgICAgICAgIFByaW50IGV2ZXJ5IHRvb2wgaW52b2NhdGlvbiBpbnB1dC9vdXRwdXQgdG8gY29uc29sZSBhbmQgbG9nc1xuXG4gIC0taGVscCAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZVxuXG5FWEFNUExFUzpcbiAgYWktZW5nIHJhbHBoIFwiaW1wbGVtZW50IHVzZXIgYXV0aGVudGljYXRpb25cIlxuICBhaS1lbmcgcmFscGggZmVhdHVyZS1zcGVjLnltbCAtLW1heC1pdGVycyA1XG4gIGFpLWVuZyByYWxwaCBcImZpeCB0aGUgYnVnXCIgLS1wcmludC1sb2dzIC0tbG9nLWxldmVsIERFQlVHXG4gIGFpLWVuZyByYWxwaCAtLXR1aSAtLXJlc3VtZVxuICBhaS1lbmcgcmFscGggXCJtYWtlIGZsZWV0dG9vbHMgdXNhYmxlXCIgLS1zaGlwIC0tbWF4LWN5Y2xlcyAzMFxuICBhaS1lbmcgcmFscGggXCJtYWtlIGZsZWV0dG9vbHMgdXNhYmxlXCIgLS1kcmFmdCAtLW1heC1jeWNsZXMgMTAgLS1jaVxuICBhaS1lbmcgcmFscGggLS1uby1sb29wIFwic2luZ2xlLXNob3QgdGFza1wiXG5gO1xuXG5pbnRlcmZhY2UgSW5zdGFsbEZsYWdzIHtcbiAgICBzY29wZT86IFwicHJvamVjdFwiIHwgXCJnbG9iYWxcIiB8IFwiYXV0b1wiO1xuICAgIGRyeVJ1bj86IGJvb2xlYW47XG4gICAgeWVzPzogYm9vbGVhbjtcbiAgICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgICBoZWxwPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEluaXRGbGFncyB7XG4gICAgaW50ZXJhY3RpdmU/OiBib29sZWFuO1xuICAgIG92ZXJ3cml0ZT86IGJvb2xlYW47XG4gICAgaGVscD86IGJvb2xlYW47XG4gICAgdmVyYm9zZT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogSGFuZGxlIHRoZSAnaW5pdCcgc3ViY29tbWFuZFxuICovXG5hc3luYyBmdW5jdGlvbiBydW5Jbml0KGFyZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyB2YWx1ZXMsIHBvc2l0aW9uYWxzIH0gPSBwYXJzZUFyZ3Moe1xuICAgICAgICBhcmdzLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogeyB0eXBlOiBcImJvb2xlYW5cIiwgc2hvcnQ6IFwiaVwiIH0sXG4gICAgICAgICAgICBvdmVyd3JpdGU6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIGhlbHA6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIHZlcmJvc2U6IHsgdHlwZTogXCJib29sZWFuXCIsIHNob3J0OiBcInZcIiB9LFxuICAgICAgICB9LFxuICAgICAgICBhbGxvd1Bvc2l0aW9uYWxzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZmxhZ3M6IEluaXRGbGFncyA9IHtcbiAgICAgICAgaW50ZXJhY3RpdmU6IHZhbHVlcy5pbnRlcmFjdGl2ZSxcbiAgICAgICAgb3ZlcndyaXRlOiB2YWx1ZXMub3ZlcndyaXRlLFxuICAgICAgICBoZWxwOiB2YWx1ZXMuaGVscCxcbiAgICAgICAgdmVyYm9zZTogdmFsdWVzLnZlcmJvc2UsXG4gICAgfTtcblxuICAgIGlmIChmbGFncy5oZWxwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKElOSVRfSEVMUF9URVhUKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IExvZy5pbml0KHtcbiAgICAgICAgcHJpbnQ6IGZhbHNlLFxuICAgICAgICBsZXZlbDogZmxhZ3MudmVyYm9zZSA/IFwiREVCVUdcIiA6IFwiSU5GT1wiLFxuICAgICAgICBsb2dEaXI6IFwiLmFpLWVuZy9sb2dzXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGluaXRDb25maWcgfSA9IGF3YWl0IGltcG9ydChcIi4uL2luc3RhbGwvaW5pdFwiKTtcbiAgICBhd2FpdCBpbml0Q29uZmlnKGZsYWdzKTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgdGhlICdpbnN0YWxsJyBzdWJjb21tYW5kXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJ1bkluc3RhbGwoYXJnczogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IHZhbHVlcywgcG9zaXRpb25hbHMgfSA9IHBhcnNlQXJncyh7XG4gICAgICAgIGFyZ3MsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNjb3BlOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIFwiZHJ5LXJ1blwiOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICB5ZXM6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIHZlcmJvc2U6IHsgdHlwZTogXCJib29sZWFuXCIsIHNob3J0OiBcInZcIiB9LFxuICAgICAgICAgICAgaGVscDogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICB9LFxuICAgICAgICBhbGxvd1Bvc2l0aW9uYWxzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZmxhZ3M6IEluc3RhbGxGbGFncyA9IHtcbiAgICAgICAgc2NvcGU6IHZhbHVlcy5zY29wZSBhcyBJbnN0YWxsRmxhZ3NbXCJzY29wZVwiXSxcbiAgICAgICAgZHJ5UnVuOiB2YWx1ZXNbXCJkcnktcnVuXCJdLFxuICAgICAgICB5ZXM6IHZhbHVlcy55ZXMsXG4gICAgICAgIHZlcmJvc2U6IHZhbHVlcy52ZXJib3NlLFxuICAgICAgICBoZWxwOiB2YWx1ZXMuaGVscCxcbiAgICB9O1xuXG4gICAgaWYgKGZsYWdzLmhlbHApIHtcbiAgICAgICAgY29uc29sZS5sb2coSU5TVEFMTF9IRUxQX1RFWFQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRHluYW1pYyBpbXBvcnQgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCB0byBhbGxvdyBpbnN0YWxsIGxvZ2ljIHRvIGJlIG9wdGlvbmFsXG4gICAgY29uc3QgeyBydW5JbnN0YWxsZXIgfSA9IGF3YWl0IGltcG9ydChcIi4uL2luc3RhbGwvaW5zdGFsbFwiKTtcbiAgICBhd2FpdCBydW5JbnN0YWxsZXIoZmxhZ3MpO1xufVxuXG4vKipcbiAqIFBhcnNlIFJhbHBoIGZsYWdzIGZyb20gcmF3IGFyZ3ZcbiAqL1xuZnVuY3Rpb24gcGFyc2VSYWxwaEZsYWdzKGFyZ3M6IHN0cmluZ1tdKToge1xuICAgIGZsYWdzOiBSYWxwaEZsYWdzO1xuICAgIHJlbWFpbmluZzogc3RyaW5nW107XG59IHtcbiAgICBjb25zdCB7IHZhbHVlcywgcG9zaXRpb25hbHMgfSA9IHBhcnNlQXJncyh7XG4gICAgICAgIGFyZ3MsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIFwibWF4LWl0ZXJzXCI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgZ2F0ZXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgcmV2aWV3OiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIHJlc3VtZTogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgXCJydW4taWRcIjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBcImRyeS1ydW5cIjogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgY2k6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIGhlbHA6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIFwicHJpbnQtbG9nc1wiOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICBcImxvZy1sZXZlbFwiOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIHZlcmJvc2U6IHsgdHlwZTogXCJib29sZWFuXCIsIHNob3J0OiBcInZcIiB9LFxuICAgICAgICAgICAgdHVpOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICBcIm5vLXN0cmVhbVwiOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICBcIm5vLWxvb3BcIjogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgY29tcGxldGlvbjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBzaGlwOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICBkcmFmdDogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgXCJtYXgtY3ljbGVzXCI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgXCJzdHVjay10aHJlc2hvbGRcIjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBjaGVja3BvaW50OiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIFwiZGVidWctd29ya1wiOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFsbG93UG9zaXRpb25hbHM6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBmbGFnczogUmFscGhGbGFncyA9IHtcbiAgICAgICAgd29ya2Zsb3c6IHBvc2l0aW9uYWxzWzBdLFxuICAgICAgICBtYXhJdGVyczogdmFsdWVzW1wibWF4LWl0ZXJzXCJdXG4gICAgICAgICAgICA/IE51bWJlci5wYXJzZUludCh2YWx1ZXNbXCJtYXgtaXRlcnNcIl0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2F0ZXM6IHZhbHVlcy5nYXRlc1xuICAgICAgICAgICAgPyB2YWx1ZXMuZ2F0ZXMuc3BsaXQoXCIsXCIpLm1hcCgoZykgPT4gZy50cmltKCkpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgcmV2aWV3OiB2YWx1ZXMucmV2aWV3IGFzIFJhbHBoRmxhZ3NbXCJyZXZpZXdcIl0sXG4gICAgICAgIHJlc3VtZTogdmFsdWVzLnJlc3VtZSxcbiAgICAgICAgcnVuSWQ6IHZhbHVlc1tcInJ1bi1pZFwiXSxcbiAgICAgICAgZHJ5UnVuOiB2YWx1ZXNbXCJkcnktcnVuXCJdLFxuICAgICAgICBjaTogdmFsdWVzLmNpLFxuICAgICAgICBoZWxwOiB2YWx1ZXMuaGVscCxcbiAgICAgICAgcHJpbnRMb2dzOiB2YWx1ZXNbXCJwcmludC1sb2dzXCJdLFxuICAgICAgICBsb2dMZXZlbDpcbiAgICAgICAgICAgICh2YWx1ZXNbXCJsb2ctbGV2ZWxcIl0gYXMgTG9nTGV2ZWwpID8/XG4gICAgICAgICAgICAodmFsdWVzLnZlcmJvc2UgPyBcIkRFQlVHXCIgOiB1bmRlZmluZWQpLFxuICAgICAgICB2ZXJib3NlOiB2YWx1ZXMudmVyYm9zZSxcbiAgICAgICAgdHVpOiB2YWx1ZXMudHVpLFxuICAgICAgICBub1N0cmVhbTogdmFsdWVzW1wibm8tc3RyZWFtXCJdLFxuICAgICAgICBsb29wOiAhdmFsdWVzW1wibm8tbG9vcFwiXSxcbiAgICAgICAgbm9Mb29wOiB2YWx1ZXNbXCJuby1sb29wXCJdLFxuICAgICAgICBjb21wbGV0aW9uUHJvbWlzZTogdmFsdWVzLmNvbXBsZXRpb24sXG4gICAgICAgIHNoaXA6IHZhbHVlcy5zaGlwLFxuICAgICAgICBkcmFmdDogdmFsdWVzLmRyYWZ0LFxuICAgICAgICBtYXhDeWNsZXM6IHZhbHVlc1tcIm1heC1jeWNsZXNcIl1cbiAgICAgICAgICAgID8gTnVtYmVyLnBhcnNlSW50KHZhbHVlc1tcIm1heC1jeWNsZXNcIl0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3R1Y2tUaHJlc2hvbGQ6IHZhbHVlc1tcInN0dWNrLXRocmVzaG9sZFwiXVxuICAgICAgICAgICAgPyBOdW1iZXIucGFyc2VJbnQodmFsdWVzW1wic3R1Y2stdGhyZXNob2xkXCJdKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGNoZWNrcG9pbnRGcmVxdWVuY3k6IHZhbHVlcy5jaGVja3BvaW50XG4gICAgICAgICAgICA/IE51bWJlci5wYXJzZUludCh2YWx1ZXMuY2hlY2twb2ludClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBkZWJ1Z1dvcms6IHZhbHVlc1tcImRlYnVnLXdvcmtcIl0sXG4gICAgfTtcblxuICAgIC8vIFJldHVybiB0aGUgZmxhZ3MgcGx1cyB0aGUgcmVtYWluaW5nIHBvc2l0aW9uYWxzIChmb3IgZnV0dXJlIGV4dGVuc2liaWxpdHkpXG4gICAgcmV0dXJuIHsgZmxhZ3MsIHJlbWFpbmluZzogcG9zaXRpb25hbHMuc2xpY2UoMSkgfTtcbn1cblxuLyoqXG4gKiBSdW4gdGhlIFJhbHBoIENMSVxuICovXG5hc3luYyBmdW5jdGlvbiBydW5SYWxwaChhcmdzOiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZmxhZ3MgfSA9IHBhcnNlUmFscGhGbGFncyhhcmdzKTtcblxuICAgIC8vIFNob3cgaGVscFxuICAgIGlmIChmbGFncy5oZWxwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFJBTFBIX0hFTFBfVEVYVCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIGxvZ2dpbmdcbiAgICBhd2FpdCBMb2cuaW5pdCh7XG4gICAgICAgIHByaW50OiBmbGFncy5wcmludExvZ3MgPz8gZmFsc2UsXG4gICAgICAgIGxldmVsOiBmbGFncy5sb2dMZXZlbCA/PyBcIklORk9cIixcbiAgICAgICAgbG9nRGlyOiBcIi5haS1lbmcvbG9nc1wiLFxuICAgIH0pO1xuXG4gICAgTG9nLkRlZmF1bHQuaW5mbyhcImFpLWVuZyByYWxwaCBzdGFydGluZ1wiLCB7XG4gICAgICAgIGZsYWdzOiBKU09OLnN0cmluZ2lmeShmbGFncyksXG4gICAgfSk7XG5cbiAgICAvLyBMb2FkIGNvbmZpZ1xuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IGxvYWRDb25maWcoZmxhZ3MpO1xuXG4gICAgLy8gVFVJIG1vZGUgcmVxdWlyZXMgZHluYW1pYyBpbXBvcnQgLSBmb3Igbm93LCBzaG93IGluZm8gYW5kIGZhbGwgYmFjayB0byBDTElcbiAgICBpZiAoZmxhZ3MudHVpKSB7XG4gICAgICAgIFVJLmluZm8oXCJUVUkgbW9kZSByZXF1ZXN0ZWQgLSBmYWxsaW5nIGJhY2sgdG8gQ0xJIG1vZGVcIik7XG4gICAgICAgIFVJLmluZm8oXCIoVFVJIHJlcXVpcmVzOiBidW4gcnVuIC0td2F0Y2ggb3IgZnVsbCBUVUkgc2V0dXApXCIpO1xuICAgIH1cbiAgICBhd2FpdCBydW5DbGkoY29uZmlnLCBmbGFncyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gR2V0IHJhdyBhcmdzIChldmVyeXRoaW5nIGFmdGVyIHRoZSBwcm9ncmFtIG5hbWUpXG4gICAgICAgIGNvbnN0IHJhd0FyZ3MgPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMik7XG5cbiAgICAgICAgLy8gSGFuZGxlIG5vIGFyZ3VtZW50c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICByYXdBcmdzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgcmF3QXJnc1swXSA9PT0gXCItLWhlbHBcIiB8fFxuICAgICAgICAgICAgcmF3QXJnc1swXSA9PT0gXCItaFwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coVE9QX0hFTFBfVEVYVCk7XG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdWJjb21tYW5kID0gcmF3QXJnc1swXTtcbiAgICAgICAgY29uc3Qgc3ViY29tbWFuZEFyZ3MgPSByYXdBcmdzLnNsaWNlKDEpO1xuXG4gICAgICAgIC8vIFJvdXRlIHRvIHN1YmNvbW1hbmRcbiAgICAgICAgc3dpdGNoIChzdWJjb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW5pdFwiOlxuICAgICAgICAgICAgICAgIGF3YWl0IHJ1bkluaXQoc3ViY29tbWFuZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiaW5zdGFsbFwiOlxuICAgICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgICAgICBhd2FpdCBydW5JbnN0YWxsKHN1YmNvbW1hbmRBcmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcInJhbHBoXCI6XG4gICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgIGF3YWl0IHJ1blJhbHBoKHN1YmNvbW1hbmRBcmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcIi0taGVscFwiOlxuICAgICAgICAgICAgY2FzZSBcIi1oXCI6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVE9QX0hFTFBfVEVYVCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byByYWxwaDogdHJlYXQgdGhlIHN1YmNvbW1hbmQgYXMgdGhlIHByb21wdC93b3JrZmxvd1xuICAgICAgICAgICAgICAgIC8vIGFuZCBwYXNzIHRoZSBlbnRpcmUgb3JpZ2luYWwgYXJncyB0byByYWxwaFxuICAgICAgICAgICAgICAgIGF3YWl0IHJ1blJhbHBoKHJhd0FyZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgVUkuZXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cbn1cblxuLy8gRXhwb3J0IG1haW4gZm9yIHVzZSBhcyBhIG1vZHVsZVxuZXhwb3J0IHsgbWFpbiBhcyBydW5NYWluIH07XG5cbi8vIE5vdGU6IFRoZSBDTEkgc2hpbSAoZGlzdC9jbGkvcnVuLmpzKSBoYW5kbGVzIGRpcmVjdCBleGVjdXRpb24uXG4vLyBUaGlzIGZpbGUgc2hvdWxkIG9ubHkgYmUgcnVuIHZpYSBpbXBvcnQgZnJvbSB0aGUgc2hpbS5cbiIsCiAgICAiLyoqXG4gKiBDb25maWd1cmF0aW9uIExvYWRlciBmb3IgYWktZW5nIHJhbHBoXG4gKi9cblxuaW1wb3J0IHsgcmVhZEZpbGUgfSBmcm9tIFwibm9kZTpmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJub2RlOnBhdGhcIjtcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tIFwibm9kZTp1cmxcIjtcbmltcG9ydCBZQU1MIGZyb20gXCJ5YW1sXCI7XG5pbXBvcnQgdHlwZSB7IFJhbHBoRmxhZ3MgfSBmcm9tIFwiLi4vY2xpL2ZsYWdzXCI7XG5pbXBvcnQgdHlwZSB7IEFpRW5nQ29uZmlnLCBERUZBVUxUX0NPTkZJRyB9IGZyb20gXCIuL3NjaGVtYVwiO1xuaW1wb3J0IHsgREVGQVVMVF9DT05GSUcgYXMgSEFSRENPREVEX0RFRkFVTFRTIH0gZnJvbSBcIi4vc2NoZW1hXCI7XG5cbi8vIFVzZSBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5IHdoZXJlIGNvbW1hbmQgaXMgY2FsbGVkIGZyb21cbi8vIFRoaXMgZW5zdXJlcyAuYWktZW5nL2NvbmZpZy55YW1sIGlzIGxvYWRlZCBmcm9tIHVzZXIncyBwcm9qZWN0IGRpcmVjdG9yeVxuY29uc3QgUk9PVCA9IHByb2Nlc3MuZW52LlRFU1RfUk9PVCA/PyBwcm9jZXNzLmN3ZCgpO1xuXG4vKipcbiAqIEVudmlyb25tZW50IHZhcmlhYmxlIHRvIGNvbmZpZyBrZXkgbWFwcGluZ1xuICovXG5jb25zdCBFTlZfVkFSX01BUFBJTkc6IFJlY29yZDxzdHJpbmcsIGtleW9mIEFpRW5nQ29uZmlnPiA9IHtcbiAgICAvLyBPcGVuQ29kZVxuICAgIE9QRU5DT0RFX1VSTDogXCJvcGVuY29kZVwiLFxuICAgIE9QRU5DT0RFX0RJUkVDVE9SWTogXCJvcGVuY29kZVwiLFxuICAgIE9QRU5DT0RFX1BST01QVF9USU1FT1VUX01TOiBcIm9wZW5jb2RlXCIsXG4gICAgLy8gRGlzY29yZCAobm9uLXNlY3JldClcbiAgICBESVNDT1JEX0JPVF9VU0VSTkFNRTogXCJub3RpZmljYXRpb25zXCIsXG4gICAgRElTQ09SRF9CT1RfQVZBVEFSX1VSTDogXCJub3RpZmljYXRpb25zXCIsXG4gICAgLy8gVUlcbiAgICBBSV9FTkdfU0lMRU5UOiBcInVpXCIsXG4gICAgLy8gTG9vcFxuICAgIEFJX0VOR19DWUNMRV9SRVRSSUVTOiBcImxvb3BcIixcbiAgICAvLyBEZWJ1Z1xuICAgIEFJX0VOR19ERUJVR19XT1JLOiBcImRlYnVnXCIsXG4gICAgLy8gR2F0ZXMgKGNvbW1hbmRzKVxuICAgIEFJX0VOR19URVNUX0NNRDogXCJnYXRlc1wiLFxuICAgIEFJX0VOR19MSU5UX0NNRDogXCJnYXRlc1wiLFxuICAgIEFJX0VOR19BQ0NFUFRBTkNFX0NNRDogXCJnYXRlc1wiLFxuICAgIEFJX0VOR19UWVBFQ0hFQ0tfQ01EOiBcImdhdGVzXCIsXG4gICAgQUlfRU5HX0JVSUxEX0NNRDogXCJnYXRlc1wiLFxufTtcblxuLyoqXG4gKiBHZXQgbmVzdGVkIHZhbHVlIGZyb20gb2JqZWN0IHVzaW5nIGRvdCBub3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXROZXN0ZWRWYWx1ZShvYmo6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gcGF0aC5zcGxpdChcIi5cIikucmVkdWNlPHVua25vd24+KChjdXJyZW50LCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgdHlwZW9mIGN1cnJlbnQgPT09IFwib2JqZWN0XCIgJiYga2V5IGluIGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sIG9iaik7XG59XG5cbi8qKlxuICogU2V0IG5lc3RlZCB2YWx1ZSBpbiBvYmplY3QgdXNpbmcgZG90IG5vdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIHNldE5lc3RlZFZhbHVlKFxuICAgIG9iajogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIHZhbHVlOiB1bmtub3duLFxuKTogdm9pZCB7XG4gICAgY29uc3Qga2V5cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIGNvbnN0IGxhc3RLZXkgPSBrZXlzLnBvcCgpITtcbiAgICBjb25zdCB0YXJnZXQgPSBrZXlzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oKGN1cnJlbnQsIGtleSkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRba2V5XSB8fCB0eXBlb2YgY3VycmVudFtrZXldICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjdXJyZW50W2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFtrZXldIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIH0sIG9iaik7XG4gICAgdGFyZ2V0W2xhc3RLZXldID0gdmFsdWU7XG59XG5cbi8qKlxuICogQXBwbHkgZW52aXJvbm1lbnQgdmFyaWFibGUgb3ZlcnJpZGVzIHRvIGNvbmZpZ1xuICovXG5mdW5jdGlvbiBhcHBseUVudk92ZXJyaWRlcyhjb25maWc6IEFpRW5nQ29uZmlnKTogdm9pZCB7XG4gICAgLy8gT3BlbkNvZGUgb3ZlcnJpZGVzXG4gICAgaWYgKHByb2Nlc3MuZW52Lk9QRU5DT0RFX1VSTCkge1xuICAgICAgICBjb25maWcub3BlbmNvZGUuc2VydmVyVXJsID0gcHJvY2Vzcy5lbnYuT1BFTkNPREVfVVJMO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuT1BFTkNPREVfRElSRUNUT1JZKSB7XG4gICAgICAgIGNvbmZpZy5vcGVuY29kZS5kaXJlY3RvcnkgPSBwcm9jZXNzLmVudi5PUEVOQ09ERV9ESVJFQ1RPUlk7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5PUEVOQ09ERV9QUk9NUFRfVElNRU9VVF9NUykge1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuT1BFTkNPREVfUFJPTVBUX1RJTUVPVVRfTVMsXG4gICAgICAgICAgICAxMCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTih0aW1lb3V0KSkge1xuICAgICAgICAgICAgY29uZmlnLm9wZW5jb2RlLnByb21wdFRpbWVvdXRNcyA9IHRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaXNjb3JkIG92ZXJyaWRlcyAobm9uLXNlY3JldClcbiAgICBpZiAocHJvY2Vzcy5lbnYuRElTQ09SRF9CT1RfVVNFUk5BTUUpIHtcbiAgICAgICAgY29uZmlnLm5vdGlmaWNhdGlvbnMuZGlzY29yZC51c2VybmFtZSA9XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5ESVNDT1JEX0JPVF9VU0VSTkFNRTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52LkRJU0NPUkRfQk9UX0FWQVRBUl9VUkwpIHtcbiAgICAgICAgY29uZmlnLm5vdGlmaWNhdGlvbnMuZGlzY29yZC5hdmF0YXJVcmwgPVxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuRElTQ09SRF9CT1RfQVZBVEFSX1VSTDtcbiAgICB9XG5cbiAgICAvLyBVSSBvdmVycmlkZVxuICAgIGlmIChwcm9jZXNzLmVudi5BSV9FTkdfU0lMRU5UKSB7XG4gICAgICAgIGNvbmZpZy51aS5zaWxlbnQgPVxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuQUlfRU5HX1NJTEVOVCA9PT0gXCIxXCIgfHxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkFJX0VOR19TSUxFTlQgPT09IFwidHJ1ZVwiO1xuICAgIH1cblxuICAgIC8vIExvb3Agb3ZlcnJpZGVzXG4gICAgaWYgKHByb2Nlc3MuZW52LkFJX0VOR19DWUNMRV9SRVRSSUVTKSB7XG4gICAgICAgIGNvbnN0IHJldHJpZXMgPSBOdW1iZXIucGFyc2VJbnQocHJvY2Vzcy5lbnYuQUlfRU5HX0NZQ0xFX1JFVFJJRVMsIDEwKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocmV0cmllcykpIHtcbiAgICAgICAgICAgIGNvbmZpZy5sb29wLmN5Y2xlUmV0cmllcyA9IHJldHJpZXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWJ1ZyBvdmVycmlkZXNcbiAgICBpZiAocHJvY2Vzcy5lbnYuQUlfRU5HX0RFQlVHX1dPUkspIHtcbiAgICAgICAgY29uZmlnLmRlYnVnLndvcmsgPVxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuQUlfRU5HX0RFQlVHX1dPUksgPT09IFwiMVwiIHx8XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5BSV9FTkdfREVCVUdfV09SSyA9PT0gXCJ0cnVlXCI7XG4gICAgfVxuXG4gICAgLy8gR2F0ZSBjb21tYW5kIG92ZXJyaWRlc1xuICAgIGlmIChwcm9jZXNzLmVudi5BSV9FTkdfVEVTVF9DTUQpIHtcbiAgICAgICAgY29uZmlnLmdhdGVzLnRlc3QuY29tbWFuZCA9IHByb2Nlc3MuZW52LkFJX0VOR19URVNUX0NNRDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52LkFJX0VOR19MSU5UX0NNRCkge1xuICAgICAgICBjb25maWcuZ2F0ZXMubGludC5jb21tYW5kID0gcHJvY2Vzcy5lbnYuQUlfRU5HX0xJTlRfQ01EO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuQUlfRU5HX0FDQ0VQVEFOQ0VfQ01EKSB7XG4gICAgICAgIGNvbmZpZy5nYXRlcy5hY2NlcHRhbmNlLmNvbW1hbmQgPSBwcm9jZXNzLmVudi5BSV9FTkdfQUNDRVBUQU5DRV9DTUQ7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5BSV9FTkdfVFlQRUNIRUNLX0NNRCkge1xuICAgICAgICBjb25maWcuZ2F0ZXMudHlwZWNoZWNrLmNvbW1hbmQgPSBwcm9jZXNzLmVudi5BSV9FTkdfVFlQRUNIRUNLX0NNRDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52LkFJX0VOR19CVUlMRF9DTUQpIHtcbiAgICAgICAgY29uZmlnLmdhdGVzLmJ1aWxkLmNvbW1hbmQgPSBwcm9jZXNzLmVudi5BSV9FTkdfQlVJTERfQ01EO1xuICAgIH1cbn1cblxuLyoqXG4gKiBEZWVwIG1lcmdlIHR3byBvYmplY3RzICh0YXJnZXQgPC0gc291cmNlKVxuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2U8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgICB0YXJnZXQ6IFQsXG4gICAgc291cmNlOiBQYXJ0aWFsPFQ+LFxuKTogVCB7XG4gICAgY29uc3QgcmVzdWx0ID0geyAuLi50YXJnZXQgfSBhcyBUO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNvdXJjZSkgYXMgQXJyYXk8a2V5b2YgVD4pIHtcbiAgICAgICAgY29uc3Qgc291cmNlVmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcblxuICAgICAgICBpZiAoc291cmNlVmFsdWUgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc291cmNlVmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgIUFycmF5LmlzQXJyYXkoc291cmNlVmFsdWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHRhcmdldFZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAgICAgIUFycmF5LmlzQXJyYXkodGFyZ2V0VmFsdWUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRWYWx1ZSBhcyBhbnksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlIGFzIGFueSxcbiAgICAgICAgICAgICAgICApIGFzIGFueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBhbnkpW2tleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChyZXN1bHQgYXMgYW55KVtrZXldID0gc291cmNlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBNZXJnZSBnYXRlIGNvbW1hbmQgY29uZmlncyAoaGFuZGxlIGxlZ2FjeSBzdHJpbmcgZm9ybWF0KVxuICovXG5mdW5jdGlvbiBtZXJnZUdhdGVDb25maWcoXG4gICAgZXhpc3Rpbmc6IHsgY29tbWFuZDogc3RyaW5nIH0sXG4gICAgaW5jb21pbmc6IHN0cmluZyB8IHsgY29tbWFuZD86IHN0cmluZyB9LFxuKTogeyBjb21tYW5kOiBzdHJpbmcgfSB7XG4gICAgaWYgKHR5cGVvZiBpbmNvbWluZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4geyBjb21tYW5kOiBpbmNvbWluZyB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb21tYW5kOiBpbmNvbWluZy5jb21tYW5kID8/IGV4aXN0aW5nLmNvbW1hbmQsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBMb2FkIGNvbmZpZ3VyYXRpb24gZnJvbSAuYWktZW5nL2NvbmZpZy55YW1sXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQ29uZmlnKGZsYWdzOiBSYWxwaEZsYWdzKTogUHJvbWlzZTxBaUVuZ0NvbmZpZz4ge1xuICAgIC8vIFN0YXJ0IHdpdGggZGVmYXVsdCBjb25maWdcbiAgICBjb25zdCBjb25maWc6IEFpRW5nQ29uZmlnID0ge1xuICAgICAgICB2ZXJzaW9uOiBIQVJEQ09ERURfREVGQVVMVFMudmVyc2lvbixcbiAgICAgICAgcnVubmVyOiB7IC4uLkhBUkRDT0RFRF9ERUZBVUxUUy5ydW5uZXIgfSxcbiAgICAgICAgbG9vcDogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMubG9vcCB9LFxuICAgICAgICBkZWJ1ZzogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMuZGVidWcgfSxcbiAgICAgICAgb3BlbmNvZGU6IHsgLi4uSEFSRENPREVEX0RFRkFVTFRTLm9wZW5jb2RlIH0sXG4gICAgICAgIGFudGhyb3BpYzogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMuYW50aHJvcGljIH0sXG4gICAgICAgIGdhdGVzOiB7XG4gICAgICAgICAgICBsaW50OiB7IC4uLkhBUkRDT0RFRF9ERUZBVUxUUy5nYXRlcy5saW50IH0sXG4gICAgICAgICAgICB0eXBlY2hlY2s6IHsgLi4uSEFSRENPREVEX0RFRkFVTFRTLmdhdGVzLnR5cGVjaGVjayB9LFxuICAgICAgICAgICAgdGVzdDogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMuZ2F0ZXMudGVzdCB9LFxuICAgICAgICAgICAgYnVpbGQ6IHsgLi4uSEFSRENPREVEX0RFRkFVTFRTLmdhdGVzLmJ1aWxkIH0sXG4gICAgICAgICAgICBhY2NlcHRhbmNlOiB7IC4uLkhBUkRDT0RFRF9ERUZBVUxUUy5nYXRlcy5hY2NlcHRhbmNlIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGVsczogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMubW9kZWxzIH0sXG4gICAgICAgIG5vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIGRpc2NvcmQ6IHsgLi4uSEFSRENPREVEX0RFRkFVTFRTLm5vdGlmaWNhdGlvbnMuZGlzY29yZCB9LFxuICAgICAgICB9LFxuICAgICAgICB1aTogeyAuLi5IQVJEQ09ERURfREVGQVVMVFMudWkgfSxcbiAgICB9O1xuXG4gICAgLy8gVHJ5IHRvIGxvYWQgZnJvbSBjb25maWcgZmlsZVxuICAgIGNvbnN0IGNvbmZpZ1BhdGggPSBqb2luKFJPT1QsIFwiLmFpLWVuZ1wiLCBcImNvbmZpZy55YW1sXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0NvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShjb25maWdQYXRoLCBcInV0Zi04XCIpO1xuICAgICAgICBjb25zdCB1c2VyQ29uZmlnID0gWUFNTC5wYXJzZShjb25maWdDb250ZW50KTtcblxuICAgICAgICBpZiAodXNlckNvbmZpZy52ZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25maWcudmVyc2lvbiA9IHVzZXJDb25maWcudmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlckNvbmZpZy5ydW5uZXIpIHtcbiAgICAgICAgICAgIGNvbmZpZy5ydW5uZXIgPSB7IC4uLmNvbmZpZy5ydW5uZXIsIC4uLnVzZXJDb25maWcucnVubmVyIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJDb25maWcubG9vcCkge1xuICAgICAgICAgICAgY29uZmlnLmxvb3AgPSB7IC4uLmNvbmZpZy5sb29wLCAuLi51c2VyQ29uZmlnLmxvb3AgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlckNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgY29uZmlnLmRlYnVnID0geyAuLi5jb25maWcuZGVidWcsIC4uLnVzZXJDb25maWcuZGVidWcgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlckNvbmZpZy5vcGVuY29kZSkge1xuICAgICAgICAgICAgY29uZmlnLm9wZW5jb2RlID0geyAuLi5jb25maWcub3BlbmNvZGUsIC4uLnVzZXJDb25maWcub3BlbmNvZGUgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlckNvbmZpZy5hbnRocm9waWMpIHtcbiAgICAgICAgICAgIGNvbmZpZy5hbnRocm9waWMgPSB7IC4uLmNvbmZpZy5hbnRocm9waWMsIC4uLnVzZXJDb25maWcuYW50aHJvcGljIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJDb25maWcuZ2F0ZXMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyQ29uZmlnLmdhdGVzLmxpbnQpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2F0ZXMubGludCA9IG1lcmdlR2F0ZUNvbmZpZyhcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmdhdGVzLmxpbnQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJDb25maWcuZ2F0ZXMubGludCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXJDb25maWcuZ2F0ZXMudHlwZWNoZWNrKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmdhdGVzLnR5cGVjaGVjayA9IG1lcmdlR2F0ZUNvbmZpZyhcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmdhdGVzLnR5cGVjaGVjayxcbiAgICAgICAgICAgICAgICAgICAgdXNlckNvbmZpZy5nYXRlcy50eXBlY2hlY2ssXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyQ29uZmlnLmdhdGVzLnRlc3QpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2F0ZXMudGVzdCA9IG1lcmdlR2F0ZUNvbmZpZyhcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmdhdGVzLnRlc3QsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJDb25maWcuZ2F0ZXMudGVzdCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXJDb25maWcuZ2F0ZXMuYnVpbGQpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuZ2F0ZXMuYnVpbGQgPSBtZXJnZUdhdGVDb25maWcoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5nYXRlcy5idWlsZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlckNvbmZpZy5nYXRlcy5idWlsZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXJDb25maWcuZ2F0ZXMuYWNjZXB0YW5jZSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5nYXRlcy5hY2NlcHRhbmNlID0gbWVyZ2VHYXRlQ29uZmlnKFxuICAgICAgICAgICAgICAgICAgICBjb25maWcuZ2F0ZXMuYWNjZXB0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckNvbmZpZy5nYXRlcy5hY2NlcHRhbmNlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJDb25maWcubW9kZWxzKSB7XG4gICAgICAgICAgICBjb25maWcubW9kZWxzID0geyAuLi5jb25maWcubW9kZWxzLCAuLi51c2VyQ29uZmlnLm1vZGVscyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyQ29uZmlnLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyQ29uZmlnLm5vdGlmaWNhdGlvbnMuZGlzY29yZCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5ub3RpZmljYXRpb25zLmRpc2NvcmQgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbmZpZy5ub3RpZmljYXRpb25zLmRpc2NvcmQsXG4gICAgICAgICAgICAgICAgICAgIC4uLnVzZXJDb25maWcubm90aWZpY2F0aW9ucy5kaXNjb3JkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJDb25maWcudWkpIHtcbiAgICAgICAgICAgIGNvbmZpZy51aSA9IHsgLi4uY29uZmlnLnVpLCAuLi51c2VyQ29uZmlnLnVpIH07XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBDb25maWcgZmlsZSBub3QgZm91bmQgb3IgaW52YWxpZCAtIHVzZSBkZWZhdWx0c1xuICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJFTk9FTlRcIikpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgYFdhcm5pbmc6IEZhaWxlZCB0byBsb2FkIGNvbmZpZyBmcm9tICR7Y29uZmlnUGF0aH0sIHVzaW5nIGRlZmF1bHRzYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBcHBseSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvdmVycmlkZXMgKGVudiB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgeWFtbClcbiAgICBhcHBseUVudk92ZXJyaWRlcyhjb25maWcpO1xuXG4gICAgLy8gT3ZlcnJpZGUgd2l0aCBDTEkgZmxhZ3MgKGhpZ2hlc3QgcHJpb3JpdHkpXG4gICAgaWYgKGZsYWdzLm1heEl0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLnJ1bm5lci5tYXhJdGVycyA9IGZsYWdzLm1heEl0ZXJzO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MucmV2aWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLnJ1bm5lci5yZXZpZXcgPSBmbGFncy5yZXZpZXc7XG4gICAgfVxuICAgIGlmIChmbGFncy5tYXhDeWNsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcubG9vcC5tYXhDeWNsZXMgPSBmbGFncy5tYXhDeWNsZXM7XG4gICAgfVxuICAgIGlmIChmbGFncy5zdHVja1RocmVzaG9sZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5sb29wLnN0dWNrVGhyZXNob2xkID0gZmxhZ3Muc3R1Y2tUaHJlc2hvbGQ7XG4gICAgfVxuICAgIGlmIChmbGFncy5jaGVja3BvaW50RnJlcXVlbmN5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLmxvb3AuY2hlY2twb2ludEZyZXF1ZW5jeSA9IGZsYWdzLmNoZWNrcG9pbnRGcmVxdWVuY3k7XG4gICAgfVxuICAgIGlmIChmbGFncy5wcmludExvZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcucnVubmVyLnByaW50TG9ncyA9IGZsYWdzLnByaW50TG9ncztcbiAgICB9XG4gICAgaWYgKGZsYWdzLmxvZ0xldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLnJ1bm5lci5sb2dMZXZlbCA9IGZsYWdzLmxvZ0xldmVsO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MudmVyYm9zZSkge1xuICAgICAgICBjb25maWcucnVubmVyLmxvZ0xldmVsID0gXCJERUJVR1wiO1xuICAgIH1cbiAgICBpZiAoZmxhZ3Mud29ya2luZ0RpciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5vcGVuY29kZS5kaXJlY3RvcnkgPSBmbGFncy53b3JraW5nRGlyO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MuZHJ5UnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZHJ5UnVuIGNvdWxkIGJlIHVzZWQgYnkgZ2F0ZXMgb3Igb3RoZXIgY29tcG9uZW50c1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG4iLAogICAgImltcG9ydCBmcyBmcm9tIFwibm9kZTpmcy9wcm9taXNlc1wiO1xuLyoqXG4gKiBTdHJ1Y3R1cmVkIGxvZ2dpbmcgZm9yIGFpLWVuZyByYWxwaFxuICpcbiAqIFN1cHBvcnRzIGJvdGggc3RkZXJyIG91dHB1dCAod2l0aCAtLXByaW50LWxvZ3MpIGFuZCBmaWxlLWJhc2VkIGxvZ2dpbmdcbiAqL1xuaW1wb3J0IHBhdGggZnJvbSBcIm5vZGU6cGF0aFwiO1xuXG5leHBvcnQgbmFtZXNwYWNlIExvZyB7XG4gICAgZXhwb3J0IHR5cGUgTGV2ZWwgPSBcIkRFQlVHXCIgfCBcIklORk9cIiB8IFwiV0FSTlwiIHwgXCJFUlJPUlwiO1xuXG4gICAgY29uc3QgbGV2ZWxQcmlvcml0eTogUmVjb3JkPExldmVsLCBudW1iZXI+ID0ge1xuICAgICAgICBERUJVRzogMCxcbiAgICAgICAgSU5GTzogMSxcbiAgICAgICAgV0FSTjogMixcbiAgICAgICAgRVJST1I6IDMsXG4gICAgfTtcblxuICAgIGxldCBjdXJyZW50TGV2ZWw6IExldmVsID0gXCJJTkZPXCI7XG4gICAgbGV0IGxvZ1BhdGggPSBcIlwiO1xuICAgIGxldCB3cml0ZTogKG1zZzogc3RyaW5nKSA9PiBhbnkgPSAobXNnKSA9PiBwcm9jZXNzLnN0ZGVyci53cml0ZShtc2cpO1xuXG4gICAgZnVuY3Rpb24gc2hvdWxkTG9nKGxldmVsOiBMZXZlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbGV2ZWxQcmlvcml0eVtsZXZlbF0gPj0gbGV2ZWxQcmlvcml0eVtjdXJyZW50TGV2ZWxdO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyB7XG4gICAgICAgIHByaW50OiBib29sZWFuOyAvLyBXaGVuIHRydWUsIHdyaXRlIHRvIHN0ZGVyclxuICAgICAgICBsZXZlbD86IExldmVsO1xuICAgICAgICBsb2dEaXI/OiBzdHJpbmc7IC8vIERpcmVjdG9yeSBmb3IgbG9nIGZpbGVzXG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGZpbGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGxvZ1BhdGg7XG4gICAgfVxuXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQob3B0aW9uczogT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAob3B0aW9ucy5sZXZlbCkgY3VycmVudExldmVsID0gb3B0aW9ucy5sZXZlbDtcblxuICAgICAgICAvLyBCdWlsZCB0aGUgd3JpdGUgZnVuY3Rpb24gdGhhdCBvdXRwdXRzIHRvIEJPVEggc3RkZXJyIEFORCBmaWxlXG4gICAgICAgIGNvbnN0IHN0ZGVycldyaXRlciA9IChtc2c6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUobXNnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5sb2dEaXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bOi5dL2csIFwiLVwiKVxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICBsb2dQYXRoID0gcGF0aC5qb2luKG9wdGlvbnMubG9nRGlyLCBgcmFscGgtJHt0aW1lc3RhbXB9LmxvZ2ApO1xuICAgICAgICAgICAgYXdhaXQgZnMubWtkaXIob3B0aW9ucy5sb2dEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmaWxlID0gQnVuLmZpbGUobG9nUGF0aCk7XG4gICAgICAgICAgICBjb25zdCBmaWxlV3JpdGVyID0gZmlsZS53cml0ZXIoKTtcblxuICAgICAgICAgICAgLy8gQWx3YXlzIHdyaXRlIHRvIHN0ZGVyciBpZiBwcmludCBpcyBlbmFibGVkXG4gICAgICAgICAgICAvLyBBbHNvIGFsd2F5cyB3cml0ZSB0byBmaWxlIGlmIGxvZ0RpciBpcyBwcm92aWRlZFxuICAgICAgICAgICAgd3JpdGUgPSAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RkZXJyV3JpdGVyKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGVXcml0ZXIud3JpdGUobXNnKTtcbiAgICAgICAgICAgICAgICBmaWxlV3JpdGVyLmZsdXNoKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucHJpbnQpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgcHJpbnQgdG8gc3RkZXJyXG4gICAgICAgICAgICB3cml0ZSA9IHN0ZGVycldyaXRlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgICAgICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT4pOiB2b2lkO1xuICAgICAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZDtcbiAgICAgICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQ7XG4gICAgICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXRFeHRyYShleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT4pOiBzdHJpbmcge1xuICAgICAgICBpZiAoIWV4dHJhKSByZXR1cm4gXCJcIjtcbiAgICAgICAgY29uc3QgZXh0cmFTdHIgPSBPYmplY3QuZW50cmllcyhleHRyYSlcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgKFtrLCB2XSkgPT5cbiAgICAgICAgICAgICAgICAgICAgYCR7a309JHt0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KHYpIDogdn1gLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmpvaW4oXCIgXCIpO1xuICAgICAgICByZXR1cm4gZXh0cmFTdHIgPyBgICR7ZXh0cmFTdHJ9YCA6IFwiXCI7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0YWdzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IExvZ2dlciB7XG4gICAgICAgIGNvbnN0IHRhZ1N0ciA9IHRhZ3NcbiAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXModGFncylcbiAgICAgICAgICAgICAgICAgIC5tYXAoKFtrLCB2XSkgPT4gYCR7a309JHt2fWApXG4gICAgICAgICAgICAgICAgICAuam9pbihcIiBcIilcbiAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgY29uc3QgdGFnU3RyV2l0aFNwYWNlID0gdGFnU3RyID8gYCR7dGFnU3RyfSBgIDogXCJcIjtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkTG9nKFwiREVCVUdcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgREVCVUcgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9ICR7dGFnU3RyfSR7bWVzc2FnZX0ke2Zvcm1hdEV4dHJhKGV4dHJhKX1cXG5gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZExvZyhcIklORk9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgSU5GTyAgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9ICR7dGFnU3RyfSR7bWVzc2FnZX0ke2Zvcm1hdEV4dHJhKGV4dHJhKX1cXG5gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZXh0cmE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZExvZyhcIldBUk5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBgV0FSTiAgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9ICR7dGFnU3RyfSR7bWVzc2FnZX0ke2Zvcm1hdEV4dHJhKGV4dHJhKX1cXG5gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGV4dHJhPzogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRMb2coXCJFUlJPUlwiKSkge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFUlJPUiAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0gJHt0YWdTdHJ9JHttZXNzYWdlfSR7Zm9ybWF0RXh0cmEoZXh0cmEpfVxcbmAsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBleHBvcnQgY29uc3QgRGVmYXVsdCA9IGNyZWF0ZSh7IHNlcnZpY2U6IFwicmFscGhcIiB9KTtcbn1cbiIsCiAgICAiaW1wb3J0e2N1cnNvciBhcyBsLGVyYXNlIGFzIGJ9ZnJvbVwic2lzdGVyYW5zaVwiO2ltcG9ydHtzdGRpbiBhcyBqLHN0ZG91dCBhcyBNfWZyb21cIm5vZGU6cHJvY2Vzc1wiO2ltcG9ydCphcyBnIGZyb21cIm5vZGU6cmVhZGxpbmVcIjtpbXBvcnQgTyBmcm9tXCJub2RlOnJlYWRsaW5lXCI7aW1wb3J0e1dyaXRhYmxlIGFzIFh9ZnJvbVwibm9kZTpzdHJlYW1cIjtpbXBvcnQgdiBmcm9tXCJwaWNvY29sb3JzXCI7ZnVuY3Rpb24gREQoe29ubHlGaXJzdDplPSExfT17fSl7Y29uc3QgdD1bXCJbXFxcXHUwMDFCXFxcXHUwMDlCXVtbXFxcXF0oKSM7P10qKD86KD86KD86KD86O1stYS16QS1aXFxcXGRcXFxcLyMmLjo9PyVAfl9dKykqfFthLXpBLVpcXFxcZF0rKD86O1stYS16QS1aXFxcXGRcXFxcLyMmLjo9PyVAfl9dKikqKT8oPzpcXFxcdTAwMDd8XFxcXHUwMDFCXFxcXHUwMDVDfFxcXFx1MDA5QykpXCIsXCIoPzooPzpcXFxcZHsxLDR9KD86O1xcXFxkezAsNH0pKik/W1xcXFxkQS1QUi1UWmNmLW5xLXV5PT48fl0pKVwiXS5qb2luKFwifFwiKTtyZXR1cm4gbmV3IFJlZ0V4cCh0LGU/dm9pZCAwOlwiZ1wiKX1jb25zdCB1RD1ERCgpO2Z1bmN0aW9uIFAoZSl7aWYodHlwZW9mIGUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYSBcXGBzdHJpbmdcXGAsIGdvdCBcXGAke3R5cGVvZiBlfVxcYGApO3JldHVybiBlLnJlcGxhY2UodUQsXCJcIil9ZnVuY3Rpb24gTChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmV9dmFyIFc9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlKXt2YXIgdT17fTtlLmV4cG9ydHM9dSx1LmVhc3RBc2lhbldpZHRoPWZ1bmN0aW9uKEYpe3ZhciBzPUYuY2hhckNvZGVBdCgwKSxpPUYubGVuZ3RoPT0yP0YuY2hhckNvZGVBdCgxKTowLEQ9cztyZXR1cm4gNTUyOTY8PXMmJnM8PTU2MzE5JiY1NjMyMDw9aSYmaTw9NTczNDMmJihzJj0xMDIzLGkmPTEwMjMsRD1zPDwxMHxpLEQrPTY1NTM2KSxEPT0xMjI4OHx8NjUyODE8PUQmJkQ8PTY1Mzc2fHw2NTUwNDw9RCYmRDw9NjU1MTA/XCJGXCI6RD09ODM2MXx8NjUzNzc8PUQmJkQ8PTY1NDcwfHw2NTQ3NDw9RCYmRDw9NjU0Nzl8fDY1NDgyPD1EJiZEPD02NTQ4N3x8NjU0OTA8PUQmJkQ8PTY1NDk1fHw2NTQ5ODw9RCYmRDw9NjU1MDB8fDY1NTEyPD1EJiZEPD02NTUxOD9cIkhcIjo0MzUyPD1EJiZEPD00NDQ3fHw0NTE1PD1EJiZEPD00NTE5fHw0NjAyPD1EJiZEPD00NjA3fHw5MDAxPD1EJiZEPD05MDAyfHwxMTkwNDw9RCYmRDw9MTE5Mjl8fDExOTMxPD1EJiZEPD0xMjAxOXx8MTIwMzI8PUQmJkQ8PTEyMjQ1fHwxMjI3Mjw9RCYmRDw9MTIyODN8fDEyMjg5PD1EJiZEPD0xMjM1MHx8MTIzNTM8PUQmJkQ8PTEyNDM4fHwxMjQ0MTw9RCYmRDw9MTI1NDN8fDEyNTQ5PD1EJiZEPD0xMjU4OXx8MTI1OTM8PUQmJkQ8PTEyNjg2fHwxMjY4ODw9RCYmRDw9MTI3MzB8fDEyNzM2PD1EJiZEPD0xMjc3MXx8MTI3ODQ8PUQmJkQ8PTEyODMwfHwxMjgzMjw9RCYmRDw9MTI4NzF8fDEyODgwPD1EJiZEPD0xMzA1NHx8MTMwNTY8PUQmJkQ8PTE5OTAzfHwxOTk2ODw9RCYmRDw9NDIxMjR8fDQyMTI4PD1EJiZEPD00MjE4Mnx8NDMzNjA8PUQmJkQ8PTQzMzg4fHw0NDAzMjw9RCYmRDw9NTUyMDN8fDU1MjE2PD1EJiZEPD01NTIzOHx8NTUyNDM8PUQmJkQ8PTU1MjkxfHw2Mzc0NDw9RCYmRDw9NjQyNTV8fDY1MDQwPD1EJiZEPD02NTA0OXx8NjUwNzI8PUQmJkQ8PTY1MTA2fHw2NTEwODw9RCYmRDw9NjUxMjZ8fDY1MTI4PD1EJiZEPD02NTEzMXx8MTEwNTkyPD1EJiZEPD0xMTA1OTN8fDEyNzQ4ODw9RCYmRDw9MTI3NDkwfHwxMjc1MDQ8PUQmJkQ8PTEyNzU0Nnx8MTI3NTUyPD1EJiZEPD0xMjc1NjB8fDEyNzU2ODw9RCYmRDw9MTI3NTY5fHwxMzEwNzI8PUQmJkQ8PTE5NDM2N3x8MTc3OTg0PD1EJiZEPD0xOTY2MDV8fDE5NjYwODw9RCYmRDw9MjYyMTQxP1wiV1wiOjMyPD1EJiZEPD0xMjZ8fDE2Mjw9RCYmRDw9MTYzfHwxNjU8PUQmJkQ8PTE2Nnx8RD09MTcyfHxEPT0xNzV8fDEwMjE0PD1EJiZEPD0xMDIyMXx8MTA2Mjk8PUQmJkQ8PTEwNjMwP1wiTmFcIjpEPT0xNjF8fEQ9PTE2NHx8MTY3PD1EJiZEPD0xNjh8fEQ9PTE3MHx8MTczPD1EJiZEPD0xNzR8fDE3Njw9RCYmRDw9MTgwfHwxODI8PUQmJkQ8PTE4Nnx8MTg4PD1EJiZEPD0xOTF8fEQ9PTE5OHx8RD09MjA4fHwyMTU8PUQmJkQ8PTIxNnx8MjIyPD1EJiZEPD0yMjV8fEQ9PTIzMHx8MjMyPD1EJiZEPD0yMzR8fDIzNjw9RCYmRDw9MjM3fHxEPT0yNDB8fDI0Mjw9RCYmRDw9MjQzfHwyNDc8PUQmJkQ8PTI1MHx8RD09MjUyfHxEPT0yNTR8fEQ9PTI1N3x8RD09MjczfHxEPT0yNzV8fEQ9PTI4M3x8Mjk0PD1EJiZEPD0yOTV8fEQ9PTI5OXx8MzA1PD1EJiZEPD0zMDd8fEQ9PTMxMnx8MzE5PD1EJiZEPD0zMjJ8fEQ9PTMyNHx8MzI4PD1EJiZEPD0zMzF8fEQ9PTMzM3x8MzM4PD1EJiZEPD0zMzl8fDM1ODw9RCYmRDw9MzU5fHxEPT0zNjN8fEQ9PTQ2Mnx8RD09NDY0fHxEPT00NjZ8fEQ9PTQ2OHx8RD09NDcwfHxEPT00NzJ8fEQ9PTQ3NHx8RD09NDc2fHxEPT01OTN8fEQ9PTYwOXx8RD09NzA4fHxEPT03MTF8fDcxMzw9RCYmRDw9NzE1fHxEPT03MTd8fEQ9PTcyMHx8NzI4PD1EJiZEPD03MzF8fEQ9PTczM3x8RD09NzM1fHw3Njg8PUQmJkQ8PTg3OXx8OTEzPD1EJiZEPD05Mjl8fDkzMTw9RCYmRDw9OTM3fHw5NDU8PUQmJkQ8PTk2MXx8OTYzPD1EJiZEPD05Njl8fEQ9PTEwMjV8fDEwNDA8PUQmJkQ8PTExMDN8fEQ9PTExMDV8fEQ9PTgyMDh8fDgyMTE8PUQmJkQ8PTgyMTR8fDgyMTY8PUQmJkQ8PTgyMTd8fDgyMjA8PUQmJkQ8PTgyMjF8fDgyMjQ8PUQmJkQ8PTgyMjZ8fDgyMjg8PUQmJkQ8PTgyMzF8fEQ9PTgyNDB8fDgyNDI8PUQmJkQ8PTgyNDN8fEQ9PTgyNDV8fEQ9PTgyNTF8fEQ9PTgyNTR8fEQ9PTgzMDh8fEQ9PTgzMTl8fDgzMjE8PUQmJkQ8PTgzMjR8fEQ9PTgzNjR8fEQ9PTg0NTF8fEQ9PTg0NTN8fEQ9PTg0NTd8fEQ9PTg0Njd8fEQ9PTg0NzB8fDg0ODE8PUQmJkQ8PTg0ODJ8fEQ9PTg0ODZ8fEQ9PTg0OTF8fDg1MzE8PUQmJkQ8PTg1MzJ8fDg1Mzk8PUQmJkQ8PTg1NDJ8fDg1NDQ8PUQmJkQ8PTg1NTV8fDg1NjA8PUQmJkQ8PTg1Njl8fEQ9PTg1ODV8fDg1OTI8PUQmJkQ8PTg2MDF8fDg2MzI8PUQmJkQ8PTg2MzN8fEQ9PTg2NTh8fEQ9PTg2NjB8fEQ9PTg2Nzl8fEQ9PTg3MDR8fDg3MDY8PUQmJkQ8PTg3MDd8fDg3MTE8PUQmJkQ8PTg3MTJ8fEQ9PTg3MTV8fEQ9PTg3MTl8fEQ9PTg3MjF8fEQ9PTg3MjV8fEQ9PTg3MzB8fDg3MzM8PUQmJkQ8PTg3MzZ8fEQ9PTg3Mzl8fEQ9PTg3NDF8fDg3NDM8PUQmJkQ8PTg3NDh8fEQ9PTg3NTB8fDg3NTY8PUQmJkQ8PTg3NTl8fDg3NjQ8PUQmJkQ8PTg3NjV8fEQ9PTg3NzZ8fEQ9PTg3ODB8fEQ9PTg3ODZ8fDg4MDA8PUQmJkQ8PTg4MDF8fDg4MDQ8PUQmJkQ8PTg4MDd8fDg4MTA8PUQmJkQ8PTg4MTF8fDg4MTQ8PUQmJkQ8PTg4MTV8fDg4MzQ8PUQmJkQ8PTg4MzV8fDg4Mzg8PUQmJkQ8PTg4Mzl8fEQ9PTg4NTN8fEQ9PTg4NTd8fEQ9PTg4Njl8fEQ9PTg4OTV8fEQ9PTg5Nzh8fDkzMTI8PUQmJkQ8PTk0NDl8fDk0NTE8PUQmJkQ8PTk1NDd8fDk1NTI8PUQmJkQ8PTk1ODd8fDk2MDA8PUQmJkQ8PTk2MTV8fDk2MTg8PUQmJkQ8PTk2MjF8fDk2MzI8PUQmJkQ8PTk2MzN8fDk2MzU8PUQmJkQ8PTk2NDF8fDk2NTA8PUQmJkQ8PTk2NTF8fDk2NTQ8PUQmJkQ8PTk2NTV8fDk2NjA8PUQmJkQ8PTk2NjF8fDk2NjQ8PUQmJkQ8PTk2NjV8fDk2NzA8PUQmJkQ8PTk2NzJ8fEQ9PTk2NzV8fDk2Nzg8PUQmJkQ8PTk2ODF8fDk2OTg8PUQmJkQ8PTk3MDF8fEQ9PTk3MTF8fDk3MzM8PUQmJkQ8PTk3MzR8fEQ9PTk3Mzd8fDk3NDI8PUQmJkQ8PTk3NDN8fDk3NDg8PUQmJkQ8PTk3NDl8fEQ9PTk3NTZ8fEQ9PTk3NTh8fEQ9PTk3OTJ8fEQ9PTk3OTR8fDk4MjQ8PUQmJkQ8PTk4MjV8fDk4Mjc8PUQmJkQ8PTk4Mjl8fDk4MzE8PUQmJkQ8PTk4MzR8fDk4MzY8PUQmJkQ8PTk4Mzd8fEQ9PTk4Mzl8fDk4ODY8PUQmJkQ8PTk4ODd8fDk5MTg8PUQmJkQ8PTk5MTl8fDk5MjQ8PUQmJkQ8PTk5MzN8fDk5MzU8PUQmJkQ8PTk5NTN8fEQ9PTk5NTV8fDk5NjA8PUQmJkQ8PTk5ODN8fEQ9PTEwMDQ1fHxEPT0xMDA3MXx8MTAxMDI8PUQmJkQ8PTEwMTExfHwxMTA5Mzw9RCYmRDw9MTEwOTd8fDEyODcyPD1EJiZEPD0xMjg3OXx8NTczNDQ8PUQmJkQ8PTYzNzQzfHw2NTAyNDw9RCYmRDw9NjUwMzl8fEQ9PTY1NTMzfHwxMjcyMzI8PUQmJkQ8PTEyNzI0Mnx8MTI3MjQ4PD1EJiZEPD0xMjcyNzd8fDEyNzI4MDw9RCYmRDw9MTI3MzM3fHwxMjczNDQ8PUQmJkQ8PTEyNzM4Nnx8OTE3NzYwPD1EJiZEPD05MTc5OTl8fDk4MzA0MDw9RCYmRDw9MTA0ODU3M3x8MTA0ODU3Njw9RCYmRDw9MTExNDEwOT9cIkFcIjpcIk5cIn0sdS5jaGFyYWN0ZXJMZW5ndGg9ZnVuY3Rpb24oRil7dmFyIHM9dGhpcy5lYXN0QXNpYW5XaWR0aChGKTtyZXR1cm4gcz09XCJGXCJ8fHM9PVwiV1wifHxzPT1cIkFcIj8yOjF9O2Z1bmN0aW9uIHQoRil7cmV0dXJuIEYubWF0Y2goL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl18W15cXHVEODAwLVxcdURGRkZdL2cpfHxbXX11Lmxlbmd0aD1mdW5jdGlvbihGKXtmb3IodmFyIHM9dChGKSxpPTAsRD0wO0Q8cy5sZW5ndGg7RCsrKWk9aSt0aGlzLmNoYXJhY3Rlckxlbmd0aChzW0RdKTtyZXR1cm4gaX0sdS5zbGljZT1mdW5jdGlvbihGLHMsaSl7dGV4dExlbj11Lmxlbmd0aChGKSxzPXN8fDAsaT1pfHwxLHM8MCYmKHM9dGV4dExlbitzKSxpPDAmJihpPXRleHRMZW4raSk7Zm9yKHZhciBEPVwiXCIsQz0wLG49dChGKSxFPTA7RTxuLmxlbmd0aDtFKyspe3ZhciBhPW5bRV0sbz11Lmxlbmd0aChhKTtpZihDPj1zLShvPT0yPzE6MCkpaWYoQytvPD1pKUQrPWE7ZWxzZSBicmVhaztDKz1vfXJldHVybiBEfX0pKFcpO3ZhciB0RD1XLmV4cG9ydHM7Y29uc3QgZUQ9TCh0RCk7dmFyIEZEPWZ1bmN0aW9uKCl7cmV0dXJuL1xcdUQ4M0NcXHVERkY0XFx1REI0MFxcdURDNjdcXHVEQjQwXFx1REM2Mig/OlxcdURCNDBcXHVEQzc3XFx1REI0MFxcdURDNkNcXHVEQjQwXFx1REM3M3xcXHVEQjQwXFx1REM3M1xcdURCNDBcXHVEQzYzXFx1REI0MFxcdURDNzR8XFx1REI0MFxcdURDNjVcXHVEQjQwXFx1REM2RVxcdURCNDBcXHVEQzY3KVxcdURCNDBcXHVEQzdGfCg/OlxcdUQ4M0VcXHVEREQxXFx1RDgzQ1xcdURGRkZcXHUyMDBEXFx1Mjc2NFxcdUZFMEZcXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEKT9cXHVEODNFXFx1REREMXxcXHVEODNEXFx1REM2OVxcdUQ4M0NcXHVERkZGXFx1MjAwRFxcdUQ4M0VcXHVERDFEXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRV0pfCg/OlxcdUQ4M0VcXHVEREQxXFx1RDgzQ1xcdURGRkVcXHUyMDBEXFx1Mjc2NFxcdUZFMEZcXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEKT9cXHVEODNFXFx1REREMXxcXHVEODNEXFx1REM2OVxcdUQ4M0NcXHVERkZFXFx1MjAwRFxcdUQ4M0VcXHVERDFEXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRFxcdURGRkZdKXwoPzpcXHVEODNFXFx1REREMVxcdUQ4M0NcXHVERkZEXFx1MjAwRFxcdTI3NjRcXHVGRTBGXFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzhCXFx1MjAwRCk/XFx1RDgzRVxcdURERDF8XFx1RDgzRFxcdURDNjlcXHVEODNDXFx1REZGRFxcdTIwMERcXHVEODNFXFx1REQxRFxcdTIwMEQoPzpcXHVEODNEW1xcdURDNjhcXHVEQzY5XSkpKD86XFx1RDgzQ1tcXHVERkZCXFx1REZGQ1xcdURGRkVcXHVERkZGXSl8KD86XFx1RDgzRVxcdURERDFcXHVEODNDXFx1REZGQ1xcdTIwMERcXHUyNzY0XFx1RkUwRlxcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQpP1xcdUQ4M0VcXHVEREQxfFxcdUQ4M0RcXHVEQzY5XFx1RDgzQ1xcdURGRkNcXHUyMDBEXFx1RDgzRVxcdUREMURcXHUyMDBEKD86XFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pKSg/OlxcdUQ4M0NbXFx1REZGQlxcdURGRkQtXFx1REZGRl0pfCg/OlxcdUQ4M0VcXHVEREQxXFx1RDgzQ1xcdURGRkJcXHUyMDBEXFx1Mjc2NFxcdUZFMEZcXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEKT9cXHVEODNFXFx1REREMXxcXHVEODNEXFx1REM2OVxcdUQ4M0NcXHVERkZCXFx1MjAwRFxcdUQ4M0VcXHVERDFEXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKSkoPzpcXHVEODNDW1xcdURGRkMtXFx1REZGRl0pfFxcdUQ4M0RcXHVEQzY4KD86XFx1RDgzQ1xcdURGRkIoPzpcXHUyMDBEKD86XFx1Mjc2NFxcdUZFMEZcXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEXFx1RDgzRFxcdURDNjgoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pfFxcdUQ4M0RcXHVEQzY4KD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKSl8XFx1RDgzRVxcdUREMURcXHUyMDBEXFx1RDgzRFxcdURDNjgoPzpcXHVEODNDW1xcdURGRkMtXFx1REZGRl0pfFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdXFx1RkUwRnxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pKT98KD86XFx1RDgzQ1tcXHVERkZDLVxcdURGRkZdKVxcdTIwMERcXHUyNzY0XFx1RkUwRlxcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMERcXHVEODNEXFx1REM2OCg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSl8XFx1RDgzRFxcdURDNjgoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pKXxcXHUyMDBEKD86XFx1Mjc2NFxcdUZFMEZcXHUyMDBEKD86XFx1RDgzRFxcdURDOEJcXHUyMDBEKT9cXHVEODNEXFx1REM2OHwoPzpcXHVEODNEW1xcdURDNjhcXHVEQzY5XSlcXHUyMDBEKD86XFx1RDgzRFxcdURDNjZcXHUyMDBEXFx1RDgzRFxcdURDNjZ8XFx1RDgzRFxcdURDNjdcXHUyMDBEKD86XFx1RDgzRFtcXHVEQzY2XFx1REM2N10pKXxcXHVEODNEXFx1REM2NlxcdTIwMERcXHVEODNEXFx1REM2NnxcXHVEODNEXFx1REM2N1xcdTIwMEQoPzpcXHVEODNEW1xcdURDNjZcXHVEQzY3XSl8XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0VbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdKXxcXHVEODNDXFx1REZGRlxcdTIwMEQoPzpcXHVEODNFXFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OCg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZFXSl8XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0VbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdKXxcXHVEODNDXFx1REZGRVxcdTIwMEQoPzpcXHVEODNFXFx1REQxRFxcdTIwMERcXHVEODNEXFx1REM2OCg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZEXFx1REZGRl0pfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEODNFW1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXSl8XFx1RDgzQ1xcdURGRkRcXHUyMDBEKD86XFx1RDgzRVxcdUREMURcXHUyMDBEXFx1RDgzRFxcdURDNjgoPzpcXHVEODNDW1xcdURGRkJcXHVERkZDXFx1REZGRVxcdURGRkZdKXxcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZDXFx1MjAwRCg/OlxcdUQ4M0VcXHVERDFEXFx1MjAwRFxcdUQ4M0RcXHVEQzY4KD86XFx1RDgzQ1tcXHVERkZCXFx1REZGRC1cXHVERkZGXSl8XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0VbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdKXwoPzpcXHVEODNDXFx1REZGRlxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGRVxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGRFxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGQ1xcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHUyMDBEW1xcdTI2OTVcXHUyNjk2XFx1MjcwOF0pXFx1RkUwRnxcXHUyMDBEKD86KD86XFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2NlxcdURDNjddKXxcXHVEODNEW1xcdURDNjZcXHVEQzY3XSl8XFx1RDgzQ1xcdURGRkZ8XFx1RDgzQ1xcdURGRkV8XFx1RDgzQ1xcdURGRkR8XFx1RDgzQ1xcdURGRkMpP3woPzpcXHVEODNEXFx1REM2OSg/OlxcdUQ4M0NcXHVERkZCXFx1MjAwRFxcdTI3NjRcXHVGRTBGXFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzhCXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKXxcXHVEODNEW1xcdURDNjhcXHVEQzY5XSl8KD86XFx1RDgzQ1tcXHVERkZDLVxcdURGRkZdKVxcdTIwMERcXHUyNzY0XFx1RkUwRlxcdTIwMEQoPzpcXHVEODNEXFx1REM4QlxcdTIwMEQoPzpcXHVEODNEW1xcdURDNjhcXHVEQzY5XSl8XFx1RDgzRFtcXHVEQzY4XFx1REM2OV0pKXxcXHVEODNFXFx1REREMSg/OlxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXSlcXHUyMDBEXFx1RDgzRVxcdUREMURcXHUyMDBEXFx1RDgzRVxcdURERDEpKD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXxcXHVEODNEXFx1REM2OVxcdTIwMERcXHVEODNEXFx1REM2OVxcdTIwMEQoPzpcXHVEODNEXFx1REM2NlxcdTIwMERcXHVEODNEXFx1REM2NnxcXHVEODNEXFx1REM2N1xcdTIwMEQoPzpcXHVEODNEW1xcdURDNjZcXHVEQzY3XSkpfFxcdUQ4M0RcXHVEQzY5KD86XFx1MjAwRCg/OlxcdTI3NjRcXHVGRTBGXFx1MjAwRCg/OlxcdUQ4M0RcXHVEQzhCXFx1MjAwRCg/OlxcdUQ4M0RbXFx1REM2OFxcdURDNjldKXxcXHVEODNEW1xcdURDNjhcXHVEQzY5XSl8XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0VbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdKXxcXHVEODNDXFx1REZGRlxcdTIwMEQoPzpcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZFXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEODNFW1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXSl8XFx1RDgzQ1xcdURGRkRcXHUyMDBEKD86XFx1RDgzQ1tcXHVERjNFXFx1REY3M1xcdURGN0NcXHVERjkzXFx1REZBNFxcdURGQThcXHVERkVCXFx1REZFRF18XFx1RDgzRFtcXHVEQ0JCXFx1RENCQ1xcdUREMjdcXHVERDJDXFx1REU4MFxcdURFOTJdfFxcdUQ4M0VbXFx1RERBRi1cXHVEREIzXFx1RERCQ1xcdUREQkRdKXxcXHVEODNDXFx1REZGQ1xcdTIwMEQoPzpcXHVEODNDW1xcdURGM0VcXHVERjczXFx1REY3Q1xcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZCXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY5M1xcdURGQTRcXHVERkE4XFx1REZFQlxcdURGRURdfFxcdUQ4M0RbXFx1RENCQlxcdURDQkNcXHVERDI3XFx1REQyQ1xcdURFODBcXHVERTkyXXxcXHVEODNFW1xcdUREQUYtXFx1RERCM1xcdUREQkNcXHVEREJEXSkpfFxcdUQ4M0VcXHVEREQxKD86XFx1MjAwRCg/OlxcdUQ4M0VcXHVERDFEXFx1MjAwRFxcdUQ4M0VcXHVEREQxfFxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZGXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZFXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZEXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZDXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pfFxcdUQ4M0NcXHVERkZCXFx1MjAwRCg/OlxcdUQ4M0NbXFx1REYzRVxcdURGNzNcXHVERjdDXFx1REY4NFxcdURGOTNcXHVERkE0XFx1REZBOFxcdURGRUJcXHVERkVEXXxcXHVEODNEW1xcdURDQkJcXHVEQ0JDXFx1REQyN1xcdUREMkNcXHVERTgwXFx1REU5Ml18XFx1RDgzRVtcXHVEREFGLVxcdUREQjNcXHVEREJDXFx1RERCRF0pKXxcXHVEODNEXFx1REM2OVxcdTIwMERcXHVEODNEXFx1REM2NlxcdTIwMERcXHVEODNEXFx1REM2NnxcXHVEODNEXFx1REM2OVxcdTIwMERcXHVEODNEXFx1REM2OVxcdTIwMEQoPzpcXHVEODNEW1xcdURDNjZcXHVEQzY3XSl8XFx1RDgzRFxcdURDNjlcXHUyMDBEXFx1RDgzRFxcdURDNjdcXHUyMDBEKD86XFx1RDgzRFtcXHVEQzY2XFx1REM2N10pfCg/OlxcdUQ4M0RcXHVEQzQxXFx1RkUwRlxcdTIwMERcXHVEODNEXFx1RERFOHxcXHVEODNFXFx1REREMSg/OlxcdUQ4M0NcXHVERkZGXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdUQ4M0NcXHVERkZFXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdUQ4M0NcXHVERkZEXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdUQ4M0NcXHVERkZDXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdUQ4M0NcXHVERkZCXFx1MjAwRFtcXHUyNjk1XFx1MjY5NlxcdTI3MDhdfFxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XSl8XFx1RDgzRFxcdURDNjkoPzpcXHVEODNDXFx1REZGRlxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGRVxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGRFxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGQ1xcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHVEODNDXFx1REZGQlxcdTIwMERbXFx1MjY5NVxcdTI2OTZcXHUyNzA4XXxcXHUyMDBEW1xcdTI2OTVcXHUyNjk2XFx1MjcwOF0pfFxcdUQ4M0RcXHVERTM2XFx1MjAwRFxcdUQ4M0NcXHVERjJCfFxcdUQ4M0NcXHVERkYzXFx1RkUwRlxcdTIwMERcXHUyNkE3fFxcdUQ4M0RcXHVEQzNCXFx1MjAwRFxcdTI3NDR8KD86KD86XFx1RDgzQ1tcXHVERkMzXFx1REZDNFxcdURGQ0FdfFxcdUQ4M0RbXFx1REM2RVxcdURDNzBcXHVEQzcxXFx1REM3M1xcdURDNzdcXHVEQzgxXFx1REM4MlxcdURDODZcXHVEQzg3XFx1REU0NS1cXHVERTQ3XFx1REU0QlxcdURFNERcXHVERTRFXFx1REVBM1xcdURFQjQtXFx1REVCNl18XFx1RDgzRVtcXHVERDI2XFx1REQzNVxcdUREMzctXFx1REQzOVxcdUREM0RcXHVERDNFXFx1RERCOFxcdUREQjlcXHVERENELVxcdUREQ0ZcXHVEREQ0XFx1RERENi1cXHVEREREXSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pfFxcdUQ4M0RcXHVEQzZGfFxcdUQ4M0VbXFx1REQzQ1xcdUREREVcXHVERERGXSlcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXXwoPzpcXHUyNkY5fFxcdUQ4M0NbXFx1REZDQlxcdURGQ0NdfFxcdUQ4M0RcXHVERDc1KSg/OlxcdUZFMEZ8XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKVxcdTIwMERbXFx1MjY0MFxcdTI2NDJdfFxcdUQ4M0NcXHVERkY0XFx1MjAwRFxcdTI2MjB8KD86XFx1RDgzQ1tcXHVERkMzXFx1REZDNFxcdURGQ0FdfFxcdUQ4M0RbXFx1REM2RVxcdURDNzBcXHVEQzcxXFx1REM3M1xcdURDNzdcXHVEQzgxXFx1REM4MlxcdURDODZcXHVEQzg3XFx1REU0NS1cXHVERTQ3XFx1REU0QlxcdURFNERcXHVERTRFXFx1REVBM1xcdURFQjQtXFx1REVCNl18XFx1RDgzRVtcXHVERDI2XFx1REQzNVxcdUREMzctXFx1REQzOVxcdUREM0RcXHVERDNFXFx1RERCOFxcdUREQjlcXHVERENELVxcdUREQ0ZcXHVEREQ0XFx1RERENi1cXHVEREREXSlcXHUyMDBEW1xcdTI2NDBcXHUyNjQyXXxbXFx4QTlcXHhBRVxcdTIwM0NcXHUyMDQ5XFx1MjEyMlxcdTIxMzlcXHUyMTk0LVxcdTIxOTlcXHUyMUE5XFx1MjFBQVxcdTIzMjhcXHUyM0NGXFx1MjNFRC1cXHUyM0VGXFx1MjNGMVxcdTIzRjJcXHUyM0Y4LVxcdTIzRkFcXHUyNEMyXFx1MjVBQVxcdTI1QUJcXHUyNUI2XFx1MjVDMFxcdTI1RkJcXHUyNUZDXFx1MjYwMC1cXHUyNjA0XFx1MjYwRVxcdTI2MTFcXHUyNjE4XFx1MjYyMFxcdTI2MjJcXHUyNjIzXFx1MjYyNlxcdTI2MkFcXHUyNjJFXFx1MjYyRlxcdTI2MzgtXFx1MjYzQVxcdTI2NDBcXHUyNjQyXFx1MjY1RlxcdTI2NjBcXHUyNjYzXFx1MjY2NVxcdTI2NjZcXHUyNjY4XFx1MjY3QlxcdTI2N0VcXHUyNjkyXFx1MjY5NC1cXHUyNjk3XFx1MjY5OVxcdTI2OUJcXHUyNjlDXFx1MjZBMFxcdTI2QTdcXHUyNkIwXFx1MjZCMVxcdTI2QzhcXHUyNkNGXFx1MjZEMVxcdTI2RDNcXHUyNkU5XFx1MjZGMFxcdTI2RjFcXHUyNkY0XFx1MjZGN1xcdTI2RjhcXHUyNzAyXFx1MjcwOFxcdTI3MDlcXHUyNzBGXFx1MjcxMlxcdTI3MTRcXHUyNzE2XFx1MjcxRFxcdTI3MjFcXHUyNzMzXFx1MjczNFxcdTI3NDRcXHUyNzQ3XFx1Mjc2M1xcdTI3QTFcXHUyOTM0XFx1MjkzNVxcdTJCMDUtXFx1MkIwN1xcdTMwMzBcXHUzMDNEXFx1MzI5N1xcdTMyOTldfFxcdUQ4M0NbXFx1REQ3MFxcdURENzFcXHVERDdFXFx1REQ3RlxcdURFMDJcXHVERTM3XFx1REYyMVxcdURGMjQtXFx1REYyQ1xcdURGMzZcXHVERjdEXFx1REY5NlxcdURGOTdcXHVERjk5LVxcdURGOUJcXHVERjlFXFx1REY5RlxcdURGQ0RcXHVERkNFXFx1REZENC1cXHVERkRGXFx1REZGNVxcdURGRjddfFxcdUQ4M0RbXFx1REMzRlxcdURDRkRcXHVERDQ5XFx1REQ0QVxcdURENkZcXHVERDcwXFx1REQ3M1xcdURENzYtXFx1REQ3OVxcdUREODdcXHVERDhBLVxcdUREOERcXHVEREE1XFx1RERBOFxcdUREQjFcXHVEREIyXFx1RERCQ1xcdUREQzItXFx1RERDNFxcdURERDEtXFx1REREM1xcdUREREMtXFx1RERERVxcdURERTFcXHVEREUzXFx1RERFOFxcdURERUZcXHVEREYzXFx1RERGQVxcdURFQ0JcXHVERUNELVxcdURFQ0ZcXHVERUUwLVxcdURFRTVcXHVERUU5XFx1REVGMFxcdURFRjNdKVxcdUZFMEZ8XFx1RDgzQ1xcdURGRjNcXHVGRTBGXFx1MjAwRFxcdUQ4M0NcXHVERjA4fFxcdUQ4M0RcXHVEQzY5XFx1MjAwRFxcdUQ4M0RcXHVEQzY3fFxcdUQ4M0RcXHVEQzY5XFx1MjAwRFxcdUQ4M0RcXHVEQzY2fFxcdUQ4M0RcXHVERTM1XFx1MjAwRFxcdUQ4M0RcXHVEQ0FCfFxcdUQ4M0RcXHVERTJFXFx1MjAwRFxcdUQ4M0RcXHVEQ0E4fFxcdUQ4M0RcXHVEQzE1XFx1MjAwRFxcdUQ4M0VcXHVEREJBfFxcdUQ4M0VcXHVEREQxKD86XFx1RDgzQ1xcdURGRkZ8XFx1RDgzQ1xcdURGRkV8XFx1RDgzQ1xcdURGRkR8XFx1RDgzQ1xcdURGRkN8XFx1RDgzQ1xcdURGRkIpP3xcXHVEODNEXFx1REM2OSg/OlxcdUQ4M0NcXHVERkZGfFxcdUQ4M0NcXHVERkZFfFxcdUQ4M0NcXHVERkZEfFxcdUQ4M0NcXHVERkZDfFxcdUQ4M0NcXHVERkZCKT98XFx1RDgzQ1xcdURERkRcXHVEODNDXFx1RERGMHxcXHVEODNDXFx1RERGNlxcdUQ4M0NcXHVEREU2fFxcdUQ4M0NcXHVEREY0XFx1RDgzQ1xcdURERjJ8XFx1RDgzRFxcdURDMDhcXHUyMDBEXFx1MkIxQnxcXHUyNzY0XFx1RkUwRlxcdTIwMEQoPzpcXHVEODNEXFx1REQyNXxcXHVEODNFXFx1REU3OSl8XFx1RDgzRFxcdURDNDFcXHVGRTBGfFxcdUQ4M0NcXHVERkYzXFx1RkUwRnxcXHVEODNDXFx1RERGRig/OlxcdUQ4M0NbXFx1RERFNlxcdURERjJcXHVEREZDXSl8XFx1RDgzQ1xcdURERkUoPzpcXHVEODNDW1xcdURERUFcXHVEREY5XSl8XFx1RDgzQ1xcdURERkMoPzpcXHVEODNDW1xcdURERUJcXHVEREY4XSl8XFx1RDgzQ1xcdURERkIoPzpcXHVEODNDW1xcdURERTZcXHVEREU4XFx1RERFQVxcdURERUNcXHVEREVFXFx1RERGM1xcdURERkFdKXxcXHVEODNDXFx1RERGQSg/OlxcdUQ4M0NbXFx1RERFNlxcdURERUNcXHVEREYyXFx1RERGM1xcdURERjhcXHVEREZFXFx1RERGRl0pfFxcdUQ4M0NcXHVEREY5KD86XFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERTlcXHVEREVCLVxcdURERURcXHVEREVGLVxcdURERjRcXHVEREY3XFx1RERGOVxcdURERkJcXHVEREZDXFx1RERGRl0pfFxcdUQ4M0NcXHVEREY4KD86XFx1RDgzQ1tcXHVEREU2LVxcdURERUFcXHVEREVDLVxcdURERjRcXHVEREY3LVxcdURERjlcXHVEREZCXFx1RERGRC1cXHVEREZGXSl8XFx1RDgzQ1xcdURERjcoPzpcXHVEODNDW1xcdURERUFcXHVEREY0XFx1RERGOFxcdURERkFcXHVEREZDXSl8XFx1RDgzQ1xcdURERjUoPzpcXHVEODNDW1xcdURERTZcXHVEREVBLVxcdURERURcXHVEREYwLVxcdURERjNcXHVEREY3LVxcdURERjlcXHVEREZDXFx1RERGRV0pfFxcdUQ4M0NcXHVEREYzKD86XFx1RDgzQ1tcXHVEREU2XFx1RERFOFxcdURERUEtXFx1RERFQ1xcdURERUVcXHVEREYxXFx1RERGNFxcdURERjVcXHVEREY3XFx1RERGQVxcdURERkZdKXxcXHVEODNDXFx1RERGMig/OlxcdUQ4M0NbXFx1RERFNlxcdURERTgtXFx1RERFRFxcdURERjAtXFx1RERGRl0pfFxcdUQ4M0NcXHVEREYxKD86XFx1RDgzQ1tcXHVEREU2LVxcdURERThcXHVEREVFXFx1RERGMFxcdURERjctXFx1RERGQlxcdURERkVdKXxcXHVEODNDXFx1RERGMCg/OlxcdUQ4M0NbXFx1RERFQVxcdURERUMtXFx1RERFRVxcdURERjJcXHVEREYzXFx1RERGNVxcdURERjdcXHVEREZDXFx1RERGRVxcdURERkZdKXxcXHVEODNDXFx1RERFRig/OlxcdUQ4M0NbXFx1RERFQVxcdURERjJcXHVEREY0XFx1RERGNV0pfFxcdUQ4M0NcXHVEREVFKD86XFx1RDgzQ1tcXHVEREU4LVxcdURERUFcXHVEREYxLVxcdURERjRcXHVEREY2LVxcdURERjldKXxcXHVEODNDXFx1RERFRCg/OlxcdUQ4M0NbXFx1RERGMFxcdURERjJcXHVEREYzXFx1RERGN1xcdURERjlcXHVEREZBXSl8XFx1RDgzQ1xcdURERUMoPzpcXHVEODNDW1xcdURERTZcXHVEREU3XFx1RERFOS1cXHVEREVFXFx1RERGMS1cXHVEREYzXFx1RERGNS1cXHVEREZBXFx1RERGQ1xcdURERkVdKXxcXHVEODNDXFx1RERFQig/OlxcdUQ4M0NbXFx1RERFRS1cXHVEREYwXFx1RERGMlxcdURERjRcXHVEREY3XSl8XFx1RDgzQ1xcdURERUEoPzpcXHVEODNDW1xcdURERTZcXHVEREU4XFx1RERFQVxcdURERUNcXHVEREVEXFx1RERGNy1cXHVEREZBXSl8XFx1RDgzQ1xcdURERTkoPzpcXHVEODNDW1xcdURERUFcXHVEREVDXFx1RERFRlxcdURERjBcXHVEREYyXFx1RERGNFxcdURERkZdKXxcXHVEODNDXFx1RERFOCg/OlxcdUQ4M0NbXFx1RERFNlxcdURERThcXHVEREU5XFx1RERFQi1cXHVEREVFXFx1RERGMC1cXHVEREY1XFx1RERGN1xcdURERkEtXFx1RERGRl0pfFxcdUQ4M0NcXHVEREU3KD86XFx1RDgzQ1tcXHVEREU2XFx1RERFN1xcdURERTktXFx1RERFRlxcdURERjEtXFx1RERGNFxcdURERjYtXFx1RERGOVxcdURERkJcXHVEREZDXFx1RERGRVxcdURERkZdKXxcXHVEODNDXFx1RERFNig/OlxcdUQ4M0NbXFx1RERFOC1cXHVEREVDXFx1RERFRVxcdURERjFcXHVEREYyXFx1RERGNFxcdURERjYtXFx1RERGQVxcdURERkNcXHVEREZEXFx1RERGRl0pfFsjXFwqMC05XVxcdUZFMEZcXHUyMEUzfFxcdTI3NjRcXHVGRTBGfCg/OlxcdUQ4M0NbXFx1REZDM1xcdURGQzRcXHVERkNBXXxcXHVEODNEW1xcdURDNkVcXHVEQzcwXFx1REM3MVxcdURDNzNcXHVEQzc3XFx1REM4MVxcdURDODJcXHVEQzg2XFx1REM4N1xcdURFNDUtXFx1REU0N1xcdURFNEJcXHVERTREXFx1REU0RVxcdURFQTNcXHVERUI0LVxcdURFQjZdfFxcdUQ4M0VbXFx1REQyNlxcdUREMzVcXHVERDM3LVxcdUREMzlcXHVERDNEXFx1REQzRVxcdUREQjhcXHVEREI5XFx1RERDRC1cXHVERENGXFx1RERENFxcdURERDYtXFx1RERERF0pKD86XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXwoPzpcXHUyNkY5fFxcdUQ4M0NbXFx1REZDQlxcdURGQ0NdfFxcdUQ4M0RcXHVERDc1KSg/OlxcdUZFMEZ8XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXxcXHVEODNDXFx1REZGNHwoPzpbXFx1MjcwQVxcdTI3MEJdfFxcdUQ4M0NbXFx1REY4NVxcdURGQzJcXHVERkM3XXxcXHVEODNEW1xcdURDNDJcXHVEQzQzXFx1REM0Ni1cXHVEQzUwXFx1REM2NlxcdURDNjdcXHVEQzZCLVxcdURDNkRcXHVEQzcyXFx1REM3NC1cXHVEQzc2XFx1REM3OFxcdURDN0NcXHVEQzgzXFx1REM4NVxcdURDOEZcXHVEQzkxXFx1RENBQVxcdUREN0FcXHVERDk1XFx1REQ5NlxcdURFNENcXHVERTRGXFx1REVDMFxcdURFQ0NdfFxcdUQ4M0VbXFx1REQwQ1xcdUREMEZcXHVERDE4LVxcdUREMUNcXHVERDFFXFx1REQxRlxcdUREMzAtXFx1REQzNFxcdUREMzZcXHVERDc3XFx1RERCNVxcdUREQjZcXHVEREJCXFx1REREMlxcdURERDNcXHVEREQ1XSkoPzpcXHVEODNDW1xcdURGRkItXFx1REZGRl0pfCg/OltcXHUyNjFEXFx1MjcwQ1xcdTI3MERdfFxcdUQ4M0RbXFx1REQ3NFxcdUREOTBdKSg/OlxcdUZFMEZ8XFx1RDgzQ1tcXHVERkZCLVxcdURGRkZdKXxbXFx1MjcwQVxcdTI3MEJdfFxcdUQ4M0NbXFx1REY4NVxcdURGQzJcXHVERkM3XXxcXHVEODNEW1xcdURDMDhcXHVEQzE1XFx1REMzQlxcdURDNDJcXHVEQzQzXFx1REM0Ni1cXHVEQzUwXFx1REM2NlxcdURDNjdcXHVEQzZCLVxcdURDNkRcXHVEQzcyXFx1REM3NC1cXHVEQzc2XFx1REM3OFxcdURDN0NcXHVEQzgzXFx1REM4NVxcdURDOEZcXHVEQzkxXFx1RENBQVxcdUREN0FcXHVERDk1XFx1REQ5NlxcdURFMkVcXHVERTM1XFx1REUzNlxcdURFNENcXHVERTRGXFx1REVDMFxcdURFQ0NdfFxcdUQ4M0VbXFx1REQwQ1xcdUREMEZcXHVERDE4LVxcdUREMUNcXHVERDFFXFx1REQxRlxcdUREMzAtXFx1REQzNFxcdUREMzZcXHVERDc3XFx1RERCNVxcdUREQjZcXHVEREJCXFx1REREMlxcdURERDNcXHVEREQ1XXxcXHVEODNDW1xcdURGQzNcXHVERkM0XFx1REZDQV18XFx1RDgzRFtcXHVEQzZFXFx1REM3MFxcdURDNzFcXHVEQzczXFx1REM3N1xcdURDODFcXHVEQzgyXFx1REM4NlxcdURDODdcXHVERTQ1LVxcdURFNDdcXHVERTRCXFx1REU0RFxcdURFNEVcXHVERUEzXFx1REVCNC1cXHVERUI2XXxcXHVEODNFW1xcdUREMjZcXHVERDM1XFx1REQzNy1cXHVERDM5XFx1REQzRFxcdUREM0VcXHVEREI4XFx1RERCOVxcdUREQ0QtXFx1RERDRlxcdURERDRcXHVEREQ2LVxcdURERERdfFxcdUQ4M0RcXHVEQzZGfFxcdUQ4M0VbXFx1REQzQ1xcdUREREVcXHVERERGXXxbXFx1MjMxQVxcdTIzMUJcXHUyM0U5LVxcdTIzRUNcXHUyM0YwXFx1MjNGM1xcdTI1RkRcXHUyNUZFXFx1MjYxNFxcdTI2MTVcXHUyNjQ4LVxcdTI2NTNcXHUyNjdGXFx1MjY5M1xcdTI2QTFcXHUyNkFBXFx1MjZBQlxcdTI2QkRcXHUyNkJFXFx1MjZDNFxcdTI2QzVcXHUyNkNFXFx1MjZENFxcdTI2RUFcXHUyNkYyXFx1MjZGM1xcdTI2RjVcXHUyNkZBXFx1MjZGRFxcdTI3MDVcXHUyNzI4XFx1Mjc0Q1xcdTI3NEVcXHUyNzUzLVxcdTI3NTVcXHUyNzU3XFx1Mjc5NS1cXHUyNzk3XFx1MjdCMFxcdTI3QkZcXHUyQjFCXFx1MkIxQ1xcdTJCNTBcXHUyQjU1XXxcXHVEODNDW1xcdURDMDRcXHVEQ0NGXFx1REQ4RVxcdUREOTEtXFx1REQ5QVxcdURFMDFcXHVERTFBXFx1REUyRlxcdURFMzItXFx1REUzNlxcdURFMzgtXFx1REUzQVxcdURFNTBcXHVERTUxXFx1REYwMC1cXHVERjIwXFx1REYyRC1cXHVERjM1XFx1REYzNy1cXHVERjdDXFx1REY3RS1cXHVERjg0XFx1REY4Ni1cXHVERjkzXFx1REZBMC1cXHVERkMxXFx1REZDNVxcdURGQzZcXHVERkM4XFx1REZDOVxcdURGQ0YtXFx1REZEM1xcdURGRTAtXFx1REZGMFxcdURGRjgtXFx1REZGRl18XFx1RDgzRFtcXHVEQzAwLVxcdURDMDdcXHVEQzA5LVxcdURDMTRcXHVEQzE2LVxcdURDM0FcXHVEQzNDLVxcdURDM0VcXHVEQzQwXFx1REM0NFxcdURDNDVcXHVEQzUxLVxcdURDNjVcXHVEQzZBXFx1REM3OS1cXHVEQzdCXFx1REM3RC1cXHVEQzgwXFx1REM4NFxcdURDODgtXFx1REM4RVxcdURDOTBcXHVEQzkyLVxcdURDQTlcXHVEQ0FCLVxcdURDRkNcXHVEQ0ZGLVxcdUREM0RcXHVERDRCLVxcdURENEVcXHVERDUwLVxcdURENjdcXHVEREE0XFx1RERGQi1cXHVERTJEXFx1REUyRi1cXHVERTM0XFx1REUzNy1cXHVERTQ0XFx1REU0OC1cXHVERTRBXFx1REU4MC1cXHVERUEyXFx1REVBNC1cXHVERUIzXFx1REVCNy1cXHVERUJGXFx1REVDMS1cXHVERUM1XFx1REVEMC1cXHVERUQyXFx1REVENS1cXHVERUQ3XFx1REVFQlxcdURFRUNcXHVERUY0LVxcdURFRkNcXHVERkUwLVxcdURGRUJdfFxcdUQ4M0VbXFx1REQwRFxcdUREMEVcXHVERDEwLVxcdUREMTdcXHVERDFEXFx1REQyMC1cXHVERDI1XFx1REQyNy1cXHVERDJGXFx1REQzQVxcdUREM0YtXFx1REQ0NVxcdURENDctXFx1REQ3NlxcdURENzhcXHVERDdBLVxcdUREQjRcXHVEREI3XFx1RERCQVxcdUREQkMtXFx1RERDQlxcdURERDBcXHVEREUwLVxcdURERkZcXHVERTcwLVxcdURFNzRcXHVERTc4LVxcdURFN0FcXHVERTgwLVxcdURFODZcXHVERTkwLVxcdURFQThcXHVERUIwLVxcdURFQjZcXHVERUMwLVxcdURFQzJcXHVERUQwLVxcdURFRDZdfCg/OltcXHUyMzFBXFx1MjMxQlxcdTIzRTktXFx1MjNFQ1xcdTIzRjBcXHUyM0YzXFx1MjVGRFxcdTI1RkVcXHUyNjE0XFx1MjYxNVxcdTI2NDgtXFx1MjY1M1xcdTI2N0ZcXHUyNjkzXFx1MjZBMVxcdTI2QUFcXHUyNkFCXFx1MjZCRFxcdTI2QkVcXHUyNkM0XFx1MjZDNVxcdTI2Q0VcXHUyNkQ0XFx1MjZFQVxcdTI2RjJcXHUyNkYzXFx1MjZGNVxcdTI2RkFcXHUyNkZEXFx1MjcwNVxcdTI3MEFcXHUyNzBCXFx1MjcyOFxcdTI3NENcXHUyNzRFXFx1Mjc1My1cXHUyNzU1XFx1Mjc1N1xcdTI3OTUtXFx1Mjc5N1xcdTI3QjBcXHUyN0JGXFx1MkIxQlxcdTJCMUNcXHUyQjUwXFx1MkI1NV18XFx1RDgzQ1tcXHVEQzA0XFx1RENDRlxcdUREOEVcXHVERDkxLVxcdUREOUFcXHVEREU2LVxcdURERkZcXHVERTAxXFx1REUxQVxcdURFMkZcXHVERTMyLVxcdURFMzZcXHVERTM4LVxcdURFM0FcXHVERTUwXFx1REU1MVxcdURGMDAtXFx1REYyMFxcdURGMkQtXFx1REYzNVxcdURGMzctXFx1REY3Q1xcdURGN0UtXFx1REY5M1xcdURGQTAtXFx1REZDQVxcdURGQ0YtXFx1REZEM1xcdURGRTAtXFx1REZGMFxcdURGRjRcXHVERkY4LVxcdURGRkZdfFxcdUQ4M0RbXFx1REMwMC1cXHVEQzNFXFx1REM0MFxcdURDNDItXFx1RENGQ1xcdURDRkYtXFx1REQzRFxcdURENEItXFx1REQ0RVxcdURENTAtXFx1REQ2N1xcdUREN0FcXHVERDk1XFx1REQ5NlxcdUREQTRcXHVEREZCLVxcdURFNEZcXHVERTgwLVxcdURFQzVcXHVERUNDXFx1REVEMC1cXHVERUQyXFx1REVENS1cXHVERUQ3XFx1REVFQlxcdURFRUNcXHVERUY0LVxcdURFRkNcXHVERkUwLVxcdURGRUJdfFxcdUQ4M0VbXFx1REQwQy1cXHVERDNBXFx1REQzQy1cXHVERDQ1XFx1REQ0Ny1cXHVERDc4XFx1REQ3QS1cXHVERENCXFx1RERDRC1cXHVEREZGXFx1REU3MC1cXHVERTc0XFx1REU3OC1cXHVERTdBXFx1REU4MC1cXHVERTg2XFx1REU5MC1cXHVERUE4XFx1REVCMC1cXHVERUI2XFx1REVDMC1cXHVERUMyXFx1REVEMC1cXHVERUQ2XSl8KD86WyNcXCowLTlcXHhBOVxceEFFXFx1MjAzQ1xcdTIwNDlcXHUyMTIyXFx1MjEzOVxcdTIxOTQtXFx1MjE5OVxcdTIxQTlcXHUyMUFBXFx1MjMxQVxcdTIzMUJcXHUyMzI4XFx1MjNDRlxcdTIzRTktXFx1MjNGM1xcdTIzRjgtXFx1MjNGQVxcdTI0QzJcXHUyNUFBXFx1MjVBQlxcdTI1QjZcXHUyNUMwXFx1MjVGQi1cXHUyNUZFXFx1MjYwMC1cXHUyNjA0XFx1MjYwRVxcdTI2MTFcXHUyNjE0XFx1MjYxNVxcdTI2MThcXHUyNjFEXFx1MjYyMFxcdTI2MjJcXHUyNjIzXFx1MjYyNlxcdTI2MkFcXHUyNjJFXFx1MjYyRlxcdTI2MzgtXFx1MjYzQVxcdTI2NDBcXHUyNjQyXFx1MjY0OC1cXHUyNjUzXFx1MjY1RlxcdTI2NjBcXHUyNjYzXFx1MjY2NVxcdTI2NjZcXHUyNjY4XFx1MjY3QlxcdTI2N0VcXHUyNjdGXFx1MjY5Mi1cXHUyNjk3XFx1MjY5OVxcdTI2OUJcXHUyNjlDXFx1MjZBMFxcdTI2QTFcXHUyNkE3XFx1MjZBQVxcdTI2QUJcXHUyNkIwXFx1MjZCMVxcdTI2QkRcXHUyNkJFXFx1MjZDNFxcdTI2QzVcXHUyNkM4XFx1MjZDRVxcdTI2Q0ZcXHUyNkQxXFx1MjZEM1xcdTI2RDRcXHUyNkU5XFx1MjZFQVxcdTI2RjAtXFx1MjZGNVxcdTI2RjctXFx1MjZGQVxcdTI2RkRcXHUyNzAyXFx1MjcwNVxcdTI3MDgtXFx1MjcwRFxcdTI3MEZcXHUyNzEyXFx1MjcxNFxcdTI3MTZcXHUyNzFEXFx1MjcyMVxcdTI3MjhcXHUyNzMzXFx1MjczNFxcdTI3NDRcXHUyNzQ3XFx1Mjc0Q1xcdTI3NEVcXHUyNzUzLVxcdTI3NTVcXHUyNzU3XFx1Mjc2M1xcdTI3NjRcXHUyNzk1LVxcdTI3OTdcXHUyN0ExXFx1MjdCMFxcdTI3QkZcXHUyOTM0XFx1MjkzNVxcdTJCMDUtXFx1MkIwN1xcdTJCMUJcXHUyQjFDXFx1MkI1MFxcdTJCNTVcXHUzMDMwXFx1MzAzRFxcdTMyOTdcXHUzMjk5XXxcXHVEODNDW1xcdURDMDRcXHVEQ0NGXFx1REQ3MFxcdURENzFcXHVERDdFXFx1REQ3RlxcdUREOEVcXHVERDkxLVxcdUREOUFcXHVEREU2LVxcdURERkZcXHVERTAxXFx1REUwMlxcdURFMUFcXHVERTJGXFx1REUzMi1cXHVERTNBXFx1REU1MFxcdURFNTFcXHVERjAwLVxcdURGMjFcXHVERjI0LVxcdURGOTNcXHVERjk2XFx1REY5N1xcdURGOTktXFx1REY5QlxcdURGOUUtXFx1REZGMFxcdURGRjMtXFx1REZGNVxcdURGRjctXFx1REZGRl18XFx1RDgzRFtcXHVEQzAwLVxcdURDRkRcXHVEQ0ZGLVxcdUREM0RcXHVERDQ5LVxcdURENEVcXHVERDUwLVxcdURENjdcXHVERDZGXFx1REQ3MFxcdURENzMtXFx1REQ3QVxcdUREODdcXHVERDhBLVxcdUREOERcXHVERDkwXFx1REQ5NVxcdUREOTZcXHVEREE0XFx1RERBNVxcdUREQThcXHVEREIxXFx1RERCMlxcdUREQkNcXHVEREMyLVxcdUREQzRcXHVEREQxLVxcdURERDNcXHVERERDLVxcdUREREVcXHVEREUxXFx1RERFM1xcdURERThcXHVEREVGXFx1RERGM1xcdURERkEtXFx1REU0RlxcdURFODAtXFx1REVDNVxcdURFQ0ItXFx1REVEMlxcdURFRDUtXFx1REVEN1xcdURFRTAtXFx1REVFNVxcdURFRTlcXHVERUVCXFx1REVFQ1xcdURFRjBcXHVERUYzLVxcdURFRkNcXHVERkUwLVxcdURGRUJdfFxcdUQ4M0VbXFx1REQwQy1cXHVERDNBXFx1REQzQy1cXHVERDQ1XFx1REQ0Ny1cXHVERDc4XFx1REQ3QS1cXHVERENCXFx1RERDRC1cXHVEREZGXFx1REU3MC1cXHVERTc0XFx1REU3OC1cXHVERTdBXFx1REU4MC1cXHVERTg2XFx1REU5MC1cXHVERUE4XFx1REVCMC1cXHVERUI2XFx1REVDMC1cXHVERUMyXFx1REVEMC1cXHVERUQ2XSlcXHVGRTBGfCg/OltcXHUyNjFEXFx1MjZGOVxcdTI3MEEtXFx1MjcwRF18XFx1RDgzQ1tcXHVERjg1XFx1REZDMi1cXHVERkM0XFx1REZDN1xcdURGQ0EtXFx1REZDQ118XFx1RDgzRFtcXHVEQzQyXFx1REM0M1xcdURDNDYtXFx1REM1MFxcdURDNjYtXFx1REM3OFxcdURDN0NcXHVEQzgxLVxcdURDODNcXHVEQzg1LVxcdURDODdcXHVEQzhGXFx1REM5MVxcdURDQUFcXHVERDc0XFx1REQ3NVxcdUREN0FcXHVERDkwXFx1REQ5NVxcdUREOTZcXHVERTQ1LVxcdURFNDdcXHVERTRCLVxcdURFNEZcXHVERUEzXFx1REVCNC1cXHVERUI2XFx1REVDMFxcdURFQ0NdfFxcdUQ4M0VbXFx1REQwQ1xcdUREMEZcXHVERDE4LVxcdUREMUZcXHVERDI2XFx1REQzMC1cXHVERDM5XFx1REQzQy1cXHVERDNFXFx1REQ3N1xcdUREQjVcXHVEREI2XFx1RERCOFxcdUREQjlcXHVEREJCXFx1RERDRC1cXHVERENGXFx1REREMS1cXHVEREREXSkvZ307Y29uc3Qgc0Q9TChGRCk7ZnVuY3Rpb24gcChlLHU9e30pe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wifHxlLmxlbmd0aD09PTB8fCh1PXthbWJpZ3VvdXNJc05hcnJvdzohMCwuLi51fSxlPVAoZSksZS5sZW5ndGg9PT0wKSlyZXR1cm4gMDtlPWUucmVwbGFjZShzRCgpLFwiICBcIik7Y29uc3QgdD11LmFtYmlndW91c0lzTmFycm93PzE6MjtsZXQgRj0wO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGk9cy5jb2RlUG9pbnRBdCgwKTtpZihpPD0zMXx8aT49MTI3JiZpPD0xNTl8fGk+PTc2OCYmaTw9ODc5KWNvbnRpbnVlO3N3aXRjaChlRC5lYXN0QXNpYW5XaWR0aChzKSl7Y2FzZVwiRlwiOmNhc2VcIldcIjpGKz0yO2JyZWFrO2Nhc2VcIkFcIjpGKz10O2JyZWFrO2RlZmF1bHQ6Ris9MX19cmV0dXJuIEZ9Y29uc3Qgdz0xMCxOPShlPTApPT51PT5gXFx4MUJbJHt1K2V9bWAsST0oZT0wKT0+dT0+YFxceDFCWyR7MzgrZX07NTske3V9bWAsUj0oZT0wKT0+KHUsdCxGKT0+YFxceDFCWyR7MzgrZX07Mjske3V9OyR7dH07JHtGfW1gLHI9e21vZGlmaWVyOntyZXNldDpbMCwwXSxib2xkOlsxLDIyXSxkaW06WzIsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxvdmVybGluZTpbNTMsNTVdLGludmVyc2U6WzcsMjddLGhpZGRlbjpbOCwyOF0sc3RyaWtldGhyb3VnaDpbOSwyOV19LGNvbG9yOntibGFjazpbMzAsMzldLHJlZDpbMzEsMzldLGdyZWVuOlszMiwzOV0seWVsbG93OlszMywzOV0sYmx1ZTpbMzQsMzldLG1hZ2VudGE6WzM1LDM5XSxjeWFuOlszNiwzOV0sd2hpdGU6WzM3LDM5XSxibGFja0JyaWdodDpbOTAsMzldLGdyYXk6WzkwLDM5XSxncmV5Ols5MCwzOV0scmVkQnJpZ2h0Ols5MSwzOV0sZ3JlZW5CcmlnaHQ6WzkyLDM5XSx5ZWxsb3dCcmlnaHQ6WzkzLDM5XSxibHVlQnJpZ2h0Ols5NCwzOV0sbWFnZW50YUJyaWdodDpbOTUsMzldLGN5YW5CcmlnaHQ6Wzk2LDM5XSx3aGl0ZUJyaWdodDpbOTcsMzldfSxiZ0NvbG9yOntiZ0JsYWNrOls0MCw0OV0sYmdSZWQ6WzQxLDQ5XSxiZ0dyZWVuOls0Miw0OV0sYmdZZWxsb3c6WzQzLDQ5XSxiZ0JsdWU6WzQ0LDQ5XSxiZ01hZ2VudGE6WzQ1LDQ5XSxiZ0N5YW46WzQ2LDQ5XSxiZ1doaXRlOls0Nyw0OV0sYmdCbGFja0JyaWdodDpbMTAwLDQ5XSxiZ0dyYXk6WzEwMCw0OV0sYmdHcmV5OlsxMDAsNDldLGJnUmVkQnJpZ2h0OlsxMDEsNDldLGJnR3JlZW5CcmlnaHQ6WzEwMiw0OV0sYmdZZWxsb3dCcmlnaHQ6WzEwMyw0OV0sYmdCbHVlQnJpZ2h0OlsxMDQsNDldLGJnTWFnZW50YUJyaWdodDpbMTA1LDQ5XSxiZ0N5YW5CcmlnaHQ6WzEwNiw0OV0sYmdXaGl0ZUJyaWdodDpbMTA3LDQ5XX19O09iamVjdC5rZXlzKHIubW9kaWZpZXIpO2NvbnN0IGlEPU9iamVjdC5rZXlzKHIuY29sb3IpLENEPU9iamVjdC5rZXlzKHIuYmdDb2xvcik7Wy4uLmlELC4uLkNEXTtmdW5jdGlvbiByRCgpe2NvbnN0IGU9bmV3IE1hcDtmb3IoY29uc3RbdSx0XW9mIE9iamVjdC5lbnRyaWVzKHIpKXtmb3IoY29uc3RbRixzXW9mIE9iamVjdC5lbnRyaWVzKHQpKXJbRl09e29wZW46YFxceDFCWyR7c1swXX1tYCxjbG9zZTpgXFx4MUJbJHtzWzFdfW1gfSx0W0ZdPXJbRl0sZS5zZXQoc1swXSxzWzFdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocix1LHt2YWx1ZTp0LGVudW1lcmFibGU6ITF9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJjb2Rlc1wiLHt2YWx1ZTplLGVudW1lcmFibGU6ITF9KSxyLmNvbG9yLmNsb3NlPVwiXFx4MUJbMzltXCIsci5iZ0NvbG9yLmNsb3NlPVwiXFx4MUJbNDltXCIsci5jb2xvci5hbnNpPU4oKSxyLmNvbG9yLmFuc2kyNTY9SSgpLHIuY29sb3IuYW5zaTE2bT1SKCksci5iZ0NvbG9yLmFuc2k9Tih3KSxyLmJnQ29sb3IuYW5zaTI1Nj1JKHcpLHIuYmdDb2xvci5hbnNpMTZtPVIodyksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocix7cmdiVG9BbnNpMjU2Ont2YWx1ZToodSx0LEYpPT51PT09dCYmdD09PUY/dTw4PzE2OnU+MjQ4PzIzMTpNYXRoLnJvdW5kKCh1LTgpLzI0NyoyNCkrMjMyOjE2KzM2Kk1hdGgucm91bmQodS8yNTUqNSkrNipNYXRoLnJvdW5kKHQvMjU1KjUpK01hdGgucm91bmQoRi8yNTUqNSksZW51bWVyYWJsZTohMX0saGV4VG9SZ2I6e3ZhbHVlOnU9Pntjb25zdCB0PS9bYS1mXFxkXXs2fXxbYS1mXFxkXXszfS9pLmV4ZWModS50b1N0cmluZygxNikpO2lmKCF0KXJldHVyblswLDAsMF07bGV0W0ZdPXQ7Ri5sZW5ndGg9PT0zJiYoRj1bLi4uRl0ubWFwKGk9PmkraSkuam9pbihcIlwiKSk7Y29uc3Qgcz1OdW1iZXIucGFyc2VJbnQoRiwxNik7cmV0dXJuW3M+PjE2JjI1NSxzPj44JjI1NSxzJjI1NV19LGVudW1lcmFibGU6ITF9LGhleFRvQW5zaTI1Njp7dmFsdWU6dT0+ci5yZ2JUb0Fuc2kyNTYoLi4uci5oZXhUb1JnYih1KSksZW51bWVyYWJsZTohMX0sYW5zaTI1NlRvQW5zaTp7dmFsdWU6dT0+e2lmKHU8OClyZXR1cm4gMzArdTtpZih1PDE2KXJldHVybiA5MCsodS04KTtsZXQgdCxGLHM7aWYodT49MjMyKXQ9KCh1LTIzMikqMTArOCkvMjU1LEY9dCxzPXQ7ZWxzZXt1LT0xNjtjb25zdCBDPXUlMzY7dD1NYXRoLmZsb29yKHUvMzYpLzUsRj1NYXRoLmZsb29yKEMvNikvNSxzPUMlNi81fWNvbnN0IGk9TWF0aC5tYXgodCxGLHMpKjI7aWYoaT09PTApcmV0dXJuIDMwO2xldCBEPTMwKyhNYXRoLnJvdW5kKHMpPDwyfE1hdGgucm91bmQoRik8PDF8TWF0aC5yb3VuZCh0KSk7cmV0dXJuIGk9PT0yJiYoRCs9NjApLER9LGVudW1lcmFibGU6ITF9LHJnYlRvQW5zaTp7dmFsdWU6KHUsdCxGKT0+ci5hbnNpMjU2VG9BbnNpKHIucmdiVG9BbnNpMjU2KHUsdCxGKSksZW51bWVyYWJsZTohMX0saGV4VG9BbnNpOnt2YWx1ZTp1PT5yLmFuc2kyNTZUb0Fuc2koci5oZXhUb0Fuc2kyNTYodSkpLGVudW1lcmFibGU6ITF9fSkscn1jb25zdCBFRD1yRCgpLGQ9bmV3IFNldChbXCJcXHgxQlwiLFwiXFx4OUJcIl0pLG9EPTM5LHk9XCJcXHgwN1wiLFY9XCJbXCIsbkQ9XCJdXCIsRz1cIm1cIixfPWAke25EfTg7O2Asej1lPT5gJHtkLnZhbHVlcygpLm5leHQoKS52YWx1ZX0ke1Z9JHtlfSR7R31gLEs9ZT0+YCR7ZC52YWx1ZXMoKS5uZXh0KCkudmFsdWV9JHtffSR7ZX0ke3l9YCxhRD1lPT5lLnNwbGl0KFwiIFwiKS5tYXAodT0+cCh1KSksaz0oZSx1LHQpPT57Y29uc3QgRj1bLi4udV07bGV0IHM9ITEsaT0hMSxEPXAoUChlW2UubGVuZ3RoLTFdKSk7Zm9yKGNvbnN0W0Msbl1vZiBGLmVudHJpZXMoKSl7Y29uc3QgRT1wKG4pO2lmKEQrRTw9dD9lW2UubGVuZ3RoLTFdKz1uOihlLnB1c2gobiksRD0wKSxkLmhhcyhuKSYmKHM9ITAsaT1GLnNsaWNlKEMrMSkuam9pbihcIlwiKS5zdGFydHNXaXRoKF8pKSxzKXtpP249PT15JiYocz0hMSxpPSExKTpuPT09RyYmKHM9ITEpO2NvbnRpbnVlfUQrPUUsRD09PXQmJkM8Ri5sZW5ndGgtMSYmKGUucHVzaChcIlwiKSxEPTApfSFEJiZlW2UubGVuZ3RoLTFdLmxlbmd0aD4wJiZlLmxlbmd0aD4xJiYoZVtlLmxlbmd0aC0yXSs9ZS5wb3AoKSl9LGhEPWU9Pntjb25zdCB1PWUuc3BsaXQoXCIgXCIpO2xldCB0PXUubGVuZ3RoO2Zvcig7dD4wJiYhKHAodVt0LTFdKT4wKTspdC0tO3JldHVybiB0PT09dS5sZW5ndGg/ZTp1LnNsaWNlKDAsdCkuam9pbihcIiBcIikrdS5zbGljZSh0KS5qb2luKFwiXCIpfSxsRD0oZSx1LHQ9e30pPT57aWYodC50cmltIT09ITEmJmUudHJpbSgpPT09XCJcIilyZXR1cm5cIlwiO2xldCBGPVwiXCIscyxpO2NvbnN0IEQ9YUQoZSk7bGV0IEM9W1wiXCJdO2Zvcihjb25zdFtFLGFdb2YgZS5zcGxpdChcIiBcIikuZW50cmllcygpKXt0LnRyaW0hPT0hMSYmKENbQy5sZW5ndGgtMV09Q1tDLmxlbmd0aC0xXS50cmltU3RhcnQoKSk7bGV0IG89cChDW0MubGVuZ3RoLTFdKTtpZihFIT09MCYmKG8+PXUmJih0LndvcmRXcmFwPT09ITF8fHQudHJpbT09PSExKSYmKEMucHVzaChcIlwiKSxvPTApLChvPjB8fHQudHJpbT09PSExKSYmKENbQy5sZW5ndGgtMV0rPVwiIFwiLG8rKykpLHQuaGFyZCYmRFtFXT51KXtjb25zdCBjPXUtbyxmPTErTWF0aC5mbG9vcigoRFtFXS1jLTEpL3UpO01hdGguZmxvb3IoKERbRV0tMSkvdSk8ZiYmQy5wdXNoKFwiXCIpLGsoQyxhLHUpO2NvbnRpbnVlfWlmKG8rRFtFXT51JiZvPjAmJkRbRV0+MCl7aWYodC53b3JkV3JhcD09PSExJiZvPHUpe2soQyxhLHUpO2NvbnRpbnVlfUMucHVzaChcIlwiKX1pZihvK0RbRV0+dSYmdC53b3JkV3JhcD09PSExKXtrKEMsYSx1KTtjb250aW51ZX1DW0MubGVuZ3RoLTFdKz1hfXQudHJpbSE9PSExJiYoQz1DLm1hcChFPT5oRChFKSkpO2NvbnN0IG49Wy4uLkMuam9pbihgXG5gKV07Zm9yKGNvbnN0W0UsYV1vZiBuLmVudHJpZXMoKSl7aWYoRis9YSxkLmhhcyhhKSl7Y29uc3R7Z3JvdXBzOmN9PW5ldyBSZWdFeHAoYCg/OlxcXFwke1Z9KD88Y29kZT5cXFxcZCspbXxcXFxcJHtffSg/PHVyaT4uKikke3l9KWApLmV4ZWMobi5zbGljZShFKS5qb2luKFwiXCIpKXx8e2dyb3Vwczp7fX07aWYoYy5jb2RlIT09dm9pZCAwKXtjb25zdCBmPU51bWJlci5wYXJzZUZsb2F0KGMuY29kZSk7cz1mPT09b0Q/dm9pZCAwOmZ9ZWxzZSBjLnVyaSE9PXZvaWQgMCYmKGk9Yy51cmkubGVuZ3RoPT09MD92b2lkIDA6Yy51cmkpfWNvbnN0IG89RUQuY29kZXMuZ2V0KE51bWJlcihzKSk7bltFKzFdPT09YFxuYD8oaSYmKEYrPUsoXCJcIikpLHMmJm8mJihGKz16KG8pKSk6YT09PWBcbmAmJihzJiZvJiYoRis9eihzKSksaSYmKEYrPUsoaSkpKX1yZXR1cm4gRn07ZnVuY3Rpb24gWShlLHUsdCl7cmV0dXJuIFN0cmluZyhlKS5ub3JtYWxpemUoKS5yZXBsYWNlKC9cXHJcXG4vZyxgXG5gKS5zcGxpdChgXG5gKS5tYXAoRj0+bEQoRix1LHQpKS5qb2luKGBcbmApfWNvbnN0IHhEPVtcInVwXCIsXCJkb3duXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwic3BhY2VcIixcImVudGVyXCIsXCJjYW5jZWxcIl0sQj17YWN0aW9uczpuZXcgU2V0KHhEKSxhbGlhc2VzOm5ldyBNYXAoW1tcImtcIixcInVwXCJdLFtcImpcIixcImRvd25cIl0sW1wiaFwiLFwibGVmdFwiXSxbXCJsXCIsXCJyaWdodFwiXSxbXCJcdTAwMDNcIixcImNhbmNlbFwiXSxbXCJlc2NhcGVcIixcImNhbmNlbFwiXV0pfTtmdW5jdGlvbiBjRChlKXtmb3IoY29uc3QgdSBpbiBlKXtjb25zdCB0PXU7aWYoIU9iamVjdC5oYXNPd24oZSx0KSljb250aW51ZTtjb25zdCBGPWVbdF07c3dpdGNoKHQpe2Nhc2VcImFsaWFzZXNcIjp7Zm9yKGNvbnN0IHMgaW4gRilPYmplY3QuaGFzT3duKEYscykmJihCLmFsaWFzZXMuaGFzKHMpfHxCLmFsaWFzZXMuc2V0KHMsRltzXSkpO2JyZWFrfX19fWZ1bmN0aW9uICQoZSx1KXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIilyZXR1cm4gQi5hbGlhc2VzLmdldChlKT09PXU7Zm9yKGNvbnN0IHQgb2YgZSlpZih0IT09dm9pZCAwJiYkKHQsdSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gQkQoZSx1KXtpZihlPT09dSlyZXR1cm47Y29uc3QgdD1lLnNwbGl0KGBcbmApLEY9dS5zcGxpdChgXG5gKSxzPVtdO2ZvcihsZXQgaT0wO2k8TWF0aC5tYXgodC5sZW5ndGgsRi5sZW5ndGgpO2krKyl0W2ldIT09RltpXSYmcy5wdXNoKGkpO3JldHVybiBzfWNvbnN0IEFEPWdsb2JhbFRoaXMucHJvY2Vzcy5wbGF0Zm9ybS5zdGFydHNXaXRoKFwid2luXCIpLFM9U3ltYm9sKFwiY2xhY2s6Y2FuY2VsXCIpO2Z1bmN0aW9uIHBEKGUpe3JldHVybiBlPT09U31mdW5jdGlvbiBtKGUsdSl7Y29uc3QgdD1lO3QuaXNUVFkmJnQuc2V0UmF3TW9kZSh1KX1mdW5jdGlvbiBmRCh7aW5wdXQ6ZT1qLG91dHB1dDp1PU0sb3ZlcndyaXRlOnQ9ITAsaGlkZUN1cnNvcjpGPSEwfT17fSl7Y29uc3Qgcz1nLmNyZWF0ZUludGVyZmFjZSh7aW5wdXQ6ZSxvdXRwdXQ6dSxwcm9tcHQ6XCJcIix0YWJTaXplOjF9KTtnLmVtaXRLZXlwcmVzc0V2ZW50cyhlLHMpLGUuaXNUVFkmJmUuc2V0UmF3TW9kZSghMCk7Y29uc3QgaT0oRCx7bmFtZTpDLHNlcXVlbmNlOm59KT0+e2NvbnN0IEU9U3RyaW5nKEQpO2lmKCQoW0UsQyxuXSxcImNhbmNlbFwiKSl7RiYmdS53cml0ZShsLnNob3cpLHByb2Nlc3MuZXhpdCgwKTtyZXR1cm59aWYoIXQpcmV0dXJuO2NvbnN0IGE9Qz09PVwicmV0dXJuXCI/MDotMSxvPUM9PT1cInJldHVyblwiPy0xOjA7Zy5tb3ZlQ3Vyc29yKHUsYSxvLCgpPT57Zy5jbGVhckxpbmUodSwxLCgpPT57ZS5vbmNlKFwia2V5cHJlc3NcIixpKX0pfSl9O3JldHVybiBGJiZ1LndyaXRlKGwuaGlkZSksZS5vbmNlKFwia2V5cHJlc3NcIixpKSwoKT0+e2Uub2ZmKFwia2V5cHJlc3NcIixpKSxGJiZ1LndyaXRlKGwuc2hvdyksZS5pc1RUWSYmIUFEJiZlLnNldFJhd01vZGUoITEpLHMudGVybWluYWw9ITEscy5jbG9zZSgpfX12YXIgZ0Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LHZEPShlLHUsdCk9PnUgaW4gZT9nRChlLHUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTplW3VdPXQsaD0oZSx1LHQpPT4odkQoZSx0eXBlb2YgdSE9XCJzeW1ib2xcIj91K1wiXCI6dSx0KSx0KTtjbGFzcyB4e2NvbnN0cnVjdG9yKHUsdD0hMCl7aCh0aGlzLFwiaW5wdXRcIiksaCh0aGlzLFwib3V0cHV0XCIpLGgodGhpcyxcIl9hYm9ydFNpZ25hbFwiKSxoKHRoaXMsXCJybFwiKSxoKHRoaXMsXCJvcHRzXCIpLGgodGhpcyxcIl9yZW5kZXJcIiksaCh0aGlzLFwiX3RyYWNrXCIsITEpLGgodGhpcyxcIl9wcmV2RnJhbWVcIixcIlwiKSxoKHRoaXMsXCJfc3Vic2NyaWJlcnNcIixuZXcgTWFwKSxoKHRoaXMsXCJfY3Vyc29yXCIsMCksaCh0aGlzLFwic3RhdGVcIixcImluaXRpYWxcIiksaCh0aGlzLFwiZXJyb3JcIixcIlwiKSxoKHRoaXMsXCJ2YWx1ZVwiKTtjb25zdHtpbnB1dDpGPWosb3V0cHV0OnM9TSxyZW5kZXI6aSxzaWduYWw6RCwuLi5DfT11O3RoaXMub3B0cz1DLHRoaXMub25LZXlwcmVzcz10aGlzLm9uS2V5cHJlc3MuYmluZCh0aGlzKSx0aGlzLmNsb3NlPXRoaXMuY2xvc2UuYmluZCh0aGlzKSx0aGlzLnJlbmRlcj10aGlzLnJlbmRlci5iaW5kKHRoaXMpLHRoaXMuX3JlbmRlcj1pLmJpbmQodGhpcyksdGhpcy5fdHJhY2s9dCx0aGlzLl9hYm9ydFNpZ25hbD1ELHRoaXMuaW5wdXQ9Rix0aGlzLm91dHB1dD1zfXVuc3Vic2NyaWJlKCl7dGhpcy5fc3Vic2NyaWJlcnMuY2xlYXIoKX1zZXRTdWJzY3JpYmVyKHUsdCl7Y29uc3QgRj10aGlzLl9zdWJzY3JpYmVycy5nZXQodSk/P1tdO0YucHVzaCh0KSx0aGlzLl9zdWJzY3JpYmVycy5zZXQodSxGKX1vbih1LHQpe3RoaXMuc2V0U3Vic2NyaWJlcih1LHtjYjp0fSl9b25jZSh1LHQpe3RoaXMuc2V0U3Vic2NyaWJlcih1LHtjYjp0LG9uY2U6ITB9KX1lbWl0KHUsLi4udCl7Y29uc3QgRj10aGlzLl9zdWJzY3JpYmVycy5nZXQodSk/P1tdLHM9W107Zm9yKGNvbnN0IGkgb2YgRilpLmNiKC4uLnQpLGkub25jZSYmcy5wdXNoKCgpPT5GLnNwbGljZShGLmluZGV4T2YoaSksMSkpO2Zvcihjb25zdCBpIG9mIHMpaSgpfXByb21wdCgpe3JldHVybiBuZXcgUHJvbWlzZSgodSx0KT0+e2lmKHRoaXMuX2Fib3J0U2lnbmFsKXtpZih0aGlzLl9hYm9ydFNpZ25hbC5hYm9ydGVkKXJldHVybiB0aGlzLnN0YXRlPVwiY2FuY2VsXCIsdGhpcy5jbG9zZSgpLHUoUyk7dGhpcy5fYWJvcnRTaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCk9Pnt0aGlzLnN0YXRlPVwiY2FuY2VsXCIsdGhpcy5jbG9zZSgpfSx7b25jZTohMH0pfWNvbnN0IEY9bmV3IFg7Ri5fd3JpdGU9KHMsaSxEKT0+e3RoaXMuX3RyYWNrJiYodGhpcy52YWx1ZT10aGlzLnJsPy5saW5lLnJlcGxhY2UoL1xcdC9nLFwiXCIpLHRoaXMuX2N1cnNvcj10aGlzLnJsPy5jdXJzb3I/PzAsdGhpcy5lbWl0KFwidmFsdWVcIix0aGlzLnZhbHVlKSksRCgpfSx0aGlzLmlucHV0LnBpcGUoRiksdGhpcy5ybD1PLmNyZWF0ZUludGVyZmFjZSh7aW5wdXQ6dGhpcy5pbnB1dCxvdXRwdXQ6Rix0YWJTaXplOjIscHJvbXB0OlwiXCIsZXNjYXBlQ29kZVRpbWVvdXQ6NTAsdGVybWluYWw6ITB9KSxPLmVtaXRLZXlwcmVzc0V2ZW50cyh0aGlzLmlucHV0LHRoaXMucmwpLHRoaXMucmwucHJvbXB0KCksdGhpcy5vcHRzLmluaXRpYWxWYWx1ZSE9PXZvaWQgMCYmdGhpcy5fdHJhY2smJnRoaXMucmwud3JpdGUodGhpcy5vcHRzLmluaXRpYWxWYWx1ZSksdGhpcy5pbnB1dC5vbihcImtleXByZXNzXCIsdGhpcy5vbktleXByZXNzKSxtKHRoaXMuaW5wdXQsITApLHRoaXMub3V0cHV0Lm9uKFwicmVzaXplXCIsdGhpcy5yZW5kZXIpLHRoaXMucmVuZGVyKCksdGhpcy5vbmNlKFwic3VibWl0XCIsKCk9Pnt0aGlzLm91dHB1dC53cml0ZShsLnNob3cpLHRoaXMub3V0cHV0Lm9mZihcInJlc2l6ZVwiLHRoaXMucmVuZGVyKSxtKHRoaXMuaW5wdXQsITEpLHUodGhpcy52YWx1ZSl9KSx0aGlzLm9uY2UoXCJjYW5jZWxcIiwoKT0+e3RoaXMub3V0cHV0LndyaXRlKGwuc2hvdyksdGhpcy5vdXRwdXQub2ZmKFwicmVzaXplXCIsdGhpcy5yZW5kZXIpLG0odGhpcy5pbnB1dCwhMSksdShTKX0pfSl9b25LZXlwcmVzcyh1LHQpe2lmKHRoaXMuc3RhdGU9PT1cImVycm9yXCImJih0aGlzLnN0YXRlPVwiYWN0aXZlXCIpLHQ/Lm5hbWUmJighdGhpcy5fdHJhY2smJkIuYWxpYXNlcy5oYXModC5uYW1lKSYmdGhpcy5lbWl0KFwiY3Vyc29yXCIsQi5hbGlhc2VzLmdldCh0Lm5hbWUpKSxCLmFjdGlvbnMuaGFzKHQubmFtZSkmJnRoaXMuZW1pdChcImN1cnNvclwiLHQubmFtZSkpLHUmJih1LnRvTG93ZXJDYXNlKCk9PT1cInlcInx8dS50b0xvd2VyQ2FzZSgpPT09XCJuXCIpJiZ0aGlzLmVtaXQoXCJjb25maXJtXCIsdS50b0xvd2VyQ2FzZSgpPT09XCJ5XCIpLHU9PT1cIlx0XCImJnRoaXMub3B0cy5wbGFjZWhvbGRlciYmKHRoaXMudmFsdWV8fCh0aGlzLnJsPy53cml0ZSh0aGlzLm9wdHMucGxhY2Vob2xkZXIpLHRoaXMuZW1pdChcInZhbHVlXCIsdGhpcy5vcHRzLnBsYWNlaG9sZGVyKSkpLHUmJnRoaXMuZW1pdChcImtleVwiLHUudG9Mb3dlckNhc2UoKSksdD8ubmFtZT09PVwicmV0dXJuXCIpe2lmKHRoaXMub3B0cy52YWxpZGF0ZSl7Y29uc3QgRj10aGlzLm9wdHMudmFsaWRhdGUodGhpcy52YWx1ZSk7RiYmKHRoaXMuZXJyb3I9RiBpbnN0YW5jZW9mIEVycm9yP0YubWVzc2FnZTpGLHRoaXMuc3RhdGU9XCJlcnJvclwiLHRoaXMucmw/LndyaXRlKHRoaXMudmFsdWUpKX10aGlzLnN0YXRlIT09XCJlcnJvclwiJiYodGhpcy5zdGF0ZT1cInN1Ym1pdFwiKX0kKFt1LHQ/Lm5hbWUsdD8uc2VxdWVuY2VdLFwiY2FuY2VsXCIpJiYodGhpcy5zdGF0ZT1cImNhbmNlbFwiKSwodGhpcy5zdGF0ZT09PVwic3VibWl0XCJ8fHRoaXMuc3RhdGU9PT1cImNhbmNlbFwiKSYmdGhpcy5lbWl0KFwiZmluYWxpemVcIiksdGhpcy5yZW5kZXIoKSwodGhpcy5zdGF0ZT09PVwic3VibWl0XCJ8fHRoaXMuc3RhdGU9PT1cImNhbmNlbFwiKSYmdGhpcy5jbG9zZSgpfWNsb3NlKCl7dGhpcy5pbnB1dC51bnBpcGUoKSx0aGlzLmlucHV0LnJlbW92ZUxpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLm9uS2V5cHJlc3MpLHRoaXMub3V0cHV0LndyaXRlKGBcbmApLG0odGhpcy5pbnB1dCwhMSksdGhpcy5ybD8uY2xvc2UoKSx0aGlzLnJsPXZvaWQgMCx0aGlzLmVtaXQoYCR7dGhpcy5zdGF0ZX1gLHRoaXMudmFsdWUpLHRoaXMudW5zdWJzY3JpYmUoKX1yZXN0b3JlQ3Vyc29yKCl7Y29uc3QgdT1ZKHRoaXMuX3ByZXZGcmFtZSxwcm9jZXNzLnN0ZG91dC5jb2x1bW5zLHtoYXJkOiEwfSkuc3BsaXQoYFxuYCkubGVuZ3RoLTE7dGhpcy5vdXRwdXQud3JpdGUobC5tb3ZlKC05OTksdSotMSkpfXJlbmRlcigpe2NvbnN0IHU9WSh0aGlzLl9yZW5kZXIodGhpcyk/P1wiXCIscHJvY2Vzcy5zdGRvdXQuY29sdW1ucyx7aGFyZDohMH0pO2lmKHUhPT10aGlzLl9wcmV2RnJhbWUpe2lmKHRoaXMuc3RhdGU9PT1cImluaXRpYWxcIil0aGlzLm91dHB1dC53cml0ZShsLmhpZGUpO2Vsc2V7Y29uc3QgdD1CRCh0aGlzLl9wcmV2RnJhbWUsdSk7aWYodGhpcy5yZXN0b3JlQ3Vyc29yKCksdCYmdD8ubGVuZ3RoPT09MSl7Y29uc3QgRj10WzBdO3RoaXMub3V0cHV0LndyaXRlKGwubW92ZSgwLEYpKSx0aGlzLm91dHB1dC53cml0ZShiLmxpbmVzKDEpKTtjb25zdCBzPXUuc3BsaXQoYFxuYCk7dGhpcy5vdXRwdXQud3JpdGUoc1tGXSksdGhpcy5fcHJldkZyYW1lPXUsdGhpcy5vdXRwdXQud3JpdGUobC5tb3ZlKDAscy5sZW5ndGgtRi0xKSk7cmV0dXJufWlmKHQmJnQ/Lmxlbmd0aD4xKXtjb25zdCBGPXRbMF07dGhpcy5vdXRwdXQud3JpdGUobC5tb3ZlKDAsRikpLHRoaXMub3V0cHV0LndyaXRlKGIuZG93bigpKTtjb25zdCBzPXUuc3BsaXQoYFxuYCkuc2xpY2UoRik7dGhpcy5vdXRwdXQud3JpdGUocy5qb2luKGBcbmApKSx0aGlzLl9wcmV2RnJhbWU9dTtyZXR1cm59dGhpcy5vdXRwdXQud3JpdGUoYi5kb3duKCkpfXRoaXMub3V0cHV0LndyaXRlKHUpLHRoaXMuc3RhdGU9PT1cImluaXRpYWxcIiYmKHRoaXMuc3RhdGU9XCJhY3RpdmVcIiksdGhpcy5fcHJldkZyYW1lPXV9fX1jbGFzcyBkRCBleHRlbmRzIHh7Z2V0IGN1cnNvcigpe3JldHVybiB0aGlzLnZhbHVlPzA6MX1nZXQgX3ZhbHVlKCl7cmV0dXJuIHRoaXMuY3Vyc29yPT09MH1jb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCExKSx0aGlzLnZhbHVlPSEhdS5pbml0aWFsVmFsdWUsdGhpcy5vbihcInZhbHVlXCIsKCk9Pnt0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlfSksdGhpcy5vbihcImNvbmZpcm1cIix0PT57dGhpcy5vdXRwdXQud3JpdGUobC5tb3ZlKDAsLTEpKSx0aGlzLnZhbHVlPXQsdGhpcy5zdGF0ZT1cInN1Ym1pdFwiLHRoaXMuY2xvc2UoKX0pLHRoaXMub24oXCJjdXJzb3JcIiwoKT0+e3RoaXMudmFsdWU9IXRoaXMudmFsdWV9KX19dmFyIG1EPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxiRD0oZSx1LHQpPT51IGluIGU/bUQoZSx1LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6ZVt1XT10LFo9KGUsdSx0KT0+KGJEKGUsdHlwZW9mIHUhPVwic3ltYm9sXCI/dStcIlwiOnUsdCksdCkscT0oZSx1LHQpPT57aWYoIXUuaGFzKGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIit0KX0sVD0oZSx1LHQpPT4ocShlLHUsXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSx0P3QuY2FsbChlKTp1LmdldChlKSksd0Q9KGUsdSx0KT0+e2lmKHUuaGFzKGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7dSBpbnN0YW5jZW9mIFdlYWtTZXQ/dS5hZGQoZSk6dS5zZXQoZSx0KX0seUQ9KGUsdSx0LEYpPT4ocShlLHUsXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLEY/Ri5jYWxsKGUsdCk6dS5zZXQoZSx0KSx0KSxBO2xldCBfRD1jbGFzcyBleHRlbmRzIHh7Y29uc3RydWN0b3IodSl7c3VwZXIodSwhMSksWih0aGlzLFwib3B0aW9uc1wiKSxaKHRoaXMsXCJjdXJzb3JcIiwwKSx3RCh0aGlzLEEsdm9pZCAwKTtjb25zdHtvcHRpb25zOnR9PXU7eUQodGhpcyxBLHUuc2VsZWN0YWJsZUdyb3VwcyE9PSExKSx0aGlzLm9wdGlvbnM9T2JqZWN0LmVudHJpZXModCkuZmxhdE1hcCgoW0Ysc10pPT5be3ZhbHVlOkYsZ3JvdXA6ITAsbGFiZWw6Rn0sLi4ucy5tYXAoaT0+KHsuLi5pLGdyb3VwOkZ9KSldKSx0aGlzLnZhbHVlPVsuLi51LmluaXRpYWxWYWx1ZXM/P1tdXSx0aGlzLmN1cnNvcj1NYXRoLm1heCh0aGlzLm9wdGlvbnMuZmluZEluZGV4KCh7dmFsdWU6Rn0pPT5GPT09dS5jdXJzb3JBdCksVCh0aGlzLEEpPzA6MSksdGhpcy5vbihcImN1cnNvclwiLEY9Pntzd2l0Y2goRil7Y2FzZVwibGVmdFwiOmNhc2VcInVwXCI6e3RoaXMuY3Vyc29yPXRoaXMuY3Vyc29yPT09MD90aGlzLm9wdGlvbnMubGVuZ3RoLTE6dGhpcy5jdXJzb3ItMTtjb25zdCBzPXRoaXMub3B0aW9uc1t0aGlzLmN1cnNvcl0/Lmdyb3VwPT09ITA7IVQodGhpcyxBKSYmcyYmKHRoaXMuY3Vyc29yPXRoaXMuY3Vyc29yPT09MD90aGlzLm9wdGlvbnMubGVuZ3RoLTE6dGhpcy5jdXJzb3ItMSk7YnJlYWt9Y2FzZVwiZG93blwiOmNhc2VcInJpZ2h0XCI6e3RoaXMuY3Vyc29yPXRoaXMuY3Vyc29yPT09dGhpcy5vcHRpb25zLmxlbmd0aC0xPzA6dGhpcy5jdXJzb3IrMTtjb25zdCBzPXRoaXMub3B0aW9uc1t0aGlzLmN1cnNvcl0/Lmdyb3VwPT09ITA7IVQodGhpcyxBKSYmcyYmKHRoaXMuY3Vyc29yPXRoaXMuY3Vyc29yPT09dGhpcy5vcHRpb25zLmxlbmd0aC0xPzA6dGhpcy5jdXJzb3IrMSk7YnJlYWt9Y2FzZVwic3BhY2VcIjp0aGlzLnRvZ2dsZVZhbHVlKCk7YnJlYWt9fSl9Z2V0R3JvdXBJdGVtcyh1KXtyZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcih0PT50Lmdyb3VwPT09dSl9aXNHcm91cFNlbGVjdGVkKHUpe3JldHVybiB0aGlzLmdldEdyb3VwSXRlbXModSkuZXZlcnkodD0+dGhpcy52YWx1ZS5pbmNsdWRlcyh0LnZhbHVlKSl9dG9nZ2xlVmFsdWUoKXtjb25zdCB1PXRoaXMub3B0aW9uc1t0aGlzLmN1cnNvcl07aWYodS5ncm91cD09PSEwKXtjb25zdCB0PXUudmFsdWUsRj10aGlzLmdldEdyb3VwSXRlbXModCk7dGhpcy5pc0dyb3VwU2VsZWN0ZWQodCk/dGhpcy52YWx1ZT10aGlzLnZhbHVlLmZpbHRlcihzPT5GLmZpbmRJbmRleChpPT5pLnZhbHVlPT09cyk9PT0tMSk6dGhpcy52YWx1ZT1bLi4udGhpcy52YWx1ZSwuLi5GLm1hcChzPT5zLnZhbHVlKV0sdGhpcy52YWx1ZT1BcnJheS5mcm9tKG5ldyBTZXQodGhpcy52YWx1ZSkpfWVsc2V7Y29uc3QgdD10aGlzLnZhbHVlLmluY2x1ZGVzKHUudmFsdWUpO3RoaXMudmFsdWU9dD90aGlzLnZhbHVlLmZpbHRlcihGPT5GIT09dS52YWx1ZSk6Wy4uLnRoaXMudmFsdWUsdS52YWx1ZV19fX07QT1uZXcgV2Vha01hcDt2YXIga0Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LCREPShlLHUsdCk9PnUgaW4gZT9rRChlLHUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTplW3VdPXQsSD0oZSx1LHQpPT4oJEQoZSx0eXBlb2YgdSE9XCJzeW1ib2xcIj91K1wiXCI6dSx0KSx0KTtsZXQgU0Q9Y2xhc3MgZXh0ZW5kcyB4e2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsITEpLEgodGhpcyxcIm9wdGlvbnNcIiksSCh0aGlzLFwiY3Vyc29yXCIsMCksdGhpcy5vcHRpb25zPXUub3B0aW9ucyx0aGlzLnZhbHVlPVsuLi51LmluaXRpYWxWYWx1ZXM/P1tdXSx0aGlzLmN1cnNvcj1NYXRoLm1heCh0aGlzLm9wdGlvbnMuZmluZEluZGV4KCh7dmFsdWU6dH0pPT50PT09dS5jdXJzb3JBdCksMCksdGhpcy5vbihcImtleVwiLHQ9Pnt0PT09XCJhXCImJnRoaXMudG9nZ2xlQWxsKCl9KSx0aGlzLm9uKFwiY3Vyc29yXCIsdD0+e3N3aXRjaCh0KXtjYXNlXCJsZWZ0XCI6Y2FzZVwidXBcIjp0aGlzLmN1cnNvcj10aGlzLmN1cnNvcj09PTA/dGhpcy5vcHRpb25zLmxlbmd0aC0xOnRoaXMuY3Vyc29yLTE7YnJlYWs7Y2FzZVwiZG93blwiOmNhc2VcInJpZ2h0XCI6dGhpcy5jdXJzb3I9dGhpcy5jdXJzb3I9PT10aGlzLm9wdGlvbnMubGVuZ3RoLTE/MDp0aGlzLmN1cnNvcisxO2JyZWFrO2Nhc2VcInNwYWNlXCI6dGhpcy50b2dnbGVWYWx1ZSgpO2JyZWFrfX0pfWdldCBfdmFsdWUoKXtyZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuY3Vyc29yXS52YWx1ZX10b2dnbGVBbGwoKXtjb25zdCB1PXRoaXMudmFsdWUubGVuZ3RoPT09dGhpcy5vcHRpb25zLmxlbmd0aDt0aGlzLnZhbHVlPXU/W106dGhpcy5vcHRpb25zLm1hcCh0PT50LnZhbHVlKX10b2dnbGVWYWx1ZSgpe2NvbnN0IHU9dGhpcy52YWx1ZS5pbmNsdWRlcyh0aGlzLl92YWx1ZSk7dGhpcy52YWx1ZT11P3RoaXMudmFsdWUuZmlsdGVyKHQ9PnQhPT10aGlzLl92YWx1ZSk6Wy4uLnRoaXMudmFsdWUsdGhpcy5fdmFsdWVdfX07dmFyIFREPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxqRD0oZSx1LHQpPT51IGluIGU/VEQoZSx1LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6ZVt1XT10LFU9KGUsdSx0KT0+KGpEKGUsdHlwZW9mIHUhPVwic3ltYm9sXCI/dStcIlwiOnUsdCksdCk7Y2xhc3MgTUQgZXh0ZW5kcyB4e2NvbnN0cnVjdG9yKHttYXNrOnUsLi4udH0pe3N1cGVyKHQpLFUodGhpcyxcInZhbHVlV2l0aEN1cnNvclwiLFwiXCIpLFUodGhpcyxcIl9tYXNrXCIsXCJcXHUyMDIyXCIpLHRoaXMuX21hc2s9dT8/XCJcXHUyMDIyXCIsdGhpcy5vbihcImZpbmFsaXplXCIsKCk9Pnt0aGlzLnZhbHVlV2l0aEN1cnNvcj10aGlzLm1hc2tlZH0pLHRoaXMub24oXCJ2YWx1ZVwiLCgpPT57aWYodGhpcy5jdXJzb3I+PXRoaXMudmFsdWUubGVuZ3RoKXRoaXMudmFsdWVXaXRoQ3Vyc29yPWAke3RoaXMubWFza2VkfSR7di5pbnZlcnNlKHYuaGlkZGVuKFwiX1wiKSl9YDtlbHNle2NvbnN0IEY9dGhpcy5tYXNrZWQuc2xpY2UoMCx0aGlzLmN1cnNvcikscz10aGlzLm1hc2tlZC5zbGljZSh0aGlzLmN1cnNvcik7dGhpcy52YWx1ZVdpdGhDdXJzb3I9YCR7Rn0ke3YuaW52ZXJzZShzWzBdKX0ke3Muc2xpY2UoMSl9YH19KX1nZXQgY3Vyc29yKCl7cmV0dXJuIHRoaXMuX2N1cnNvcn1nZXQgbWFza2VkKCl7cmV0dXJuIHRoaXMudmFsdWUucmVwbGFjZUFsbCgvLi9nLHRoaXMuX21hc2spfX12YXIgT0Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LFBEPShlLHUsdCk9PnUgaW4gZT9PRChlLHUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTplW3VdPXQsSj0oZSx1LHQpPT4oUEQoZSx0eXBlb2YgdSE9XCJzeW1ib2xcIj91K1wiXCI6dSx0KSx0KTtjbGFzcyBMRCBleHRlbmRzIHh7Y29uc3RydWN0b3IodSl7c3VwZXIodSwhMSksSih0aGlzLFwib3B0aW9uc1wiKSxKKHRoaXMsXCJjdXJzb3JcIiwwKSx0aGlzLm9wdGlvbnM9dS5vcHRpb25zLHRoaXMuY3Vyc29yPXRoaXMub3B0aW9ucy5maW5kSW5kZXgoKHt2YWx1ZTp0fSk9PnQ9PT11LmluaXRpYWxWYWx1ZSksdGhpcy5jdXJzb3I9PT0tMSYmKHRoaXMuY3Vyc29yPTApLHRoaXMuY2hhbmdlVmFsdWUoKSx0aGlzLm9uKFwiY3Vyc29yXCIsdD0+e3N3aXRjaCh0KXtjYXNlXCJsZWZ0XCI6Y2FzZVwidXBcIjp0aGlzLmN1cnNvcj10aGlzLmN1cnNvcj09PTA/dGhpcy5vcHRpb25zLmxlbmd0aC0xOnRoaXMuY3Vyc29yLTE7YnJlYWs7Y2FzZVwiZG93blwiOmNhc2VcInJpZ2h0XCI6dGhpcy5jdXJzb3I9dGhpcy5jdXJzb3I9PT10aGlzLm9wdGlvbnMubGVuZ3RoLTE/MDp0aGlzLmN1cnNvcisxO2JyZWFrfXRoaXMuY2hhbmdlVmFsdWUoKX0pfWdldCBfdmFsdWUoKXtyZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuY3Vyc29yXX1jaGFuZ2VWYWx1ZSgpe3RoaXMudmFsdWU9dGhpcy5fdmFsdWUudmFsdWV9fXZhciBXRD1PYmplY3QuZGVmaW5lUHJvcGVydHksTkQ9KGUsdSx0KT0+dSBpbiBlP1dEKGUsdSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOmVbdV09dCxRPShlLHUsdCk9PihORChlLHR5cGVvZiB1IT1cInN5bWJvbFwiP3UrXCJcIjp1LHQpLHQpO2NsYXNzIElEIGV4dGVuZHMgeHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCExKSxRKHRoaXMsXCJvcHRpb25zXCIpLFEodGhpcyxcImN1cnNvclwiLDApLHRoaXMub3B0aW9ucz11Lm9wdGlvbnM7Y29uc3QgdD10aGlzLm9wdGlvbnMubWFwKCh7dmFsdWU6W0ZdfSk9PkY/LnRvTG93ZXJDYXNlKCkpO3RoaXMuY3Vyc29yPU1hdGgubWF4KHQuaW5kZXhPZih1LmluaXRpYWxWYWx1ZSksMCksdGhpcy5vbihcImtleVwiLEY9PntpZighdC5pbmNsdWRlcyhGKSlyZXR1cm47Y29uc3Qgcz10aGlzLm9wdGlvbnMuZmluZCgoe3ZhbHVlOltpXX0pPT5pPy50b0xvd2VyQ2FzZSgpPT09Rik7cyYmKHRoaXMudmFsdWU9cy52YWx1ZSx0aGlzLnN0YXRlPVwic3VibWl0XCIsdGhpcy5lbWl0KFwic3VibWl0XCIpKX0pfX1jbGFzcyBSRCBleHRlbmRzIHh7Z2V0IHZhbHVlV2l0aEN1cnNvcigpe2lmKHRoaXMuc3RhdGU9PT1cInN1Ym1pdFwiKXJldHVybiB0aGlzLnZhbHVlO2lmKHRoaXMuY3Vyc29yPj10aGlzLnZhbHVlLmxlbmd0aClyZXR1cm5gJHt0aGlzLnZhbHVlfVxcdTI1ODhgO2NvbnN0IHU9dGhpcy52YWx1ZS5zbGljZSgwLHRoaXMuY3Vyc29yKSxbdCwuLi5GXT10aGlzLnZhbHVlLnNsaWNlKHRoaXMuY3Vyc29yKTtyZXR1cm5gJHt1fSR7di5pbnZlcnNlKHQpfSR7Ri5qb2luKFwiXCIpfWB9Z2V0IGN1cnNvcigpe3JldHVybiB0aGlzLl9jdXJzb3J9Y29uc3RydWN0b3IodSl7c3VwZXIodSksdGhpcy5vbihcImZpbmFsaXplXCIsKCk9Pnt0aGlzLnZhbHVlfHwodGhpcy52YWx1ZT11LmRlZmF1bHRWYWx1ZSl9KX19ZXhwb3J0e2REIGFzIENvbmZpcm1Qcm9tcHQsX0QgYXMgR3JvdXBNdWx0aVNlbGVjdFByb21wdCxTRCBhcyBNdWx0aVNlbGVjdFByb21wdCxNRCBhcyBQYXNzd29yZFByb21wdCx4IGFzIFByb21wdCxJRCBhcyBTZWxlY3RLZXlQcm9tcHQsTEQgYXMgU2VsZWN0UHJvbXB0LFJEIGFzIFRleHRQcm9tcHQsZkQgYXMgYmxvY2sscEQgYXMgaXNDYW5jZWwsY0QgYXMgdXBkYXRlU2V0dGluZ3N9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwKICAgICJpbXBvcnR7c3RyaXBWVENvbnRyb2xDaGFyYWN0ZXJzIGFzIFN9ZnJvbVwibm9kZTp1dGlsXCI7aW1wb3J0e1RleHRQcm9tcHQgYXMgUSxQYXNzd29yZFByb21wdCBhcyBYLENvbmZpcm1Qcm9tcHQgYXMgWixTZWxlY3RQcm9tcHQgYXMgZWUsU2VsZWN0S2V5UHJvbXB0IGFzIHRlLE11bHRpU2VsZWN0UHJvbXB0IGFzIHJlLEdyb3VwTXVsdGlTZWxlY3RQcm9tcHQgYXMgc2UsaXNDYW5jZWwgYXMgaWUsYmxvY2sgYXMgbmV9ZnJvbVwiQGNsYWNrL2NvcmVcIjtleHBvcnR7aXNDYW5jZWwsdXBkYXRlU2V0dGluZ3N9ZnJvbVwiQGNsYWNrL2NvcmVcIjtpbXBvcnQgeSBmcm9tXCJub2RlOnByb2Nlc3NcIjtpbXBvcnQgZSBmcm9tXCJwaWNvY29sb3JzXCI7aW1wb3J0e2N1cnNvciBhcyBvZSxlcmFzZSBhcyBhZX1mcm9tXCJzaXN0ZXJhbnNpXCI7ZnVuY3Rpb24gY2UoKXtyZXR1cm4geS5wbGF0Zm9ybSE9PVwid2luMzJcIj95LmVudi5URVJNIT09XCJsaW51eFwiOiEheS5lbnYuQ0l8fCEheS5lbnYuV1RfU0VTU0lPTnx8ISF5LmVudi5URVJNSU5VU19TVUJMSU1FfHx5LmVudi5Db25FbXVUYXNrPT09XCJ7Y21kOjpDbWRlcn1cInx8eS5lbnYuVEVSTV9QUk9HUkFNPT09XCJUZXJtaW51cy1TdWJsaW1lXCJ8fHkuZW52LlRFUk1fUFJPR1JBTT09PVwidnNjb2RlXCJ8fHkuZW52LlRFUk09PT1cInh0ZXJtLTI1NmNvbG9yXCJ8fHkuZW52LlRFUk09PT1cImFsYWNyaXR0eVwifHx5LmVudi5URVJNSU5BTF9FTVVMQVRPUj09PVwiSmV0QnJhaW5zLUplZGlUZXJtXCJ9Y29uc3QgVj1jZSgpLHU9KHQsbik9PlY/dDpuLGxlPXUoXCJcXHUyNUM2XCIsXCIqXCIpLEw9dShcIlxcdTI1QTBcIixcInhcIiksVz11KFwiXFx1MjVCMlwiLFwieFwiKSxDPXUoXCJcXHUyNUM3XCIsXCJvXCIpLHVlPXUoXCJcXHUyNTBDXCIsXCJUXCIpLG89dShcIlxcdTI1MDJcIixcInxcIiksZD11KFwiXFx1MjUxNFwiLFwiXFx1MjAxNFwiKSxrPXUoXCJcXHUyNUNGXCIsXCI+XCIpLFA9dShcIlxcdTI1Q0JcIixcIiBcIiksQT11KFwiXFx1MjVGQlwiLFwiW1xcdTIwMjJdXCIpLFQ9dShcIlxcdTI1RkNcIixcIlsrXVwiKSxGPXUoXCJcXHUyNUZCXCIsXCJbIF1cIiksJGU9dShcIlxcdTI1QUFcIixcIlxcdTIwMjJcIiksXz11KFwiXFx1MjUwMFwiLFwiLVwiKSxtZT11KFwiXFx1MjU2RVwiLFwiK1wiKSxkZT11KFwiXFx1MjUxQ1wiLFwiK1wiKSxwZT11KFwiXFx1MjU2RlwiLFwiK1wiKSxxPXUoXCJcXHUyNUNGXCIsXCJcXHUyMDIyXCIpLEQ9dShcIlxcdTI1QzZcIixcIipcIiksVT11KFwiXFx1MjVCMlwiLFwiIVwiKSxLPXUoXCJcXHUyNUEwXCIsXCJ4XCIpLGI9dD0+e3N3aXRjaCh0KXtjYXNlXCJpbml0aWFsXCI6Y2FzZVwiYWN0aXZlXCI6cmV0dXJuIGUuY3lhbihsZSk7Y2FzZVwiY2FuY2VsXCI6cmV0dXJuIGUucmVkKEwpO2Nhc2VcImVycm9yXCI6cmV0dXJuIGUueWVsbG93KFcpO2Nhc2VcInN1Ym1pdFwiOnJldHVybiBlLmdyZWVuKEMpfX0sRz10PT57Y29uc3R7Y3Vyc29yOm4sb3B0aW9uczpyLHN0eWxlOml9PXQscz10Lm1heEl0ZW1zPz9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYz1NYXRoLm1heChwcm9jZXNzLnN0ZG91dC5yb3dzLTQsMCksYT1NYXRoLm1pbihjLE1hdGgubWF4KHMsNSkpO2xldCBsPTA7bj49bCthLTM/bD1NYXRoLm1heChNYXRoLm1pbihuLWErMyxyLmxlbmd0aC1hKSwwKTpuPGwrMiYmKGw9TWF0aC5tYXgobi0yLDApKTtjb25zdCAkPWE8ci5sZW5ndGgmJmw+MCxnPWE8ci5sZW5ndGgmJmwrYTxyLmxlbmd0aDtyZXR1cm4gci5zbGljZShsLGwrYSkubWFwKChwLHYsZik9Pntjb25zdCBqPXY9PT0wJiYkLEU9dj09PWYubGVuZ3RoLTEmJmc7cmV0dXJuIGp8fEU/ZS5kaW0oXCIuLi5cIik6aShwLHYrbD09PW4pfSl9LGhlPXQ9Pm5ldyBRKHt2YWxpZGF0ZTp0LnZhbGlkYXRlLHBsYWNlaG9sZGVyOnQucGxhY2Vob2xkZXIsZGVmYXVsdFZhbHVlOnQuZGVmYXVsdFZhbHVlLGluaXRpYWxWYWx1ZTp0LmluaXRpYWxWYWx1ZSxyZW5kZXIoKXtjb25zdCBuPWAke2UuZ3JheShvKX1cbiR7Yih0aGlzLnN0YXRlKX0gICR7dC5tZXNzYWdlfVxuYCxyPXQucGxhY2Vob2xkZXI/ZS5pbnZlcnNlKHQucGxhY2Vob2xkZXJbMF0pK2UuZGltKHQucGxhY2Vob2xkZXIuc2xpY2UoMSkpOmUuaW52ZXJzZShlLmhpZGRlbihcIl9cIikpLGk9dGhpcy52YWx1ZT90aGlzLnZhbHVlV2l0aEN1cnNvcjpyO3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlXCJlcnJvclwiOnJldHVybmAke24udHJpbSgpfVxuJHtlLnllbGxvdyhvKX0gICR7aX1cbiR7ZS55ZWxsb3coZCl9ICAke2UueWVsbG93KHRoaXMuZXJyb3IpfVxuYDtjYXNlXCJzdWJtaXRcIjpyZXR1cm5gJHtufSR7ZS5ncmF5KG8pfSAgJHtlLmRpbSh0aGlzLnZhbHVlfHx0LnBsYWNlaG9sZGVyKX1gO2Nhc2VcImNhbmNlbFwiOnJldHVybmAke259JHtlLmdyYXkobyl9ICAke2Uuc3RyaWtldGhyb3VnaChlLmRpbSh0aGlzLnZhbHVlPz9cIlwiKSl9JHt0aGlzLnZhbHVlPy50cmltKCk/YFxuJHtlLmdyYXkobyl9YDpcIlwifWA7ZGVmYXVsdDpyZXR1cm5gJHtufSR7ZS5jeWFuKG8pfSAgJHtpfVxuJHtlLmN5YW4oZCl9XG5gfX19KS5wcm9tcHQoKSxnZT10PT5uZXcgWCh7dmFsaWRhdGU6dC52YWxpZGF0ZSxtYXNrOnQubWFzaz8/JGUscmVuZGVyKCl7Y29uc3Qgbj1gJHtlLmdyYXkobyl9XG4ke2IodGhpcy5zdGF0ZSl9ICAke3QubWVzc2FnZX1cbmAscj10aGlzLnZhbHVlV2l0aEN1cnNvcixpPXRoaXMubWFza2VkO3N3aXRjaCh0aGlzLnN0YXRlKXtjYXNlXCJlcnJvclwiOnJldHVybmAke24udHJpbSgpfVxuJHtlLnllbGxvdyhvKX0gICR7aX1cbiR7ZS55ZWxsb3coZCl9ICAke2UueWVsbG93KHRoaXMuZXJyb3IpfVxuYDtjYXNlXCJzdWJtaXRcIjpyZXR1cm5gJHtufSR7ZS5ncmF5KG8pfSAgJHtlLmRpbShpKX1gO2Nhc2VcImNhbmNlbFwiOnJldHVybmAke259JHtlLmdyYXkobyl9ICAke2Uuc3RyaWtldGhyb3VnaChlLmRpbShpPz9cIlwiKSl9JHtpP2BcbiR7ZS5ncmF5KG8pfWA6XCJcIn1gO2RlZmF1bHQ6cmV0dXJuYCR7bn0ke2UuY3lhbihvKX0gICR7cn1cbiR7ZS5jeWFuKGQpfVxuYH19fSkucHJvbXB0KCkseWU9dD0+e2NvbnN0IG49dC5hY3RpdmU/P1wiWWVzXCIscj10LmluYWN0aXZlPz9cIk5vXCI7cmV0dXJuIG5ldyBaKHthY3RpdmU6bixpbmFjdGl2ZTpyLGluaXRpYWxWYWx1ZTp0LmluaXRpYWxWYWx1ZT8/ITAscmVuZGVyKCl7Y29uc3QgaT1gJHtlLmdyYXkobyl9XG4ke2IodGhpcy5zdGF0ZSl9ICAke3QubWVzc2FnZX1cbmAscz10aGlzLnZhbHVlP246cjtzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZVwic3VibWl0XCI6cmV0dXJuYCR7aX0ke2UuZ3JheShvKX0gICR7ZS5kaW0ocyl9YDtjYXNlXCJjYW5jZWxcIjpyZXR1cm5gJHtpfSR7ZS5ncmF5KG8pfSAgJHtlLnN0cmlrZXRocm91Z2goZS5kaW0ocykpfVxuJHtlLmdyYXkobyl9YDtkZWZhdWx0OnJldHVybmAke2l9JHtlLmN5YW4obyl9ICAke3RoaXMudmFsdWU/YCR7ZS5ncmVlbihrKX0gJHtufWA6YCR7ZS5kaW0oUCl9ICR7ZS5kaW0obil9YH0gJHtlLmRpbShcIi9cIil9ICR7dGhpcy52YWx1ZT9gJHtlLmRpbShQKX0gJHtlLmRpbShyKX1gOmAke2UuZ3JlZW4oayl9ICR7cn1gfVxuJHtlLmN5YW4oZCl9XG5gfX19KS5wcm9tcHQoKX0sdmU9dD0+e2NvbnN0IG49KHIsaSk9Pntjb25zdCBzPXIubGFiZWw/P1N0cmluZyhyLnZhbHVlKTtzd2l0Y2goaSl7Y2FzZVwic2VsZWN0ZWRcIjpyZXR1cm5gJHtlLmRpbShzKX1gO2Nhc2VcImFjdGl2ZVwiOnJldHVybmAke2UuZ3JlZW4oayl9ICR7c30gJHtyLmhpbnQ/ZS5kaW0oYCgke3IuaGludH0pYCk6XCJcIn1gO2Nhc2VcImNhbmNlbGxlZFwiOnJldHVybmAke2Uuc3RyaWtldGhyb3VnaChlLmRpbShzKSl9YDtkZWZhdWx0OnJldHVybmAke2UuZGltKFApfSAke2UuZGltKHMpfWB9fTtyZXR1cm4gbmV3IGVlKHtvcHRpb25zOnQub3B0aW9ucyxpbml0aWFsVmFsdWU6dC5pbml0aWFsVmFsdWUscmVuZGVyKCl7Y29uc3Qgcj1gJHtlLmdyYXkobyl9XG4ke2IodGhpcy5zdGF0ZSl9ICAke3QubWVzc2FnZX1cbmA7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2VcInN1Ym1pdFwiOnJldHVybmAke3J9JHtlLmdyYXkobyl9ICAke24odGhpcy5vcHRpb25zW3RoaXMuY3Vyc29yXSxcInNlbGVjdGVkXCIpfWA7Y2FzZVwiY2FuY2VsXCI6cmV0dXJuYCR7cn0ke2UuZ3JheShvKX0gICR7bih0aGlzLm9wdGlvbnNbdGhpcy5jdXJzb3JdLFwiY2FuY2VsbGVkXCIpfVxuJHtlLmdyYXkobyl9YDtkZWZhdWx0OnJldHVybmAke3J9JHtlLmN5YW4obyl9ICAke0coe2N1cnNvcjp0aGlzLmN1cnNvcixvcHRpb25zOnRoaXMub3B0aW9ucyxtYXhJdGVtczp0Lm1heEl0ZW1zLHN0eWxlOihpLHMpPT5uKGkscz9cImFjdGl2ZVwiOlwiaW5hY3RpdmVcIil9KS5qb2luKGBcbiR7ZS5jeWFuKG8pfSAgYCl9XG4ke2UuY3lhbihkKX1cbmB9fX0pLnByb21wdCgpfSx3ZT10PT57Y29uc3Qgbj0ocixpPVwiaW5hY3RpdmVcIik9Pntjb25zdCBzPXIubGFiZWw/P1N0cmluZyhyLnZhbHVlKTtyZXR1cm4gaT09PVwic2VsZWN0ZWRcIj9gJHtlLmRpbShzKX1gOmk9PT1cImNhbmNlbGxlZFwiP2Ake2Uuc3RyaWtldGhyb3VnaChlLmRpbShzKSl9YDppPT09XCJhY3RpdmVcIj9gJHtlLmJnQ3lhbihlLmdyYXkoYCAke3IudmFsdWV9IGApKX0gJHtzfSAke3IuaGludD9lLmRpbShgKCR7ci5oaW50fSlgKTpcIlwifWA6YCR7ZS5ncmF5KGUuYmdXaGl0ZShlLmludmVyc2UoYCAke3IudmFsdWV9IGApKSl9ICR7c30gJHtyLmhpbnQ/ZS5kaW0oYCgke3IuaGludH0pYCk6XCJcIn1gfTtyZXR1cm4gbmV3IHRlKHtvcHRpb25zOnQub3B0aW9ucyxpbml0aWFsVmFsdWU6dC5pbml0aWFsVmFsdWUscmVuZGVyKCl7Y29uc3Qgcj1gJHtlLmdyYXkobyl9XG4ke2IodGhpcy5zdGF0ZSl9ICAke3QubWVzc2FnZX1cbmA7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2VcInN1Ym1pdFwiOnJldHVybmAke3J9JHtlLmdyYXkobyl9ICAke24odGhpcy5vcHRpb25zLmZpbmQoaT0+aS52YWx1ZT09PXRoaXMudmFsdWUpPz90Lm9wdGlvbnNbMF0sXCJzZWxlY3RlZFwiKX1gO2Nhc2VcImNhbmNlbFwiOnJldHVybmAke3J9JHtlLmdyYXkobyl9ICAke24odGhpcy5vcHRpb25zWzBdLFwiY2FuY2VsbGVkXCIpfVxuJHtlLmdyYXkobyl9YDtkZWZhdWx0OnJldHVybmAke3J9JHtlLmN5YW4obyl9ICAke3RoaXMub3B0aW9ucy5tYXAoKGkscyk9Pm4oaSxzPT09dGhpcy5jdXJzb3I/XCJhY3RpdmVcIjpcImluYWN0aXZlXCIpKS5qb2luKGBcbiR7ZS5jeWFuKG8pfSAgYCl9XG4ke2UuY3lhbihkKX1cbmB9fX0pLnByb21wdCgpfSxmZT10PT57Y29uc3Qgbj0ocixpKT0+e2NvbnN0IHM9ci5sYWJlbD8/U3RyaW5nKHIudmFsdWUpO3JldHVybiBpPT09XCJhY3RpdmVcIj9gJHtlLmN5YW4oQSl9ICR7c30gJHtyLmhpbnQ/ZS5kaW0oYCgke3IuaGludH0pYCk6XCJcIn1gOmk9PT1cInNlbGVjdGVkXCI/YCR7ZS5ncmVlbihUKX0gJHtlLmRpbShzKX0gJHtyLmhpbnQ/ZS5kaW0oYCgke3IuaGludH0pYCk6XCJcIn1gOmk9PT1cImNhbmNlbGxlZFwiP2Ake2Uuc3RyaWtldGhyb3VnaChlLmRpbShzKSl9YDppPT09XCJhY3RpdmUtc2VsZWN0ZWRcIj9gJHtlLmdyZWVuKFQpfSAke3N9ICR7ci5oaW50P2UuZGltKGAoJHtyLmhpbnR9KWApOlwiXCJ9YDppPT09XCJzdWJtaXR0ZWRcIj9gJHtlLmRpbShzKX1gOmAke2UuZGltKEYpfSAke2UuZGltKHMpfWB9O3JldHVybiBuZXcgcmUoe29wdGlvbnM6dC5vcHRpb25zLGluaXRpYWxWYWx1ZXM6dC5pbml0aWFsVmFsdWVzLHJlcXVpcmVkOnQucmVxdWlyZWQ/PyEwLGN1cnNvckF0OnQuY3Vyc29yQXQsdmFsaWRhdGUocil7aWYodGhpcy5yZXF1aXJlZCYmci5sZW5ndGg9PT0wKXJldHVybmBQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBvcHRpb24uXG4ke2UucmVzZXQoZS5kaW0oYFByZXNzICR7ZS5ncmF5KGUuYmdXaGl0ZShlLmludmVyc2UoXCIgc3BhY2UgXCIpKSl9IHRvIHNlbGVjdCwgJHtlLmdyYXkoZS5iZ1doaXRlKGUuaW52ZXJzZShcIiBlbnRlciBcIikpKX0gdG8gc3VibWl0YCkpfWB9LHJlbmRlcigpe2NvbnN0IHI9YCR7ZS5ncmF5KG8pfVxuJHtiKHRoaXMuc3RhdGUpfSAgJHt0Lm1lc3NhZ2V9XG5gLGk9KHMsYyk9Pntjb25zdCBhPXRoaXMudmFsdWUuaW5jbHVkZXMocy52YWx1ZSk7cmV0dXJuIGMmJmE/bihzLFwiYWN0aXZlLXNlbGVjdGVkXCIpOmE/bihzLFwic2VsZWN0ZWRcIik6bihzLGM/XCJhY3RpdmVcIjpcImluYWN0aXZlXCIpfTtzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZVwic3VibWl0XCI6cmV0dXJuYCR7cn0ke2UuZ3JheShvKX0gICR7dGhpcy5vcHRpb25zLmZpbHRlcigoe3ZhbHVlOnN9KT0+dGhpcy52YWx1ZS5pbmNsdWRlcyhzKSkubWFwKHM9Pm4ocyxcInN1Ym1pdHRlZFwiKSkuam9pbihlLmRpbShcIiwgXCIpKXx8ZS5kaW0oXCJub25lXCIpfWA7Y2FzZVwiY2FuY2VsXCI6e2NvbnN0IHM9dGhpcy5vcHRpb25zLmZpbHRlcigoe3ZhbHVlOmN9KT0+dGhpcy52YWx1ZS5pbmNsdWRlcyhjKSkubWFwKGM9Pm4oYyxcImNhbmNlbGxlZFwiKSkuam9pbihlLmRpbShcIiwgXCIpKTtyZXR1cm5gJHtyfSR7ZS5ncmF5KG8pfSAgJHtzLnRyaW0oKT9gJHtzfVxuJHtlLmdyYXkobyl9YDpcIlwifWB9Y2FzZVwiZXJyb3JcIjp7Y29uc3Qgcz10aGlzLmVycm9yLnNwbGl0KGBcbmApLm1hcCgoYyxhKT0+YT09PTA/YCR7ZS55ZWxsb3coZCl9ICAke2UueWVsbG93KGMpfWA6YCAgICR7Y31gKS5qb2luKGBcbmApO3JldHVybmAke3IrZS55ZWxsb3cobyl9ICAke0coe29wdGlvbnM6dGhpcy5vcHRpb25zLGN1cnNvcjp0aGlzLmN1cnNvcixtYXhJdGVtczp0Lm1heEl0ZW1zLHN0eWxlOml9KS5qb2luKGBcbiR7ZS55ZWxsb3cobyl9ICBgKX1cbiR7c31cbmB9ZGVmYXVsdDpyZXR1cm5gJHtyfSR7ZS5jeWFuKG8pfSAgJHtHKHtvcHRpb25zOnRoaXMub3B0aW9ucyxjdXJzb3I6dGhpcy5jdXJzb3IsbWF4SXRlbXM6dC5tYXhJdGVtcyxzdHlsZTppfSkuam9pbihgXG4ke2UuY3lhbihvKX0gIGApfVxuJHtlLmN5YW4oZCl9XG5gfX19KS5wcm9tcHQoKX0sYmU9dD0+e2NvbnN0e3NlbGVjdGFibGVHcm91cHM6bj0hMH09dCxyPShpLHMsYz1bXSk9Pntjb25zdCBhPWkubGFiZWw/P1N0cmluZyhpLnZhbHVlKSxsPXR5cGVvZiBpLmdyb3VwPT1cInN0cmluZ1wiLCQ9bCYmKGNbYy5pbmRleE9mKGkpKzFdPz97Z3JvdXA6ITB9KSxnPWwmJiQuZ3JvdXA9PT0hMCxwPWw/bj9gJHtnP2Q6b30gYDpcIiAgXCI6XCJcIjtpZihzPT09XCJhY3RpdmVcIilyZXR1cm5gJHtlLmRpbShwKX0ke2UuY3lhbihBKX0gJHthfSAke2kuaGludD9lLmRpbShgKCR7aS5oaW50fSlgKTpcIlwifWA7aWYocz09PVwiZ3JvdXAtYWN0aXZlXCIpcmV0dXJuYCR7cH0ke2UuY3lhbihBKX0gJHtlLmRpbShhKX1gO2lmKHM9PT1cImdyb3VwLWFjdGl2ZS1zZWxlY3RlZFwiKXJldHVybmAke3B9JHtlLmdyZWVuKFQpfSAke2UuZGltKGEpfWA7aWYocz09PVwic2VsZWN0ZWRcIil7Y29uc3QgZj1sfHxuP2UuZ3JlZW4oVCk6XCJcIjtyZXR1cm5gJHtlLmRpbShwKX0ke2Z9ICR7ZS5kaW0oYSl9ICR7aS5oaW50P2UuZGltKGAoJHtpLmhpbnR9KWApOlwiXCJ9YH1pZihzPT09XCJjYW5jZWxsZWRcIilyZXR1cm5gJHtlLnN0cmlrZXRocm91Z2goZS5kaW0oYSkpfWA7aWYocz09PVwiYWN0aXZlLXNlbGVjdGVkXCIpcmV0dXJuYCR7ZS5kaW0ocCl9JHtlLmdyZWVuKFQpfSAke2F9ICR7aS5oaW50P2UuZGltKGAoJHtpLmhpbnR9KWApOlwiXCJ9YDtpZihzPT09XCJzdWJtaXR0ZWRcIilyZXR1cm5gJHtlLmRpbShhKX1gO2NvbnN0IHY9bHx8bj9lLmRpbShGKTpcIlwiO3JldHVybmAke2UuZGltKHApfSR7dn0gJHtlLmRpbShhKX1gfTtyZXR1cm4gbmV3IHNlKHtvcHRpb25zOnQub3B0aW9ucyxpbml0aWFsVmFsdWVzOnQuaW5pdGlhbFZhbHVlcyxyZXF1aXJlZDp0LnJlcXVpcmVkPz8hMCxjdXJzb3JBdDp0LmN1cnNvckF0LHNlbGVjdGFibGVHcm91cHM6bix2YWxpZGF0ZShpKXtpZih0aGlzLnJlcXVpcmVkJiZpLmxlbmd0aD09PTApcmV0dXJuYFBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIG9wdGlvbi5cbiR7ZS5yZXNldChlLmRpbShgUHJlc3MgJHtlLmdyYXkoZS5iZ1doaXRlKGUuaW52ZXJzZShcIiBzcGFjZSBcIikpKX0gdG8gc2VsZWN0LCAke2UuZ3JheShlLmJnV2hpdGUoZS5pbnZlcnNlKFwiIGVudGVyIFwiKSkpfSB0byBzdWJtaXRgKSl9YH0scmVuZGVyKCl7Y29uc3QgaT1gJHtlLmdyYXkobyl9XG4ke2IodGhpcy5zdGF0ZSl9ICAke3QubWVzc2FnZX1cbmA7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2VcInN1Ym1pdFwiOnJldHVybmAke2l9JHtlLmdyYXkobyl9ICAke3RoaXMub3B0aW9ucy5maWx0ZXIoKHt2YWx1ZTpzfSk9PnRoaXMudmFsdWUuaW5jbHVkZXMocykpLm1hcChzPT5yKHMsXCJzdWJtaXR0ZWRcIikpLmpvaW4oZS5kaW0oXCIsIFwiKSl9YDtjYXNlXCJjYW5jZWxcIjp7Y29uc3Qgcz10aGlzLm9wdGlvbnMuZmlsdGVyKCh7dmFsdWU6Y30pPT50aGlzLnZhbHVlLmluY2x1ZGVzKGMpKS5tYXAoYz0+cihjLFwiY2FuY2VsbGVkXCIpKS5qb2luKGUuZGltKFwiLCBcIikpO3JldHVybmAke2l9JHtlLmdyYXkobyl9ICAke3MudHJpbSgpP2Ake3N9XG4ke2UuZ3JheShvKX1gOlwiXCJ9YH1jYXNlXCJlcnJvclwiOntjb25zdCBzPXRoaXMuZXJyb3Iuc3BsaXQoYFxuYCkubWFwKChjLGEpPT5hPT09MD9gJHtlLnllbGxvdyhkKX0gICR7ZS55ZWxsb3coYyl9YDpgICAgJHtjfWApLmpvaW4oYFxuYCk7cmV0dXJuYCR7aX0ke2UueWVsbG93KG8pfSAgJHt0aGlzLm9wdGlvbnMubWFwKChjLGEsbCk9Pntjb25zdCAkPXRoaXMudmFsdWUuaW5jbHVkZXMoYy52YWx1ZSl8fGMuZ3JvdXA9PT0hMCYmdGhpcy5pc0dyb3VwU2VsZWN0ZWQoYCR7Yy52YWx1ZX1gKSxnPWE9PT10aGlzLmN1cnNvcjtyZXR1cm4hZyYmdHlwZW9mIGMuZ3JvdXA9PVwic3RyaW5nXCImJnRoaXMub3B0aW9uc1t0aGlzLmN1cnNvcl0udmFsdWU9PT1jLmdyb3VwP3IoYywkP1wiZ3JvdXAtYWN0aXZlLXNlbGVjdGVkXCI6XCJncm91cC1hY3RpdmVcIixsKTpnJiYkP3IoYyxcImFjdGl2ZS1zZWxlY3RlZFwiLGwpOiQ/cihjLFwic2VsZWN0ZWRcIixsKTpyKGMsZz9cImFjdGl2ZVwiOlwiaW5hY3RpdmVcIixsKX0pLmpvaW4oYFxuJHtlLnllbGxvdyhvKX0gIGApfVxuJHtzfVxuYH1kZWZhdWx0OnJldHVybmAke2l9JHtlLmN5YW4obyl9ICAke3RoaXMub3B0aW9ucy5tYXAoKHMsYyxhKT0+e2NvbnN0IGw9dGhpcy52YWx1ZS5pbmNsdWRlcyhzLnZhbHVlKXx8cy5ncm91cD09PSEwJiZ0aGlzLmlzR3JvdXBTZWxlY3RlZChgJHtzLnZhbHVlfWApLCQ9Yz09PXRoaXMuY3Vyc29yO3JldHVybiEkJiZ0eXBlb2Ygcy5ncm91cD09XCJzdHJpbmdcIiYmdGhpcy5vcHRpb25zW3RoaXMuY3Vyc29yXS52YWx1ZT09PXMuZ3JvdXA/cihzLGw/XCJncm91cC1hY3RpdmUtc2VsZWN0ZWRcIjpcImdyb3VwLWFjdGl2ZVwiLGEpOiQmJmw/cihzLFwiYWN0aXZlLXNlbGVjdGVkXCIsYSk6bD9yKHMsXCJzZWxlY3RlZFwiLGEpOnIocywkP1wiYWN0aXZlXCI6XCJpbmFjdGl2ZVwiLGEpfSkuam9pbihgXG4ke2UuY3lhbihvKX0gIGApfVxuJHtlLmN5YW4oZCl9XG5gfX19KS5wcm9tcHQoKX0sTWU9KHQ9XCJcIixuPVwiXCIpPT57Y29uc3Qgcj1gXG4ke3R9XG5gLnNwbGl0KGBcbmApLGk9UyhuKS5sZW5ndGgscz1NYXRoLm1heChyLnJlZHVjZSgoYSxsKT0+e2NvbnN0ICQ9UyhsKTtyZXR1cm4gJC5sZW5ndGg+YT8kLmxlbmd0aDphfSwwKSxpKSsyLGM9ci5tYXAoYT0+YCR7ZS5ncmF5KG8pfSAgJHtlLmRpbShhKX0ke1wiIFwiLnJlcGVhdChzLVMoYSkubGVuZ3RoKX0ke2UuZ3JheShvKX1gKS5qb2luKGBcbmApO3Byb2Nlc3Muc3Rkb3V0LndyaXRlKGAke2UuZ3JheShvKX1cbiR7ZS5ncmVlbihDKX0gICR7ZS5yZXNldChuKX0gJHtlLmdyYXkoXy5yZXBlYXQoTWF0aC5tYXgocy1pLTEsMSkpK21lKX1cbiR7Y31cbiR7ZS5ncmF5KGRlK18ucmVwZWF0KHMrMikrcGUpfVxuYCl9LHhlPSh0PVwiXCIpPT57cHJvY2Vzcy5zdGRvdXQud3JpdGUoYCR7ZS5ncmF5KGQpfSAgJHtlLnJlZCh0KX1cblxuYCl9LEllPSh0PVwiXCIpPT57cHJvY2Vzcy5zdGRvdXQud3JpdGUoYCR7ZS5ncmF5KHVlKX0gICR7dH1cbmApfSxTZT0odD1cIlwiKT0+e3Byb2Nlc3Muc3Rkb3V0LndyaXRlKGAke2UuZ3JheShvKX1cbiR7ZS5ncmF5KGQpfSAgJHt0fVxuXG5gKX0sTT17bWVzc2FnZToodD1cIlwiLHtzeW1ib2w6bj1lLmdyYXkobyl9PXt9KT0+e2NvbnN0IHI9W2Ake2UuZ3JheShvKX1gXTtpZih0KXtjb25zdFtpLC4uLnNdPXQuc3BsaXQoYFxuYCk7ci5wdXNoKGAke259ICAke2l9YCwuLi5zLm1hcChjPT5gJHtlLmdyYXkobyl9ICAke2N9YCkpfXByb2Nlc3Muc3Rkb3V0LndyaXRlKGAke3Iuam9pbihgXG5gKX1cbmApfSxpbmZvOnQ9PntNLm1lc3NhZ2UodCx7c3ltYm9sOmUuYmx1ZShxKX0pfSxzdWNjZXNzOnQ9PntNLm1lc3NhZ2UodCx7c3ltYm9sOmUuZ3JlZW4oRCl9KX0sc3RlcDp0PT57TS5tZXNzYWdlKHQse3N5bWJvbDplLmdyZWVuKEMpfSl9LHdhcm46dD0+e00ubWVzc2FnZSh0LHtzeW1ib2w6ZS55ZWxsb3coVSl9KX0sd2FybmluZzp0PT57TS53YXJuKHQpfSxlcnJvcjp0PT57TS5tZXNzYWdlKHQse3N5bWJvbDplLnJlZChLKX0pfX0sSj1gJHtlLmdyYXkobyl9ICBgLHg9e21lc3NhZ2U6YXN5bmModCx7c3ltYm9sOm49ZS5ncmF5KG8pfT17fSk9Pntwcm9jZXNzLnN0ZG91dC53cml0ZShgJHtlLmdyYXkobyl9XG4ke259ICBgKTtsZXQgcj0zO2ZvciBhd2FpdChsZXQgaSBvZiB0KXtpPWkucmVwbGFjZSgvXFxuL2csYFxuJHtKfWApLGkuaW5jbHVkZXMoYFxuYCkmJihyPTMrUyhpLnNsaWNlKGkubGFzdEluZGV4T2YoYFxuYCkpKS5sZW5ndGgpO2NvbnN0IHM9UyhpKS5sZW5ndGg7citzPHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnM/KHIrPXMscHJvY2Vzcy5zdGRvdXQud3JpdGUoaSkpOihwcm9jZXNzLnN0ZG91dC53cml0ZShgXG4ke0p9JHtpLnRyaW1TdGFydCgpfWApLHI9MytTKGkudHJpbVN0YXJ0KCkpLmxlbmd0aCl9cHJvY2Vzcy5zdGRvdXQud3JpdGUoYFxuYCl9LGluZm86dD0+eC5tZXNzYWdlKHQse3N5bWJvbDplLmJsdWUocSl9KSxzdWNjZXNzOnQ9PngubWVzc2FnZSh0LHtzeW1ib2w6ZS5ncmVlbihEKX0pLHN0ZXA6dD0+eC5tZXNzYWdlKHQse3N5bWJvbDplLmdyZWVuKEMpfSksd2Fybjp0PT54Lm1lc3NhZ2UodCx7c3ltYm9sOmUueWVsbG93KFUpfSksd2FybmluZzp0PT54Lndhcm4odCksZXJyb3I6dD0+eC5tZXNzYWdlKHQse3N5bWJvbDplLnJlZChLKX0pfSxZPSh7aW5kaWNhdG9yOnQ9XCJkb3RzXCJ9PXt9KT0+e2NvbnN0IG49Vj9bXCJcXHUyNUQyXCIsXCJcXHUyNUQwXCIsXCJcXHUyNUQzXCIsXCJcXHUyNUQxXCJdOltcIlxcdTIwMjJcIixcIm9cIixcIk9cIixcIjBcIl0scj1WPzgwOjEyMCxpPXByb2Nlc3MuZW52LkNJPT09XCJ0cnVlXCI7bGV0IHMsYyxhPSExLGw9XCJcIiwkLGc9cGVyZm9ybWFuY2Uubm93KCk7Y29uc3QgcD1tPT57Y29uc3QgaD1tPjE/XCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiOlwiQ2FuY2VsZWRcIjthJiZOKGgsbSl9LHY9KCk9PnAoMiksZj0oKT0+cCgxKSxqPSgpPT57cHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uTW9uaXRvclwiLHYpLHByb2Nlc3Mub24oXCJ1bmhhbmRsZWRSZWplY3Rpb25cIix2KSxwcm9jZXNzLm9uKFwiU0lHSU5UXCIsZikscHJvY2Vzcy5vbihcIlNJR1RFUk1cIixmKSxwcm9jZXNzLm9uKFwiZXhpdFwiLHApfSxFPSgpPT57cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcihcInVuY2F1Z2h0RXhjZXB0aW9uTW9uaXRvclwiLHYpLHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIix2KSxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKFwiU0lHSU5UXCIsZikscHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcihcIlNJR1RFUk1cIixmKSxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKFwiZXhpdFwiLHApfSxCPSgpPT57aWYoJD09PXZvaWQgMClyZXR1cm47aSYmcHJvY2Vzcy5zdGRvdXQud3JpdGUoYFxuYCk7Y29uc3QgbT0kLnNwbGl0KGBcbmApO3Byb2Nlc3Muc3Rkb3V0LndyaXRlKG9lLm1vdmUoLTk5OSxtLmxlbmd0aC0xKSkscHJvY2Vzcy5zdGRvdXQud3JpdGUoYWUuZG93bihtLmxlbmd0aCkpfSxSPW09Pm0ucmVwbGFjZSgvXFwuKyQvLFwiXCIpLE89bT0+e2NvbnN0IGg9KHBlcmZvcm1hbmNlLm5vdygpLW0pLzFlMyx3PU1hdGguZmxvb3IoaC82MCksST1NYXRoLmZsb29yKGglNjApO3JldHVybiB3PjA/YFske3d9bSAke0l9c11gOmBbJHtJfXNdYH0sSD0obT1cIlwiKT0+e2E9ITAscz1uZSgpLGw9UihtKSxnPXBlcmZvcm1hbmNlLm5vdygpLHByb2Nlc3Muc3Rkb3V0LndyaXRlKGAke2UuZ3JheShvKX1cbmApO2xldCBoPTAsdz0wO2ooKSxjPXNldEludGVydmFsKCgpPT57aWYoaSYmbD09PSQpcmV0dXJuO0IoKSwkPWw7Y29uc3QgST1lLm1hZ2VudGEobltoXSk7aWYoaSlwcm9jZXNzLnN0ZG91dC53cml0ZShgJHtJfSAgJHtsfS4uLmApO2Vsc2UgaWYodD09PVwidGltZXJcIilwcm9jZXNzLnN0ZG91dC53cml0ZShgJHtJfSAgJHtsfSAke08oZyl9YCk7ZWxzZXtjb25zdCB6PVwiLlwiLnJlcGVhdChNYXRoLmZsb29yKHcpKS5zbGljZSgwLDMpO3Byb2Nlc3Muc3Rkb3V0LndyaXRlKGAke0l9ICAke2x9JHt6fWApfWg9aCsxPG4ubGVuZ3RoP2grMTowLHc9dzxuLmxlbmd0aD93Ky4xMjU6MH0scil9LE49KG09XCJcIixoPTApPT57YT0hMSxjbGVhckludGVydmFsKGMpLEIoKTtjb25zdCB3PWg9PT0wP2UuZ3JlZW4oQyk6aD09PTE/ZS5yZWQoTCk6ZS5yZWQoVyk7bD1SKG0/P2wpLHQ9PT1cInRpbWVyXCI/cHJvY2Vzcy5zdGRvdXQud3JpdGUoYCR7d30gICR7bH0gJHtPKGcpfVxuYCk6cHJvY2Vzcy5zdGRvdXQud3JpdGUoYCR7d30gICR7bH1cbmApLEUoKSxzKCl9O3JldHVybntzdGFydDpILHN0b3A6TixtZXNzYWdlOihtPVwiXCIpPT57bD1SKG0/P2wpfX19LENlPWFzeW5jKHQsbik9Pntjb25zdCByPXt9LGk9T2JqZWN0LmtleXModCk7Zm9yKGNvbnN0IHMgb2YgaSl7Y29uc3QgYz10W3NdLGE9YXdhaXQgYyh7cmVzdWx0czpyfSk/LmNhdGNoKGw9Pnt0aHJvdyBsfSk7aWYodHlwZW9mIG4/Lm9uQ2FuY2VsPT1cImZ1bmN0aW9uXCImJmllKGEpKXtyW3NdPVwiY2FuY2VsZWRcIixuLm9uQ2FuY2VsKHtyZXN1bHRzOnJ9KTtjb250aW51ZX1yW3NdPWF9cmV0dXJuIHJ9LFRlPWFzeW5jIHQ9Pntmb3IoY29uc3QgbiBvZiB0KXtpZihuLmVuYWJsZWQ9PT0hMSljb250aW51ZTtjb25zdCByPVkoKTtyLnN0YXJ0KG4udGl0bGUpO2NvbnN0IGk9YXdhaXQgbi50YXNrKHIubWVzc2FnZSk7ci5zdG9wKGl8fG4udGl0bGUpfX07ZXhwb3J0e3hlIGFzIGNhbmNlbCx5ZSBhcyBjb25maXJtLENlIGFzIGdyb3VwLGJlIGFzIGdyb3VwTXVsdGlzZWxlY3QsSWUgYXMgaW50cm8sTSBhcyBsb2csZmUgYXMgbXVsdGlzZWxlY3QsTWUgYXMgbm90ZSxTZSBhcyBvdXRybyxnZSBhcyBwYXNzd29yZCx2ZSBhcyBzZWxlY3Qsd2UgYXMgc2VsZWN0S2V5LFkgYXMgc3Bpbm5lcix4IGFzIHN0cmVhbSxUZSBhcyB0YXNrcyxoZSBhcyB0ZXh0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsCiAgICAiLyoqXG4gKiBPcGVuQ29kZSBTREsgQmFja2VuZCBXcmFwcGVyXG4gKlxuICogUHJvdmlkZXMgc2Vzc2lvbiBtYW5hZ2VtZW50IGFuZCBtZXNzYWdlIHNlbmRpbmcgY2FwYWJpbGl0aWVzXG4gKiBmb3IgYWktZW5nIHJhbHBoIHJ1bm5lciB1c2luZyBPcGVuQ29kZSBTREsuXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlU2VydmVyIH0gZnJvbSBcIm5vZGU6bmV0XCI7XG5pbXBvcnQge1xuICAgIHR5cGUgT3BlbmNvZGVDbGllbnQsXG4gICAgY3JlYXRlT3BlbmNvZGUsXG4gICAgY3JlYXRlT3BlbmNvZGVDbGllbnQsXG59IGZyb20gXCJAb3BlbmNvZGUtYWkvc2RrXCI7XG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi4vLi4vdXRpbC9sb2dcIjtcblxuY29uc3QgbG9nID0gTG9nLmNyZWF0ZSh7IHNlcnZpY2U6IFwib3BlbmNvZGUtY2xpZW50XCIgfSk7XG5cbi8qKlxuICogUmVzcG9uc2UgaW50ZXJmYWNlIGZvciBtZXNzYWdlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VSZXNwb25zZSB7XG4gICAgY29udGVudDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFN0cmVhbWluZyByZXNwb25zZSBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1pbmdSZXNwb25zZSB7XG4gICAgLyoqIFJlYWRhYmxlIHN0cmVhbSBvZiByZXNwb25zZSBjaHVua3MgKi9cbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+O1xuICAgIC8qKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gY29tcGxldGUgcmVzcG9uc2Ugd2hlbiBzdHJlYW0gZW5kcyAqL1xuICAgIGNvbXBsZXRlOiBQcm9taXNlPE1lc3NhZ2VSZXNwb25zZT47XG59XG5cbi8qKlxuICogU2Vzc2lvbiBpbnRlcmZhY2UgZm9yIGFpLWVuZyBydW5uZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHNlbmRNZXNzYWdlOiAobWVzc2FnZTogc3RyaW5nKSA9PiBQcm9taXNlPE1lc3NhZ2VSZXNwb25zZT47XG4gICAgc2VuZE1lc3NhZ2VTdHJlYW06IChtZXNzYWdlOiBzdHJpbmcpID0+IFByb21pc2U8U3RyZWFtaW5nUmVzcG9uc2U+O1xuICAgIGNsb3NlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIC8qKiBUb29sIGludm9jYXRpb25zIGNhcHR1cmVkIGR1cmluZyB0aGlzIHNlc3Npb24gKi9cbiAgICBfdG9vbEludm9jYXRpb25zPzogQXJyYXk8e1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIGlucHV0PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgIG91dHB1dD86IHN0cmluZztcbiAgICAgICAgc3RhdHVzOiBcIm9rXCIgfCBcImVycm9yXCI7XG4gICAgICAgIGVycm9yPzogc3RyaW5nO1xuICAgICAgICBzdGFydGVkQXQ/OiBzdHJpbmc7XG4gICAgICAgIGNvbXBsZXRlZEF0Pzogc3RyaW5nO1xuICAgIH0+O1xufVxuXG4vKipcbiAqIENsaWVudCBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbGllbnRDb25maWcge1xuICAgIC8qKiBDdXN0b20gY2xpZW50IGluc3RhbmNlIChmb3IgdGVzdGluZykgKi9cbiAgICBjbGllbnQ/OiBPcGVuY29kZUNsaWVudDtcbiAgICAvKiogQ29ubmVjdGlvbiB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyAoZGVmYXVsdDogMTAwMDApICovXG4gICAgdGltZW91dD86IG51bWJlcjtcbiAgICAvKiogUmV0cnkgYXR0ZW1wdHMgZm9yIGZhaWxlZCBvcGVyYXRpb25zICovXG4gICAgcmV0cnlBdHRlbXB0cz86IG51bWJlcjtcbiAgICAvKiogUHJvbXB0IHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzICh1c2VkIGFzIGFuIGlkbGUgdGltZW91dCBmb3Igc3RyZWFtaW5nKSAqL1xuICAgIHByb21wdFRpbWVvdXQ/OiBudW1iZXI7XG4gICAgLyoqIERpcmVjdG9yeS93b3JrdHJlZSBjb250ZXh0IHRvIHJ1biBPcGVuQ29kZSBpbiAoZGVmYXVsdHMgdG8gcHJvY2Vzcy5jd2QoKSkgKi9cbiAgICBkaXJlY3Rvcnk/OiBzdHJpbmc7XG4gICAgLyoqIFVSTCBvZiBleGlzdGluZyBPcGVuQ29kZSBzZXJ2ZXIgdG8gcmV1c2UgKGlmIHByb3ZpZGVkLCB3b24ndCBzcGF3biBuZXcgc2VydmVyKSAqL1xuICAgIGV4aXN0aW5nU2VydmVyVXJsPzogc3RyaW5nO1xuICAgIC8qKiBTZXJ2ZXIgc3RhcnR1cCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyAoZGVmYXVsdDogMTAwMDApICovXG4gICAgc2VydmVyU3RhcnR1cFRpbWVvdXQ/OiBudW1iZXI7XG4gICAgLyoqIE5PVEU6IHdvcmtpbmdEaXIgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIFNES1xuICAgICAqIFNwYXduZWQgT3BlbkNvZGUgc2VydmVycyB3aWxsIHVzZSB0aGUgY2FsbGluZyBkaXJlY3RvcnkgYnkgZGVmYXVsdCAocHJvY2Vzcy5jd2QoKSlcbiAgICAgKiBVc2UgT1BFTkNPREVfVVJMIHRvIGNvbm5lY3QgdG8gYSBkaWZmZXJlbnQgT3BlbkNvZGUgaW5zdGFuY2UgaW5zdGVhZFxuICAgICAqL1xufVxuXG4vKipcbiAqIE9wZW5Db2RlIENsaWVudCBXcmFwcGVyXG4gKlxuICogV3JhcHMgT3BlbkNvZGUgU0RLIHRvIHByb3ZpZGUgc2Vzc2lvbiBtYW5hZ2VtZW50XG4gKiBhbmQgZXJyb3IgaGFuZGxpbmcgZm9yIHJhbHBoIHJ1bm5lci5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5Db2RlQ2xpZW50IHtcbiAgICBwcml2YXRlIGNsaWVudDogT3BlbmNvZGVDbGllbnQ7XG4gICAgcHJpdmF0ZSB0aW1lb3V0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZXRyeUF0dGVtcHRzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBhY3RpdmVTZXNzaW9uczogTWFwPHN0cmluZywgU2Vzc2lvbj47XG4gICAgcHJpdmF0ZSBwcm9tcHRUaW1lb3V0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBkaXJlY3Rvcnk6IHN0cmluZyA9IHByb2Nlc3MuY3dkKCk7XG4gICAgcHJpdmF0ZSBzZXJ2ZXI6IHsgdXJsOiBzdHJpbmc7IGNsb3NlOiAoKSA9PiB2b2lkIH0gfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHNlcnZlclN0YXJ0dXBUaW1lb3V0OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIGNvbnN0cnVjdG9yIC0gdXNlIHN0YXRpYyBjcmVhdGUoKSBmYWN0b3J5IG1ldGhvZCBpbnN0ZWFkXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICAgICAgY2xpZW50OiBPcGVuY29kZUNsaWVudCxcbiAgICAgICAgc2VydmVyOiB7IHVybDogc3RyaW5nOyBjbG9zZTogKCkgPT4gdm9pZCB9IHwgbnVsbCxcbiAgICAgICAgY29uZmlnOiBDbGllbnRDb25maWcgPSB7fSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuc2VydmVyID0gc2VydmVyO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBjb25maWcudGltZW91dCB8fCAzMDAwMDtcbiAgICAgICAgdGhpcy5yZXRyeUF0dGVtcHRzID0gY29uZmlnLnJldHJ5QXR0ZW1wdHMgfHwgMztcblxuICAgICAgICBjb25zdCBlbnZQcm9tcHRUaW1lb3V0ID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuT1BFTkNPREVfUFJPTVBUX1RJTUVPVVRfTVMgPz8gXCJcIixcbiAgICAgICAgICAgIDEwLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZXNvbHZlZFByb21wdFRpbWVvdXQgPSBOdW1iZXIuaXNGaW5pdGUoZW52UHJvbXB0VGltZW91dClcbiAgICAgICAgICAgID8gZW52UHJvbXB0VGltZW91dFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gRm9yIHN0cmVhbWluZywgdGhpcyBhY3RzIGFzIGFuIGlkbGUgdGltZW91dCAocmVzZXQgb24gc3RyZWFtZWQgZXZlbnRzKVxuICAgICAgICB0aGlzLnByb21wdFRpbWVvdXQgPVxuICAgICAgICAgICAgY29uZmlnLnByb21wdFRpbWVvdXQgPz8gcmVzb2x2ZWRQcm9tcHRUaW1lb3V0ID8/IDEyMDAwMDsgLy8gMTIwIHNlY29uZHMgZGVmYXVsdFxuXG4gICAgICAgIHRoaXMuZGlyZWN0b3J5ID1cbiAgICAgICAgICAgIGNvbmZpZy5kaXJlY3RvcnkgfHwgcHJvY2Vzcy5lbnYuT1BFTkNPREVfRElSRUNUT1JZIHx8IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAgICAgdGhpcy5zZXJ2ZXJTdGFydHVwVGltZW91dCA9IGNvbmZpZy5zZXJ2ZXJTdGFydHVwVGltZW91dCB8fCAxMDAwMDsgLy8gMTAgc2Vjb25kcyBkZWZhdWx0XG4gICAgICAgIHRoaXMuYWN0aXZlU2Vzc2lvbnMgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgbG9nLmRlYnVnKFwiT3BlbkNvZGVDbGllbnQgaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICAgICAgaGFzT3duU2VydmVyOiAhIXRoaXMuc2VydmVyLFxuICAgICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0LFxuICAgICAgICAgICAgc2VydmVyU3RhcnR1cFRpbWVvdXQ6IHRoaXMuc2VydmVyU3RhcnR1cFRpbWVvdXQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBhdmFpbGFibGUgcG9ydCBmb3IgT3BlbkNvZGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQ6IEFsd2F5cyBhdm9pZCBwb3J0IDQwOTYgdG8gcHJldmVudCBjb25mbGljdHMgd2l0aCB1c2VyJ3MgZXhpc3Rpbmcgc2VydmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZ2V0QXZhaWxhYmxlUG9ydCgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGVmYXVsdCBwb3J0IGlzIGluIHVzZSBhbmQgbG9nIGFjY29yZGluZ2x5XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9ydCA9IDQwOTY7XG4gICAgICAgICAgICBjb25zdCBpc0RlZmF1bHRBdmFpbGFibGUgPVxuICAgICAgICAgICAgICAgIGF3YWl0IE9wZW5Db2RlQ2xpZW50LmlzUG9ydEF2YWlsYWJsZShkZWZhdWx0UG9ydCk7XG5cbiAgICAgICAgICAgIGlmICghaXNEZWZhdWx0QXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgbG9nLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiRXhpc3Rpbmcgc2VydmVyIGRldGVjdGVkIG9uIHBvcnQgNDA5Njsgc3Bhd25pbmcgaXNvbGF0ZWQgc2VydmVyIG9uIGR5bmFtaWMgcG9ydFwiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJEZWZhdWx0IHBvcnQgNDA5NiBpcyBhdmFpbGFibGUgYnV0IGF2b2lkaW5nIGl0IGZvciBpc29sYXRpb25cIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbHdheXMgdXNlIGR5bmFtaWMgcG9ydCB0byBhdm9pZCBjb25mbGljdHMgd2l0aCB1c2VyJ3MgZXhpc3Rpbmcgc2VydmVyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUG9ydCA9IGF3YWl0IE9wZW5Db2RlQ2xpZW50LmZpbmRBdmFpbGFibGVQb3J0KCk7XG4gICAgICAgICAgICBsb2cuaW5mbyhcbiAgICAgICAgICAgICAgICBgU3Bhd25pbmcgaXNvbGF0ZWQgc2VydmVyIG9uIGR5bmFtaWMgcG9ydDogJHtkeW5hbWljUG9ydH1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBkeW5hbWljUG9ydDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID1cbiAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICBsb2cuZXJyb3IoXCJGYWlsZWQgdG8gc2VsZWN0IE9wZW5Db2RlIHNlcnZlciBwb3J0XCIsIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNc2csXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgRmFpbGVkIHRvIHNlbGVjdCBPcGVuQ29kZSBzZXJ2ZXIgcG9ydDogJHtlcnJvck1zZ31gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc3BlY2lmaWMgcG9ydCBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBpc1BvcnRBdmFpbGFibGUocG9ydDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gY3JlYXRlU2VydmVyKCk7XG5cbiAgICAgICAgICAgIHNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlcnZlci5vbmNlKFwiY2xvc2VcIiwgKCkgPT4gcmVzb2x2ZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgc2VydmVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VydmVyLm9uKFwiZXJyb3JcIiwgKCkgPT4gcmVzb2x2ZShmYWxzZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFuIGF2YWlsYWJsZSBwb3J0IGR5bmFtaWNhbGx5XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZmluZEF2YWlsYWJsZVBvcnQoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlciA9IGNyZWF0ZVNlcnZlcigpO1xuXG4gICAgICAgICAgICBzZXJ2ZXIubGlzdGVuKDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gc2VydmVyLmFkZHJlc3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzcyAmJiB0eXBlb2YgYWRkcmVzcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIub25jZShcImNsb3NlXCIsICgpID0+IHJlc29sdmUoYWRkcmVzcy5wb3J0KSk7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNlcnZlciBhZGRyZXNzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VydmVyLm9uKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIGZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhbiBPcGVuQ29kZUNsaWVudFxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjbGllbnQgd2l0aCBlaXRoZXI6XG4gICAgICogMS4gQSBmcmVzaCBPcGVuQ29kZSBzZXJ2ZXIgKGRlZmF1bHQgYmVoYXZpb3IpXG4gICAgICogMi4gQW4gZXhpc3Rpbmcgc2VydmVyIFVSTCAoaWYgZXhpc3RpbmdTZXJ2ZXJVcmwgaXMgcHJvdmlkZWQpXG4gICAgICogMy4gQSBjdXN0b20gY2xpZW50IGluc3RhbmNlIChmb3IgdGVzdGluZylcbiAgICAgKlxuICAgICAqIE5vdGU6IFNwYXduZWQgT3BlbkNvZGUgc2VydmVycyB3aWxsIHVzZSB0byBjYWxsaW5nIGRpcmVjdG9yeSBieSBkZWZhdWx0IChwcm9jZXNzLmN3ZCgpKVxuICAgICAqIFVzZSBPUEVOQ09ERV9VUkwgdG8gY29ubmVjdCB0byBhIGRpZmZlcmVudCBPcGVuQ29kZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBjcmVhdGUoY29uZmlnOiBDbGllbnRDb25maWcgPSB7fSk6IFByb21pc2U8T3BlbkNvZGVDbGllbnQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIGN1c3RvbSBjbGllbnQgcHJvdmlkZWQgKGZvciB0ZXN0aW5nKSwgdXNlIGl0IGRpcmVjdGx5XG4gICAgICAgICAgICBpZiAoY29uZmlnLmNsaWVudCkge1xuICAgICAgICAgICAgICAgIGxvZy5pbmZvKFwiQ3JlYXRpbmcgT3BlbkNvZGVDbGllbnQgd2l0aCBjdXN0b20gY2xpZW50IGluc3RhbmNlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT3BlbkNvZGVDbGllbnQoY29uZmlnLmNsaWVudCwgbnVsbCwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgZXhpc3Rpbmcgc2VydmVyIFVSTCBwcm92aWRlZCwgY29ubmVjdCB0byBpdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy5leGlzdGluZ1NlcnZlclVybCkge1xuICAgICAgICAgICAgICAgIGxvZy5pbmZvKFwiQ29ubmVjdGluZyB0byBleGlzdGluZyBPcGVuQ29kZSBzZXJ2ZXJcIiwge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbmZpZy5leGlzdGluZ1NlcnZlclVybCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVPcGVuY29kZUNsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiBjb25maWcuZXhpc3RpbmdTZXJ2ZXJVcmwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBjb25uZWN0aW9uIGJ5IG1ha2luZyBhIHRlc3QgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJWZXJpZnlpbmcgY29ubmVjdGlvbiB0byBleGlzdGluZyBzZXJ2ZXIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlJ2xsIHNraXAgdmVyaWZpY2F0aW9uIGZvciBub3cgdG8gYXZvaWQgdW5uZWNlc3NhcnkgQVBJIGNhbGxzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb25uZWN0aW9uIHdpbGwgYmUgdmVyaWZpZWQgd2hlbiBmaXJzdCBzZXNzaW9uIGlzIGNyZWF0ZWRcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9wZW5Db2RlQ2xpZW50KGNsaWVudCwgbnVsbCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIGV4aXN0aW5nIHNlcnZlclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbmZpZy5leGlzdGluZ1NlcnZlclVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvck1zZyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVmYXVsdDogc3Bhd24gYSBuZXcgT3BlbkNvZGUgc2VydmVyXG4gICAgICAgICAgICAvLyBOb3RlOiBTcGF3bmVkIHNlcnZlcnMgd2lsbCB1c2UgdG8gY2FsbGluZyBkaXJlY3RvcnkgYnkgZGVmYXVsdFxuICAgICAgICAgICAgLy8gVXNlIE9QRU5DT0RFX1VSTCB0byBjb25uZWN0IHRvIGEgZGlmZmVyZW50IE9wZW5Db2RlIGluc3RhbmNlXG4gICAgICAgICAgICBsb2cuaW5mbyhcIlNwYXduaW5nIG5ldyBPcGVuQ29kZSBzZXJ2ZXIuLi5cIiwge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGNvbmZpZy5zZXJ2ZXJTdGFydHVwVGltZW91dCB8fCAxMDAwMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVQb3J0ID0gYXdhaXQgT3BlbkNvZGVDbGllbnQuZ2V0QXZhaWxhYmxlUG9ydCgpO1xuXG4gICAgICAgICAgICBjb25zdCB7IGNsaWVudCwgc2VydmVyIH0gPSBhd2FpdCBjcmVhdGVPcGVuY29kZSh7XG4gICAgICAgICAgICAgICAgdGltZW91dDogY29uZmlnLnNlcnZlclN0YXJ0dXBUaW1lb3V0IHx8IDEwMDAwLFxuICAgICAgICAgICAgICAgIHBvcnQ6IGF2YWlsYWJsZVBvcnQsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbG9nLmluZm8oXCJPcGVuQ29kZSBzZXJ2ZXIgc3RhcnRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9wZW5Db2RlQ2xpZW50KGNsaWVudCwgc2VydmVyLCBjb25maWcpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIGxvZy5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgT3BlbkNvZGVDbGllbnRcIiwgeyBlcnJvcjogZXJyb3JNc2cgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgT3BlbkNvZGVDbGllbnQ6ICR7ZXJyb3JNc2d9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgT3BlbkNvZGUgc2Vzc2lvbiB3aXRoIGEgZ2l2ZW4gcHJvbXB0XG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU2Vzc2lvbihwcm9tcHQ6IHN0cmluZyk6IFByb21pc2U8U2Vzc2lvbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHNlc3Npb24gdXNpbmcgU0RLXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJhaS1lbmcgcmFscGggc2Vzc2lvblwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYEZhaWxlZCB0byBjcmVhdGUgT3BlbkNvZGUgc2Vzc2lvbjogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQuZXJyb3IpfWAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2RrU2Vzc2lvbiA9IHJlc3VsdC5kYXRhO1xuXG4gICAgICAgICAgICAvLyBEZWZlciB0aGUgaW5pdGlhbCBwcm9tcHQgdW50aWwgdGhlIGZpcnN0IG1lc3NhZ2UgaXMgc2VudC5cbiAgICAgICAgICAgIC8vIFRoaXMgYXZvaWRzIGJsb2NraW5nIHNlc3Npb24gY3JlYXRpb24gYW5kIGVuYWJsZXMgc3RyZWFtaW5nIG91dHB1dFxuICAgICAgICAgICAgLy8gZXZlbiB3aGVuIHRoZSBpbml0aWFsIHByb21wdCBpcyBsYXJnZSBvciBzbG93IHRvIHByb2Nlc3MuXG4gICAgICAgICAgICBsZXQgcGVuZGluZ0luaXRpYWxQcm9tcHQgPSBwcm9tcHQudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgYnVpbGRGaXJzdE1lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nSW5pdGlhbFByb21wdCkgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmluZWQgPSBgJHtwZW5kaW5nSW5pdGlhbFByb21wdH1cXG5cXG4tLS1cXG5cXG4ke21lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICBwZW5kaW5nSW5pdGlhbFByb21wdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVkO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0b29sIGludm9jYXRpb25zIHRyYWNrZXJcbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uczogU2Vzc2lvbltcIl90b29sSW52b2NhdGlvbnNcIl0gPSBbXTtcblxuICAgICAgICAgICAgLy8gV3JhcCB3aXRoIG91ciBzZXNzaW9uIGludGVyZmFjZVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbjogU2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICBpZDogc2RrU2Vzc2lvbi5pZCB8fCB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCksXG4gICAgICAgICAgICAgICAgX3Rvb2xJbnZvY2F0aW9uczogdG9vbEludm9jYXRpb25zLFxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlOiBhc3luYyAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVNlbmRNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2RrU2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkRmlyc3RNZXNzYWdlKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2VTdHJlYW06IGFzeW5jIChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU2VuZE1lc3NhZ2VTdHJlYW0oXG4gICAgICAgICAgICAgICAgICAgICAgICBzZGtTZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRGaXJzdE1lc3NhZ2UobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sSW52b2NhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbG9zZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVTZXNzaW9uQ2xvc2Uoc2RrU2Vzc2lvbi5pZCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIGFjdGl2ZSBzZXNzaW9uXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVNlc3Npb25zLnNldChzZXNzaW9uLmlkLCBzZXNzaW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgRmFpbGVkIHRvIGNyZWF0ZSBPcGVuQ29kZSBzZXNzaW9uOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIGFuIGV4aXN0aW5nIHNlc3Npb25cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZShcbiAgICAgICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPE1lc3NhZ2VSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5hY3RpdmVTZXNzaW9ucy5nZXQoc2Vzc2lvbklkKTtcblxuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2Vzc2lvbiBub3QgZm91bmQ6ICR7c2Vzc2lvbklkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU2VuZE1lc3NhZ2Uoc2Vzc2lvbklkLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSBhbiBhY3RpdmUgc2Vzc2lvblxuICAgICAqL1xuICAgIGFzeW5jIGNsb3NlU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5hY3RpdmVTZXNzaW9ucy5nZXQoc2Vzc2lvbklkKTtcblxuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2Vzc2lvbiBub3QgZm91bmQ6ICR7c2Vzc2lvbklkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTZXNzaW9uQ2xvc2Uoc2Vzc2lvbklkKTtcbiAgICAgICAgdGhpcy5hY3RpdmVTZXNzaW9ucy5kZWxldGUoc2Vzc2lvbklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGFjdGl2ZSBzZXNzaW9uIElEc1xuICAgICAqL1xuICAgIGdldEFjdGl2ZVNlc3Npb25zKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hY3RpdmVTZXNzaW9ucy5rZXlzKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc2Vzc2lvbiBpcyBhY3RpdmVcbiAgICAgKi9cbiAgICBpc1Nlc3Npb25BY3RpdmUoc2Vzc2lvbklkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2Vzc2lvbnMuaGFzKHNlc3Npb25JZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgYWxsIGFjdGl2ZSBzZXNzaW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGNsb3NlQWxsU2Vzc2lvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGNsb3NlUHJvbWlzZXMgPSBBcnJheS5mcm9tKHRoaXMuYWN0aXZlU2Vzc2lvbnMua2V5cygpKS5tYXAoXG4gICAgICAgICAgICAoc2Vzc2lvbklkKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Vzc2lvbkNsb3NlKHNlc3Npb25JZCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oXCJFcnJvciBjbG9zaW5nIHNlc3Npb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTXNnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChjbG9zZVByb21pc2VzKTtcbiAgICAgICAgdGhpcy5hY3RpdmVTZXNzaW9ucy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBzZW5kaW5nIGEgbWVzc2FnZSB3aXRoIHN0cmVhbWluZyBzdXBwb3J0XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTZW5kTWVzc2FnZVN0cmVhbShcbiAgICAgICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAgICAgdG9vbEludm9jYXRpb25zPzogU2Vzc2lvbltcIl90b29sSW52b2NhdGlvbnNcIl0sXG4gICAgKTogUHJvbWlzZTxTdHJlYW1pbmdSZXNwb25zZT4ge1xuICAgICAgICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IHN1cHBvcnRzRXZlbnRTdHJlYW1pbmcgPVxuICAgICAgICAgICAgdHlwZW9mICh0aGlzLmNsaWVudCBhcyBhbnkpPy5zZXNzaW9uPy5wcm9tcHRBc3luYyA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0eXBlb2YgKHRoaXMuY2xpZW50IGFzIGFueSk/LmV2ZW50Py5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIjtcblxuICAgICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSB0aGlzLnJldHJ5QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBUcmFuc2Zvcm1TdHJlYW0gdG8gaGFuZGxlIHRoZSBzdHJlYW1pbmcgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFVpbnQ4QXJyYXksIFVpbnQ4QXJyYXk+KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVyID0gc3RyZWFtLndyaXRhYmxlLmdldFdyaXRlcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgZmluYWxpemF0aW9uIHRvIHByZXZlbnQgZG91YmxlLWNsb3NlL2Fib3J0XG4gICAgICAgICAgICAgICAgbGV0IGZpbmFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb3NlT25jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycyBkdXJpbmcgY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgYWJvcnRPbmNlID0gYXN5bmMgKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3cml0ZXIuYWJvcnQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzIGR1cmluZyBhYm9ydFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBpZiB0aGUgY2xpZW50IGRvZXNuJ3Qgc3VwcG9ydCBwcm9tcHRfYXN5bmMgKyBTU0UsIGtlZXAgdGhlXG4gICAgICAgICAgICAgICAgLy8gbGVnYWN5IGJlaGF2aW9yIChidWZmZXIgdGhlbiBzaW11bGF0ZSBzdHJlYW1pbmcpLlxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNFdmVudFN0cmVhbWluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9tcHRQcm9taXNlID0gdGhpcy5jbGllbnQuc2Vzc2lvbi5wcm9tcHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJRDogdGhpcy5nZW5lcmF0ZU1lc3NhZ2VJZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0b3J5OiB0aGlzLmRpcmVjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1pbmdUYXNrID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvbXB0UHJvbWlzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcmVzcG9uc2UgZnJvbSBPcGVuQ29kZTogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQuZXJyb3IpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0UGFydCA9IHJlc3BvbnNlLnBhcnRzPy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFydDogYW55KSA9PiBwYXJ0LnR5cGUgPT09IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbENvbnRlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGV4dFBhcnQgYXMgYW55KT8udGV4dCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk5vIGNvbnRlbnQgcmVjZWl2ZWRcIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIHN0cmVhbWluZyBieSB3cml0aW5nIGNodW5rc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IHRoaXMuc3BsaXRJbnRvQ2h1bmtzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShlbmNvZGVyLmVuY29kZShjaHVuaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgNTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsb3NlT25jZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNvbnRlbnQ6IGZpbmFsQ29udGVudCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhYm9ydE9uY2UoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW06IHN0cmVhbS5yZWFkYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBzdHJlYW1pbmdUYXNrLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlYWwgc3RyZWFtaW5nOiB1c2UgcHJvbXB0X2FzeW5jIGFuZCBjb25zdW1lIHRoZSBldmVudCBTU0Ugc3RyZWFtLlxuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZGxlVGltZW91dEVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgUHJvbXB0IGlkbGUgdGltZW91dCBhZnRlciAke3RoaXMucHJvbXB0VGltZW91dH1tc2AsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXJkVGltZW91dEVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgUHJvbXB0IGhhcmQgdGltZW91dCBhZnRlciAke3RoaXMucHJvbXB0VGltZW91dCAqIDV9bXNgLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIGxldCBpZGxlVGltZXI6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBoYXJkVGltZXI6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBieXRlc1dyaXR0ZW4gPSAwO1xuICAgICAgICAgICAgICAgIGxldCBsYXN0UHJvZ3Jlc3NUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBsZXQgaWRsZVRpbWVkT3V0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBIYXJkIHRpbWVvdXQgLSBuZXZlciByZXNldHNcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEhhcmRUaW1lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhcmRUaW1lcikgY2xlYXJUaW1lb3V0KGhhcmRUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIGhhcmRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nLndhcm4oXCJIYXJkIHRpbWVvdXQgcmVhY2hlZCwgYWJvcnRpbmdcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0TXM6IHRoaXMucHJvbXB0VGltZW91dCAqIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydChoYXJkVGltZW91dEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnByb21wdFRpbWVvdXQgKiA1KTsgLy8gNXggaWRsZSB0aW1lb3V0IGFzIGhhcmQgY2VpbGluZ1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBJZGxlIHRpbWVyIC0gcmVzZXRzIG9ubHkgb24gcmVsZXZhbnQgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICBjb25zdCByZXNldElkbGVUaW1lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkbGVUaW1lcikgY2xlYXJUaW1lb3V0KGlkbGVUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVkT3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy53YXJuKFwiSWRsZSB0aW1lb3V0IHJlYWNoZWQsIGFib3J0aW5nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dE1zOiB0aGlzLnByb21wdFRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXNXcml0dGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9ncmVzc01zQWdvOiBEYXRlLm5vdygpIC0gbGFzdFByb2dyZXNzVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KGlkbGVUaW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMucHJvbXB0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbWluZ1Rhc2sgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXNzaXN0YW50TWVzc2FnZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRIYXJkVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0SWRsZVRpbWVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJNZXNzYWdlSWQgPSB0aGlzLmdlbmVyYXRlTWVzc2FnZUlkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRpbmcgcHJvbXB0IHRvIE9wZW5Db2RlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxlbmd0aDogbWVzc2FnZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCAodGhpcy5jbGllbnQgYXMgYW55KS5zZXNzaW9uLnByb21wdEFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJRDogdXNlck1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdG9yeTogdGhpcy5kaXJlY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlN1YnNjcmliaW5nIHRvIGV2ZW50c1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdG9yeTogdGhpcy5kaXJlY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnRzUmVzdWx0ID0gYXdhaXQgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50IGFzIGFueVxuICAgICAgICAgICAgICAgICAgICAgICAgKS5ldmVudC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdG9yeTogdGhpcy5kaXJlY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW1pdHRlZFRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50Q291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJTdGFydGluZyBldmVudCBzdHJlYW0gcHJvY2Vzc2luZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2YgZXZlbnRzUmVzdWx0LnN0cmVhbSBhcyBBc3luY0dlbmVyYXRvcjxhbnk+KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyYm9zZSBkZWJ1ZyBsb2dnaW5nIGZvciBhbGwgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiUmVjZWl2ZWQgZXZlbnRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnQ/LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Byb3BlcnRpZXM6ICEhZXZlbnQ/LnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBYm9ydGVkOiBjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250cm9sbGVyIGFib3J0ZWQsIGJyZWFraW5nIGV2ZW50IGxvb3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlNraXBwaW5nIG5vbi1vYmplY3QgZXZlbnRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcIm1lc3NhZ2UudXBkYXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSAoZXZlbnQgYXMgYW55KS5wcm9wZXJ0aWVzPy5pbmZvO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIk1lc3NhZ2UgdXBkYXRlZCBldmVudFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb1JvbGU6IGluZm8/LnJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvU2Vzc2lvbklkOiBpbmZvPy5zZXNzaW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvUGFyZW50SWQ6IGluZm8/LnBhcmVudElELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0lkOiBpbmZvPy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVsZXZhbnRTZXNzaW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8/LnNlc3Npb25JRCA9PT0gc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBc3Npc3RhbnQ6IGluZm8/LnJvbGUgPT09IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlcGx5VG9Vc2VyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8/LnBhcmVudElEID09PSB1c2VyTWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmltYXJ5IGlkZW50aWZpY2F0aW9uOiBleGFjdCBtYXRjaCBvbiBwYXJlbnRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPy5yb2xlID09PSBcImFzc2lzdGFudFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPy5zZXNzaW9uSUQgPT09IHNlc3Npb25JZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mbz8ucGFyZW50SUQgPT09IHVzZXJNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlSWQgPSBpbmZvLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWRlbnRpZmllZCBhc3Npc3RhbnQgbWVzc2FnZSAoZXhhY3QgcGFyZW50SUQgbWF0Y2gpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjazogaWYgd2UgaGF2ZW4ndCBpZGVudGlmaWVkIGFuIGFzc2lzdGFudCBtZXNzYWdlIHlldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXB0IGFzc2lzdGFudCBtZXNzYWdlcyBpbiB0aGUgc2FtZSBzZXNzaW9uIGV2ZW4gaWYgcGFyZW50SUQgZG9lc24ndCBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGhhbmRsZXMgY2FzZXMgd2hlcmUgcGFyZW50SUQgaXMgdW5kZWZpbmVkIG9yIGhhcyBhIGRpZmZlcmVudCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYXNzaXN0YW50TWVzc2FnZUlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPy5yb2xlID09PSBcImFzc2lzdGFudFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPy5zZXNzaW9uSUQgPT09IHNlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklkZW50aWZpZWQgYXNzaXN0YW50IG1lc3NhZ2UgKGZhbGxiYWNrIC0gbm8gZXhhY3QgcGFyZW50SUQgbWF0Y2gpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2VJZDogaW5mby5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb1BhcmVudElkOiBpbmZvPy5wYXJlbnRJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2VJZCA9IGluZm8uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBpZGxlIHRpbWVyIG9uIEFOWSBhc3Npc3RhbnQgbWVzc2FnZSBhY3Rpdml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHRpbWVvdXRzIHdoZW4gY29ycmVsYXRpb24gaXMgYW1iaWd1b3VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8/LnJvbGUgPT09IFwiYXNzaXN0YW50XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8/LnNlc3Npb25JRCA9PT0gc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFByb2dyZXNzVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldElkbGVUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaXN0YW50TWVzc2FnZUlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvPy5pZCA9PT0gYXNzaXN0YW50TWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8/LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uZXJyb3IubmFtZSB8fCBcIk9wZW5Db2RlRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmVycm9yLmRhdGE/Lm1lc3NhZ2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmVycm9yLmRhdGEgfHwge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFzc2lzdGFudCBlcnJvciBpbiBtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTmFtZTogZXJyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXJyTXNnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtlcnJOYW1lfTogJHtlcnJNc2d9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mbz8udGltZT8uY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFzc2lzdGFudCBtZXNzYWdlIGNvbXBsZXRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnRpbWUuY29tcGxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJtZXNzYWdlLnBhcnQudXBkYXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVzZXQgdGltZXIgYW5kIHRyYWNrIHByb2dyZXNzIGZvciByZWxldmFudCB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSAoZXZlbnQgYXMgYW55KS5wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/LnBhcnQgYXMgYW55O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIk1lc3NhZ2UgcGFydCB1cGRhdGVkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNQYXJ0OiAhIXBhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0VHlwZTogcGFydD8udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRTZXNzaW9uSWQ6IHBhcnQ/LnNlc3Npb25JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRNZXNzYWdlSWQ6IHBhcnQ/Lm1lc3NhZ2VJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVsZXZhbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaXN0YW50TWVzc2FnZUlkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydD8uc2Vzc2lvbklEID09PSBzZXNzaW9uSWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Py5tZXNzYWdlSUQgPT09IGFzc2lzdGFudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhc3Npc3RhbnRNZXNzYWdlSWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0b29sIHBhcnRzIChjYXB0dXJlIHRvb2wgaW52b2NhdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0Py50eXBlID09PSBcInRvb2xcIiAmJiB0b29sSW52b2NhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC50b29sSWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmlkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHRvb2wtJHtldmVudENvdW50fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC50b29sTmFtZSB8fCBwYXJ0Lm5hbWUgfHwgXCJ1bmtub3duXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sSW5wdXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuaW5wdXQgfHwgcGFydC5wYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbmV3IHRvb2wgY2FsbCBvciBhbiB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVG9vbEluZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sSW52b2NhdGlvbnMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCkgPT4gdC5pZCA9PT0gdG9vbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1Rvb2xJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHRvb2wgaW52b2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbEludm9jYXRpb25zW2V4aXN0aW5nVG9vbEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5vdXRwdXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnJlc3VsdCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Lm91dHB1dCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5vdXRwdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3Rpbmcuc3RhdHVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0dXMgPT09IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImVycm9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJva1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmVycm9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5lcnJvciA/PyBleGlzdGluZy5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5jb21wbGV0ZWRBdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY29tcGxldGVkQXQgPz8gbm93O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiVG9vbCBpbnZvY2F0aW9uIHVwZGF0ZWRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXhpc3Rpbmcuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgdG9vbCBpbnZvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0b29sSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogdG9vbElucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQucmVzdWx0ID8/IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXR1cyA9PT0gXCJlcnJvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoXCJlcnJvclwiIGFzIGNvbnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKFwib2tcIiBhcyBjb25zdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBwYXJ0LmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGVkQXQ6IHBhcnQuc3RhcnRlZEF0ID8/IG5vdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IHBhcnQuY29tcGxldGVkQXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sSW52b2NhdGlvbnMucHVzaCh0b29sSW52b2NhdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJUb29sIGludm9jYXRpb24gc3RhcnRlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbElucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnNsaWNlKDAsIDIwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHNraXAgbm9uLXJlbGV2YW50IHRvb2wgcGFydHMgLSB3ZSB3YW50IHRvIGNhcHR1cmUgYWxsIHRvb2wgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgdGhlIGFzc2lzdGFudCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5zZXNzaW9uSUQgIT09IHNlc3Npb25JZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQubWVzc2FnZUlEICE9PSBhc3Npc3RhbnRNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0aWxsIHRyYWNrIGl0IGJ1dCBkb24ndCBwcm9jZXNzIGZvciBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgaWRsZSB0aW1lciBvbiB0b29sIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFByb2dyZXNzVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRJZGxlVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnQgfHwgcGFydC50eXBlICE9PSBcInRleHRcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnNlc3Npb25JRCAhPT0gc2Vzc2lvbklkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQubWVzc2FnZUlEICE9PSBhc3Npc3RhbnRNZXNzYWdlSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdEZWx0YSA9IChldmVudCBhcyBhbnkpLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8uZGVsdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWZlciBkaWZmaW5nIGFnYWluc3QgdGhlIGZ1bGwgYHBhcnQudGV4dGAgd2hlbiBwcmVzZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb21lIE9wZW5Db2RlIHNlcnZlciB2ZXJzaW9ucyBlbWl0IG11bHRpcGxlIHRleHQgcGFydHMgb3Igc2VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBgZGVsdGFgIGFzIHRoZSAqZnVsbCogdGV4dCwgd2hpY2ggd291bGQgZHVwbGljYXRlIG91dHB1dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LnRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXJ0LnRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LnN0YXJ0c1dpdGgoZW1pdHRlZFRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFUZXh0ID0gbmV4dC5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZFRleHQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZFRleHQgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbWl0dGVkVGV4dC5zdGFydHNXaXRoKG5leHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhbGUvZHVwbGljYXRlIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiB0cmVhdCBhcyBhZGRpdGl2ZSBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVGV4dCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZFRleHQgKz0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmF3RGVsdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVGV4dCA9IHJhd0RlbHRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZFRleHQgKz0gcmF3RGVsdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlbHRhVGV4dCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9ncmVzc1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlc1dyaXR0ZW4gKz0gZGVsdGFUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRJZGxlVGltZXIoKTsgLy8gT25seSByZXNldCBvbiBhY3R1YWwgY29udGVudCBwcm9ncmVzc1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIldyaXRpbmcgZGVsdGEgdG8gc3RyZWFtXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhTGVuZ3RoOiBkZWx0YVRleHQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxCeXRlc1dyaXR0ZW46IGJ5dGVzV3JpdHRlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9IGRlbHRhVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVyLndyaXRlKGVuY29kZXIuZW5jb2RlKGRlbHRhVGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiRXZlbnQgc3RyZWFtIGVuZGVkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzV3JpdHRlbjogYnl0ZXNXcml0dGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGNvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBYm9ydGVkOiBjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lZE91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlSWRGb3VuZDogISFhc3Npc3RhbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2xvc2VPbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQgfHwgXCJObyBjb250ZW50IHJlY2VpdmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhZ25vc3RpY3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXNXcml0dGVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVkT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3Npc3RhbnRNZXNzYWdlSWRGb3VuZDogISFhc3Npc3RhbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cuZXJyb3IoXCJTdHJlYW1pbmcgdGFzayBlcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQWJvcnRlZDogY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlc1dyaXR0ZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVkT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudE1lc3NhZ2VJZEZvdW5kOiAhIWFzc2lzdGFudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgYWJvcnRlZCwgbm9ybWFsaXplIHRvIG91ciB0aW1lb3V0IGVycm9yIEFORCBlbnN1cmUgc3RyZWFtIGlzIGZpbmFsaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhYm9ydE9uY2UoaWRsZVRpbWVvdXRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWRsZVRpbWVvdXRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFib3J0T25jZShlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZXIpIGNsZWFyVGltZW91dChpZGxlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhcmRUaW1lcikgY2xlYXJUaW1lb3V0KGhhcmRUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiBzdHJlYW0ucmVhZGFibGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBzdHJlYW1pbmdUYXNrLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmF0ZUxpbWl0ID0gdGhpcy5pc1JhdGVMaW1pdEVycm9yKGxhc3RFcnJvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gdGhpcy5yZXRyeUF0dGVtcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gdGhpcy5nZXRCYWNrb2ZmRGVsYXkoYXR0ZW1wdCwgaXNSYXRlTGltaXQpO1xuXG4gICAgICAgICAgICAgICAgbG9nLndhcm4oXCJPcGVuQ29kZSBhdHRlbXB0IGZhaWxlZDsgcmV0cnlpbmdcIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRlbXB0LFxuICAgICAgICAgICAgICAgICAgICByZXRyeUF0dGVtcHRzOiB0aGlzLnJldHJ5QXR0ZW1wdHMsXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TXM6IGRlbGF5LFxuICAgICAgICAgICAgICAgICAgICBpc1JhdGVMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGxhc3RFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBGYWlsZWQgdG8gc3RyZWFtIG1lc3NhZ2UgYWZ0ZXIgJHt0aGlzLnJldHJ5QXR0ZW1wdHN9IGF0dGVtcHRzOiAke2xhc3RFcnJvcj8ubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHRleHQgaW50byBjaHVua3MgZm9yIHN0cmVhbWluZyBzaW11bGF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBzcGxpdEludG9DaHVua3ModGV4dDogc3RyaW5nLCBjaHVua1NpemU6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgY2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IGNodW5rU2l6ZSkge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2godGV4dC5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNodW5rcy5sZW5ndGggPiAwID8gY2h1bmtzIDogW3RleHRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBzZW5kaW5nIGEgbWVzc2FnZSB3aXRoIGVycm9yIGhhbmRsaW5nIGFuZCByZXRyaWVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTZW5kTWVzc2FnZShcbiAgICAgICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPE1lc3NhZ2VSZXNwb25zZT4ge1xuICAgICAgICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHRoaXMucmV0cnlBdHRlbXB0czsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFByb21wdCB0aW1lb3V0IGFmdGVyICR7dGhpcy5wcm9tcHRUaW1lb3V0fW1zYCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydCh0aW1lb3V0RXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5wcm9tcHRUaW1lb3V0KTtcblxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQ6IGFueTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnByb21wdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlEOiB0aGlzLmdlbmVyYXRlTWVzc2FnZUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rvcnk6IHRoaXMuZGlyZWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgYW55KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGltZW91dEVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCByZXNwb25zZSBmcm9tIE9wZW5Db2RlOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdC5lcnJvcil9YCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGNvbnRlbnQgZnJvbSByZXNwb25zZVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmRhdGE7XG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRleHQgY29udGVudCBmcm9tIHJlc3BvbnNlIHBhcnRzXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dFBhcnQgPSByZXNwb25zZS5wYXJ0cz8uZmluZChcbiAgICAgICAgICAgICAgICAgICAgKHBhcnQ6IGFueSkgPT4gcGFydC50eXBlID09PSBcInRleHRcIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNvbnRlbnQ6IHRleHRQYXJ0Py50ZXh0IHx8IFwiTm8gY29udGVudCByZWNlaXZlZFwiIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSByYXRlIGxpbWl0IGVycm9yXG4gICAgICAgICAgICAgICAgY29uc3QgaXNSYXRlTGltaXQgPSB0aGlzLmlzUmF0ZUxpbWl0RXJyb3IobGFzdEVycm9yKTtcblxuICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0ID09PSB0aGlzLnJldHJ5QXR0ZW1wdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBiZWZvcmUgcmV0cnlpbmcgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmdldEJhY2tvZmZEZWxheShhdHRlbXB0LCBpc1JhdGVMaW1pdCk7XG5cbiAgICAgICAgICAgICAgICBsb2cud2FybihcIk9wZW5Db2RlIGF0dGVtcHQgZmFpbGVkOyByZXRyeWluZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHQsXG4gICAgICAgICAgICAgICAgICAgIHJldHJ5QXR0ZW1wdHM6IHRoaXMucmV0cnlBdHRlbXB0cyxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlNczogZGVsYXksXG4gICAgICAgICAgICAgICAgICAgIGlzUmF0ZUxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogbGFzdEVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEZhaWxlZCB0byBzZW5kIG1lc3NhZ2UgYWZ0ZXIgJHt0aGlzLnJldHJ5QXR0ZW1wdHN9IGF0dGVtcHRzOiAke2xhc3RFcnJvcj8ubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGVycm9yIGlzIGEgcmF0ZSBsaW1pdCBlcnJvclxuICAgICAqL1xuICAgIHByaXZhdGUgaXNSYXRlTGltaXRFcnJvcihlcnJvcjogRXJyb3IpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZXJyID0gZXJyb3IgYXMgYW55O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZXJyLnN0YXR1cyA9PT0gNDI5IHx8XG4gICAgICAgICAgICAvcmF0ZSBsaW1pdHxxdW90YXxvdmVybG9hZGVkfGNhcGFjaXR5L2kudGVzdChlcnJvci5tZXNzYWdlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBiYWNrb2ZmIGRlbGF5IHdpdGggaml0dGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRCYWNrb2ZmRGVsYXkoYXR0ZW1wdDogbnVtYmVyLCBpc1JhdGVMaW1pdDogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBpc1JhdGVMaW1pdCA/IDUwMDAgOiAxMDAwOyAvLyA1cyBmb3IgcmF0ZSBsaW1pdCwgMXMgb3RoZXJ3aXNlXG4gICAgICAgIGNvbnN0IGV4cG9uZW50aWFsID0gYmFzZSAqIDIgKiogKGF0dGVtcHQgLSAxKTtcbiAgICAgICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAqIDEwMDA7IC8vIEFkZCB1cCB0byAxcyBqaXR0ZXJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGV4cG9uZW50aWFsICsgaml0dGVyLCA2MDAwMCk7IC8vIG1heCA2MHNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgc2Vzc2lvbiBjbG9zdXJlIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVNlc3Npb25DbG9zZShzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTm90ZTogT3BlbkNvZGUgU0RLIG1pZ2h0IG5vdCBoYXZlIGFuIGV4cGxpY2l0IGNsb3NlIG1ldGhvZFxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCByZW1vdmUgZnJvbSBvdXIgYWN0aXZlIHNlc3Npb25zXG4gICAgICAgICAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHdlJ2QgY2FsbCBTREsncyBkZWxldGUgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgbG9nLmRlYnVnKFwiU2Vzc2lvbiBjbG9zZWRcIiwgeyBzZXNzaW9uSWQgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIGxvZy53YXJuKFwiRmFpbGVkIHRvIGNsb3NlIHNlc3Npb25cIiwge1xuICAgICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSBzZXNzaW9uIElEIGlmIFNESyBkb2Vzbid0IHByb3ZpZGUgb25lXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYHNlc3Npb24tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgcHJvcGVybHkgZm9ybWF0dGVkIG1lc3NhZ2UgSUQgd2l0aCBtc2dfIHByZWZpeFxuICAgICAqIEZvcm1hdDogbXNnXzx0aW1lc3RhbXA+XzxyYW5kb20+XG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU1lc3NhZ2VJZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYG1zZ18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDgpfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW51cCBtZXRob2QgdG8gY2xvc2UgYWxsIHNlc3Npb25zIGFuZCBzZXJ2ZXJcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwiU3RhcnRpbmcgY2xlYW51cC4uLlwiLCB7XG4gICAgICAgICAgICAgICAgYWN0aXZlU2Vzc2lvbnM6IHRoaXMuYWN0aXZlU2Vzc2lvbnMuc2l6ZSxcbiAgICAgICAgICAgICAgICBoYXNTZXJ2ZXI6ICEhdGhpcy5zZXJ2ZXIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQ2xvc2UgYWxsIGFjdGl2ZSBzZXNzaW9uc1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbG9zZUFsbFNlc3Npb25zKCk7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgdGhlIE9wZW5Db2RlIHNlcnZlciBpZiB3ZSBzdGFydGVkIG9uZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2VydmVyKSB7XG4gICAgICAgICAgICAgICAgbG9nLmluZm8oXCJDbG9zaW5nIHNwYXduZWQgT3BlbkNvZGUgc2VydmVyXCIpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmluZm8oXCJPcGVuQ29kZSBzZXJ2ZXIgY2xvc2VkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5lcnJvcihcIkVycm9yIGNsb3NpbmcgT3BlbkNvZGUgc2VydmVyXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvck1zZyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2cuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiTm8gc3Bhd25lZCBzZXJ2ZXIgdG8gY2xvc2UgKGNvbm5lY3RlZCB0byBleGlzdGluZyBzZXJ2ZXIpXCIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9nLmluZm8oXCJDbGVhbnVwIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIGxvZy5lcnJvcihcIkVycm9yIGR1cmluZyBPcGVuQ29kZSBjbGllbnQgY2xlYW51cFwiLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTXNnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59XG4iLAogICAgIi8vIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBieSBAaGV5LWFwaS9vcGVuYXBpLXRzXG5leHBvcnQgY29uc3QgY3JlYXRlU3NlQ2xpZW50ID0gKHsgb25Tc2VFcnJvciwgb25Tc2VFdmVudCwgcmVzcG9uc2VUcmFuc2Zvcm1lciwgcmVzcG9uc2VWYWxpZGF0b3IsIHNzZURlZmF1bHRSZXRyeURlbGF5LCBzc2VNYXhSZXRyeUF0dGVtcHRzLCBzc2VNYXhSZXRyeURlbGF5LCBzc2VTbGVlcEZuLCB1cmwsIC4uLm9wdGlvbnMgfSkgPT4ge1xuICAgIGxldCBsYXN0RXZlbnRJZDtcbiAgICBjb25zdCBzbGVlcCA9IHNzZVNsZWVwRm4gPz8gKChtcykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKSk7XG4gICAgY29uc3QgY3JlYXRlU3RyZWFtID0gYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgbGV0IHJldHJ5RGVsYXkgPSBzc2VEZWZhdWx0UmV0cnlEZWxheSA/PyAzMDAwO1xuICAgICAgICBsZXQgYXR0ZW1wdCA9IDA7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsID8/IG5ldyBBYm9ydENvbnRyb2xsZXIoKS5zaWduYWw7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVyc1xuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5oZWFkZXJzXG4gICAgICAgICAgICAgICAgOiBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKGxhc3RFdmVudElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldChcIkxhc3QtRXZlbnQtSURcIiwgbGFzdEV2ZW50SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgeyAuLi5vcHRpb25zLCBoZWFkZXJzLCBzaWduYWwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTU0UgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYm9keSBpbiBTU0UgcmVzcG9uc2VcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJvcnRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua3MgPSBidWZmZXIuc3BsaXQoXCJcXG5cXG5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBjaHVua3MucG9wKCkgPz8gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBjaHVuay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhTGluZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXZlbnROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFMaW5lcy5wdXNoKGxpbmUucmVwbGFjZSgvXmRhdGE6XFxzKi8sIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJldmVudDpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IGxpbmUucmVwbGFjZSgvXmV2ZW50OlxccyovLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJpZDpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFdmVudElkID0gbGluZS5yZXBsYWNlKC9eaWQ6XFxzKi8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuc3RhcnRzV2l0aChcInJldHJ5OlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gTnVtYmVyLnBhcnNlSW50KGxpbmUucmVwbGFjZSgvXnJldHJ5OlxccyovLCBcIlwiKSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5RGVsYXkgPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZEpzb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUxpbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdEYXRhID0gZGF0YUxpbmVzLmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyYXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZEpzb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByYXdEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRKc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVZhbGlkYXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzcG9uc2VWYWxpZGF0b3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZVRyYW5zZm9ybWVyKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3NlRXZlbnQ/Lih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBsYXN0RXZlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnk6IHJldHJ5RGVsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFMaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBleGl0IGxvb3Agb24gbm9ybWFsIGNvbXBsZXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gZmFpbGVkIG9yIGFib3J0ZWQ7IHJldHJ5IGFmdGVyIGRlbGF5XG4gICAgICAgICAgICAgICAgb25Tc2VFcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAoc3NlTWF4UmV0cnlBdHRlbXB0cyAhPT0gdW5kZWZpbmVkICYmIGF0dGVtcHQgPj0gc3NlTWF4UmV0cnlBdHRlbXB0cykge1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gc3RvcCBhZnRlciBmaXJpbmcgZXJyb3JcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgYmFja29mZjogZG91YmxlIHJldHJ5IGVhY2ggYXR0ZW1wdCwgY2FwIGF0IDMwc1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tvZmYgPSBNYXRoLm1pbihyZXRyeURlbGF5ICogMiAqKiAoYXR0ZW1wdCAtIDEpLCBzc2VNYXhSZXRyeURlbGF5ID8/IDMwMDAwKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChiYWNrb2ZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3RyZWFtID0gY3JlYXRlU3RyZWFtKCk7XG4gICAgcmV0dXJuIHsgc3RyZWFtIH07XG59O1xuIiwKICAgICIvLyBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgYnkgQGhleS1hcGkvb3BlbmFwaS10c1xuZXhwb3J0IGNvbnN0IGdldEF1dGhUb2tlbiA9IGFzeW5jIChhdXRoLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBjYWxsYmFjayhhdXRoKSA6IGNhbGxiYWNrO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYXV0aC5zY2hlbWUgPT09IFwiYmVhcmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH1cbiAgICBpZiAoYXV0aC5zY2hlbWUgPT09IFwiYmFzaWNcIikge1xuICAgICAgICByZXR1cm4gYEJhc2ljICR7YnRvYSh0b2tlbil9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuO1xufTtcbiIsCiAgICAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IEBoZXktYXBpL29wZW5hcGktdHNcbmNvbnN0IHNlcmlhbGl6ZUZvcm1EYXRhUGFpciA9IChkYXRhLCBrZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgZGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkYXRhLmFwcGVuZChrZXksIHZhbHVlLnRvSVNPU3RyaW5nKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGF0YS5hcHBlbmQoa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbn07XG5jb25zdCBzZXJpYWxpemVVcmxTZWFyY2hQYXJhbXNQYWlyID0gKGRhdGEsIGtleSwgdmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGF0YS5hcHBlbmQoa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZm9ybURhdGFCb2R5U2VyaWFsaXplciA9IHtcbiAgICBib2R5U2VyaWFsaXplcjogKGJvZHkpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhib2R5KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4gc2VyaWFsaXplRm9ybURhdGFQYWlyKGRhdGEsIGtleSwgdikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VyaWFsaXplRm9ybURhdGFQYWlyKGRhdGEsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QganNvbkJvZHlTZXJpYWxpemVyID0ge1xuICAgIGJvZHlTZXJpYWxpemVyOiAoYm9keSkgPT4gSlNPTi5zdHJpbmdpZnkoYm9keSwgKF9rZXksIHZhbHVlKSA9PiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiID8gdmFsdWUudG9TdHJpbmcoKSA6IHZhbHVlKSksXG59O1xuZXhwb3J0IGNvbnN0IHVybFNlYXJjaFBhcmFtc0JvZHlTZXJpYWxpemVyID0ge1xuICAgIGJvZHlTZXJpYWxpemVyOiAoYm9keSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhib2R5KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4gc2VyaWFsaXplVXJsU2VhcmNoUGFyYW1zUGFpcihkYXRhLCBrZXksIHYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZVVybFNlYXJjaFBhcmFtc1BhaXIoZGF0YSwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH0sXG59O1xuIiwKICAgICIvLyBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgYnkgQGhleS1hcGkvb3BlbmFwaS10c1xuZXhwb3J0IGNvbnN0IHNlcGFyYXRvckFycmF5RXhwbG9kZSA9IChzdHlsZSkgPT4ge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgY2FzZSBcImxhYmVsXCI6XG4gICAgICAgICAgICByZXR1cm4gXCIuXCI7XG4gICAgICAgIGNhc2UgXCJtYXRyaXhcIjpcbiAgICAgICAgICAgIHJldHVybiBcIjtcIjtcbiAgICAgICAgY2FzZSBcInNpbXBsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiLFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiJlwiO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc2VwYXJhdG9yQXJyYXlOb0V4cGxvZGUgPSAoc3R5bGUpID0+IHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICAgIGNhc2UgXCJmb3JtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCIsXCI7XG4gICAgICAgIGNhc2UgXCJwaXBlRGVsaW1pdGVkXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ8XCI7XG4gICAgICAgIGNhc2UgXCJzcGFjZURlbGltaXRlZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiJTIwXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCIsXCI7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzZXBhcmF0b3JPYmplY3RFeHBsb2RlID0gKHN0eWxlKSA9PiB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgICBjYXNlIFwibGFiZWxcIjpcbiAgICAgICAgICAgIHJldHVybiBcIi5cIjtcbiAgICAgICAgY2FzZSBcIm1hdHJpeFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiO1wiO1xuICAgICAgICBjYXNlIFwic2ltcGxlXCI6XG4gICAgICAgICAgICByZXR1cm4gXCIsXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCImXCI7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzZXJpYWxpemVBcnJheVBhcmFtID0gKHsgYWxsb3dSZXNlcnZlZCwgZXhwbG9kZSwgbmFtZSwgc3R5bGUsIHZhbHVlLCB9KSA9PiB7XG4gICAgaWYgKCFleHBsb2RlKSB7XG4gICAgICAgIGNvbnN0IGpvaW5lZFZhbHVlcyA9IChhbGxvd1Jlc2VydmVkID8gdmFsdWUgOiB2YWx1ZS5tYXAoKHYpID0+IGVuY29kZVVSSUNvbXBvbmVudCh2KSkpLmpvaW4oc2VwYXJhdG9yQXJyYXlOb0V4cGxvZGUoc3R5bGUpKTtcbiAgICAgICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImxhYmVsXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAuJHtqb2luZWRWYWx1ZXN9YDtcbiAgICAgICAgICAgIGNhc2UgXCJtYXRyaXhcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYDske25hbWV9PSR7am9pbmVkVmFsdWVzfWA7XG4gICAgICAgICAgICBjYXNlIFwic2ltcGxlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpvaW5lZFZhbHVlcztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke25hbWV9PSR7am9pbmVkVmFsdWVzfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gc2VwYXJhdG9yQXJyYXlFeHBsb2RlKHN0eWxlKTtcbiAgICBjb25zdCBqb2luZWRWYWx1ZXMgPSB2YWx1ZVxuICAgICAgICAubWFwKCh2KSA9PiB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gXCJsYWJlbFwiIHx8IHN0eWxlID09PSBcInNpbXBsZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxsb3dSZXNlcnZlZCA/IHYgOiBlbmNvZGVVUklDb21wb25lbnQodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVByaW1pdGl2ZVBhcmFtKHtcbiAgICAgICAgICAgIGFsbG93UmVzZXJ2ZWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgICAgIC5qb2luKHNlcGFyYXRvcik7XG4gICAgcmV0dXJuIHN0eWxlID09PSBcImxhYmVsXCIgfHwgc3R5bGUgPT09IFwibWF0cml4XCIgPyBzZXBhcmF0b3IgKyBqb2luZWRWYWx1ZXMgOiBqb2luZWRWYWx1ZXM7XG59O1xuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVByaW1pdGl2ZVBhcmFtID0gKHsgYWxsb3dSZXNlcnZlZCwgbmFtZSwgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZXBseS1uZXN0ZWQgYXJyYXlzL29iamVjdHMgYXJlbuKAmXQgc3VwcG9ydGVkLiBQcm92aWRlIHlvdXIgb3duIGBxdWVyeVNlcmlhbGl6ZXIoKWAgdG8gaGFuZGxlIHRoZXNlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGAke25hbWV9PSR7YWxsb3dSZXNlcnZlZCA/IHZhbHVlIDogZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xufTtcbmV4cG9ydCBjb25zdCBzZXJpYWxpemVPYmplY3RQYXJhbSA9ICh7IGFsbG93UmVzZXJ2ZWQsIGV4cGxvZGUsIG5hbWUsIHN0eWxlLCB2YWx1ZSwgdmFsdWVPbmx5LCB9KSA9PiB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWVPbmx5ID8gdmFsdWUudG9JU09TdHJpbmcoKSA6IGAke25hbWV9PSR7dmFsdWUudG9JU09TdHJpbmcoKX1gO1xuICAgIH1cbiAgICBpZiAoc3R5bGUgIT09IFwiZGVlcE9iamVjdFwiICYmICFleHBsb2RlKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goKFtrZXksIHZdKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBbLi4udmFsdWVzLCBrZXksIGFsbG93UmVzZXJ2ZWQgPyB2IDogZW5jb2RlVVJJQ29tcG9uZW50KHYpXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGpvaW5lZFZhbHVlcyA9IHZhbHVlcy5qb2luKFwiLFwiKTtcbiAgICAgICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImZvcm1cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7bmFtZX09JHtqb2luZWRWYWx1ZXN9YDtcbiAgICAgICAgICAgIGNhc2UgXCJsYWJlbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgLiR7am9pbmVkVmFsdWVzfWA7XG4gICAgICAgICAgICBjYXNlIFwibWF0cml4XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA7JHtuYW1lfT0ke2pvaW5lZFZhbHVlc31gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gam9pbmVkVmFsdWVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNlcGFyYXRvciA9IHNlcGFyYXRvck9iamVjdEV4cGxvZGUoc3R5bGUpO1xuICAgIGNvbnN0IGpvaW5lZFZhbHVlcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKVxuICAgICAgICAubWFwKChba2V5LCB2XSkgPT4gc2VyaWFsaXplUHJpbWl0aXZlUGFyYW0oe1xuICAgICAgICBhbGxvd1Jlc2VydmVkLFxuICAgICAgICBuYW1lOiBzdHlsZSA9PT0gXCJkZWVwT2JqZWN0XCIgPyBgJHtuYW1lfVske2tleX1dYCA6IGtleSxcbiAgICAgICAgdmFsdWU6IHYsXG4gICAgfSkpXG4gICAgICAgIC5qb2luKHNlcGFyYXRvcik7XG4gICAgcmV0dXJuIHN0eWxlID09PSBcImxhYmVsXCIgfHwgc3R5bGUgPT09IFwibWF0cml4XCIgPyBzZXBhcmF0b3IgKyBqb2luZWRWYWx1ZXMgOiBqb2luZWRWYWx1ZXM7XG59O1xuIiwKICAgICIvLyBUaGlzIGZpbGUgaXMgYXV0by1nZW5lcmF0ZWQgYnkgQGhleS1hcGkvb3BlbmFwaS10c1xuaW1wb3J0IHsgc2VyaWFsaXplQXJyYXlQYXJhbSwgc2VyaWFsaXplT2JqZWN0UGFyYW0sIHNlcmlhbGl6ZVByaW1pdGl2ZVBhcmFtLCB9IGZyb20gXCIuL3BhdGhTZXJpYWxpemVyLmdlbi5qc1wiO1xuZXhwb3J0IGNvbnN0IFBBVEhfUEFSQU1fUkUgPSAvXFx7W157fV0rXFx9L2c7XG5leHBvcnQgY29uc3QgZGVmYXVsdFBhdGhTZXJpYWxpemVyID0gKHsgcGF0aCwgdXJsOiBfdXJsIH0pID0+IHtcbiAgICBsZXQgdXJsID0gX3VybDtcbiAgICBjb25zdCBtYXRjaGVzID0gX3VybC5tYXRjaChQQVRIX1BBUkFNX1JFKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICAgIGxldCBleHBsb2RlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IG1hdGNoLnN1YnN0cmluZygxLCBtYXRjaC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IFwic2ltcGxlXCI7XG4gICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aChcIipcIikpIHtcbiAgICAgICAgICAgICAgICBleHBsb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgICAgIHN0eWxlID0gXCJsYWJlbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKFwiO1wiKSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IFwibWF0cml4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhdGhbbmFtZV07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UobWF0Y2gsIHNlcmlhbGl6ZUFycmF5UGFyYW0oeyBleHBsb2RlLCBuYW1lLCBzdHlsZSwgdmFsdWUgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKG1hdGNoLCBzZXJpYWxpemVPYmplY3RQYXJhbSh7XG4gICAgICAgICAgICAgICAgICAgIGV4cGxvZGUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3R5bGUgPT09IFwibWF0cml4XCIpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShtYXRjaCwgYDske3NlcmlhbGl6ZVByaW1pdGl2ZVBhcmFtKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIH0pfWApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVwbGFjZVZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0eWxlID09PSBcImxhYmVsXCIgPyBgLiR7dmFsdWV9YCA6IHZhbHVlKTtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKG1hdGNoLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59O1xuZXhwb3J0IGNvbnN0IGdldFVybCA9ICh7IGJhc2VVcmwsIHBhdGgsIHF1ZXJ5LCBxdWVyeVNlcmlhbGl6ZXIsIHVybDogX3VybCwgfSkgPT4ge1xuICAgIGNvbnN0IHBhdGhVcmwgPSBfdXJsLnN0YXJ0c1dpdGgoXCIvXCIpID8gX3VybCA6IGAvJHtfdXJsfWA7XG4gICAgbGV0IHVybCA9IChiYXNlVXJsID8/IFwiXCIpICsgcGF0aFVybDtcbiAgICBpZiAocGF0aCkge1xuICAgICAgICB1cmwgPSBkZWZhdWx0UGF0aFNlcmlhbGl6ZXIoeyBwYXRoLCB1cmwgfSk7XG4gICAgfVxuICAgIGxldCBzZWFyY2ggPSBxdWVyeSA/IHF1ZXJ5U2VyaWFsaXplcihxdWVyeSkgOiBcIlwiO1xuICAgIGlmIChzZWFyY2guc3RhcnRzV2l0aChcIj9cIikpIHtcbiAgICAgICAgc2VhcmNoID0gc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgICB1cmwgKz0gYD8ke3NlYXJjaH1gO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xufTtcbiIsCiAgICAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IEBoZXktYXBpL29wZW5hcGktdHNcbmltcG9ydCB7IGdldEF1dGhUb2tlbiB9IGZyb20gXCIuLi9jb3JlL2F1dGguZ2VuLmpzXCI7XG5pbXBvcnQgeyBqc29uQm9keVNlcmlhbGl6ZXIgfSBmcm9tIFwiLi4vY29yZS9ib2R5U2VyaWFsaXplci5nZW4uanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUFycmF5UGFyYW0sIHNlcmlhbGl6ZU9iamVjdFBhcmFtLCBzZXJpYWxpemVQcmltaXRpdmVQYXJhbSB9IGZyb20gXCIuLi9jb3JlL3BhdGhTZXJpYWxpemVyLmdlbi5qc1wiO1xuaW1wb3J0IHsgZ2V0VXJsIH0gZnJvbSBcIi4uL2NvcmUvdXRpbHMuZ2VuLmpzXCI7XG5leHBvcnQgY29uc3QgY3JlYXRlUXVlcnlTZXJpYWxpemVyID0gKHsgYWxsb3dSZXNlcnZlZCwgYXJyYXksIG9iamVjdCB9ID0ge30pID0+IHtcbiAgICBjb25zdCBxdWVyeVNlcmlhbGl6ZXIgPSAocXVlcnlQYXJhbXMpID0+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoID0gW107XG4gICAgICAgIGlmIChxdWVyeVBhcmFtcyAmJiB0eXBlb2YgcXVlcnlQYXJhbXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBxdWVyeVBhcmFtcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlQYXJhbXNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkQXJyYXkgPSBzZXJpYWxpemVBcnJheVBhcmFtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXJ2ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBsb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImZvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWFsaXplZEFycmF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLnB1c2goc2VyaWFsaXplZEFycmF5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRPYmplY3QgPSBzZXJpYWxpemVPYmplY3RQYXJhbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1Jlc2VydmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwbG9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJkZWVwT2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vYmplY3QsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWFsaXplZE9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5wdXNoKHNlcmlhbGl6ZWRPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZFByaW1pdGl2ZSA9IHNlcmlhbGl6ZVByaW1pdGl2ZVBhcmFtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXJ2ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZWRQcmltaXRpdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2gucHVzaChzZXJpYWxpemVkUHJpbWl0aXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlYXJjaC5qb2luKFwiJlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBxdWVyeVNlcmlhbGl6ZXI7XG59O1xuLyoqXG4gKiBJbmZlcnMgcGFyc2VBcyB2YWx1ZSBmcm9tIHByb3ZpZGVkIENvbnRlbnQtVHlwZSBoZWFkZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQYXJzZUFzID0gKGNvbnRlbnRUeXBlKSA9PiB7XG4gICAgaWYgKCFjb250ZW50VHlwZSkge1xuICAgICAgICAvLyBJZiBubyBDb250ZW50LVR5cGUgaGVhZGVyIGlzIHByb3ZpZGVkLCB0aGUgYmVzdCB3ZSBjYW4gZG8gaXMgcmV0dXJuIHRoZSByYXcgcmVzcG9uc2UgYm9keSxcbiAgICAgICAgLy8gd2hpY2ggaXMgZWZmZWN0aXZlbHkgdGhlIHNhbWUgYXMgdGhlICdzdHJlYW0nIG9wdGlvbi5cbiAgICAgICAgcmV0dXJuIFwic3RyZWFtXCI7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IGNvbnRlbnRUeXBlLnNwbGl0KFwiO1wiKVswXT8udHJpbSgpO1xuICAgIGlmICghY2xlYW5Db250ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNsZWFuQ29udGVudC5zdGFydHNXaXRoKFwiYXBwbGljYXRpb24vanNvblwiKSB8fCBjbGVhbkNvbnRlbnQuZW5kc1dpdGgoXCIranNvblwiKSkge1xuICAgICAgICByZXR1cm4gXCJqc29uXCI7XG4gICAgfVxuICAgIGlmIChjbGVhbkNvbnRlbnQgPT09IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSB7XG4gICAgICAgIHJldHVybiBcImZvcm1EYXRhXCI7XG4gICAgfVxuICAgIGlmIChbXCJhcHBsaWNhdGlvbi9cIiwgXCJhdWRpby9cIiwgXCJpbWFnZS9cIiwgXCJ2aWRlby9cIl0uc29tZSgodHlwZSkgPT4gY2xlYW5Db250ZW50LnN0YXJ0c1dpdGgodHlwZSkpKSB7XG4gICAgICAgIHJldHVybiBcImJsb2JcIjtcbiAgICB9XG4gICAgaWYgKGNsZWFuQ29udGVudC5zdGFydHNXaXRoKFwidGV4dC9cIikpIHtcbiAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xuICAgIH1cbiAgICByZXR1cm47XG59O1xuY29uc3QgY2hlY2tGb3JFeGlzdGVuY2UgPSAob3B0aW9ucywgbmFtZSkgPT4ge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmhlYWRlcnMuaGFzKG5hbWUpIHx8IG9wdGlvbnMucXVlcnk/LltuYW1lXSB8fCBvcHRpb25zLmhlYWRlcnMuZ2V0KFwiQ29va2llXCIpPy5pbmNsdWRlcyhgJHtuYW1lfT1gKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCBjb25zdCBzZXRBdXRoUGFyYW1zID0gYXN5bmMgKHsgc2VjdXJpdHksIC4uLm9wdGlvbnMgfSkgPT4ge1xuICAgIGZvciAoY29uc3QgYXV0aCBvZiBzZWN1cml0eSkge1xuICAgICAgICBpZiAoY2hlY2tGb3JFeGlzdGVuY2Uob3B0aW9ucywgYXV0aC5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRBdXRoVG9rZW4oYXV0aCwgb3B0aW9ucy5hdXRoKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZSA9IGF1dGgubmFtZSA/PyBcIkF1dGhvcml6YXRpb25cIjtcbiAgICAgICAgc3dpdGNoIChhdXRoLmluKSB7XG4gICAgICAgICAgICBjYXNlIFwicXVlcnlcIjpcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5xdWVyeSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zLnF1ZXJ5W25hbWVdID0gdG9rZW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29va2llXCI6XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzLmFwcGVuZChcIkNvb2tpZVwiLCBgJHtuYW1lfT0ke3Rva2VufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImhlYWRlclwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KG5hbWUsIHRva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgYnVpbGRVcmwgPSAob3B0aW9ucykgPT4gZ2V0VXJsKHtcbiAgICBiYXNlVXJsOiBvcHRpb25zLmJhc2VVcmwsXG4gICAgcGF0aDogb3B0aW9ucy5wYXRoLFxuICAgIHF1ZXJ5OiBvcHRpb25zLnF1ZXJ5LFxuICAgIHF1ZXJ5U2VyaWFsaXplcjogdHlwZW9mIG9wdGlvbnMucXVlcnlTZXJpYWxpemVyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBvcHRpb25zLnF1ZXJ5U2VyaWFsaXplclxuICAgICAgICA6IGNyZWF0ZVF1ZXJ5U2VyaWFsaXplcihvcHRpb25zLnF1ZXJ5U2VyaWFsaXplciksXG4gICAgdXJsOiBvcHRpb25zLnVybCxcbn0pO1xuZXhwb3J0IGNvbnN0IG1lcmdlQ29uZmlncyA9IChhLCBiKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0geyAuLi5hLCAuLi5iIH07XG4gICAgaWYgKGNvbmZpZy5iYXNlVXJsPy5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgY29uZmlnLmJhc2VVcmwgPSBjb25maWcuYmFzZVVybC5zdWJzdHJpbmcoMCwgY29uZmlnLmJhc2VVcmwubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGNvbmZpZy5oZWFkZXJzID0gbWVyZ2VIZWFkZXJzKGEuaGVhZGVycywgYi5oZWFkZXJzKTtcbiAgICByZXR1cm4gY29uZmlnO1xufTtcbmV4cG9ydCBjb25zdCBtZXJnZUhlYWRlcnMgPSAoLi4uaGVhZGVycykgPT4ge1xuICAgIGNvbnN0IG1lcmdlZEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKCFoZWFkZXIgfHwgdHlwZW9mIGhlYWRlciAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBoZWFkZXIgaW5zdGFuY2VvZiBIZWFkZXJzID8gaGVhZGVyLmVudHJpZXMoKSA6IE9iamVjdC5lbnRyaWVzKGhlYWRlcik7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRIZWFkZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkSGVhZGVycy5hcHBlbmQoa2V5LCB2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gYXNzdW1lIG9iamVjdCBoZWFkZXJzIGFyZSBtZWFudCB0byBiZSBKU09OIHN0cmluZ2lmaWVkLCBpLmUuIHRoZWlyXG4gICAgICAgICAgICAgICAgLy8gY29udGVudCB2YWx1ZSBpbiBPcGVuQVBJIHNwZWNpZmljYXRpb24gaXMgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgbWVyZ2VkSGVhZGVycy5zZXQoa2V5LCB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZEhlYWRlcnM7XG59O1xuY2xhc3MgSW50ZXJjZXB0b3JzIHtcbiAgICBfZm5zO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9mbnMgPSBbXTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2ZucyA9IFtdO1xuICAgIH1cbiAgICBnZXRJbnRlcmNlcHRvckluZGV4KGlkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbnNbaWRdID8gaWQgOiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbnMuaW5kZXhPZihpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhpc3RzKGlkKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXRJbnRlcmNlcHRvckluZGV4KGlkKTtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZm5zW2luZGV4XTtcbiAgICB9XG4gICAgZWplY3QoaWQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmdldEludGVyY2VwdG9ySW5kZXgoaWQpO1xuICAgICAgICBpZiAodGhpcy5fZm5zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5fZm5zW2luZGV4XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKGlkLCBmbikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0SW50ZXJjZXB0b3JJbmRleChpZCk7XG4gICAgICAgIGlmICh0aGlzLl9mbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aGlzLl9mbnNbaW5kZXhdID0gZm47XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX2ZucyA9IFsuLi50aGlzLl9mbnMsIGZuXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zucy5sZW5ndGggLSAxO1xuICAgIH1cbn1cbi8vIGRvIG5vdCBhZGQgYE1pZGRsZXdhcmVgIGFzIHJldHVybiB0eXBlIHNvIHdlIGNhbiB1c2UgX2ZucyBpbnRlcm5hbGx5XG5leHBvcnQgY29uc3QgY3JlYXRlSW50ZXJjZXB0b3JzID0gKCkgPT4gKHtcbiAgICBlcnJvcjogbmV3IEludGVyY2VwdG9ycygpLFxuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvcnMoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9ycygpLFxufSk7XG5jb25zdCBkZWZhdWx0UXVlcnlTZXJpYWxpemVyID0gY3JlYXRlUXVlcnlTZXJpYWxpemVyKHtcbiAgICBhbGxvd1Jlc2VydmVkOiBmYWxzZSxcbiAgICBhcnJheToge1xuICAgICAgICBleHBsb2RlOiB0cnVlLFxuICAgICAgICBzdHlsZTogXCJmb3JtXCIsXG4gICAgfSxcbiAgICBvYmplY3Q6IHtcbiAgICAgICAgZXhwbG9kZTogdHJ1ZSxcbiAgICAgICAgc3R5bGU6IFwiZGVlcE9iamVjdFwiLFxuICAgIH0sXG59KTtcbmNvbnN0IGRlZmF1bHRIZWFkZXJzID0ge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDb25maWcgPSAob3ZlcnJpZGUgPSB7fSkgPT4gKHtcbiAgICAuLi5qc29uQm9keVNlcmlhbGl6ZXIsXG4gICAgaGVhZGVyczogZGVmYXVsdEhlYWRlcnMsXG4gICAgcGFyc2VBczogXCJhdXRvXCIsXG4gICAgcXVlcnlTZXJpYWxpemVyOiBkZWZhdWx0UXVlcnlTZXJpYWxpemVyLFxuICAgIC4uLm92ZXJyaWRlLFxufSk7XG4iLAogICAgIi8vIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBieSBAaGV5LWFwaS9vcGVuYXBpLXRzXG5pbXBvcnQgeyBjcmVhdGVTc2VDbGllbnQgfSBmcm9tIFwiLi4vY29yZS9zZXJ2ZXJTZW50RXZlbnRzLmdlbi5qc1wiO1xuaW1wb3J0IHsgYnVpbGRVcmwsIGNyZWF0ZUNvbmZpZywgY3JlYXRlSW50ZXJjZXB0b3JzLCBnZXRQYXJzZUFzLCBtZXJnZUNvbmZpZ3MsIG1lcmdlSGVhZGVycywgc2V0QXV0aFBhcmFtcywgfSBmcm9tIFwiLi91dGlscy5nZW4uanNcIjtcbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSAoY29uZmlnID0ge30pID0+IHtcbiAgICBsZXQgX2NvbmZpZyA9IG1lcmdlQ29uZmlncyhjcmVhdGVDb25maWcoKSwgY29uZmlnKTtcbiAgICBjb25zdCBnZXRDb25maWcgPSAoKSA9PiAoeyAuLi5fY29uZmlnIH0pO1xuICAgIGNvbnN0IHNldENvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICAgICAgX2NvbmZpZyA9IG1lcmdlQ29uZmlncyhfY29uZmlnLCBjb25maWcpO1xuICAgICAgICByZXR1cm4gZ2V0Q29uZmlnKCk7XG4gICAgfTtcbiAgICBjb25zdCBpbnRlcmNlcHRvcnMgPSBjcmVhdGVJbnRlcmNlcHRvcnMoKTtcbiAgICBjb25zdCBiZWZvcmVSZXF1ZXN0ID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLl9jb25maWcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2ggPz8gX2NvbmZpZy5mZXRjaCA/PyBnbG9iYWxUaGlzLmZldGNoLFxuICAgICAgICAgICAgaGVhZGVyczogbWVyZ2VIZWFkZXJzKF9jb25maWcuaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRCb2R5OiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLnNlY3VyaXR5KSB7XG4gICAgICAgICAgICBhd2FpdCBzZXRBdXRoUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgIHNlY3VyaXR5OiBvcHRzLnNlY3VyaXR5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucmVxdWVzdFZhbGlkYXRvcikge1xuICAgICAgICAgICAgYXdhaXQgb3B0cy5yZXF1ZXN0VmFsaWRhdG9yKG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmJvZHkgJiYgb3B0cy5ib2R5U2VyaWFsaXplcikge1xuICAgICAgICAgICAgb3B0cy5zZXJpYWxpemVkQm9keSA9IG9wdHMuYm9keVNlcmlhbGl6ZXIob3B0cy5ib2R5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgQ29udGVudC1UeXBlIGhlYWRlciBpZiBib2R5IGlzIGVtcHR5IHRvIGF2b2lkIHNlbmRpbmcgaW52YWxpZCByZXF1ZXN0c1xuICAgICAgICBpZiAob3B0cy5zZXJpYWxpemVkQm9keSA9PT0gdW5kZWZpbmVkIHx8IG9wdHMuc2VyaWFsaXplZEJvZHkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIG9wdHMuaGVhZGVycy5kZWxldGUoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gYnVpbGRVcmwob3B0cyk7XG4gICAgICAgIHJldHVybiB7IG9wdHMsIHVybCB9O1xuICAgIH07XG4gICAgY29uc3QgcmVxdWVzdCA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgY29uc3QgeyBvcHRzLCB1cmwgfSA9IGF3YWl0IGJlZm9yZVJlcXVlc3Qob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJbml0ID0ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgYm9keTogb3B0cy5zZXJpYWxpemVkQm9keSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHJlcXVlc3RJbml0KTtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBpbnRlcmNlcHRvcnMucmVxdWVzdC5fZm5zKSB7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gYXdhaXQgZm4ocmVxdWVzdCwgb3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmV0Y2ggbXVzdCBiZSBhc3NpZ25lZCBoZXJlLCBvdGhlcndpc2UgaXQgd291bGQgdGhyb3cgdGhlIGVycm9yOlxuICAgICAgICAvLyBUeXBlRXJyb3I6IEZhaWxlZCB0byBleGVjdXRlICdmZXRjaCcgb24gJ1dpbmRvdyc6IElsbGVnYWwgaW52b2NhdGlvblxuICAgICAgICBjb25zdCBfZmV0Y2ggPSBvcHRzLmZldGNoO1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBfZmV0Y2gocmVxdWVzdCk7XG4gICAgICAgIGZvciAoY29uc3QgZm4gb2YgaW50ZXJjZXB0b3JzLnJlc3BvbnNlLl9mbnMpIHtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZm4ocmVzcG9uc2UsIHJlcXVlc3QsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQgfHwgcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJDb250ZW50LUxlbmd0aFwiKSA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5yZXNwb25zZVN0eWxlID09PSBcImRhdGFcIlxuICAgICAgICAgICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJzZUFzID0gKG9wdHMucGFyc2VBcyA9PT0gXCJhdXRvXCIgPyBnZXRQYXJzZUFzKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpKSA6IG9wdHMucGFyc2VBcykgPz8gXCJqc29uXCI7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAocGFyc2VBcykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheUJ1ZmZlclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJibG9iXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1EYXRhXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2VbcGFyc2VBc10oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmVhbVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5yZXNwb25zZVN0eWxlID09PSBcImRhdGFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNwb25zZS5ib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VBcyA9PT0gXCJqc29uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5yZXNwb25zZVZhbGlkYXRvcikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvcHRzLnJlc3BvbnNlVmFsaWRhdG9yKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5yZXNwb25zZVRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBvcHRzLnJlc3BvbnNlVHJhbnNmb3JtZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdHMucmVzcG9uc2VTdHlsZSA9PT0gXCJkYXRhXCJcbiAgICAgICAgICAgICAgICA/IGRhdGFcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dEVycm9yID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBsZXQganNvbkVycm9yO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbkVycm9yID0gSlNPTi5wYXJzZSh0ZXh0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IGpzb25FcnJvciA/PyB0ZXh0RXJyb3I7XG4gICAgICAgIGxldCBmaW5hbEVycm9yID0gZXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgZm4gb2YgaW50ZXJjZXB0b3JzLmVycm9yLl9mbnMpIHtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgIGZpbmFsRXJyb3IgPSAoYXdhaXQgZm4oZXJyb3IsIHJlc3BvbnNlLCByZXF1ZXN0LCBvcHRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxFcnJvciA9IGZpbmFsRXJyb3IgfHwge307XG4gICAgICAgIGlmIChvcHRzLnRocm93T25FcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZmluYWxFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiB3ZSBwcm9iYWJseSB3YW50IHRvIHJldHVybiBlcnJvciBhbmQgaW1wcm92ZSB0eXBlc1xuICAgICAgICByZXR1cm4gb3B0cy5yZXNwb25zZVN0eWxlID09PSBcImRhdGFcIlxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGVycm9yOiBmaW5hbEVycm9yLFxuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBtYWtlTWV0aG9kID0gKG1ldGhvZCkgPT4ge1xuICAgICAgICBjb25zdCBmbiA9IChvcHRpb25zKSA9PiByZXF1ZXN0KHsgLi4ub3B0aW9ucywgbWV0aG9kIH0pO1xuICAgICAgICBmbi5zc2UgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvcHRzLCB1cmwgfSA9IGF3YWl0IGJlZm9yZVJlcXVlc3Qob3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU3NlQ2xpZW50KHtcbiAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgIGJvZHk6IG9wdHMuYm9keSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBidWlsZFVybCxcbiAgICAgICAgY29ubmVjdDogbWFrZU1ldGhvZChcIkNPTk5FQ1RcIiksXG4gICAgICAgIGRlbGV0ZTogbWFrZU1ldGhvZChcIkRFTEVURVwiKSxcbiAgICAgICAgZ2V0OiBtYWtlTWV0aG9kKFwiR0VUXCIpLFxuICAgICAgICBnZXRDb25maWcsXG4gICAgICAgIGhlYWQ6IG1ha2VNZXRob2QoXCJIRUFEXCIpLFxuICAgICAgICBpbnRlcmNlcHRvcnMsXG4gICAgICAgIG9wdGlvbnM6IG1ha2VNZXRob2QoXCJPUFRJT05TXCIpLFxuICAgICAgICBwYXRjaDogbWFrZU1ldGhvZChcIlBBVENIXCIpLFxuICAgICAgICBwb3N0OiBtYWtlTWV0aG9kKFwiUE9TVFwiKSxcbiAgICAgICAgcHV0OiBtYWtlTWV0aG9kKFwiUFVUXCIpLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBzZXRDb25maWcsXG4gICAgICAgIHRyYWNlOiBtYWtlTWV0aG9kKFwiVFJBQ0VcIiksXG4gICAgfTtcbn07XG4iLAogICAgIi8vIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBieSBAaGV5LWFwaS9vcGVuYXBpLXRzXG5jb25zdCBleHRyYVByZWZpeGVzTWFwID0ge1xuICAgICRib2R5XzogXCJib2R5XCIsXG4gICAgJGhlYWRlcnNfOiBcImhlYWRlcnNcIixcbiAgICAkcGF0aF86IFwicGF0aFwiLFxuICAgICRxdWVyeV86IFwicXVlcnlcIixcbn07XG5jb25zdCBleHRyYVByZWZpeGVzID0gT2JqZWN0LmVudHJpZXMoZXh0cmFQcmVmaXhlc01hcCk7XG5jb25zdCBidWlsZEtleU1hcCA9IChmaWVsZHMsIG1hcCkgPT4ge1xuICAgIGlmICghbWFwKSB7XG4gICAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgZmllbGRzKSB7XG4gICAgICAgIGlmIChcImluXCIgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmtleSkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXQoY29uZmlnLmtleSwge1xuICAgICAgICAgICAgICAgICAgICBpbjogY29uZmlnLmluLFxuICAgICAgICAgICAgICAgICAgICBtYXA6IGNvbmZpZy5tYXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLmFyZ3MpIHtcbiAgICAgICAgICAgIGJ1aWxkS2V5TWFwKGNvbmZpZy5hcmdzLCBtYXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59O1xuY29uc3Qgc3RyaXBFbXB0eVNsb3RzID0gKHBhcmFtcykgPT4ge1xuICAgIGZvciAoY29uc3QgW3Nsb3QsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKSB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIU9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwYXJhbXNbc2xvdF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJ1aWxkQ2xpZW50UGFyYW1zID0gKGFyZ3MsIGZpZWxkcykgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgYm9keToge30sXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICBwYXRoOiB7fSxcbiAgICAgICAgcXVlcnk6IHt9LFxuICAgIH07XG4gICAgY29uc3QgbWFwID0gYnVpbGRLZXlNYXAoZmllbGRzKTtcbiAgICBsZXQgY29uZmlnO1xuICAgIGZvciAoY29uc3QgW2luZGV4LCBhcmddIG9mIGFyZ3MuZW50cmllcygpKSB7XG4gICAgICAgIGlmIChmaWVsZHNbaW5kZXhdKSB7XG4gICAgICAgICAgICBjb25maWcgPSBmaWVsZHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJpblwiIGluIGNvbmZpZykge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5rZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IG1hcC5nZXQoY29uZmlnLmtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZpZWxkLm1hcCB8fCBjb25maWcua2V5O1xuICAgICAgICAgICAgICAgIHBhcmFtc1tmaWVsZC5pbl1bbmFtZV0gPSBhcmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuYm9keSA9IGFyZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGFyZyA/PyB7fSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IG1hcC5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZpZWxkLm1hcCB8fCBrZXk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1tmaWVsZC5pbl1bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhID0gZXh0cmFQcmVmaXhlcy5maW5kKChbcHJlZml4XSkgPT4ga2V5LnN0YXJ0c1dpdGgocHJlZml4KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3ByZWZpeCwgc2xvdF0gPSBleHRyYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tzbG90XVtrZXkuc2xpY2UocHJlZml4Lmxlbmd0aCldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzbG90LCBhbGxvd2VkXSBvZiBPYmplY3QuZW50cmllcyhjb25maWcuYWxsb3dFeHRyYSA/PyB7fSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tzbG90XVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpcEVtcHR5U2xvdHMocGFyYW1zKTtcbiAgICByZXR1cm4gcGFyYW1zO1xufTtcbiIsCiAgICAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IEBoZXktYXBpL29wZW5hcGktdHNcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCwgY3JlYXRlQ29uZmlnIH0gZnJvbSBcIi4vY2xpZW50L2luZGV4LmpzXCI7XG5leHBvcnQgY29uc3QgY2xpZW50ID0gY3JlYXRlQ2xpZW50KGNyZWF0ZUNvbmZpZyh7XG4gICAgYmFzZVVybDogXCJodHRwOi8vbG9jYWxob3N0OjQwOTZcIixcbn0pKTtcbiIsCiAgICAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IEBoZXktYXBpL29wZW5hcGktdHNcbmltcG9ydCB7IGNsaWVudCBhcyBfaGV5QXBpQ2xpZW50IH0gZnJvbSBcIi4vY2xpZW50Lmdlbi5qc1wiO1xuY2xhc3MgX0hleUFwaUNsaWVudCB7XG4gICAgX2NsaWVudCA9IF9oZXlBcGlDbGllbnQ7XG4gICAgY29uc3RydWN0b3IoYXJncykge1xuICAgICAgICBpZiAoYXJncz8uY2xpZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jbGllbnQgPSBhcmdzLmNsaWVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEdsb2JhbCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEdldCBldmVudHNcbiAgICAgKi9cbiAgICBldmVudChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0LnNzZSh7XG4gICAgICAgICAgICB1cmw6IFwiL2dsb2JhbC9ldmVudFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgUHJvamVjdCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIExpc3QgYWxsIHByb2plY3RzXG4gICAgICovXG4gICAgbGlzdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvcHJvamVjdFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwcm9qZWN0XG4gICAgICovXG4gICAgY3VycmVudChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvcHJvamVjdC9jdXJyZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBQdHkgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBQVFkgc2Vzc2lvbnNcbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9wdHlcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgUFRZIHNlc3Npb25cbiAgICAgKi9cbiAgICBjcmVhdGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi9wdHlcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBQVFkgc2Vzc2lvblxuICAgICAqL1xuICAgIHJlbW92ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5kZWxldGUoe1xuICAgICAgICAgICAgdXJsOiBcIi9wdHkve2lkfVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBQVFkgc2Vzc2lvbiBpbmZvXG4gICAgICovXG4gICAgZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3B0eS97aWR9XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIFBUWSBzZXNzaW9uXG4gICAgICovXG4gICAgdXBkYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnB1dCh7XG4gICAgICAgICAgICB1cmw6IFwiL3B0eS97aWR9XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIGEgUFRZIHNlc3Npb25cbiAgICAgKi9cbiAgICBjb25uZWN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3B0eS97aWR9L2Nvbm5lY3RcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIENvbmZpZyBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEdldCBjb25maWcgaW5mb1xuICAgICAqL1xuICAgIGdldChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvY29uZmlnXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNvbmZpZ1xuICAgICAqL1xuICAgIHVwZGF0ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucGF0Y2goe1xuICAgICAgICAgICAgdXJsOiBcIi9jb25maWdcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBwcm92aWRlcnNcbiAgICAgKi9cbiAgICBwcm92aWRlcnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2NvbmZpZy9wcm92aWRlcnNcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFRvb2wgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCB0b29sIElEcyAoaW5jbHVkaW5nIGJ1aWx0LWluIGFuZCBkeW5hbWljYWxseSByZWdpc3RlcmVkKVxuICAgICAqL1xuICAgIGlkcyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvZXhwZXJpbWVudGFsL3Rvb2wvaWRzXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCB0b29scyB3aXRoIEpTT04gc2NoZW1hIHBhcmFtZXRlcnMgZm9yIGEgcHJvdmlkZXIvbW9kZWxcbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2V4cGVyaW1lbnRhbC90b29sXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBJbnN0YW5jZSBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgdGhlIGN1cnJlbnQgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBkaXNwb3NlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvaW5zdGFuY2UvZGlzcG9zZVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgUGF0aCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwYXRoXG4gICAgICovXG4gICAgZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9wYXRoXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBWY3MgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBHZXQgVkNTIGluZm8gZm9yIHRoZSBjdXJyZW50IGluc3RhbmNlXG4gICAgICovXG4gICAgZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi92Y3NcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFNlc3Npb24gZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBzZXNzaW9uc1xuICAgICAqL1xuICAgIGxpc3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb25cIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgc2Vzc2lvblxuICAgICAqL1xuICAgIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb25cIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgc2Vzc2lvbiBzdGF0dXNcbiAgICAgKi9cbiAgICBzdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24vc3RhdHVzXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgc2Vzc2lvbiBhbmQgYWxsIGl0cyBkYXRhXG4gICAgICovXG4gICAgZGVsZXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmRlbGV0ZSh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBzZXNzaW9uXG4gICAgICovXG4gICAgZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzZXNzaW9uIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICB1cGRhdGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucGF0Y2goe1xuICAgICAgICAgICAgdXJsOiBcIi9zZXNzaW9uL3tpZH1cIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHNlc3Npb24ncyBjaGlsZHJlblxuICAgICAqL1xuICAgIGNoaWxkcmVuKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9jaGlsZHJlblwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG9kbyBsaXN0IGZvciBhIHNlc3Npb25cbiAgICAgKi9cbiAgICB0b2RvKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS90b2RvXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW5hbHl6ZSB0aGUgYXBwIGFuZCBjcmVhdGUgYW4gQUdFTlRTLm1kIGZpbGVcbiAgICAgKi9cbiAgICBpbml0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi9zZXNzaW9uL3tpZH0vaW5pdFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yayBhbiBleGlzdGluZyBzZXNzaW9uIGF0IGEgc3BlY2lmaWMgbWVzc2FnZVxuICAgICAqL1xuICAgIGZvcmsob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9mb3JrXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydCBhIHNlc3Npb25cbiAgICAgKi9cbiAgICBhYm9ydChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L2Fib3J0XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zaGFyZSB0aGUgc2Vzc2lvblxuICAgICAqL1xuICAgIHVuc2hhcmUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZGVsZXRlKHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3NoYXJlXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hhcmUgYSBzZXNzaW9uXG4gICAgICovXG4gICAgc2hhcmUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9zaGFyZVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlmZiBmb3IgdGhpcyBzZXNzaW9uXG4gICAgICovXG4gICAgZGlmZihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9zZXNzaW9uL3tpZH0vZGlmZlwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1bW1hcml6ZSB0aGUgc2Vzc2lvblxuICAgICAqL1xuICAgIHN1bW1hcml6ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3N1bW1hcml6ZVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBtZXNzYWdlcyBmb3IgYSBzZXNzaW9uXG4gICAgICovXG4gICAgbWVzc2FnZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L21lc3NhZ2VcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW5kIHNlbmQgYSBuZXcgbWVzc2FnZSB0byBhIHNlc3Npb25cbiAgICAgKi9cbiAgICBwcm9tcHQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9tZXNzYWdlXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBtZXNzYWdlIGZyb20gYSBzZXNzaW9uXG4gICAgICovXG4gICAgbWVzc2FnZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9zZXNzaW9uL3tpZH0vbWVzc2FnZS97bWVzc2FnZUlEfVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2VuZCBhIG5ldyBtZXNzYWdlIHRvIGEgc2Vzc2lvbiwgc3RhcnQgaWYgbmVlZGVkIGFuZCByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgKi9cbiAgICBwcm9tcHRBc3luYyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3Byb21wdF9hc3luY1wiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG5ldyBjb21tYW5kIHRvIGEgc2Vzc2lvblxuICAgICAqL1xuICAgIGNvbW1hbmQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9jb21tYW5kXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gYSBzaGVsbCBjb21tYW5kXG4gICAgICovXG4gICAgc2hlbGwob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Nlc3Npb24ve2lkfS9zaGVsbFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV2ZXJ0IGEgbWVzc2FnZVxuICAgICAqL1xuICAgIHJldmVydChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3JldmVydFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzdG9yZSBhbGwgcmV2ZXJ0ZWQgbWVzc2FnZXNcbiAgICAgKi9cbiAgICB1bnJldmVydChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3VucmV2ZXJ0XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBDb21tYW5kIGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogTGlzdCBhbGwgY29tbWFuZHNcbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9jb21tYW5kXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBPYXV0aCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEF1dGhvcml6ZSBhIHByb3ZpZGVyIHVzaW5nIE9BdXRoXG4gICAgICovXG4gICAgYXV0aG9yaXplKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi9wcm92aWRlci97aWR9L29hdXRoL2F1dGhvcml6ZVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIE9BdXRoIGNhbGxiYWNrIGZvciBhIHByb3ZpZGVyXG4gICAgICovXG4gICAgY2FsbGJhY2sob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3Byb3ZpZGVyL3tpZH0vb2F1dGgvY2FsbGJhY2tcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBwcm92aWRlcnNcbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9wcm92aWRlclwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBwcm92aWRlciBhdXRoZW50aWNhdGlvbiBtZXRob2RzXG4gICAgICovXG4gICAgYXV0aChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvcHJvdmlkZXIvYXV0aFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9hdXRoID0gbmV3IE9hdXRoKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG59XG5jbGFzcyBGaW5kIGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogRmluZCB0ZXh0IGluIGZpbGVzXG4gICAgICovXG4gICAgdGV4dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9maW5kXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBmaWxlc1xuICAgICAqL1xuICAgIGZpbGVzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2ZpbmQvZmlsZVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgd29ya3NwYWNlIHN5bWJvbHNcbiAgICAgKi9cbiAgICBzeW1ib2xzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2ZpbmQvc3ltYm9sXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBGaWxlIGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogTGlzdCBmaWxlcyBhbmQgZGlyZWN0b3JpZXNcbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2ZpbGVcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgZmlsZVxuICAgICAqL1xuICAgIHJlYWQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkuZ2V0KHtcbiAgICAgICAgICAgIHVybDogXCIvZmlsZS9jb250ZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgc3RhdHVzXG4gICAgICovXG4gICAgc3RhdHVzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9maWxlL3N0YXR1c1wiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgQXBwIGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBsb2cgZW50cnkgdG8gdGhlIHNlcnZlciBsb2dzXG4gICAgICovXG4gICAgbG9nKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvbG9nXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBhbGwgYWdlbnRzXG4gICAgICovXG4gICAgYWdlbnRzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5nZXQoe1xuICAgICAgICAgICAgdXJsOiBcIi9hZ2VudFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgQXV0aCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBPQXV0aCBjcmVkZW50aWFscyBmb3IgYW4gTUNQIHNlcnZlclxuICAgICAqL1xuICAgIHJlbW92ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5kZWxldGUoe1xuICAgICAgICAgICAgdXJsOiBcIi9tY3Ave25hbWV9L2F1dGhcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCBPQXV0aCBhdXRoZW50aWNhdGlvbiBmbG93IGZvciBhbiBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgc3RhcnQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL21jcC97bmFtZX0vYXV0aFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBsZXRlIE9BdXRoIGF1dGhlbnRpY2F0aW9uIHdpdGggYXV0aG9yaXphdGlvbiBjb2RlXG4gICAgICovXG4gICAgY2FsbGJhY2sob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMuY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL21jcC97bmFtZX0vYXV0aC9jYWxsYmFja1wiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgT0F1dGggZmxvdyBhbmQgd2FpdCBmb3IgY2FsbGJhY2sgKG9wZW5zIGJyb3dzZXIpXG4gICAgICovXG4gICAgYXV0aGVudGljYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi9tY3Ave25hbWV9L2F1dGgvYXV0aGVudGljYXRlXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzXG4gICAgICovXG4gICAgc2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnB1dCh7XG4gICAgICAgICAgICB1cmw6IFwiL2F1dGgve2lkfVwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBNY3AgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBHZXQgTUNQIHNlcnZlciBzdGF0dXNcbiAgICAgKi9cbiAgICBzdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL21jcFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBNQ1Agc2VydmVyIGR5bmFtaWNhbGx5XG4gICAgICovXG4gICAgYWRkKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvbWNwXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBhbiBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvbWNwL3tuYW1lfS9jb25uZWN0XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBhbiBNQ1Agc2VydmVyXG4gICAgICovXG4gICAgZGlzY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvbWNwL3tuYW1lfS9kaXNjb25uZWN0XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXV0aCA9IG5ldyBBdXRoKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG59XG5jbGFzcyBMc3AgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBHZXQgTFNQIHNlcnZlciBzdGF0dXNcbiAgICAgKi9cbiAgICBzdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2xzcFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgRm9ybWF0dGVyIGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogR2V0IGZvcm1hdHRlciBzdGF0dXNcbiAgICAgKi9cbiAgICBzdGF0dXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL2Zvcm1hdHRlclwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgQ29udHJvbCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmV4dCBUVUkgcmVxdWVzdCBmcm9tIHRoZSBxdWV1ZVxuICAgICAqL1xuICAgIG5leHQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldCh7XG4gICAgICAgICAgICB1cmw6IFwiL3R1aS9jb250cm9sL25leHRcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJtaXQgYSByZXNwb25zZSB0byB0aGUgVFVJIHJlcXVlc3QgcXVldWVcbiAgICAgKi9cbiAgICByZXNwb25zZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3R1aS9jb250cm9sL3Jlc3BvbnNlXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBUdWkgZXh0ZW5kcyBfSGV5QXBpQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBBcHBlbmQgcHJvbXB0IHRvIHRoZSBUVUlcbiAgICAgKi9cbiAgICBhcHBlbmRQcm9tcHQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvYXBwZW5kLXByb21wdFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIGhlbHAgZGlhbG9nXG4gICAgICovXG4gICAgb3BlbkhlbHAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvb3Blbi1oZWxwXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbiB0aGUgc2Vzc2lvbiBkaWFsb2dcbiAgICAgKi9cbiAgICBvcGVuU2Vzc2lvbnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvb3Blbi1zZXNzaW9uc1wiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIHRoZW1lIGRpYWxvZ1xuICAgICAqL1xuICAgIG9wZW5UaGVtZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvb3Blbi10aGVtZXNcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBtb2RlbCBkaWFsb2dcbiAgICAgKi9cbiAgICBvcGVuTW9kZWxzKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvdHVpL29wZW4tbW9kZWxzXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VibWl0IHRoZSBwcm9tcHRcbiAgICAgKi9cbiAgICBzdWJtaXRQcm9tcHQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvc3VibWl0LXByb21wdFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBwcm9tcHRcbiAgICAgKi9cbiAgICBjbGVhclByb21wdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3R1aS9jbGVhci1wcm9tcHRcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGEgVFVJIGNvbW1hbmQgKGUuZy4gYWdlbnRfY3ljbGUpXG4gICAgICovXG4gICAgZXhlY3V0ZUNvbW1hbmQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiBcIi90dWkvZXhlY3V0ZS1jb21tYW5kXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hvdyBhIHRvYXN0IG5vdGlmaWNhdGlvbiBpbiB0aGUgVFVJXG4gICAgICovXG4gICAgc2hvd1RvYXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zPy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvdHVpL3Nob3ctdG9hc3RcIixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIGEgVFVJIGV2ZW50XG4gICAgICovXG4gICAgcHVibGlzaChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucz8uY2xpZW50ID8/IHRoaXMuX2NsaWVudCkucG9zdCh7XG4gICAgICAgICAgICB1cmw6IFwiL3R1aS9wdWJsaXNoXCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29udHJvbCA9IG5ldyBDb250cm9sKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG59XG5jbGFzcyBFdmVudCBleHRlbmRzIF9IZXlBcGlDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEdldCBldmVudHNcbiAgICAgKi9cbiAgICBzdWJzY3JpYmUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnM/LmNsaWVudCA/PyB0aGlzLl9jbGllbnQpLmdldC5zc2Uoe1xuICAgICAgICAgICAgdXJsOiBcIi9ldmVudFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9wZW5jb2RlQ2xpZW50IGV4dGVuZHMgX0hleUFwaUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogUmVzcG9uZCB0byBhIHBlcm1pc3Npb24gcmVxdWVzdFxuICAgICAqL1xuICAgIHBvc3RTZXNzaW9uSWRQZXJtaXNzaW9uc1Blcm1pc3Npb25JZChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5jbGllbnQgPz8gdGhpcy5fY2xpZW50KS5wb3N0KHtcbiAgICAgICAgICAgIHVybDogXCIvc2Vzc2lvbi97aWR9L3Blcm1pc3Npb25zL3twZXJtaXNzaW9uSUR9XCIsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnbG9iYWwgPSBuZXcgR2xvYmFsKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG4gICAgcHJvamVjdCA9IG5ldyBQcm9qZWN0KHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG4gICAgcHR5ID0gbmV3IFB0eSh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIGNvbmZpZyA9IG5ldyBDb25maWcoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICB0b29sID0gbmV3IFRvb2woeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICBpbnN0YW5jZSA9IG5ldyBJbnN0YW5jZSh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIHBhdGggPSBuZXcgUGF0aCh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIHZjcyA9IG5ldyBWY3MoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICBzZXNzaW9uID0gbmV3IFNlc3Npb24oeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICBjb21tYW5kID0gbmV3IENvbW1hbmQoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICBwcm92aWRlciA9IG5ldyBQcm92aWRlcih7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIGZpbmQgPSBuZXcgRmluZCh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIGZpbGUgPSBuZXcgRmlsZSh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIGFwcCA9IG5ldyBBcHAoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICBtY3AgPSBuZXcgTWNwKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG4gICAgbHNwID0gbmV3IExzcCh7IGNsaWVudDogdGhpcy5fY2xpZW50IH0pO1xuICAgIGZvcm1hdHRlciA9IG5ldyBGb3JtYXR0ZXIoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbiAgICB0dWkgPSBuZXcgVHVpKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG4gICAgYXV0aCA9IG5ldyBBdXRoKHsgY2xpZW50OiB0aGlzLl9jbGllbnQgfSk7XG4gICAgZXZlbnQgPSBuZXcgRXZlbnQoeyBjbGllbnQ6IHRoaXMuX2NsaWVudCB9KTtcbn1cbiIsCiAgICAiZXhwb3J0ICogZnJvbSBcIi4vZ2VuL3R5cGVzLmdlbi5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIi4vZ2VuL2NsaWVudC9jbGllbnQuZ2VuLmpzXCI7XG5pbXBvcnQgeyBPcGVuY29kZUNsaWVudCB9IGZyb20gXCIuL2dlbi9zZGsuZ2VuLmpzXCI7XG5leHBvcnQgeyBPcGVuY29kZUNsaWVudCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9wZW5jb2RlQ2xpZW50KGNvbmZpZykge1xuICAgIGlmICghY29uZmlnPy5mZXRjaCkge1xuICAgICAgICBjb25zdCBjdXN0b21GZXRjaCA9IChyZXEpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJlcS50aW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2gocmVxKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgZmV0Y2g6IGN1c3RvbUZldGNoLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoY29uZmlnPy5kaXJlY3RvcnkpIHtcbiAgICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAuLi5jb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgIFwieC1vcGVuY29kZS1kaXJlY3RvcnlcIjogY29uZmlnLmRpcmVjdG9yeSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0gY3JlYXRlQ2xpZW50KGNvbmZpZyk7XG4gICAgcmV0dXJuIG5ldyBPcGVuY29kZUNsaWVudCh7IGNsaWVudCB9KTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgc3Bhd24gfSBmcm9tIFwibm9kZTpjaGlsZF9wcm9jZXNzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlT3BlbmNvZGVTZXJ2ZXIob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgaG9zdG5hbWU6IFwiMTI3LjAuMC4xXCIsXG4gICAgICAgIHBvcnQ6IDQwOTYsXG4gICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgfSwgb3B0aW9ucyA/PyB7fSk7XG4gICAgY29uc3QgYXJncyA9IFtgc2VydmVgLCBgLS1ob3N0bmFtZT0ke29wdGlvbnMuaG9zdG5hbWV9YCwgYC0tcG9ydD0ke29wdGlvbnMucG9ydH1gXTtcbiAgICBpZiAob3B0aW9ucy5jb25maWc/LmxvZ0xldmVsKVxuICAgICAgICBhcmdzLnB1c2goYC0tbG9nLWxldmVsPSR7b3B0aW9ucy5jb25maWcubG9nTGV2ZWx9YCk7XG4gICAgY29uc3QgcHJvYyA9IHNwYXduKGBvcGVuY29kZWAsIGFyZ3MsIHtcbiAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgZW52OiB7XG4gICAgICAgICAgICAuLi5wcm9jZXNzLmVudixcbiAgICAgICAgICAgIE9QRU5DT0RFX0NPTkZJR19DT05URU5UOiBKU09OLnN0cmluZ2lmeShvcHRpb25zLmNvbmZpZyA/PyB7fSksXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QgdXJsID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgVGltZW91dCB3YWl0aW5nIGZvciBzZXJ2ZXIgdG8gc3RhcnQgYWZ0ZXIgJHtvcHRpb25zLnRpbWVvdXR9bXNgKSk7XG4gICAgICAgIH0sIG9wdGlvbnMudGltZW91dCk7XG4gICAgICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgICAgICBwcm9jLnN0ZG91dD8ub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGNodW5rLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IG91dHB1dC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJvcGVuY29kZSBzZXJ2ZXIgbGlzdGVuaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvb25cXHMrKGh0dHBzPzpcXC9cXC9bXlxcc10rKS8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBzZXJ2ZXIgdXJsIGZyb20gb3V0cHV0OiAke2xpbmV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jLnN0ZGVycj8ub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGNodW5rLnRvU3RyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jLm9uKFwiZXhpdFwiLCAoY29kZSkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIGxldCBtc2cgPSBgU2VydmVyIGV4aXRlZCB3aXRoIGNvZGUgJHtjb2RlfWA7XG4gICAgICAgICAgICBpZiAob3V0cHV0LnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgXFxuU2VydmVyIG91dHB1dDogJHtvdXRwdXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IobXNnKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jLm9uKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgb3B0aW9ucy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJBYm9ydGVkXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsLFxuICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgIHByb2Mua2lsbCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlbmNvZGVUdWkob3B0aW9ucykge1xuICAgIGNvbnN0IGFyZ3MgPSBbXTtcbiAgICBpZiAob3B0aW9ucz8ucHJvamVjdCkge1xuICAgICAgICBhcmdzLnB1c2goYC0tcHJvamVjdD0ke29wdGlvbnMucHJvamVjdH1gKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/Lm1vZGVsKSB7XG4gICAgICAgIGFyZ3MucHVzaChgLS1tb2RlbD0ke29wdGlvbnMubW9kZWx9YCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5zZXNzaW9uKSB7XG4gICAgICAgIGFyZ3MucHVzaChgLS1zZXNzaW9uPSR7b3B0aW9ucy5zZXNzaW9ufWApO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uYWdlbnQpIHtcbiAgICAgICAgYXJncy5wdXNoKGAtLWFnZW50PSR7b3B0aW9ucy5hZ2VudH1gKTtcbiAgICB9XG4gICAgY29uc3QgcHJvYyA9IHNwYXduKGBvcGVuY29kZWAsIGFyZ3MsIHtcbiAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgIHN0ZGlvOiBcImluaGVyaXRcIixcbiAgICAgICAgZW52OiB7XG4gICAgICAgICAgICAuLi5wcm9jZXNzLmVudixcbiAgICAgICAgICAgIE9QRU5DT0RFX0NPTkZJR19DT05URU5UOiBKU09OLnN0cmluZ2lmeShvcHRpb25zPy5jb25maWcgPz8ge30pLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgcHJvYy5raWxsKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsCiAgICAiZXhwb3J0ICogZnJvbSBcIi4vY2xpZW50LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zZXJ2ZXIuanNcIjtcbmltcG9ydCB7IGNyZWF0ZU9wZW5jb2RlQ2xpZW50IH0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVPcGVuY29kZVNlcnZlciB9IGZyb20gXCIuL3NlcnZlci5qc1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9wZW5jb2RlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXJ2ZXIgPSBhd2FpdCBjcmVhdGVPcGVuY29kZVNlcnZlcih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gICAgY29uc3QgY2xpZW50ID0gY3JlYXRlT3BlbmNvZGVDbGllbnQoe1xuICAgICAgICBiYXNlVXJsOiBzZXJ2ZXIudXJsLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgc2VydmVyLFxuICAgIH07XG59XG4iLAogICAgIi8qKlxuICogUmFscGggTG9vcCBSdW5uZXIgLSBCYXNoLWxvb3Agc3R5bGUgaXRlcmF0aW9uIHdpdGggZnJlc2ggY29udGV4dCBwZXIgY3ljbGVcbiAqXG4gKiBJbXBsZW1lbnRzIHRoZSBvcmlnaW5hbCBSYWxwaCBXaWdndW0gdmlzaW9uOlxuICogLSBGcmVzaCBPcGVuQ29kZSBzZXNzaW9uIHBlciBpdGVyYXRpb24gKG5vIHRyYW5zY3JpcHQgY2Fycnktb3ZlcilcbiAqIC0gRmlsZSBJL08gYXMgc3RhdGUgKC5haS1lbmcvcnVucy88cnVuSWQ+Ly5mbG93KVxuICogLSBEZXRlcm1pbmlzdGljIHJlLWFuY2hvcmluZyBmcm9tIGRpc2sgc3RhdGUgZWFjaCBjeWNsZVxuICogLSBNdWx0aS1waGFzZSB3b3JrZmxvdyAocmVzZWFyY2gg4oaSIHNwZWNpZnkg4oaSIHBsYW4g4oaSIHdvcmsg4oaSIHJldmlldylcbiAqIC0gUXVhbGl0eSBnYXRlcyB0aGF0IGJsb2NrIHVudGlsIHBhc3NlZFxuICovXG5cbmltcG9ydCB7IGV4ZWNTeW5jIH0gZnJvbSBcIm5vZGU6Y2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gXCJub2RlOmNyeXB0b1wiO1xuaW1wb3J0IHsgcmVhZEZpbGUsIHJlYWRkaXIgfSBmcm9tIFwibm9kZTpmcy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgam9pbiwgcGFyc2UgfSBmcm9tIFwibm9kZTpwYXRoXCI7XG5pbXBvcnQgeyBPcGVuQ29kZUNsaWVudCwgdHlwZSBTZXNzaW9uIH0gZnJvbSBcIi4uL2JhY2tlbmRzL29wZW5jb2RlL2NsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBSYWxwaEZsYWdzIH0gZnJvbSBcIi4uL2NsaS9mbGFnc1wiO1xuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi4vY2xpL3VpXCI7XG5pbXBvcnQgdHlwZSB7IEFpRW5nQ29uZmlnLCBHYXRlQ29tbWFuZENvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvc2NoZW1hXCI7XG5pbXBvcnQgeyBQcm9tcHRPcHRpbWl6ZXIgfSBmcm9tIFwiLi4vcHJvbXB0LW9wdGltaXphdGlvbi9vcHRpbWl6ZXJcIjtcbmltcG9ydCB0eXBlIHsgRGlzY29yZFdlYmhvb2tDbGllbnQgfSBmcm9tIFwiLi4vdXRpbC9kaXNjb3JkLXdlYmhvb2tcIjtcbmltcG9ydCB7IGNyZWF0ZURpc2NvcmRXZWJob29rRnJvbUVudiB9IGZyb20gXCIuLi91dGlsL2Rpc2NvcmQtd2ViaG9va1wiO1xuaW1wb3J0IHsgTG9nIH0gZnJvbSBcIi4uL3V0aWwvbG9nXCI7XG5pbXBvcnQgeyBGbG93U3RvcmUsIHR5cGUgRmxvd1N0b3JlT3B0aW9ucyB9IGZyb20gXCIuL2Zsb3ctc3RvcmVcIjtcbmltcG9ydCB0eXBlIHtcbiAgICBDeWNsZVN0YXRlLFxuICAgIEdhdGVSZXN1bHQsXG4gICAgTG9vcENvbmZpZyxcbiAgICBUb29sSW52b2NhdGlvbixcbn0gZnJvbSBcIi4vZmxvdy10eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBGTE9XX1NDSEVNQV9WRVJTSU9OLFxuICAgIFBoYXNlLFxuICAgIFJ1blN0YXR1cyxcbiAgICBTdG9wUmVhc29uLFxufSBmcm9tIFwiLi9mbG93LXR5cGVzXCI7XG5cbmNvbnN0IGxvZyA9IExvZy5jcmVhdGUoeyBzZXJ2aWNlOiBcInJhbHBoLWxvb3BcIiB9KTtcblxuLyoqIERlZmF1bHQgcXVhbGl0eSBnYXRlcyAqL1xuY29uc3QgREVGQVVMVF9HQVRFUyA9IFtcInRlc3RcIiwgXCJsaW50XCIsIFwiYWNjZXB0YW5jZVwiXTtcblxuLyoqIERlZmF1bHQgbWF4IGN5Y2xlcyAqL1xuY29uc3QgREVGQVVMVF9NQVhfQ1lDTEVTID0gNTA7XG5cbi8qKiBEZWZhdWx0IHN0dWNrIHRocmVzaG9sZCAqL1xuY29uc3QgREVGQVVMVF9TVFVDS19USFJFU0hPTEQgPSA1O1xuXG4vKiogRGVmYXVsdCBjaGVja3BvaW50IGZyZXF1ZW5jeSAqL1xuY29uc3QgREVGQVVMVF9DSEVDS1BPSU5UX0ZSRVFVRU5DWSA9IDE7XG5cbi8qKiBEZWZhdWx0IGN5Y2xlIHJldHJpZXMgKi9cbmNvbnN0IERFRkFVTFRfQ1lDTEVfUkVUUklFUyA9IDI7XG5cbi8qKiBTZWNyZXRzIHBhdHRlcm5zIHRvIHJlZGFjdCBpbiBkZWJ1ZyBvdXRwdXQgKi9cbmNvbnN0IFNFQ1JFVF9QQVRURVJOUyA9IFtcbiAgICAvYXBpW18tXT9rZXkvaSxcbiAgICAvdG9rZW4vaSxcbiAgICAvc2VjcmV0L2ksXG4gICAgL3Bhc3N3b3JkL2ksXG4gICAgL2NyZWRlbnRpYWwvaSxcbiAgICAvd2ViaG9vay9pLFxuICAgIC9hdXRoL2ksXG4gICAgL2JlYXJlci9pLFxuICAgIC9wcml2YXRlW18tXT9rZXkvaSxcbl07XG5cbi8qKlxuICogUmVkYWN0IHNlY3JldHMgZnJvbSBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiByZWRhY3RTZWNyZXRzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBsZXQgcmVzdWx0ID0gdGV4dDtcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgU0VDUkVUX1BBVFRFUk5TKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBgJHtwYXR0ZXJuLnNvdXJjZX1bXCInXT9cXFxccypbOj1dXFxcXHMqW1wiJ10/KFteXCInXCIsXFxcXHNdKylgLFxuICAgICAgICAgICAgICAgIFwiZ2lcIixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBgJHtwYXR0ZXJuLnNvdXJjZX09XCJbUkVEQUNURURdXCJgLFxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRydW5jYXRlIGxvbmcgb3V0cHV0IGZvciBsb2dnaW5nXG4gKi9cbmZ1bmN0aW9uIHRydW5jYXRlT3V0cHV0KHRleHQ6IHN0cmluZywgbWF4TGVuZ3RoID0gMTAwMCk6IHN0cmluZyB7XG4gICAgaWYgKHRleHQubGVuZ3RoIDw9IG1heExlbmd0aCkgcmV0dXJuIHRleHQ7XG4gICAgcmV0dXJuIGAke3RleHQuc3Vic3RyaW5nKDAsIG1heExlbmd0aCl9XFxuLi4uIFt0cnVuY2F0ZWQgJHt0ZXh0Lmxlbmd0aCAtIG1heExlbmd0aH0gY2hhcnNdYDtcbn1cblxuLyoqXG4gKiBSYWxwaCBMb29wIFJ1bm5lciAtIG9yY2hlc3RyYXRlcyBpdGVyYXRpb24gbG9vcHMgd2l0aCBmcmVzaCBzZXNzaW9uc1xuICovXG5leHBvcnQgY2xhc3MgUmFscGhMb29wUnVubmVyIHtcbiAgICBwcml2YXRlIGNvbmZpZzogTG9vcENvbmZpZztcbiAgICBwcml2YXRlIGZsb3dTdG9yZTogRmxvd1N0b3JlO1xuICAgIHByaXZhdGUgZmxhZ3M6IFJhbHBoRmxhZ3M7XG4gICAgcHJpdmF0ZSBiYXNlQ29uZmlnOiBBaUVuZ0NvbmZpZztcbiAgICBwcml2YXRlIG9wdGltaXplcjogUHJvbXB0T3B0aW1pemVyO1xuICAgIHByaXZhdGUgZGlzY29yZFdlYmhvb2s6IERpc2NvcmRXZWJob29rQ2xpZW50IHwgbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBmbGFnczogUmFscGhGbGFncyxcbiAgICAgICAgYmFzZUNvbmZpZzogQWlFbmdDb25maWcsXG4gICAgICAgIG9wdGltaXplcjogUHJvbXB0T3B0aW1pemVyLFxuICAgICkge1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMuYmFzZUNvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIHRoaXMub3B0aW1pemVyID0gb3B0aW1pemVyO1xuXG4gICAgICAgIC8vIEJ1aWxkIGxvb3AgY29uZmlnIGZyb20gZmxhZ3NcbiAgICAgICAgdGhpcy5jb25maWcgPSB0aGlzLmJ1aWxkTG9vcENvbmZpZygpO1xuICAgICAgICBjb25zdCBmbG93U3RvcmVPcHRpb25zOiBGbG93U3RvcmVPcHRpb25zID0ge1xuICAgICAgICAgICAgZmxvd0RpcjogdGhpcy5jb25maWcuZmxvd0RpcixcbiAgICAgICAgICAgIHJ1bklkOiB0aGlzLmNvbmZpZy5ydW5JZCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mbG93U3RvcmUgPSBuZXcgRmxvd1N0b3JlKGZsb3dTdG9yZU9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgRGlzY29yZCB3ZWJob29rIGZyb20gZW52aXJvbm1lbnRcbiAgICAgICAgdGhpcy5kaXNjb3JkV2ViaG9vayA9IGNyZWF0ZURpc2NvcmRXZWJob29rRnJvbUVudigpO1xuICAgIH1cblxuICAgIC8qKiBCdWlsZCBsb29wIGNvbmZpZyBmcm9tIGZsYWdzICovXG4gICAgcHJpdmF0ZSBidWlsZExvb3BDb25maWcoKTogTG9vcENvbmZpZyB7XG4gICAgICAgIC8vIERldGVybWluZSBjb21wbGV0aW9uIHByb21pc2UgYmFzZWQgb24gbW9kZVxuICAgICAgICBsZXQgY29tcGxldGlvblByb21pc2UgPSB0aGlzLmZsYWdzLmNvbXBsZXRpb25Qcm9taXNlID8/IFwiXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuZmxhZ3Muc2hpcCkge1xuICAgICAgICAgICAgLy8gU2hpcCBtb2RlOiBhdXRvLWV4aXQgd2hlbiBhZ2VudCBvdXRwdXRzIFNISVBcbiAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlID0gXCI8cHJvbWlzZT5TSElQPC9wcm9taXNlPlwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmxhZ3MuZHJhZnQpIHtcbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGU6IHJ1biBmb3IgbWF4LWN5Y2xlcywgc3RvcCBmb3IgcmV2aWV3IChubyBhdXRvLWV4aXQpXG4gICAgICAgICAgICBjb21wbGV0aW9uUHJvbWlzZSA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNvbXBsZXRpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBObyBmbGFnIHNwZWNpZmllZCBhbmQgbm8gY29tcGxldGlvbiBwcm9taXNlOiBkZWZhdWx0IHRvIGRyYWZ0IG1vZGVcbiAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIHJ1biBJRCBpZiBub3QgcmVzdW1pbmdcbiAgICAgICAgbGV0IHJ1bklkID0gdGhpcy5mbGFncy5ydW5JZDtcbiAgICAgICAgaWYgKCFydW5JZCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGZsb3cgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRSdW5JZCA9IHRoaXMuZ2VuZXJhdGVSdW5JZCgpO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZsb3dEaXIgPSB0aGlzLmdldERlZmF1bHRGbG93RGlyKGRlZmF1bHRSdW5JZCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja1N0b3JlID0gbmV3IEZsb3dTdG9yZSh7XG4gICAgICAgICAgICAgICAgZmxvd0RpcjogdGhpcy5mbGFncy53b3JraW5nRGlyXG4gICAgICAgICAgICAgICAgICAgID8gam9pbih0aGlzLmZsYWdzLndvcmtpbmdEaXIsIFwiLmFpLWVuZ1wiKVxuICAgICAgICAgICAgICAgICAgICA6IFwiLmFpLWVuZ1wiLFxuICAgICAgICAgICAgICAgIHJ1bklkOiBkZWZhdWx0UnVuSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJ1bklkID0gZGVmYXVsdFJ1bklkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bklkLFxuICAgICAgICAgICAgcHJvbXB0OiB0aGlzLmZsYWdzLndvcmtmbG93ID8/IFwiXCIsXG4gICAgICAgICAgICBjb21wbGV0aW9uUHJvbWlzZSxcbiAgICAgICAgICAgIG1heEN5Y2xlczogdGhpcy5mbGFncy5tYXhDeWNsZXMgPz8gREVGQVVMVF9NQVhfQ1lDTEVTLFxuICAgICAgICAgICAgc3R1Y2tUaHJlc2hvbGQ6XG4gICAgICAgICAgICAgICAgdGhpcy5mbGFncy5zdHVja1RocmVzaG9sZCA/PyBERUZBVUxUX1NUVUNLX1RIUkVTSE9MRCxcbiAgICAgICAgICAgIGdhdGVzOiB0aGlzLmZsYWdzLmdhdGVzID8/IERFRkFVTFRfR0FURVMsXG4gICAgICAgICAgICBjaGVja3BvaW50RnJlcXVlbmN5OlxuICAgICAgICAgICAgICAgIHRoaXMuZmxhZ3MuY2hlY2twb2ludEZyZXF1ZW5jeSA/PyBERUZBVUxUX0NIRUNLUE9JTlRfRlJFUVVFTkNZLFxuICAgICAgICAgICAgZmxvd0RpcjogdGhpcy5nZXREZWZhdWx0Rmxvd0RpcihydW5JZCksXG4gICAgICAgICAgICBkcnlSdW46IHRoaXMuZmxhZ3MuZHJ5UnVuID8/IGZhbHNlLFxuICAgICAgICAgICAgY3ljbGVSZXRyaWVzOlxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZUNvbmZpZy5sb29wPy5jeWNsZVJldHJpZXMgPz8gREVGQVVMVF9DWUNMRV9SRVRSSUVTLFxuICAgICAgICAgICAgZGVidWdXb3JrOlxuICAgICAgICAgICAgICAgIHRoaXMuZmxhZ3MuZGVidWdXb3JrID8/IHRoaXMuYmFzZUNvbmZpZy5kZWJ1Zz8ud29yayA/PyBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiogR2V0IGRlZmF1bHQgZmxvdyBkaXJlY3RvcnkgcGF0aCAqL1xuICAgIHByaXZhdGUgZ2V0RGVmYXVsdEZsb3dEaXIocnVuSWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0c0RpciA9IHRoaXMuYmFzZUNvbmZpZy5ydW5uZXIuYXJ0aWZhY3RzRGlyO1xuICAgICAgICBpZiAodGhpcy5mbGFncy53b3JraW5nRGlyKSB7XG4gICAgICAgICAgICByZXR1cm4gam9pbih0aGlzLmZsYWdzLndvcmtpbmdEaXIsIGFydGlmYWN0c0Rpcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpvaW4ocHJvY2Vzcy5jd2QoKSwgYXJ0aWZhY3RzRGlyKTtcbiAgICB9XG5cbiAgICAvKiogR2VuZXJhdGUgYSB1bmlxdWUgcnVuIElEICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVJ1bklkKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpO1xuICAgICAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOCk7XG4gICAgICAgIHJldHVybiBgcnVuLSR7dGltZXN0YW1wfS0ke3JhbmRvbX1gO1xuICAgIH1cblxuICAgIC8qKiBHZW5lcmF0ZSBhIGhhc2ggb2Ygb3V0cHV0IGZvciBzdHVjayBkZXRlY3Rpb24gKi9cbiAgICBwcml2YXRlIGhhc2hPdXRwdXQob3V0cHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY3JlYXRlSGFzaChcInNoYTI1NlwiKVxuICAgICAgICAgICAgLnVwZGF0ZShvdXRwdXQpXG4gICAgICAgICAgICAuZGlnZXN0KFwiaGV4XCIpXG4gICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDE2KTtcbiAgICB9XG5cbiAgICAvKiogUnVuIHRoZSBsb29wICovXG4gICAgYXN5bmMgcnVuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBVSS5oZWFkZXIoXCJSYWxwaCBMb29wIFJ1bm5lclwiKTtcblxuICAgICAgICAvLyBDaGVjayBmb3IgcmVzdW1lXG4gICAgICAgIGlmICh0aGlzLmZsYWdzLnJlc3VtZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZXN1bWUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IGZyZXNoIHJ1blxuICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0RnJlc2goKTtcbiAgICB9XG5cbiAgICAvKiogU3RhcnQgYSBmcmVzaCBydW4gKi9cbiAgICBwcml2YXRlIGFzeW5jIHN0YXJ0RnJlc2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxvZy5pbmZvKFwiU3RhcnRpbmcgZnJlc2ggUmFscGggbG9vcFwiLCB7XG4gICAgICAgICAgICBydW5JZDogdGhpcy5jb25maWcucnVuSWQsXG4gICAgICAgICAgICBwcm9tcHQ6IHRoaXMuY29uZmlnLnByb21wdC5zdWJzdHJpbmcoMCwgMTAwKSxcbiAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlOiB0aGlzLmNvbmZpZy5jb21wbGV0aW9uUHJvbWlzZSxcbiAgICAgICAgICAgIG1heEN5Y2xlczogdGhpcy5jb25maWcubWF4Q3ljbGVzLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGZsb3cgc3RvcmVcbiAgICAgICAgdGhpcy5mbG93U3RvcmUuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpbml0aWFsIHN0YXRlXG4gICAgICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHRoaXMuZmxvd1N0b3JlLmNyZWF0ZUluaXRpYWxTdGF0ZSh7XG4gICAgICAgICAgICBwcm9tcHQ6IHRoaXMuY29uZmlnLnByb21wdCxcbiAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlOiB0aGlzLmNvbmZpZy5jb21wbGV0aW9uUHJvbWlzZSxcbiAgICAgICAgICAgIG1heEN5Y2xlczogdGhpcy5jb25maWcubWF4Q3ljbGVzLFxuICAgICAgICAgICAgc3R1Y2tUaHJlc2hvbGQ6IHRoaXMuY29uZmlnLnN0dWNrVGhyZXNob2xkLFxuICAgICAgICAgICAgZ2F0ZXM6IHRoaXMuY29uZmlnLmdhdGVzLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIHJ1bm5pbmdcbiAgICAgICAgdGhpcy5mbG93U3RvcmUudXBkYXRlU3RhdHVzKFJ1blN0YXR1cy5SVU5OSU5HKTtcblxuICAgICAgICAvLyBSdW4gdGhlIGxvb3BcbiAgICAgICAgYXdhaXQgdGhpcy5ydW5Mb29wKCk7XG4gICAgfVxuXG4gICAgLyoqIFJlc3VtZSBmcm9tIHByZXZpb3VzIHJ1biAqL1xuICAgIHByaXZhdGUgYXN5bmMgcmVzdW1lKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBsb2cuaW5mbyhcIlJlc3VtaW5nIFJhbHBoIGxvb3BcIiwgeyBydW5JZDogdGhpcy5jb25maWcucnVuSWQgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmZsb3dTdG9yZS5sb2FkKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgTm8gZmxvdyBzdGF0ZSBmb3VuZCBmb3IgcnVuIElEOiAke3RoaXMuY29uZmlnLnJ1bklkfS4gQ2Fubm90IHJlc3VtZS5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFJ1blN0YXR1cy5DT01QTEVURUQpIHtcbiAgICAgICAgICAgIFVJLndhcm4oXCJUaGlzIHJ1biBoYXMgYWxyZWFkeSBjb21wbGV0ZWQuXCIpO1xuICAgICAgICAgICAgVUkuaW5mbyhgU3RvcCByZWFzb246ICR7c3RhdGUuc3RvcFJlYXNvbn1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFJ1blN0YXR1cy5GQUlMRUQpIHtcbiAgICAgICAgICAgIFVJLndhcm4oXCJUaGlzIHJ1biBwcmV2aW91c2x5IGZhaWxlZC5cIik7XG4gICAgICAgICAgICBVSS5pbmZvKGBFcnJvcjogJHtzdGF0ZS5lcnJvcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc3VtZSB0aGUgbG9vcFxuICAgICAgICBhd2FpdCB0aGlzLnJ1bkxvb3AoKTtcbiAgICB9XG5cbiAgICAvKiogTWFpbiBsb29wIGV4ZWN1dGlvbiAqL1xuICAgIHByaXZhdGUgYXN5bmMgcnVuTG9vcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmZsb3dTdG9yZS5sb2FkKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZsb3cgc3RhdGUgZm91bmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBVSS5pbmZvKGBSdW4gSUQ6ICR7dGhpcy5jb25maWcucnVuSWR9YCk7XG4gICAgICAgIFVJLmluZm8oYEZsb3cgZGlyZWN0b3J5OiAke3RoaXMuZmxvd1N0b3JlLmJhc2VQYXRofWApO1xuICAgICAgICBVSS5pbmZvKFxuICAgICAgICAgICAgYENvbXBsZXRpb24gcHJvbWlzZTogJHt0aGlzLmNvbmZpZy5jb21wbGV0aW9uUHJvbWlzZSB8fCBcIihub25lKVwifWAsXG4gICAgICAgICk7XG4gICAgICAgIFVJLmluZm8oYE1heCBjeWNsZXM6ICR7dGhpcy5jb25maWcubWF4Q3ljbGVzfWApO1xuICAgICAgICBVSS5pbmZvKGBDeWNsZSByZXRyaWVzOiAke3RoaXMuY29uZmlnLmN5Y2xlUmV0cmllc31gKTtcbiAgICAgICAgVUkuaW5mbyhgU3R1Y2sgdGhyZXNob2xkOiAke3RoaXMuY29uZmlnLnN0dWNrVGhyZXNob2xkfWApO1xuICAgICAgICBVSS5pbmZvKFxuICAgICAgICAgICAgYERlYnVnIHdvcms6ICR7dGhpcy5jb25maWcuZGVidWdXb3JrID8gXCJlbmFibGVkXCIgOiBcImRpc2FibGVkXCJ9YCxcbiAgICAgICAgKTtcbiAgICAgICAgVUkucHJpbnRsbigpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCBza2lwIG9wdGltaXphdGlvbiAoYWxyZWFkeSBkb25lIG9uIGluaXRpYWwgaW5nZXN0KVxuICAgICAgICAvLyBGb3IgbG9vcCBtb2RlLCB3ZSBza2lwIHJlLW9wdGltaXphdGlvbiBlYWNoIGN5Y2xlXG5cbiAgICAgICAgLy8gUnVuIGN5Y2xlc1xuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IGN5Y2xlTnVtYmVyID0gc3RhdGUuY3VycmVudEN5Y2xlICsgMTtcbiAgICAgICAgICAgIGN5Y2xlTnVtYmVyIDw9IHRoaXMuY29uZmlnLm1heEN5Y2xlcztcbiAgICAgICAgICAgIGN5Y2xlTnVtYmVyKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBVSS5oZWFkZXIoYEN5Y2xlICR7Y3ljbGVOdW1iZXJ9LyR7dGhpcy5jb25maWcubWF4Q3ljbGVzfWApO1xuXG4gICAgICAgICAgICAvLyBOb3RpZnkgRGlzY29yZDogY3ljbGUgc3RhcnRlZFxuICAgICAgICAgICAgY29uc3QgcnVuU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuZGlzY29yZFdlYmhvb2s/Lm5vdGlmeUN5Y2xlU3RhcnQoXG4gICAgICAgICAgICAgICAgY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubWF4Q3ljbGVzLFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnByb21wdCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgY3ljbGUgd2l0aCByZXRyeSBsb2dpY1xuICAgICAgICAgICAgbGV0IGF0dGVtcHQgPSAwO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDoge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgY3ljbGVTdGF0ZTogQ3ljbGVTdGF0ZTtcbiAgICAgICAgICAgICAgICBzdW1tYXJ5OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc3RvcFJlYXNvbj86IFN0b3BSZWFzb247XG4gICAgICAgICAgICB9IHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbGFzdEVycm9yOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgd2hpbGUgKGF0dGVtcHQgPD0gdGhpcy5jb25maWcuY3ljbGVSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgYXR0ZW1wdCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmV0cnkgPSBhdHRlbXB0ID4gMTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIFVJLmluZm8oXG4gICAgICAgICAgICAgICAgICAgICAgICBgUmV0cnkgYXR0ZW1wdCAke2F0dGVtcHR9LyR7dGhpcy5jb25maWcuY3ljbGVSZXRyaWVzICsgMX1gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBsb2cuaW5mbyhcIlJldHJ5aW5nIGN5Y2xlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGZyZXNoIE9wZW5Db2RlIHNlc3Npb24gZm9yIHRoaXMgY3ljbGVcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBPcGVuQ29kZUNsaWVudC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJTdGFydHVwVGltZW91dDogMTAwMDAsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZS1hbmNob3IgY29udGV4dCBmcm9tIGRpc2sgKHdpdGggcmV0cnkgZmFpbHVyZSBpbmplY3RlZCBpZiB0aGlzIGlzIGEgcmV0cnkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCB0aGlzLmJ1aWxkUmVBbmNob3JlZENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjeWNsZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV0cnkgPyAobGFzdEVycm9yID8/IHVuZGVmaW5lZCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY3ljbGUgd2l0aCBmcmVzaCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZUN5Y2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgY3ljbGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3dTdG9yZS5yZWNvcmRTdWNjZXNzZnVsQ3ljbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmN5Y2xlU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgRGlzY29yZDogY3ljbGUgY29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbk1zID0gRGF0ZS5ub3coKSAtIHJ1blN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29yZFdlYmhvb2s/Lm5vdGlmeUN5Y2xlQ29tcGxldGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbG93U3RvcmUubG9hZCgpPy5jb21wbGV0ZWRDeWNsZXMgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25NcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3dTdG9yZS5yZWNvcmRGYWlsZWRDeWNsZShyZXN1bHQuY3ljbGVTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBEaXNjb3JkOiBjeWNsZSBmYWlsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29yZFdlYmhvb2s/Lm5vdGlmeUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jeWNsZVN0YXRlLnBoYXNlc1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3ljbGVTdGF0ZS5waGFzZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkucG9wKCkgYXMga2V5b2YgdHlwZW9mIHJlc3VsdC5jeWNsZVN0YXRlLnBoYXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0/LnBoYXNlID8/IFwidW5rbm93blwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jeWNsZVN0YXRlLmVycm9yID8/IFwiVW5rbm93biBlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJyZWFrIHJldHJ5IGxvb3Agb24gc3VjY2VzcyBvciBub24tcmV0cnlhYmxlIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB3ZSBzaG91bGQgcmV0cnkgdGhpcyBmYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gdGhpcy5zaG91bGRSZXRyeUZhaWx1cmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsYXN0RXJyb3IgPSByZXN1bHQuc3VtbWFyeTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yTXNnO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCByZXRyeSB0aGlzIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gdGhpcy5zaG91bGRSZXRyeU9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUmV0cnkgJiYgYXR0ZW1wdCA8PSB0aGlzLmNvbmZpZy5jeWNsZVJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy53YXJuKFwiQ3ljbGUgZXJyb3IsIHdpbGwgcmV0cnlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTXNnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24tcmV0cnlhYmxlIG9yIG1heCByZXRyaWVzIGV4Y2VlZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBzZXNzaW9uIGZvciB0aGlzIGN5Y2xlXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5jbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiByZXN1bHQgaXMgbnVsbCBhZnRlciBhbGwgcmV0cmllcywgd2UgaGFkIGEgY2F0YXN0cm9waGljIGZhaWx1cmVcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb3JkV2ViaG9vaz8ubm90aWZ5U3R1Y2tPckFib3J0ZWQoXG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBcIkZBSUxFRF9BTExfUkVUUklFU1wiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdG9wKFxuICAgICAgICAgICAgICAgICAgICBTdG9wUmVhc29uLkVSUk9SLFxuICAgICAgICAgICAgICAgICAgICBgQ3ljbGUgJHtjeWNsZU51bWJlcn0gZmFpbGVkIGFmdGVyICR7dGhpcy5jb25maWcuY3ljbGVSZXRyaWVzICsgMX0gYXR0ZW1wdHM6ICR7bGFzdEVycm9yID8/IFwidW5rbm93biBlcnJvclwifWAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHN0b3AgY29uZGl0aW9uc1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdG9wUmVhc29uKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aWZ5IERpc2NvcmQ6IHJ1biBzdG9wcGVkXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdG9wKHJlc3VsdC5zdG9wUmVhc29uLCByZXN1bHQuc3VtbWFyeSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzdHVja1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5mbG93U3RvcmUubG9hZCgpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5zdHVja0NvdW50ID49IHRoaXMuY29uZmlnLnN0dWNrVGhyZXNob2xkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RpZnkgRGlzY29yZDogc3R1Y2tcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2NvcmRXZWJob29rPy5ub3RpZnlTdHVja09yQWJvcnRlZChjeWNsZU51bWJlciwgXCJTVFVDS1wiKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVN0b3AoXG4gICAgICAgICAgICAgICAgICAgIFN0b3BSZWFzb24uU1RVQ0ssXG4gICAgICAgICAgICAgICAgICAgIGBObyBwcm9ncmVzcyBmb3IgJHt0aGlzLmNvbmZpZy5zdHVja1RocmVzaG9sZH0gY29uc2VjdXRpdmUgY3ljbGVzYCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2F2ZSBjaGVja3BvaW50IGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKGN5Y2xlTnVtYmVyICUgdGhpcy5jb25maWcuY2hlY2twb2ludEZyZXF1ZW5jeSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmxvd1N0b3JlLnNhdmVDaGVja3BvaW50KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3dTdG9yZS5sb2FkKCkhLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3ljbGVTdGF0ZS5waGFzZXMsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVUkucHJpbnRsbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWF4IGN5Y2xlcyByZWFjaGVkIC0gbm90aWZ5IERpc2NvcmRcbiAgICAgICAgdGhpcy5kaXNjb3JkV2ViaG9vaz8ubm90aWZ5UnVuQ29tcGxldGUoXG4gICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZWRDeWNsZXMsXG4gICAgICAgICAgICBEYXRlLm5vdygpIC0gbmV3IERhdGUoc3RhdGUuY3JlYXRlZEF0KS5nZXRUaW1lKCksXG4gICAgICAgICAgICBgQ29tcGxldGVkICR7c3RhdGUuY29tcGxldGVkQ3ljbGVzfSBjeWNsZXMgKG1heCAke3RoaXMuY29uZmlnLm1heEN5Y2xlc30pYCxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdG9wKFN0b3BSZWFzb24uTUFYX0NZQ0xFUywgXCJNYXhpbXVtIGN5Y2xlcyByZWFjaGVkXCIpO1xuICAgIH1cblxuICAgIC8qKiBEZXRlcm1pbmUgaWYgYSBmYWlsdXJlIHNob3VsZCB0cmlnZ2VyIGEgcmV0cnkgKi9cbiAgICBwcml2YXRlIHNob3VsZFJldHJ5RmFpbHVyZShyZXN1bHQ6IHtcbiAgICAgICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgY3ljbGVTdGF0ZTogQ3ljbGVTdGF0ZTtcbiAgICAgICAgc3VtbWFyeTogc3RyaW5nO1xuICAgIH0pOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGdhdGUgZmFpbHVyZXNcbiAgICAgICAgY29uc3QgZmFpbGVkR2F0ZXMgPSByZXN1bHQuY3ljbGVTdGF0ZS5nYXRlUmVzdWx0cy5maWx0ZXIoXG4gICAgICAgICAgICAoZykgPT4gIWcucGFzc2VkLFxuICAgICAgICApO1xuICAgICAgICBpZiAoZmFpbGVkR2F0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgZW1wdHkgd29yayByZXNwb25zZSAob3VyIGFjY2VwdGFuY2UgcnVsZSlcbiAgICAgICAgY29uc3Qgd29ya1BoYXNlID0gcmVzdWx0LmN5Y2xlU3RhdGUucGhhc2VzW1BoYXNlLldPUktdO1xuICAgICAgICBpZiAod29ya1BoYXNlICYmICF3b3JrUGhhc2UucmVzcG9uc2UudHJpbSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiogRGV0ZXJtaW5lIGlmIGFuIGVycm9yIHNob3VsZCB0cmlnZ2VyIGEgcmV0cnkgKi9cbiAgICBwcml2YXRlIHNob3VsZFJldHJ5T25FcnJvcihlcnJvcjogdW5rbm93bik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgLy8gUmV0cnkgb24gdGltZW91dFxuICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJ0aW1lb3V0XCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXRyeSBvbiBzdHJlYW0gZXJyb3JzXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcInN0cmVhbVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0cnkgb24gT3BlbkNvZGUgY29ubmVjdGlvbiBlcnJvcnNcbiAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiT3BlbkNvZGVcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqIEJ1aWxkIHJlLWFuY2hvcmVkIGNvbnRleHQgZm9yIGEgY3ljbGUgKi9cbiAgICBwcml2YXRlIGFzeW5jIGJ1aWxkUmVBbmNob3JlZENvbnRleHQoXG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIHJldHJ5RmFpbHVyZT86IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBjb250ZXh0UGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQWx3YXlzIHN0YXJ0IHdpdGggdGhlIG9yaWdpbmFsIHByb21wdFxuICAgICAgICBjb250ZXh0UGFydHMucHVzaChgIyBPcmlnaW5hbCBUYXNrXFxuXFxuJHt0aGlzLmNvbmZpZy5wcm9tcHR9XFxuYCk7XG5cbiAgICAgICAgLy8gQWRkIHJldHJ5IGZhaWx1cmUgaW5mbyBpZiB0aGlzIGlzIGEgcmV0cnlcbiAgICAgICAgaWYgKHJldHJ5RmFpbHVyZSkge1xuICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgYCMgUHJldmlvdXMgQXR0ZW1wdCBGYWlsZWRcXG5cXG5UaGUgcHJldmlvdXMgYXR0ZW1wdCBoYWQgYW4gaXNzdWU6XFxuJHtyZXRyeUZhaWx1cmV9XFxuXFxuUGxlYXNlIGFuYWx5emUgd2hhdCB3ZW50IHdyb25nIGFuZCB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2guXFxuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcHJldmlvdXMgY3ljbGUgc3VtbWFyeSBpZiBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgcHJldmlvdXNDeWNsZSA9IHRoaXMuZmxvd1N0b3JlLmdldEl0ZXJhdGlvbihjeWNsZU51bWJlciAtIDEpO1xuICAgICAgICBpZiAocHJldmlvdXNDeWNsZSkge1xuICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgYCMgUHJldmlvdXMgQ3ljbGUgKCR7Y3ljbGVOdW1iZXIgLSAxfSkgU3VtbWFyeVxcblxcbmAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2gocHJldmlvdXNDeWNsZS5lcnJvciA/IFwiRkFJTEVEXFxuXCIgOiBcIkNPTVBMRVRFRFxcblwiKTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzQ3ljbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0UGFydHMucHVzaChgRXJyb3I6ICR7cHJldmlvdXNDeWNsZS5lcnJvcn1cXG5gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGdhdGUgcmVzdWx0c1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzQ3ljbGUuZ2F0ZVJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRQYXJ0cy5wdXNoKFwiXFxuIyMgR2F0ZSBSZXN1bHRzXFxuXFxuXCIpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZ2F0ZSBvZiBwcmV2aW91c0N5Y2xlLmdhdGVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGdhdGUucGFzc2VkID8gXCLinIVcIiA6IFwi4p2MXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRQYXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYC0gJHtzdGF0dXN9ICR7Z2F0ZS5nYXRlfTogJHtnYXRlLm1lc3NhZ2V9XFxuYCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCB0b29sIHVzYWdlIHN1bW1hcnkgZnJvbSBwcmV2aW91cyBjeWNsZVxuICAgICAgICAgICAgY29uc3QgYWxsVG9vbHMgPSB0aGlzLmNvbGxlY3RBbGxUb29scyhwcmV2aW91c0N5Y2xlKTtcbiAgICAgICAgICAgIGlmIChhbGxUb29scy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2goXCJcXG4jIyBUb29sIFVzYWdlIGluIFByZXZpb3VzIEN5Y2xlXFxuXFxuXCIpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbCBvZiBhbGxUb29scy5zbGljZSgwLCAxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzSWNvbiA9IHRvb2wuc3RhdHVzID09PSBcIm9rXCIgPyBcIuKchVwiIDogXCLinYxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtzdGF0dXNJY29ufSAke3Rvb2wubmFtZX06ICR7dG9vbC5zdGF0dXN9XFxuYCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbFRvb2xzLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRQYXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYC4uLiBhbmQgJHthbGxUb29scy5sZW5ndGggLSAxMH0gbW9yZSB0b29sc1xcbmAsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxhc3QgY2hlY2twb2ludCBzdW1tYXJ5XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5mbG93U3RvcmUubG9hZCgpO1xuICAgICAgICBpZiAoc3RhdGU/Lmxhc3RDaGVja3BvaW50KSB7XG4gICAgICAgICAgICBjb250ZXh0UGFydHMucHVzaChcbiAgICAgICAgICAgICAgICBgXFxuIyBMYXN0IENoZWNrcG9pbnRcXG5cXG5DeWNsZSAke3N0YXRlLmxhc3RDaGVja3BvaW50LmN5Y2xlTnVtYmVyfTogJHtzdGF0ZS5sYXN0Q2hlY2twb2ludC5zdW1tYXJ5fVxcbmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXV0by1sb2FkIHJlbGV2YW50IHNwZWNzIGZyb20gc3BlY3MvIGRpcmVjdG9yeVxuICAgICAgICBjb25zdCBzcGVjc0NvbnRleHQgPSBhd2FpdCB0aGlzLmxvYWRSZWxldmFudFNwZWNzKCk7XG4gICAgICAgIGlmIChzcGVjc0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHRQYXJ0cy5wdXNoKHNwZWNzQ29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZ2l0IHN0YXR1cyBpZiBhdmFpbGFibGVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGdpdFN0YXR1cyA9IGF3YWl0IHRoaXMuZ2V0R2l0U3RhdHVzKCk7XG4gICAgICAgICAgICBpZiAoZ2l0U3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFBhcnRzLnB1c2goYFxcbiMgR2l0IFN0YXR1c1xcblxcbiR7Z2l0U3RhdHVzfVxcbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vIEdpdCBzdGF0dXMgbm90IGF2YWlsYWJsZSwgc2tpcFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGNvbXBsZXRpb24gY3JpdGVyaWEgcmVtaW5kZXJcbiAgICAgICAgY29udGV4dFBhcnRzLnB1c2goXG4gICAgICAgICAgICBgXFxuIyBDb21wbGV0aW9uIENyaXRlcmlhXFxuXFxuTG9vcCBleGl0cyB3aGVuIHlvdSBvdXRwdXQgZXhhY3RseTogJHt0aGlzLmNvbmZpZy5jb21wbGV0aW9uUHJvbWlzZSB8fCBcIihub25lIC0gd2lsbCBydW4gYWxsIGN5Y2xlcylcIn1cXG5gLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0UGFydHMuam9pbihcIlxcblwiKTtcbiAgICB9XG5cbiAgICAvKiogQ29sbGVjdCBhbGwgdG9vbCBpbnZvY2F0aW9ucyBmcm9tIGEgY3ljbGUgc3RhdGUgKi9cbiAgICBwcml2YXRlIGNvbGxlY3RBbGxUb29scyhjeWNsZTogQ3ljbGVTdGF0ZSk6IFRvb2xJbnZvY2F0aW9uW10ge1xuICAgICAgICBjb25zdCB0b29sczogVG9vbEludm9jYXRpb25bXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBoYXNlIG9mIE9iamVjdC52YWx1ZXMoY3ljbGUucGhhc2VzKSkge1xuICAgICAgICAgICAgaWYgKHBoYXNlPy50b29scykge1xuICAgICAgICAgICAgICAgIHRvb2xzLnB1c2goLi4ucGhhc2UudG9vbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG5cbiAgICAvKiogTG9hZCByZWxldmFudCBzcGVjcyBmcm9tIHNwZWNzLyBkaXJlY3RvcnkgbWF0Y2hpbmcgdGhlIHByb21wdCAqL1xuICAgIHByaXZhdGUgYXN5bmMgbG9hZFJlbGV2YW50U3BlY3MoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IHNwZWNzRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCBcInNwZWNzXCIpO1xuICAgICAgICBsZXQgc3BlY3M6IHN0cmluZ1tdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3BlY3MgPSBhd2FpdCByZWFkZGlyKHNwZWNzRGlyKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBObyBzcGVjcyBkaXJlY3RvcnksIHNraXBcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvbXB0TG93ZXIgPSB0aGlzLmNvbmZpZy5wcm9tcHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcHJvbXB0VG9rZW5zID0gbmV3IFNldChcbiAgICAgICAgICAgIHByb21wdExvd2VyLnNwbGl0KC9cXFcrLykuZmlsdGVyKCh0KSA9PiB0Lmxlbmd0aCA+IDIpLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXM6IHsgZGlyOiBzdHJpbmc7IHNjb3JlOiBudW1iZXI7IHRpdGxlPzogc3RyaW5nIH1bXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3BlY0RpciBvZiBzcGVjcykge1xuICAgICAgICAgICAgLy8gU2tpcCBzcGVjaWFsIGRpcmVjdG9yaWVzXG4gICAgICAgICAgICBpZiAoc3BlY0Rpci5zdGFydHNXaXRoKFwiLlwiKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwZWNQYXRoID0gam9pbihzcGVjc0Rpciwgc3BlY0RpciwgXCJzcGVjLm1kXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVjQ29udGVudCA9IGF3YWl0IHJlYWRGaWxlKHNwZWNQYXRoLCBcInV0Zi04XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNDb250ZW50TG93ZXIgPSBzcGVjQ29udGVudC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCB0aXRsZSBmcm9tIHNwZWNcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZU1hdGNoID0gc3BlY0NvbnRlbnQubWF0Y2goL14jICguKykkL20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gdGl0bGVNYXRjaD8uWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHNpbXBsZSB0b2tlbiBvdmVybGFwIHNjb3JlXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVjVG9rZW5zID0gbmV3IFNldChcbiAgICAgICAgICAgICAgICAgICAgc3BlY0NvbnRlbnRMb3dlci5zcGxpdCgvXFxXKy8pLmZpbHRlcigodCkgPT4gdC5sZW5ndGggPiAyKSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNUb2tlbnMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEJvbnVzIGZvciBkaXJlY3RvcnkgbmFtZSBtYXRjaFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpckxvd2VyID0gc3BlY0Rpci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TG93ZXIuaW5jbHVkZXMoZGlyTG93ZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgIGRpckxvd2VyLmluY2x1ZGVzKFwiZmxlZXR0b29sc1wiKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBzY29yZSArPSA1O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHsgZGlyOiBzcGVjRGlyLCBzY29yZSwgdGl0bGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlYy5tZCBpbiB0aGlzIGRpcmVjdG9yeSwgc2tpcFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBieSBzY29yZSBhbmQgdGFrZSB0b3AgMlxuICAgICAgICBtYXRjaGVzLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcbiAgICAgICAgY29uc3QgdG9wTWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoMCwgMik7XG5cbiAgICAgICAgaWYgKHRvcE1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtcIlxcbiMgUmVsZXZhbnQgU3BlY2lmaWNhdGlvbnNcXG5cIl07XG5cbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0b3BNYXRjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzcGVjUGF0aCA9IGpvaW4oc3BlY3NEaXIsIG1hdGNoLmRpciwgXCJzcGVjLm1kXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVjQ29udGVudCA9IGF3YWl0IHJlYWRGaWxlKHNwZWNQYXRoLCBcInV0Zi04XCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBvdmVydmlldyBhbmQgYWNjZXB0YW5jZSBjcml0ZXJpYSBzZWN0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJ2aWV3TWF0Y2ggPSBzcGVjQ29udGVudC5tYXRjaChcbiAgICAgICAgICAgICAgICAgICAgL14oIyAuKz8pKD86XFxuXFxuIyMgT3ZlcnZpZXdcXG5cXG4pKFtcXHNcXFNdKj8pKD89XFxuXFxuIyMgfFxcblxcbiMjIyApL20sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyU3Rvcmllc01hdGNoID0gc3BlY0NvbnRlbnQubWF0Y2goXG4gICAgICAgICAgICAgICAgICAgIC9eKCMjIFVzZXIgU3Rvcmllc1xcblxcbikoW1xcc1xcU10qPykoPz1cXG5cXG4jIyB8XFxuXFxuIyMjICkvbSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYFxcbiMjICR7bWF0Y2gudGl0bGUgfHwgbWF0Y2guZGlyfVxcbmApO1xuXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJ2aWV3TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob3ZlcnZpZXdNYXRjaFsyXS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclN0b3JpZXNNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIGZpcnN0IDMgdXNlciBzdG9yaWVzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JpZXMgPSB1c2VyU3Rvcmllc01hdGNoWzJdXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoL1xcbiMjIyAvKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDMpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChcIlxcbiMjIyBLZXkgVXNlciBTdG9yaWVzXFxuXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0b3J5IG9mIHN0b3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yeS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChgXFxuIyMjICR7c3RvcnkudHJpbSgpfVxcbmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiTG9hZGVkIHNwZWMgZm9yIGNvbnRleHRcIiwge1xuICAgICAgICAgICAgICAgICAgICBzcGVjOiBtYXRjaC5kaXIsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBtYXRjaC5zY29yZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIGxvZy53YXJuKFwiRmFpbGVkIHRvIHJlYWQgc3BlY1wiLCB7IHNwZWM6IG1hdGNoLmRpciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIlxcblwiKTtcbiAgICB9XG5cbiAgICAvKiogR2V0IGdpdCBzdGF0dXMgZm9yIGNvbnRleHQgKi9cbiAgICBwcml2YXRlIGFzeW5jIGdldEdpdFN0YXR1cygpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXhlY1N5bmMgfSA9IGF3YWl0IGltcG9ydChcIm5vZGU6Y2hpbGRfcHJvY2Vzc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBleGVjU3luYyhcImdpdCBkaWZmIC0tc3RhdFwiLCB7XG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6IFwidXRmLThcIixcbiAgICAgICAgICAgICAgICBjd2Q6IHByb2Nlc3MuY3dkKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGV4ZWNTeW5jKFwiZ2l0IHN0YXR1cyAtLXNob3J0XCIsIHtcbiAgICAgICAgICAgICAgICBlbmNvZGluZzogXCJ1dGYtOFwiLFxuICAgICAgICAgICAgICAgIGN3ZDogcHJvY2Vzcy5jd2QoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGBcXGBcXGBcXGBcXG4ke2RpZmZ9XFxuJHtzdGF0dXN9XFxuXFxgXFxgXFxgYDtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBFeGVjdXRlIGEgc2luZ2xlIGN5Y2xlIHdpdGggZnJlc2ggc2Vzc2lvbiAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUN5Y2xlKFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBjbGllbnQ6IE9wZW5Db2RlQ2xpZW50LFxuICAgICAgICBjb250ZXh0OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgIGN5Y2xlU3RhdGU6IEN5Y2xlU3RhdGU7XG4gICAgICAgIHN1bW1hcnk6IHN0cmluZztcbiAgICAgICAgc3RvcFJlYXNvbj86IFN0b3BSZWFzb247XG4gICAgfT4ge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGN5Y2xlU3RhdGU6IEN5Y2xlU3RhdGUgPSB7XG4gICAgICAgICAgICBjeWNsZU51bWJlcixcbiAgICAgICAgICAgIHN0YXR1czogXCJydW5uaW5nXCIsXG4gICAgICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgICAgICBwaGFzZXM6IHt9LFxuICAgICAgICAgICAgZ2F0ZVJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgY29tcGxldGlvblByb21pc2VPYnNlcnZlZDogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzZXNzaW9uIHdpdGggY29udGV4dCBhcyBpbml0aWFsIHByb21wdCAod2lsbCBiZSBjb21iaW5lZCB3aXRoIGZpcnN0IG1lc3NhZ2UpXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgY2xpZW50LmNyZWF0ZVNlc3Npb24oY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgd29ya2Zsb3cgcGhhc2VzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBoYXNlIG9mIFtcbiAgICAgICAgICAgICAgICBQaGFzZS5SRVNFQVJDSCxcbiAgICAgICAgICAgICAgICBQaGFzZS5TUEVDSUZZLFxuICAgICAgICAgICAgICAgIFBoYXNlLlBMQU4sXG4gICAgICAgICAgICAgICAgUGhhc2UuV09SSyxcbiAgICAgICAgICAgICAgICBQaGFzZS5SRVZJRVcsXG4gICAgICAgICAgICBdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGhhc2VSZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVQaGFzZShcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgcGhhc2UsXG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGhhc2VSZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY3ljbGVTdGF0ZS5waGFzZXNbcGhhc2VdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHBoYXNlUmVzdWx0LnByb21wdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogYEVycm9yOiAke3BoYXNlUmVzdWx0LmVycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7cGhhc2V9IHBoYXNlIGZhaWxlZDogJHtwaGFzZVJlc3VsdC5lcnJvcn1gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN5Y2xlU3RhdGUucGhhc2VzW3BoYXNlXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGhhc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogcGhhc2VSZXN1bHQucHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogcGhhc2VSZXN1bHQucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IHBoYXNlUmVzdWx0LnN1bW1hcnksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB0b29sczogcGhhc2VSZXN1bHQudG9vbHMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb21wbGV0aW9uIHByb21pc2UgZHVyaW5nIHBoYXNlIGV4ZWN1dGlvblxuICAgICAgICAgICAgICAgIC8vIE9ubHkgY2hlY2sgaW4gc2hpcCBtb2RlICh3aGVuIGNvbXBsZXRpb25Qcm9taXNlIGlzIHNldClcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbXBsZXRpb25Qcm9taXNlICYmXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlUmVzdWx0LnJlc3BvbnNlLmluY2x1ZGVzKHRoaXMuY29uZmlnLmNvbXBsZXRpb25Qcm9taXNlKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjeWNsZVN0YXRlLmNvbXBsZXRpb25Qcm9taXNlT2JzZXJ2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFVJLnByaW50bG4oXG4gICAgICAgICAgICAgICAgICAgIGAke1VJLlN0eWxlLlRFWFRfRElNfSAg4oaSICR7cGhhc2V9OiBkb25lJHtVSS5TdHlsZS5URVhUX05PUk1BTH1gLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJ1biBxdWFsaXR5IGdhdGVzXG4gICAgICAgICAgICBVSS5wcmludGxuKFxuICAgICAgICAgICAgICAgIGAke1VJLlN0eWxlLlRFWFRfRElNfVJ1bm5pbmcgcXVhbGl0eSBnYXRlcy4uLiR7VUkuU3R5bGUuVEVYVF9OT1JNQUx9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBnYXRlUmVzdWx0cyA9IGF3YWl0IHRoaXMucnVuUXVhbGl0eUdhdGVzKFxuICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgIGN5Y2xlU3RhdGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5nYXRlUmVzdWx0cyA9IGdhdGVSZXN1bHRzO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbnkgcmVxdWlyZWQgZ2F0ZSBmYWlsZWRcbiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkRmFpbGVkID0gZ2F0ZVJlc3VsdHMuZmluZChcbiAgICAgICAgICAgICAgICAoZykgPT4gIWcucGFzc2VkICYmIHRoaXMuY29uZmlnLmdhdGVzLmluY2x1ZGVzKGcuZ2F0ZSksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBsZXQgZmFpbGVkUGhhc2VJbmZvID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChyZXF1aXJlZEZhaWxlZCkge1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgd2hpY2ggcGhhc2UgaGFkIHRoZSBtb3N0IHJlY2VudCBmYWlsdXJlXG4gICAgICAgICAgICAgICAgY29uc3QgcGhhc2VzV2l0aEdhdGVzID0gT2JqZWN0LmVudHJpZXMoY3ljbGVTdGF0ZS5waGFzZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaGFzZSA9XG4gICAgICAgICAgICAgICAgICAgIHBoYXNlc1dpdGhHYXRlc1twaGFzZXNXaXRoR2F0ZXMubGVuZ3RoIC0gMV0/LlswXSA/P1xuICAgICAgICAgICAgICAgICAgICBcInVua25vd25cIjtcbiAgICAgICAgICAgICAgICBmYWlsZWRQaGFzZUluZm8gPSBgJHtsYXN0UGhhc2V9IGdhdGUgZmFpbGVkYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3ljbGVTdGF0ZS5zdGF0dXMgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5lbmRUaW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5kdXJhdGlvbk1zID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKHN0YXJ0VGltZSkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBzdW1tYXJ5XG4gICAgICAgICAgICBjb25zdCBzdW1tYXJ5ID0gdGhpcy5nZW5lcmF0ZUN5Y2xlU3VtbWFyeShjeWNsZVN0YXRlKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgc3RvcCBjb25kaXRpb25zXG4gICAgICAgICAgICAvLyBPbmx5IGNoZWNrIGNvbXBsZXRpb24gcHJvbWlzZSBpbiBzaGlwIG1vZGUgKHdoZW4gY29tcGxldGlvblByb21pc2UgaXMgc2V0KVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbXBsZXRpb25Qcm9taXNlICYmXG4gICAgICAgICAgICAgICAgY3ljbGVTdGF0ZS5jb21wbGV0aW9uUHJvbWlzZU9ic2VydmVkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjeWNsZVN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5LFxuICAgICAgICAgICAgICAgICAgICBzdG9wUmVhc29uOiBTdG9wUmVhc29uLkNPTVBMRVRJT05fUFJPTUlTRSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVxdWlyZWRGYWlsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY3ljbGVTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogYCR7ZmFpbGVkUGhhc2VJbmZvfTogJHtyZXF1aXJlZEZhaWxlZC5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BSZWFzb246IFN0b3BSZWFzb24uR0FURV9GQUlMVVJFLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBvdXRwdXQgaGFzaCBmb3Igc3R1Y2sgZGV0ZWN0aW9uXG4gICAgICAgICAgICBjeWNsZVN0YXRlLm91dHB1dEhhc2ggPSB0aGlzLmhhc2hPdXRwdXQoXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhjeWNsZVN0YXRlLnBoYXNlcylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgocCkgPT4gcD8ucmVzcG9uc2UgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCJ8XCIpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgY3ljbGVTdGF0ZSwgc3VtbWFyeSB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcblxuICAgICAgICAgICAgY3ljbGVTdGF0ZS5zdGF0dXMgPSBcImZhaWxlZFwiO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5lbmRUaW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5kdXJhdGlvbk1zID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKHN0YXJ0VGltZSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY3ljbGVTdGF0ZS5lcnJvciA9IGVycm9yTXNnO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGN5Y2xlU3RhdGUsXG4gICAgICAgICAgICAgICAgc3VtbWFyeTogYEN5Y2xlIGZhaWxlZDogJHtlcnJvck1zZ31gLFxuICAgICAgICAgICAgICAgIHN0b3BSZWFzb246IFN0b3BSZWFzb24uRVJST1IsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEV4ZWN1dGUgYSBzaW5nbGUgcGhhc2UgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVQaGFzZShcbiAgICAgICAgc2Vzc2lvbjogU2Vzc2lvbixcbiAgICAgICAgcGhhc2U6IFBoYXNlLFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICk6IFByb21pc2U8e1xuICAgICAgICBwcm9tcHQ6IHN0cmluZztcbiAgICAgICAgcmVzcG9uc2U6IHN0cmluZztcbiAgICAgICAgc3VtbWFyeTogc3RyaW5nO1xuICAgICAgICB0b29sczogVG9vbEludm9jYXRpb25bXTtcbiAgICAgICAgZXJyb3I/OiBzdHJpbmc7XG4gICAgfT4ge1xuICAgICAgICBjb25zdCBwaGFzZVByb21wdHM6IFJlY29yZDxQaGFzZSwgc3RyaW5nPiA9IHtcbiAgICAgICAgICAgIFtQaGFzZS5SRVNFQVJDSF06IGAjIyBQaGFzZSAxOiBSZXNlYXJjaFxuXG5SZXNlYXJjaCB0aGUgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCB0aGUgY3VycmVudCBzdGF0ZS4gRm9jdXMgb246XG4tIEZpbGUgc3RydWN0dXJlIGFuZCBrZXkgbW9kdWxlc1xuLSBFeGlzdGluZyBwYXR0ZXJucyBhbmQgY29udmVudGlvbnNcbi0gRGVwZW5kZW5jaWVzIGFuZCBjb25maWd1cmF0aW9uc1xuLSBBbnkgcmVsZXZhbnQgZG9jdW1lbnRhdGlvblxuXG5Qcm92aWRlIGEgY29uY2lzZSBzdW1tYXJ5IG9mIHlvdXIgZmluZGluZ3MuYCxcblxuICAgICAgICAgICAgW1BoYXNlLlNQRUNJRlldOiBgIyMgUGhhc2UgMjogU3BlY2lmeVxuXG5CYXNlZCBvbiB0aGUgcmVzZWFyY2gsIGNyZWF0ZSBhIGRldGFpbGVkIHNwZWNpZmljYXRpb24gZm9yIHRoZSB0YXNrOlxuLSBSZXF1aXJlbWVudHMgYW5kIGFjY2VwdGFuY2UgY3JpdGVyaWFcbi0gVGVjaG5pY2FsIGFwcHJvYWNoXG4tIFBvdGVudGlhbCBjaGFsbGVuZ2VzIGFuZCBtaXRpZ2F0aW9uIHN0cmF0ZWdpZXNcbi0gRGVwZW5kZW5jaWVzIG9uIGV4aXN0aW5nIGNvZGVcblxuT3V0cHV0IGEgc3RydWN0dXJlZCBzcGVjaWZpY2F0aW9uLmAsXG5cbiAgICAgICAgICAgIFtQaGFzZS5QTEFOXTogYCMjIFBoYXNlIDM6IFBsYW5cblxuQ3JlYXRlIGFuIGltcGxlbWVudGF0aW9uIHBsYW46XG4tIFN0ZXAtYnktc3RlcCB0YXNrc1xuLSBGaWxlcyB0byBtb2RpZnkvY3JlYXRlXG4tIE9yZGVyIG9mIG9wZXJhdGlvbnNcbi0gVGVzdGluZyBzdHJhdGVneVxuXG5PdXRwdXQgYSBkZXRhaWxlZCBwbGFuLmAsXG5cbiAgICAgICAgICAgIFtQaGFzZS5XT1JLXTogYCMjIFBoYXNlIDQ6IFdvcmtcblxuRXhlY3V0ZSB0aGUgaW1wbGVtZW50YXRpb24gcGxhbi4gTWFrZSBjb25jcmV0ZSBjaGFuZ2VzIHRvIHRoZSBjb2RlYmFzZS5cblxuSU1QT1JUQU5UOiBZb3UgTVVTVDpcbjEuIFVzZSB0b29scyAoUmVhZCwgV3JpdGUsIEVkaXQsIEJhc2gpIHRvIG1ha2UgYWN0dWFsIGZpbGUgY2hhbmdlc1xuMi4gUmVwb3J0IGVhY2ggZmlsZSB5b3UgbW9kaWZ5IGFzIHlvdSBnbyAoZS5nLiwgXCJDcmVhdGluZyBmaWxlIFguLi5cIiwgXCJNb2RpZnlpbmcgWS4uLlwiKVxuMy4gUnVuIGFjdHVhbCB0ZXN0cyBhbmQgcmVwb3J0IHJlc3VsdHNcbjQuIEVuc3VyZSB0aGUgZmluYWwgc3VtbWFyeSBsaXN0czpcbiAgIC0gQWxsIGZpbGVzIGNyZWF0ZWQvbW9kaWZpZWQgKHdpdGggcGF0aHMpIE9SIGV4cGxpY2l0bHkgXCJOTyBDSEFOR0VTOiA8cmVhc29uPlwiIGlmIG5vIGZpbGVzIG5lZWRlZFxuICAgLSBBbGwgdGVzdCByZXN1bHRzIChwYXNzL2ZhaWwpXG4gICAtIEFueSBlcnJvcnMgZW5jb3VudGVyZWQgYW5kIGhvdyB0aGV5IHdlcmUgcmVzb2x2ZWRcblxuSWYgbm8gY2hhbmdlcyBhcmUgbmVlZGVkLCBleHBsaWNpdGx5IHN0YXRlIFwiTk8gQ0hBTkdFUzogPHJlYXNvbj5cIiBhbmQgd2h5LlxuXG5Qcm92aWRlIGEgY29tcHJlaGVuc2l2ZSBzdW1tYXJ5IG9mIGNvbmNyZXRlIHdvcmsgY29tcGxldGVkLmAsXG5cbiAgICAgICAgICAgIFtQaGFzZS5SRVZJRVddOiBgIyMgUGhhc2UgNTogUmV2aWV3XG5cblJldmlldyB0aGUgY29tcGxldGVkIHdvcms6XG4tIFZlcmlmeSBhbGwgYWNjZXB0YW5jZSBjcml0ZXJpYSBhcmUgbWV0XG4tIENoZWNrIGNvZGUgcXVhbGl0eSBhbmQgY29uc2lzdGVuY3lcbi0gRW5zdXJlIHRlc3RzIHBhc3Ncbi0gSWRlbnRpZnkgYW55IHJlbWFpbmluZyBpc3N1ZXNcblxuT3V0cHV0OiA8cHJvbWlzZT5TSElQPC9wcm9taXNlPiBpZiBhbGwgY3JpdGVyaWEgYXJlIG1ldCwgb3IgbGlzdCByZW1haW5pbmcgaXNzdWVzLmAsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvbXB0ID0gcGhhc2VQcm9tcHRzW3BoYXNlXTtcblxuICAgICAgICAvLyBVc2Ugc3RyZWFtaW5nIGZvciByZWFsLXRpbWUgZmVlZGJhY2tcbiAgICAgICAgY29uc3Qgc3RyZWFtaW5nUmVzcG9uc2UgPSBhd2FpdCBzZXNzaW9uLnNlbmRNZXNzYWdlU3RyZWFtKHByb21wdCk7XG5cbiAgICAgICAgbGV0IGZ1bGxSZXNwb25zZSA9IFwiXCI7XG4gICAgICAgIGNvbnN0IHRvb2xzOiBUb29sSW52b2NhdGlvbltdID0gW107XG5cbiAgICAgICAgVUkucHJpbnRsbihgJHtVSS5TdHlsZS5URVhUX0RJTX0gIFske3BoYXNlfV0ke1VJLlN0eWxlLlRFWFRfTk9STUFMfWApO1xuXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbWluZ1Jlc3BvbnNlLnN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuXG4gICAgICAgIC8vIFJ1bm5lci1zaWRlIHdhdGNoZG9nOiBwcmV2ZW50IGluZGVmaW5pdGUgaGFuZ3NcbiAgICAgICAgY29uc3QgcGhhc2VUaW1lb3V0TXMgPVxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLnBoYXNlVGltZW91dE1zID8/XG4gICAgICAgICAgICAgICAgKHRoaXMuY29uZmlnLnByb21wdFRpbWVvdXQgPz8gMzAwMDAwKSAqIDUpIHx8XG4gICAgICAgICAgICA5MDAwMDA7XG4gICAgICAgIGxldCBwaGFzZVRpbWVkT3V0ID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgd2F0Y2hkb2dUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcGhhc2VUaW1lZE91dCA9IHRydWU7XG4gICAgICAgICAgICBsb2cud2FybihcIlBoYXNlIHdhdGNoZG9nIHRyaWdnZXJlZFwiLCB7XG4gICAgICAgICAgICAgICAgY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgcGhhc2UsXG4gICAgICAgICAgICAgICAgdGltZW91dE1zOiBwaGFzZVRpbWVvdXRNcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVhZGVyLmNhbmNlbChgUGhhc2UgdGltZW91dCBhZnRlciAke3BoYXNlVGltZW91dE1zfW1zYCk7XG4gICAgICAgIH0sIHBoYXNlVGltZW91dE1zKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBoYXNlVGltZWRPdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFBoYXNlICR7cGhhc2V9IHRpbWVkIG91dCBhZnRlciAke3BoYXNlVGltZW91dE1zfW1zICh3YXRjaGRvZylgLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBmdWxsUmVzcG9uc2UgKz0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgVUkucHJpbnQodGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHBoYXNlVGltZWRPdXQgfHxcbiAgICAgICAgICAgICAgICAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwidGltZW91dFwiKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29yZFdlYmhvb2s/Lm5vdGlmeVRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBwaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgcGhhc2VUaW1lb3V0TXMsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBQaGFzZSAke3BoYXNlfSB0aW1lZCBvdXQgYWZ0ZXIgJHtwaGFzZVRpbWVvdXRNc31tcyAtIE9wZW5Db2RlIHN0cmVhbSBkaWQgbm90IGNvbXBsZXRlYCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQod2F0Y2hkb2dUaW1lcik7XG4gICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHN0cmVhbWluZ1Jlc3BvbnNlLmNvbXBsZXRlO1xuXG4gICAgICAgIC8vIENvbGxlY3QgdG9vbCBpbnZvY2F0aW9ucyBmcm9tIHNlc3Npb24gaWYgYXZhaWxhYmxlXG4gICAgICAgIC8vIE5vdGU6IFRoaXMgaXMgYSBwbGFjZWhvbGRlciAtIHRoZSBhY3R1YWwgdG9vbCBjYXB0dXJlIHdvdWxkIGNvbWUgZnJvbVxuICAgICAgICAvLyBzZXNzaW9uIGV2ZW50cyBpbiBhIG1vcmUgY29tcGxldGUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3Qgc2Vzc2lvblRvb2xzID0gKFxuICAgICAgICAgICAgc2Vzc2lvbiBhcyB7IF90b29sSW52b2NhdGlvbnM/OiBUb29sSW52b2NhdGlvbltdIH1cbiAgICAgICAgKS5fdG9vbEludm9jYXRpb25zO1xuICAgICAgICBpZiAoc2Vzc2lvblRvb2xzICYmIHNlc3Npb25Ub29scy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0b29scy5wdXNoKC4uLnNlc3Npb25Ub29scyk7XG5cbiAgICAgICAgICAgIC8vIERlYnVnIG91dHB1dCBmb3IgdG9vbHNcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Z1dvcmspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2Ygc2Vzc2lvblRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGFjdGVkSW5wdXQgPSB0b29sLmlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZGFjdFNlY3JldHMoSlNPTi5zdHJpbmdpZnkodG9vbC5pbnB1dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkYWN0ZWRPdXRwdXQgPSB0b29sLm91dHB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVuY2F0ZU91dHB1dChyZWRhY3RTZWNyZXRzKHRvb2wub3V0cHV0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIFVJLnByaW50bG4oXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtVSS5TdHlsZS5URVhUX0RJTX0gIFtUT09MXSAke3Rvb2wubmFtZX06ICR7dG9vbC5zdGF0dXN9JHtVSS5TdHlsZS5URVhUX05PUk1BTH1gLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJUb29sIGludm9jYXRpb25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRvb2wuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHJlZGFjdGVkSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlZGFjdGVkT3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBzdW1tYXJ5IGZyb20gcmVzcG9uc2VcbiAgICAgICAgY29uc3Qgc3VtbWFyeSA9IHRoaXMuZ2VuZXJhdGVQaGFzZVN1bW1hcnkoZnVsbFJlc3BvbnNlKTtcblxuICAgICAgICAvLyBOb3RpZnkgRGlzY29yZDogcGhhc2UgY29tcGxldGVkXG4gICAgICAgIHRoaXMuZGlzY29yZFdlYmhvb2s/Lm5vdGlmeVBoYXNlQ29tcGxldGUoY3ljbGVOdW1iZXIsIHBoYXNlLCBzdW1tYXJ5KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgIHN1bW1hcnksXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiogR2VuZXJhdGUgc3VtbWFyeSBmb3IgYSBwaGFzZSAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVQaGFzZVN1bW1hcnkocmVzcG9uc2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIC8vIFRha2UgZmlyc3QgMjAwIGNoYXJhY3RlcnMgYXMgc3VtbWFyeVxuICAgICAgICBjb25zdCB0cmltbWVkID0gcmVzcG9uc2UudHJpbSgpO1xuICAgICAgICBpZiAodHJpbW1lZC5sZW5ndGggPD0gMjAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJpbW1lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dHJpbW1lZC5zdWJzdHJpbmcoMCwgMjAwKX0uLi5gO1xuICAgIH1cblxuICAgIC8qKiBHZW5lcmF0ZSBjeWNsZSBzdW1tYXJ5ICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUN5Y2xlU3VtbWFyeShjeWNsZTogQ3ljbGVTdGF0ZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3BoYXNlLCBvdXRwdXRdIG9mIE9iamVjdC5lbnRyaWVzKGN5Y2xlLnBoYXNlcykpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGAke3BoYXNlfTogJHtvdXRwdXQuc3VtbWFyeX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKFwiIHwgXCIpO1xuICAgIH1cblxuICAgIC8qKiBSdW4gcXVhbGl0eSBnYXRlcyAqL1xuICAgIHByaXZhdGUgYXN5bmMgcnVuUXVhbGl0eUdhdGVzKFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBjeWNsZTogQ3ljbGVTdGF0ZSxcbiAgICApOiBQcm9taXNlPEdhdGVSZXN1bHRbXT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBHYXRlUmVzdWx0W10gPSBbXTtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZ2F0ZSBvZiB0aGlzLmNvbmZpZy5nYXRlcykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5ydW5HYXRlKGdhdGUsIGN5Y2xlKTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZ2F0ZSxcbiAgICAgICAgICAgICAgICBwYXNzZWQ6IHJlc3VsdC5wYXNzZWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogcmVzdWx0LmRldGFpbHMsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBub3csXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU2F2ZSBnYXRlIHJlc3VsdHNcbiAgICAgICAgICAgIHRoaXMuZmxvd1N0b3JlLnNhdmVHYXRlUmVzdWx0cyhjeWNsZU51bWJlciwgcmVzdWx0cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICAvKiogUnVuIGEgc2luZ2xlIHF1YWxpdHkgZ2F0ZSAqL1xuICAgIHByaXZhdGUgYXN5bmMgcnVuR2F0ZShcbiAgICAgICAgZ2F0ZTogc3RyaW5nLFxuICAgICAgICBjeWNsZTogQ3ljbGVTdGF0ZSxcbiAgICApOiBQcm9taXNlPHtcbiAgICAgICAgcGFzc2VkOiBib29sZWFuO1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGRldGFpbHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICB9PiB7XG4gICAgICAgIGNvbnN0IGdhdGVDb25maWcgPSB0aGlzLmdldEdhdGVDb25maWcoZ2F0ZSk7XG5cbiAgICAgICAgc3dpdGNoIChnYXRlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXN0XCI6XG4gICAgICAgICAgICBjYXNlIFwidGVzdHNcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucnVuR2F0ZUNvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgIFwidGVzdFwiLFxuICAgICAgICAgICAgICAgICAgICBnYXRlQ29uZmlnLmNvbW1hbmQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwYXNzZWQ6IHJlc3VsdC5wYXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5wYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJBbGwgdGVzdHMgcGFzc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTb21lIHRlc3RzIGZhaWxlZFwiLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiByZXN1bHQuZGV0YWlscyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImxpbnRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucnVuR2F0ZUNvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgIFwibGludFwiLFxuICAgICAgICAgICAgICAgICAgICBnYXRlQ29uZmlnLmNvbW1hbmQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwYXNzZWQ6IHJlc3VsdC5wYXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5wYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJMaW50aW5nIHBhc3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiTGludGluZyBpc3N1ZXMgZm91bmRcIixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogcmVzdWx0LmRldGFpbHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJhY2NlcHRhbmNlXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXNzZWQgPSBhd2FpdCB0aGlzLmNoZWNrQWNjZXB0YW5jZShjeWNsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJBY2NlcHRhbmNlIGNyaXRlcmlhIG1ldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiQWNjZXB0YW5jZSBjcml0ZXJpYSBub3QgZnVsbHkgbWV0XCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFVua25vd24gZ2F0ZTogJHtnYXRlfWAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBHZXQgZ2F0ZSBjb25maWd1cmF0aW9uIGZyb20gYmFzZUNvbmZpZyAqL1xuICAgIHByaXZhdGUgZ2V0R2F0ZUNvbmZpZyhnYXRlOiBzdHJpbmcpOiBHYXRlQ29tbWFuZENvbmZpZyB7XG4gICAgICAgIC8vIE5vcm1hbGl6ZSBnYXRlIG5hbWVzOiBjYW5vbmljYWwgaXMgXCJ0ZXN0XCIsIGFjY2VwdCBcInRlc3RzXCIgZm9yIGJhY2t3YXJkIGNvbXBhdFxuICAgICAgICBjb25zdCBub3JtYWxpemVkR2F0ZSA9XG4gICAgICAgICAgICBnYXRlLnRvTG93ZXJDYXNlKCkgPT09IFwidGVzdHNcIiA/IFwidGVzdFwiIDogZ2F0ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBnYXRlS2V5ID0gbm9ybWFsaXplZEdhdGUgYXMga2V5b2YgdHlwZW9mIHRoaXMuYmFzZUNvbmZpZy5nYXRlcztcbiAgICAgICAgY29uc3QgY29uZmlnR2F0ZSA9IHRoaXMuYmFzZUNvbmZpZy5nYXRlc1tnYXRlS2V5XTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29uZmlnR2F0ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIGNvbmZpZ0dhdGUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIFwiY29tbWFuZFwiIGluIGNvbmZpZ0dhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnR2F0ZSBhcyBHYXRlQ29tbWFuZENvbmZpZztcbiAgICAgICAgfVxuICAgICAgICAvLyBGYWxsYmFjayBmb3IgbGVnYWN5IHN0cmluZyBmb3JtYXRcbiAgICAgICAgcmV0dXJuIHsgY29tbWFuZDogU3RyaW5nKGNvbmZpZ0dhdGUgPz8gXCJcIikgfTtcbiAgICB9XG5cbiAgICAvKiogUnVuIGEgZ2F0ZSBjb21tYW5kIGFuZCBjYXB0dXJlIHJlc3VsdHMgKi9cbiAgICBwcml2YXRlIGFzeW5jIHJ1bkdhdGVDb21tYW5kKFxuICAgICAgICBnYXRlTmFtZTogc3RyaW5nLFxuICAgICAgICBjb21tYW5kOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7XG4gICAgICAgIHBhc3NlZDogYm9vbGVhbjtcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgY29tbWFuZDogc3RyaW5nO1xuICAgICAgICAgICAgZXhpdENvZGU6IG51bWJlciB8IG51bGw7XG4gICAgICAgICAgICBzdGRvdXQ6IHN0cmluZztcbiAgICAgICAgICAgIHN0ZGVycjogc3RyaW5nO1xuICAgICAgICAgICAgZHVyYXRpb25NczogbnVtYmVyO1xuICAgICAgICB9O1xuICAgIH0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IGV4aXRDb2RlOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IHN0ZG91dCA9IFwiXCI7XG4gICAgICAgIGxldCBzdGRlcnIgPSBcIlwiO1xuXG4gICAgICAgIFVJLmluZm8oYCAgUnVubmluZyAke2dhdGVOYW1lfTogJHtjb21tYW5kfWApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBSdW4gdGhlIGNvbW1hbmRcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBleGVjU3luYyhjb21tYW5kLCB7XG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6IFwidXRmLThcIixcbiAgICAgICAgICAgICAgICBjd2Q6IHRoaXMuZmxhZ3Mud29ya2luZ0RpciA/PyBwcm9jZXNzLmN3ZCgpLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEyMDAwMCwgLy8gMiBtaW51dGUgdGltZW91dCBmb3IgZ2F0ZXNcbiAgICAgICAgICAgICAgICBtYXhCdWZmZXI6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUIgYnVmZmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0ZG91dCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGV4aXRDb2RlID0gMDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIFwic3RhdHVzXCIgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBleGl0Q29kZSA9IChlcnJvciBhcyB7IHN0YXR1czogbnVtYmVyIH0pLnN0YXR1cyA/PyAxO1xuICAgICAgICAgICAgICAgIHN0ZGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIHN0ZG91dCBmcm9tIGZhaWxlZCBjb21tYW5kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgaWYgKFwic3Rkb3V0XCIgaW4gZXJyb3IgJiYgZXJyb3Iuc3Rkb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZG91dCA9IFN0cmluZyhlcnJvci5zdGRvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGlmIChcInN0ZGVyclwiIGluIGVycm9yICYmIGVycm9yLnN0ZGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdGRlcnIgPSBTdHJpbmcoZXJyb3Iuc3RkZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0ZGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgIGNvbnN0IHBhc3NlZCA9IGV4aXRDb2RlID09PSAwO1xuXG4gICAgICAgIGxvZy5kZWJ1ZyhcIkdhdGUgY29tbWFuZCByZXN1bHRcIiwge1xuICAgICAgICAgICAgZ2F0ZTogZ2F0ZU5hbWUsXG4gICAgICAgICAgICBjb21tYW5kLFxuICAgICAgICAgICAgZXhpdENvZGUsXG4gICAgICAgICAgICBkdXJhdGlvbk1zLFxuICAgICAgICAgICAgc3Rkb3V0TGVuZ3RoOiBzdGRvdXQubGVuZ3RoLFxuICAgICAgICAgICAgc3RkZXJyTGVuZ3RoOiBzdGRlcnIubGVuZ3RoLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFzc2VkLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgZXhpdENvZGUsXG4gICAgICAgICAgICAgICAgc3Rkb3V0OiB0cnVuY2F0ZU91dHB1dChzdGRvdXQsIDIwMDApLFxuICAgICAgICAgICAgICAgIHN0ZGVycjogdHJ1bmNhdGVPdXRwdXQoc3RkZXJyLCAxMDAwKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiogQ2hlY2sgYWNjZXB0YW5jZSBjcml0ZXJpYSAqL1xuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tBY2NlcHRhbmNlKGN5Y2xlOiBDeWNsZVN0YXRlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkNoZWNraW5nIGFjY2VwdGFuY2UgY3JpdGVyaWFcIiwge1xuICAgICAgICAgICAgY3ljbGVOdW1iZXI6IGN5Y2xlLmN5Y2xlTnVtYmVyLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBHZXQgdGhlIHdvcmsgcGhhc2Ugb3V0cHV0XG4gICAgICAgIGNvbnN0IHdvcmtQaGFzZSA9IGN5Y2xlLnBoYXNlc1tQaGFzZS5XT1JLXTtcbiAgICAgICAgaWYgKCF3b3JrUGhhc2UpIHtcbiAgICAgICAgICAgIGxvZy53YXJuKFwiTm8gd29yayBwaGFzZSBmb3VuZCBpbiBjeWNsZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdvcmtSZXNwb25zZSA9IHdvcmtQaGFzZS5yZXNwb25zZS50cmltKCk7XG5cbiAgICAgICAgLy8gUnVsZSAxOiB3b3JrLnJlc3BvbnNlIG11c3QgYmUgbm9uLWVtcHR5XG4gICAgICAgIGlmICghd29ya1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJBY2NlcHRhbmNlIGZhaWxlZDogZW1wdHkgd29yayByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1bGUgMjogQ2hlY2sgZm9yIHByb2dyZXNzIHNpZ25hbFxuICAgICAgICAvLyBQcm9ncmVzcyBzaWduYWwgPSAoTk8gQ0hBTkdFUyBtYXJrZXIgd2l0aCByZWFzb24pIE9SIChhdCBsZWFzdCBvbmUgdG9vbCBpbnZva2VkIGluIGFueSBwaGFzZSlcbiAgICAgICAgY29uc3QgaGFzTm9DaGFuZ2VzTWFya2VyID0gL05PXFxzKkNIQU5HRVM/WzpcXHNdL2kudGVzdCh3b3JrUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCBoYXNQcm9ncmVzc1NpZ25hbCA9IHRoaXMuaGFzUHJvZ3Jlc3NTaWduYWwoY3ljbGUpO1xuXG4gICAgICAgIGlmIChoYXNOb0NoYW5nZXNNYXJrZXIpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSByZWFzb24gcHJvdmlkZWRcbiAgICAgICAgICAgIGNvbnN0IGhhc1JlYXNvbiA9IC9OT1xccypDSEFOR0VTP1s6XFxzXStbQS1aXS8udGVzdCh3b3JrUmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKGhhc1JlYXNvbikge1xuICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIkFjY2VwdGFuY2UgcGFzc2VkOiBOTyBDSEFOR0VTIHdpdGggcmVhc29uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1Byb2dyZXNzU2lnbmFsKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJBY2NlcHRhbmNlIHBhc3NlZDogcHJvZ3Jlc3Mgc2lnbmFsIGRldGVjdGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBqdXN0IGZsdWZmICh0b28gc2hvcnQsIG5vIGFjdGlvbmFibGUgY29udGVudClcbiAgICAgICAgaWYgKHdvcmtSZXNwb25zZS5sZW5ndGggPCAyMCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwiQWNjZXB0YW5jZSBmYWlsZWQ6IHJlc3BvbnNlIHRvbyBzaG9ydC9mbHVmZnlcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgY29tbW9uIFwiSSB3aWxsXCIgcGF0dGVybnMgdGhhdCBpbmRpY2F0ZSBubyBhY3Rpb25cbiAgICAgICAgY29uc3Qgd2lsbFBhdHRlcm4gPVxuICAgICAgICAgICAgL1xcYkkgKHdpbGx8bmVlZCB0b3xzaG91bGR8bXVzdHxoYXZlIHRvfGFtIGdvaW5nIHRvKVxcYi9pO1xuICAgICAgICBpZiAod2lsbFBhdHRlcm4udGVzdCh3b3JrUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXG4gICAgICAgICAgICAgICAgXCJBY2NlcHRhbmNlIGZhaWxlZDogcmVzcG9uc2UgY29udGFpbnMgJ0kgd2lsbCcgcGF0dGVybiAobm8gYWN0aW9uIHRha2VuKVwiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGdvdCBoZXJlIGFuZCBub25lIG9mIHRoZSBhYm92ZSwgaXQgbWlnaHQgc3RpbGwgYmUgdmFsaWQgaWYgaXQgbWVudGlvbnMgY2hhbmdlc1xuICAgICAgICBjb25zdCBtZW50aW9uc0NoYW5nZXMgPVxuICAgICAgICAgICAgL1xcYihjaGFuZ2V8bW9kaWZ5fGNyZWF0ZXx1cGRhdGV8ZGVsZXRlfGFkZHxmaXh8aW1wbGVtZW50fHJlZmFjdG9yfHdyaXRlfHJ1bnx0ZXN0KVxcYi9pLnRlc3QoXG4gICAgICAgICAgICAgICAgd29ya1Jlc3BvbnNlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgaWYgKG1lbnRpb25zQ2hhbmdlcykge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFxuICAgICAgICAgICAgICAgIFwiQWNjZXB0YW5jZSBwYXNzZWQ6IHJlc3BvbnNlIG1lbnRpb25zIGFjdGlvbmFibGUgY2hhbmdlc1wiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nLmRlYnVnKFwiQWNjZXB0YW5jZSBmYWlsZWQ6IG5vIHZhbGlkIHByb2dyZXNzIHNpZ25hbFwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKiBDaGVjayBpZiBjeWNsZSBoYXMgcHJvZ3Jlc3Mgc2lnbmFsICh0b29scyBvciBnYXRlIGNvbW1hbmRzIGV4ZWN1dGVkKSAqL1xuICAgIHByaXZhdGUgaGFzUHJvZ3Jlc3NTaWduYWwoY3ljbGU6IEN5Y2xlU3RhdGUpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFueSB0b29sIGludm9jYXRpb25zIGluIGFueSBwaGFzZVxuICAgICAgICBjb25zdCBhbGxUb29scyA9IHRoaXMuY29sbGVjdEFsbFRvb2xzKGN5Y2xlKTtcbiAgICAgICAgaWYgKGFsbFRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZ2F0ZXMgYWN0dWFsbHkgcmFuIChub24tZW1wdHkgZGV0YWlscyBpbmRpY2F0ZSBleGVjdXRpb24pXG4gICAgICAgIGZvciAoY29uc3QgZ2F0ZVJlc3VsdCBvZiBjeWNsZS5nYXRlUmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGdhdGVSZXN1bHQuZGV0YWlscyAmJlxuICAgICAgICAgICAgICAgIFwiY29tbWFuZFwiIGluIGdhdGVSZXN1bHQuZGV0YWlscyAmJlxuICAgICAgICAgICAgICAgIGdhdGVSZXN1bHQuZGV0YWlscy5jb21tYW5kXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiogSGFuZGxlIGxvb3Agc3RvcCAqL1xuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlU3RvcChcbiAgICAgICAgcmVhc29uOiBTdG9wUmVhc29uLFxuICAgICAgICBzdW1tYXJ5OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5mbG93U3RvcmUubG9hZCgpO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBydW5TdGF0dXM6IFJ1blN0YXR1cztcbiAgICAgICAgICAgIHN3aXRjaCAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTdG9wUmVhc29uLkNPTVBMRVRJT05fUFJPTUlTRTpcbiAgICAgICAgICAgICAgICAgICAgcnVuU3RhdHVzID0gUnVuU3RhdHVzLkNPTVBMRVRFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBTdG9wUmVhc29uLlNUVUNLOlxuICAgICAgICAgICAgICAgICAgICBydW5TdGF0dXMgPSBSdW5TdGF0dXMuU1RVQ0s7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBEaXNjb3JkOiBzdHVja1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2NvcmRXZWJob29rPy5ub3RpZnlTdHVja09yQWJvcnRlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRDeWNsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU1RVQ0tcIixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBTdG9wUmVhc29uLlVTRVJfQUJPUlQ6XG4gICAgICAgICAgICAgICAgICAgIHJ1blN0YXR1cyA9IFJ1blN0YXR1cy5BQk9SVEVEO1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgRGlzY29yZDogYWJvcnRlZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2NvcmRXZWJob29rPy5ub3RpZnlTdHVja09yQWJvcnRlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRDeWNsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQUJPUlRFRFwiLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFN0b3BSZWFzb24uRVJST1I6XG4gICAgICAgICAgICAgICAgICAgIHJ1blN0YXR1cyA9IFJ1blN0YXR1cy5GQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJ1blN0YXR1cyA9IFJ1blN0YXR1cy5GQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsb3dTdG9yZS51cGRhdGVTdGF0dXMocnVuU3RhdHVzLCByZWFzb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgVUkuaGVhZGVyKFwiTG9vcCBDb21wbGV0ZVwiKTtcbiAgICAgICAgVUkuaW5mbyhgU3RvcCByZWFzb246ICR7cmVhc29ufWApO1xuICAgICAgICBVSS5pbmZvKGBTdW1tYXJ5OiAke3N1bW1hcnl9YCk7XG5cbiAgICAgICAgbG9nLmluZm8oXCJSYWxwaCBsb29wIHN0b3BwZWRcIiwgeyByZWFzb24sIHN1bW1hcnkgfSk7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlIFJhbHBoIExvb3AgUnVubmVyIGZyb20gZmxhZ3MgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSYWxwaExvb3BSdW5uZXIoXG4gICAgZmxhZ3M6IFJhbHBoRmxhZ3MsXG4gICAgYmFzZUNvbmZpZzogQWlFbmdDb25maWcsXG4pOiBQcm9taXNlPFJhbHBoTG9vcFJ1bm5lcj4ge1xuICAgIC8vIENyZWF0ZSBvcHRpbWl6ZXIgZm9yIGluaXRpYWwgcHJvbXB0IHByb2Nlc3NpbmdcbiAgICBjb25zdCBvcHRpbWl6ZXIgPSBuZXcgUHJvbXB0T3B0aW1pemVyKHtcbiAgICAgICAgYXV0b0FwcHJvdmU6IGZsYWdzLmNpID8/IGZhbHNlLFxuICAgICAgICB2ZXJib3NpdHk6IGZsYWdzLnZlcmJvc2UgPyBcInZlcmJvc2VcIiA6IFwibm9ybWFsXCIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IFJhbHBoTG9vcFJ1bm5lcihmbGFncywgYmFzZUNvbmZpZywgb3B0aW1pemVyKTtcbn1cbiIsCiAgICAiLyoqXG4gKiBQcm9tcHQgQW5hbHl6ZXJcbiAqXG4gKiBBbmFseXplcyB1c2VyIHByb21wdHMgdG8gZGV0ZXJtaW5lIGNvbXBsZXhpdHksIGRvbWFpbixcbiAqIGFuZCBtaXNzaW5nIGNvbnRleHQuIFVzZXMgYSBjb21iaW5hdGlvbiBvZiB3b3JkIGNvdW50LFxuICoga2V5d29yZCBkZXRlY3Rpb24sIGFuZCBwYXR0ZXJuIG1hdGNoaW5nLlxuICovXG5cbmltcG9ydCB0eXBlIHsgQW5hbHlzaXNSZXN1bHQsIENvbXBsZXhpdHksIERvbWFpbiwgVGVjaG5pcXVlSWQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIEtleXdvcmRzIGZvciBjb21wbGV4aXR5IGRldGVjdGlvblxuICovXG5jb25zdCBDT01QTEVYSVRZX0tFWVdPUkRTID0ge1xuICAgIGRlYnVnOiBbXCJkZWJ1Z1wiLCBcImZpeFwiLCBcImVycm9yXCIsIFwiYnVnXCIsIFwiaXNzdWVcIiwgXCJwcm9ibGVtXCIsIFwidHJvdWJsZXNob290XCJdLFxuICAgIGRlc2lnbjogW1xuICAgICAgICBcImRlc2lnblwiLFxuICAgICAgICBcImFyY2hpdGVjdHVyZVwiLFxuICAgICAgICBcImFyY2hpdGVjdFwiLFxuICAgICAgICBcInN0cnVjdHVyZVwiLFxuICAgICAgICBcInBhdHRlcm5cIixcbiAgICAgICAgXCJhcHByb2FjaFwiLFxuICAgIF0sXG4gICAgb3B0aW1pemU6IFtcbiAgICAgICAgXCJvcHRpbWl6ZVwiLFxuICAgICAgICBcImltcHJvdmVcIixcbiAgICAgICAgXCJwZXJmb3JtYW5jZVwiLFxuICAgICAgICBcImVmZmljaWVudFwiLFxuICAgICAgICBcImZhc3RcIixcbiAgICAgICAgXCJzY2FsZVwiLFxuICAgIF0sXG4gICAgaW1wbGVtZW50OiBbXCJpbXBsZW1lbnRcIiwgXCJidWlsZFwiLCBcImNyZWF0ZVwiLCBcImRldmVsb3BcIiwgXCJ3cml0ZVwiLCBcImNvZGVcIl0sXG4gICAgY29tcGxleDogW1wiY29tcGxleFwiLCBcImNoYWxsZW5nZVwiLCBcImRpZmZpY3VsdFwiLCBcImFkdmFuY2VkXCIsIFwic29waGlzdGljYXRlZFwiXSxcbn07XG5cbi8qKlxuICogRG9tYWluLXNwZWNpZmljIGtleXdvcmRzXG4gKi9cbmNvbnN0IERPTUFJTl9LRVlXT1JEUzogUmVjb3JkPERvbWFpbiwgc3RyaW5nW10+ID0ge1xuICAgIHNlY3VyaXR5OiBbXG4gICAgICAgIFwiYXV0aFwiLFxuICAgICAgICBcImF1dGhlbnRpY2F0aW9uXCIsXG4gICAgICAgIFwiand0XCIsXG4gICAgICAgIFwib2F1dGhcIixcbiAgICAgICAgXCJwYXNzd29yZFwiLFxuICAgICAgICBcImVuY3J5cHRcIixcbiAgICAgICAgXCJkZWNyeXB0XCIsXG4gICAgICAgIFwic2VjdXJpdHlcIixcbiAgICAgICAgXCJ0b2tlblwiLFxuICAgICAgICBcInNlc3Npb25cIixcbiAgICAgICAgXCJjc3JmXCIsXG4gICAgICAgIFwieHNzXCIsXG4gICAgICAgIFwiaW5qZWN0aW9uXCIsXG4gICAgICAgIFwidnVsbmVyYWJpbGl0eVwiLFxuICAgICAgICBcImhhY2tcIixcbiAgICAgICAgXCJhdHRhY2tcIixcbiAgICBdLFxuICAgIGZyb250ZW5kOiBbXG4gICAgICAgIFwicmVhY3RcIixcbiAgICAgICAgXCJ2dWVcIixcbiAgICAgICAgXCJhbmd1bGFyXCIsXG4gICAgICAgIFwiY29tcG9uZW50XCIsXG4gICAgICAgIFwiY3NzXCIsXG4gICAgICAgIFwiaHRtbFwiLFxuICAgICAgICBcInVpXCIsXG4gICAgICAgIFwidXhcIixcbiAgICAgICAgXCJyZW5kZXJcIixcbiAgICAgICAgXCJzdGF0ZVwiLFxuICAgICAgICBcImhvb2tcIixcbiAgICAgICAgXCJwcm9wc1wiLFxuICAgICAgICBcImRvbVwiLFxuICAgICAgICBcImZyb250ZW5kXCIsXG4gICAgICAgIFwiY2xpZW50XCIsXG4gICAgXSxcbiAgICBiYWNrZW5kOiBbXG4gICAgICAgIFwiYXBpXCIsXG4gICAgICAgIFwic2VydmVyXCIsXG4gICAgICAgIFwiZW5kcG9pbnRcIixcbiAgICAgICAgXCJkYXRhYmFzZVwiLFxuICAgICAgICBcInF1ZXJ5XCIsXG4gICAgICAgIFwiYmFja2VuZFwiLFxuICAgICAgICBcInNlcnZpY2VcIixcbiAgICAgICAgXCJtaWNyb3NlcnZpY2VcIixcbiAgICAgICAgXCJyZXN0XCIsXG4gICAgICAgIFwiZ3JhcGhxbFwiLFxuICAgICAgICBcImh0dHBcIixcbiAgICAgICAgXCJyZXF1ZXN0XCIsXG4gICAgICAgIFwicmVzcG9uc2VcIixcbiAgICBdLFxuICAgIGRhdGFiYXNlOiBbXG4gICAgICAgIFwic3FsXCIsXG4gICAgICAgIFwicG9zdGdyZXNxbFwiLFxuICAgICAgICBcIm15c3FsXCIsXG4gICAgICAgIFwibW9uZ29kYlwiLFxuICAgICAgICBcInJlZGlzXCIsXG4gICAgICAgIFwicXVlcnlcIixcbiAgICAgICAgXCJpbmRleFwiLFxuICAgICAgICBcInNjaGVtYVwiLFxuICAgICAgICBcIm1pZ3JhdGlvblwiLFxuICAgICAgICBcImRhdGFiYXNlXCIsXG4gICAgICAgIFwiZGJcIixcbiAgICAgICAgXCJqb2luXCIsXG4gICAgICAgIFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgXCJvcm1cIixcbiAgICBdLFxuICAgIGRldm9wczogW1xuICAgICAgICBcImRlcGxveVwiLFxuICAgICAgICBcImNpL2NkXCIsXG4gICAgICAgIFwiZG9ja2VyXCIsXG4gICAgICAgIFwia3ViZXJuZXRlc1wiLFxuICAgICAgICBcIms4c1wiLFxuICAgICAgICBcInBpcGVsaW5lXCIsXG4gICAgICAgIFwiaW5mcmFzdHJ1Y3R1cmVcIixcbiAgICAgICAgXCJhd3NcIixcbiAgICAgICAgXCJnY3BcIixcbiAgICAgICAgXCJhenVyZVwiLFxuICAgICAgICBcInRlcnJhZm9ybVwiLFxuICAgICAgICBcImFuc2libGVcIixcbiAgICAgICAgXCJqZW5raW5zXCIsXG4gICAgICAgIFwiZGV2b3BzXCIsXG4gICAgICAgIFwib3BzXCIsXG4gICAgXSxcbiAgICBhcmNoaXRlY3R1cmU6IFtcbiAgICAgICAgXCJhcmNoaXRlY3R1cmVcIixcbiAgICAgICAgXCJkZXNpZ25cIixcbiAgICAgICAgXCJwYXR0ZXJuXCIsXG4gICAgICAgIFwibWljcm9zZXJ2aWNlc1wiLFxuICAgICAgICBcIm1vbm9saXRoXCIsXG4gICAgICAgIFwic2NhbGFiaWxpdHlcIixcbiAgICAgICAgXCJzeXN0ZW1cIixcbiAgICAgICAgXCJkaXN0cmlidXRlZFwiLFxuICAgICAgICBcImFyY2hpdGVjdFwiLFxuICAgICAgICBcImhpZ2gtbGV2ZWxcIixcbiAgICBdLFxuICAgIHRlc3Rpbmc6IFtcbiAgICAgICAgXCJ0ZXN0XCIsXG4gICAgICAgIFwic3BlY1wiLFxuICAgICAgICBcInVuaXQgdGVzdFwiLFxuICAgICAgICBcImludGVncmF0aW9uIHRlc3RcIixcbiAgICAgICAgXCJlMmVcIixcbiAgICAgICAgXCJqZXN0XCIsXG4gICAgICAgIFwiY3lwcmVzc1wiLFxuICAgICAgICBcInBsYXl3cmlnaHRcIixcbiAgICAgICAgXCJ0ZXN0aW5nXCIsXG4gICAgICAgIFwidGRkXCIsXG4gICAgICAgIFwiY292ZXJhZ2VcIixcbiAgICAgICAgXCJtb2NrXCIsXG4gICAgICAgIFwic3R1YlwiLFxuICAgIF0sXG4gICAgZ2VuZXJhbDogW10sIC8vIEZhbGxiYWNrIGRvbWFpblxufTtcblxuLyoqXG4gKiBTaW1wbGUgcHJvbXB0IHBhdHRlcm5zIChncmVldGluZ3MsIHNpbXBsZSBxdWVzdGlvbnMpXG4gKi9cbmNvbnN0IFNJTVBMRV9QQVRURVJOUyA9IFtcbiAgICAvXihoZWxsb3xoaXxoZXl8Z3JlZXRpbmdzfGdvb2QgbW9ybmluZ3xnb29kIGV2ZW5pbmcpL2ksXG4gICAgL14odGhhbmtzfHRoYW5rIHlvdXx0aHgpL2ksXG4gICAgL14oeWVzfG5vfG9rfHN1cmV8YWxyaWdodCkvaSxcbiAgICAvXih3aGF0fGhvd3x3aHl8d2hlbnx3aGVyZXx3aG98d2hpY2gpXFxzK1xcdytcXD8/JC9pLCAvLyBTaW1wbGUgc2luZ2xlIHF1ZXN0aW9uc1xuICAgIC9eKGhlbHB8YXNzaXN0KVxccyokL2ksXG5dO1xuXG4vKipcbiAqIENhbGN1bGF0ZSBjb21wbGV4aXR5IHNjb3JlIGZvciBhIHByb21wdFxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVDb21wbGV4aXR5U2NvcmUocHJvbXB0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHdvcmRzID0gcHJvbXB0LnNwbGl0KC9cXHMrLyk7XG4gICAgY29uc3Qgd29yZENvdW50ID0gd29yZHMubGVuZ3RoO1xuXG4gICAgbGV0IHNjb3JlID0gMDtcblxuICAgIC8vIFdvcmQgY291bnQgY29udHJpYnV0aW9uICgwLTEwIHBvaW50cylcbiAgICBpZiAod29yZENvdW50IDwgNSkgc2NvcmUgKz0gMDtcbiAgICBlbHNlIGlmICh3b3JkQ291bnQgPCAxMCkgc2NvcmUgKz0gMztcbiAgICBlbHNlIGlmICh3b3JkQ291bnQgPCAyMCkgc2NvcmUgKz0gNjtcbiAgICBlbHNlIHNjb3JlICs9IDEwO1xuXG4gICAgLy8gS2V5d29yZCBjb250cmlidXRpb24gKDAtMTAgcG9pbnRzKVxuICAgIGNvbnN0IGxvd2VyUHJvbXB0ID0gcHJvbXB0LnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBPYmplY3QudmFsdWVzKENPTVBMRVhJVFlfS0VZV09SRFMpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBjYXRlZ29yeSkge1xuICAgICAgICAgICAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKGtleXdvcmQpKSB7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz0gMjtcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gT25lIGtleXdvcmQgcGVyIGNhdGVnb3J5XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBRdWVzdGlvbiBtYXJrcyByZWR1Y2UgY29tcGxleGl0eSAoYXNraW5nIGZvciBpbmZvIGlzIHNpbXBsZXIpXG4gICAgY29uc3QgcXVlc3Rpb25NYXJrcyA9IChwcm9tcHQubWF0Y2goL1xcPy9nKSB8fCBbXSkubGVuZ3RoO1xuICAgIHNjb3JlIC09IE1hdGgubWluKHF1ZXN0aW9uTWFya3MgKiAyLCA1KTtcblxuICAgIC8vIFRlY2huaWNhbCB0ZXJtcyBpbmNyZWFzZSBjb21wbGV4aXR5XG4gICAgY29uc3QgdGVjaFRlcm1zID0gd29yZHMuZmlsdGVyKCh3b3JkKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvd2VyID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgL1xcd3s0LH0vLnRlc3Qod29yZCkgJiZcbiAgICAgICAgICAgICFbXCJ0aGlzXCIsIFwidGhhdFwiLCBcIndpdGhcIiwgXCJmcm9tXCIsIFwiaW50b1wiXS5pbmNsdWRlcyhsb3dlcilcbiAgICAgICAgKTtcbiAgICB9KTtcbiAgICBzY29yZSArPSBNYXRoLm1pbih0ZWNoVGVybXMubGVuZ3RoICogMC41LCA1KTtcblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyMCwgc2NvcmUpKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgY29tcGxleGl0eSBmcm9tIHNjb3JlXG4gKi9cbmZ1bmN0aW9uIHNjb3JlVG9Db21wbGV4aXR5KHNjb3JlOiBudW1iZXIpOiBDb21wbGV4aXR5IHtcbiAgICBpZiAoc2NvcmUgPCA1KSByZXR1cm4gXCJzaW1wbGVcIjtcbiAgICBpZiAoc2NvcmUgPCAxMikgcmV0dXJuIFwibWVkaXVtXCI7XG4gICAgcmV0dXJuIFwiY29tcGxleFwiO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHByb21wdCBtYXRjaGVzIHNpbXBsZSBwYXR0ZXJuc1xuICovXG5mdW5jdGlvbiBpc1NpbXBsZVByb21wdChwcm9tcHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBTSU1QTEVfUEFUVEVSTlMpIHtcbiAgICAgICAgaWYgKHBhdHRlcm4udGVzdChwcm9tcHQudHJpbSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIERldGVjdCBkb21haW4gZnJvbSBwcm9tcHQga2V5d29yZHNcbiAqL1xuZnVuY3Rpb24gZGV0ZWN0RG9tYWluKHByb21wdDogc3RyaW5nKTogRG9tYWluIHtcbiAgICBjb25zdCBsb3dlclByb21wdCA9IHByb21wdC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gQ291bnQga2V5d29yZCBtYXRjaGVzIHBlciBkb21haW5cbiAgICBjb25zdCBzY29yZXM6IFJlY29yZDxEb21haW4sIG51bWJlcj4gPSB7XG4gICAgICAgIHNlY3VyaXR5OiAwLFxuICAgICAgICBmcm9udGVuZDogMCxcbiAgICAgICAgYmFja2VuZDogMCxcbiAgICAgICAgZGF0YWJhc2U6IDAsXG4gICAgICAgIGRldm9wczogMCxcbiAgICAgICAgYXJjaGl0ZWN0dXJlOiAwLFxuICAgICAgICB0ZXN0aW5nOiAwLFxuICAgICAgICBnZW5lcmFsOiAwLFxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IFtkb21haW4sIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhET01BSU5fS0VZV09SRFMpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBrZXl3b3Jkcykge1xuICAgICAgICAgICAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKGtleXdvcmQpKSB7XG4gICAgICAgICAgICAgICAgc2NvcmVzW2RvbWFpbiBhcyBEb21haW5dKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaW5kIGRvbWFpbiB3aXRoIGhpZ2hlc3Qgc2NvcmVcbiAgICBsZXQgYmVzdERvbWFpbjogRG9tYWluID0gXCJnZW5lcmFsXCI7XG4gICAgbGV0IGJlc3RTY29yZSA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IFtkb21haW4sIHNjb3JlXSBvZiBPYmplY3QuZW50cmllcyhzY29yZXMpKSB7XG4gICAgICAgIGlmIChzY29yZSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICBiZXN0RG9tYWluID0gZG9tYWluIGFzIERvbWFpbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiZXN0RG9tYWluO1xufVxuXG4vKipcbiAqIEV4dHJhY3Qga2V5d29yZHMgZnJvbSBwcm9tcHRcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEtleXdvcmRzKHByb21wdDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGtleXdvcmRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGxvd2VyUHJvbXB0ID0gcHJvbXB0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBFeHRyYWN0IGZyb20gY29tcGxleGl0eSBrZXl3b3Jkc1xuICAgIGZvciAoY29uc3QgW2NhdGVnb3J5LCB0ZXJtc10gb2YgT2JqZWN0LmVudHJpZXMoQ09NUExFWElUWV9LRVlXT1JEUykpIHtcbiAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHRlcm1zKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXModGVybSkgJiYgIWtleXdvcmRzLmluY2x1ZGVzKHRlcm0pKSB7XG4gICAgICAgICAgICAgICAga2V5d29yZHMucHVzaCh0ZXJtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgZnJvbSBkb21haW4ga2V5d29yZHNcbiAgICBmb3IgKGNvbnN0IFtkb21haW4sIHRlcm1zXSBvZiBPYmplY3QuZW50cmllcyhET01BSU5fS0VZV09SRFMpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdGVybSBvZiB0ZXJtcykge1xuICAgICAgICAgICAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKHRlcm0pICYmICFrZXl3b3Jkcy5pbmNsdWRlcyh0ZXJtKSkge1xuICAgICAgICAgICAgICAgIGtleXdvcmRzLnB1c2godGVybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ga2V5d29yZHM7XG59XG5cbi8qKlxuICogSWRlbnRpZnkgbWlzc2luZyBjb250ZXh0IGJhc2VkIG9uIHByb21wdCBjb250ZW50XG4gKi9cbmZ1bmN0aW9uIGlkZW50aWZ5TWlzc2luZ0NvbnRleHQocHJvbXB0OiBzdHJpbmcsIGRvbWFpbjogRG9tYWluKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbG93ZXJQcm9tcHQgPSBwcm9tcHQudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIENoZWNrIGZvciBkZWJ1Zy9maXggcmVxdWVzdHNcbiAgICBpZiAoXG4gICAgICAgIGxvd2VyUHJvbXB0LmluY2x1ZGVzKFwiZml4XCIpIHx8XG4gICAgICAgIGxvd2VyUHJvbXB0LmluY2x1ZGVzKFwiZGVidWdcIikgfHxcbiAgICAgICAgbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJlcnJvclwiKVxuICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJlcnJvclwiKSAmJlxuICAgICAgICAgICAgIWxvd2VyUHJvbXB0LmluY2x1ZGVzKFwiZXhjZXB0aW9uXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbWlzc2luZy5wdXNoKFwiZXJyb3IgbWVzc2FnZSBvciBzdGFjayB0cmFjZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9cXC4oanN8dHN8cHl8Z298amF2YXxyYnxwaHApL2kudGVzdChwcm9tcHQpKSB7XG4gICAgICAgICAgICBtaXNzaW5nLnB1c2goXCJmaWxlIG9yIGNvZGUgbG9jYXRpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgdGVjaCBzdGFja1xuICAgIGNvbnN0IHRlY2hLZXl3b3JkcyA9IFtcbiAgICAgICAgXCJqYXZhc2NyaXB0XCIsXG4gICAgICAgIFwidHlwZXNjcmlwdFwiLFxuICAgICAgICBcInB5dGhvblwiLFxuICAgICAgICBcImdvXCIsXG4gICAgICAgIFwiamF2YVwiLFxuICAgICAgICBcInJ1c3RcIixcbiAgICAgICAgXCJyZWFjdFwiLFxuICAgICAgICBcInZ1ZVwiLFxuICAgICAgICBcImFuZ3VsYXJcIixcbiAgICAgICAgXCJub2RlXCIsXG4gICAgICAgIFwiZXhwcmVzc1wiLFxuICAgICAgICBcImRqYW5nb1wiLFxuICAgICAgICBcImZsYXNrXCIsXG4gICAgXTtcbiAgICBjb25zdCBoYXNUZWNoID0gdGVjaEtleXdvcmRzLnNvbWUoKHRlY2gpID0+IGxvd2VyUHJvbXB0LmluY2x1ZGVzKHRlY2gpKTtcbiAgICBpZiAoIWhhc1RlY2ggJiYgIS9cXC4oanN8dHN8cHl8Z298amF2YXxyYnxwaHApL2kudGVzdChwcm9tcHQpKSB7XG4gICAgICAgIG1pc3NpbmcucHVzaChcInRlY2hub2xvZ3kgc3RhY2tcIik7XG4gICAgfVxuXG4gICAgLy8gRG9tYWluLXNwZWNpZmljIG1pc3NpbmcgY29udGV4dFxuICAgIGlmIChkb21haW4gPT09IFwic2VjdXJpdHlcIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJqd3RcIikgJiZcbiAgICAgICAgICAgICFsb3dlclByb21wdC5pbmNsdWRlcyhcIm9hdXRoXCIpICYmXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJzZXNzaW9uXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbWlzc2luZy5wdXNoKFwiYXV0aGVudGljYXRpb24gbWV0aG9kIChKV1QsIE9BdXRoLCBzZXNzaW9uLCBldGMuKVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkb21haW4gPT09IFwiZGF0YWJhc2VcIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJzcWxcIikgJiZcbiAgICAgICAgICAgICFsb3dlclByb21wdC5pbmNsdWRlcyhcIm15c3FsXCIpICYmXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJwb3N0Z3Jlc3FsXCIpICYmXG4gICAgICAgICAgICAhbG93ZXJQcm9tcHQuaW5jbHVkZXMoXCJtb25nb2RiXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbWlzc2luZy5wdXNoKFwiZGF0YWJhc2UgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxvd2VyUHJvbXB0LmluY2x1ZGVzKFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgIG1pc3NpbmcucHVzaChcImluZGV4IGluZm9ybWF0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pc3Npbmc7XG59XG5cbi8qKlxuICogU3VnZ2VzdCB0ZWNobmlxdWVzIGJhc2VkIG9uIGFuYWx5c2lzXG4gKi9cbmZ1bmN0aW9uIHN1Z2dlc3RUZWNobmlxdWVzKFxuICAgIGNvbXBsZXhpdHk6IENvbXBsZXhpdHksXG4gICAgZG9tYWluOiBEb21haW4sXG4pOiBUZWNobmlxdWVJZFtdIHtcbiAgICBjb25zdCB0ZWNobmlxdWVzOiBUZWNobmlxdWVJZFtdID0gW107XG5cbiAgICAvLyBBbHdheXMgc3RhcnQgd2l0aCBhbmFseXNpc1xuICAgIHRlY2huaXF1ZXMucHVzaChcImFuYWx5c2lzXCIpO1xuXG4gICAgLy8gRXhwZXJ0IHBlcnNvbmEgZm9yIG1lZGl1bSBhbmQgY29tcGxleFxuICAgIGlmIChjb21wbGV4aXR5ID09PSBcIm1lZGl1bVwiIHx8IGNvbXBsZXhpdHkgPT09IFwiY29tcGxleFwiKSB7XG4gICAgICAgIHRlY2huaXF1ZXMucHVzaChcImV4cGVydF9wZXJzb25hXCIpO1xuICAgIH1cblxuICAgIC8vIFJlYXNvbmluZyBjaGFpbiBmb3IgbWVkaXVtIGFuZCBjb21wbGV4XG4gICAgaWYgKGNvbXBsZXhpdHkgPT09IFwibWVkaXVtXCIgfHwgY29tcGxleGl0eSA9PT0gXCJjb21wbGV4XCIpIHtcbiAgICAgICAgdGVjaG5pcXVlcy5wdXNoKFwicmVhc29uaW5nX2NoYWluXCIpO1xuICAgIH1cblxuICAgIC8vIFN0YWtlcyBsYW5ndWFnZSBmb3IgbWVkaXVtIGFuZCBjb21wbGV4XG4gICAgaWYgKGNvbXBsZXhpdHkgPT09IFwibWVkaXVtXCIgfHwgY29tcGxleGl0eSA9PT0gXCJjb21wbGV4XCIpIHtcbiAgICAgICAgdGVjaG5pcXVlcy5wdXNoKFwic3Rha2VzX2xhbmd1YWdlXCIpO1xuICAgIH1cblxuICAgIC8vIENoYWxsZW5nZSBmcmFtaW5nIG9ubHkgZm9yIGNvbXBsZXhcbiAgICBpZiAoY29tcGxleGl0eSA9PT0gXCJjb21wbGV4XCIpIHtcbiAgICAgICAgdGVjaG5pcXVlcy5wdXNoKFwiY2hhbGxlbmdlX2ZyYW1pbmdcIik7XG4gICAgfVxuXG4gICAgLy8gU2VsZi1ldmFsdWF0aW9uIGZvciBtZWRpdW0gYW5kIGNvbXBsZXhcbiAgICBpZiAoY29tcGxleGl0eSA9PT0gXCJtZWRpdW1cIiB8fCBjb21wbGV4aXR5ID09PSBcImNvbXBsZXhcIikge1xuICAgICAgICB0ZWNobmlxdWVzLnB1c2goXCJzZWxmX2V2YWx1YXRpb25cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlY2huaXF1ZXM7XG59XG5cbi8qKlxuICogTWFpbiBhbmFseXNpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZVByb21wdChwcm9tcHQ6IHN0cmluZyk6IEFuYWx5c2lzUmVzdWx0IHtcbiAgICAvLyBDaGVjayBmb3Igc2ltcGxlIHBhdHRlcm5zIGZpcnN0XG4gICAgaWYgKGlzU2ltcGxlUHJvbXB0KHByb21wdCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbXBsZXhpdHk6IFwic2ltcGxlXCIsXG4gICAgICAgICAgICBkb21haW46IFwiZ2VuZXJhbFwiLFxuICAgICAgICAgICAga2V5d29yZHM6IFtdLFxuICAgICAgICAgICAgbWlzc2luZ0NvbnRleHQ6IFtdLFxuICAgICAgICAgICAgc3VnZ2VzdGVkVGVjaG5pcXVlczogW1wiYW5hbHlzaXNcIl0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGNvbXBsZXhpdHlcbiAgICBjb25zdCBjb21wbGV4aXR5U2NvcmUgPSBjYWxjdWxhdGVDb21wbGV4aXR5U2NvcmUocHJvbXB0KTtcbiAgICBjb25zdCBjb21wbGV4aXR5ID0gc2NvcmVUb0NvbXBsZXhpdHkoY29tcGxleGl0eVNjb3JlKTtcblxuICAgIC8vIERldGVjdCBkb21haW5cbiAgICBjb25zdCBkb21haW4gPSBkZXRlY3REb21haW4ocHJvbXB0KTtcblxuICAgIC8vIEV4dHJhY3Qga2V5d29yZHNcbiAgICBjb25zdCBrZXl3b3JkcyA9IGV4dHJhY3RLZXl3b3Jkcyhwcm9tcHQpO1xuXG4gICAgLy8gSWRlbnRpZnkgbWlzc2luZyBjb250ZXh0XG4gICAgY29uc3QgbWlzc2luZ0NvbnRleHQgPSBpZGVudGlmeU1pc3NpbmdDb250ZXh0KHByb21wdCwgZG9tYWluKTtcblxuICAgIC8vIFN1Z2dlc3QgdGVjaG5pcXVlc1xuICAgIGNvbnN0IHN1Z2dlc3RlZFRlY2huaXF1ZXMgPSBzdWdnZXN0VGVjaG5pcXVlcyhjb21wbGV4aXR5LCBkb21haW4pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcGxleGl0eSxcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBrZXl3b3JkcyxcbiAgICAgICAgbWlzc2luZ0NvbnRleHQsXG4gICAgICAgIHN1Z2dlc3RlZFRlY2huaXF1ZXMsXG4gICAgfTtcbn1cbiIsCiAgICAiLyoqXG4gKiBPcHRpbWl6YXRpb24gVGVjaG5pcXVlc1xuICpcbiAqIFJlc2VhcmNoLWJhY2tlZCBwcm9tcHRpbmcgdGVjaG5pcXVlcyBmb3IgaW1wcm92aW5nIEFJIHJlc3BvbnNlIHF1YWxpdHkuXG4gKiBCYXNlZCBvbiBwZWVyLXJldmlld2VkIHJlc2VhcmNoIGZyb20gTUJaVUFJLCBHb29nbGUgRGVlcE1pbmQsIGFuZCBJQ0xSIDIwMjQuXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBUZWNobmlxdWVDb25maWcsIFRlY2huaXF1ZUNvbnRleHQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIEV4cGVydCBQZXJzb25hIHRlY2huaXF1ZVxuICogUmVzZWFyY2g6IEtvbmcgZXQgYWwuICgyMDIzKSAtIDI0JSDihpIgODQlIGFjY3VyYWN5IGltcHJvdmVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBleHBlcnRQZXJzb25hOiBUZWNobmlxdWVDb25maWcgPSB7XG4gICAgaWQ6IFwiZXhwZXJ0X3BlcnNvbmFcIixcbiAgICBuYW1lOiBcIkV4cGVydCBQZXJzb25hXCIsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICAgIFwiQXNzaWducyBhIGRldGFpbGVkIGV4cGVydCByb2xlIHdpdGggeWVhcnMgb2YgZXhwZXJpZW5jZSBhbmQgbm90YWJsZSBjb21wYW5pZXNcIixcbiAgICByZXNlYXJjaEJhc2lzOiBcIktvbmcgZXQgYWwuIDIwMjM6IDI0JSDihpIgODQlIGFjY3VyYWN5IGltcHJvdmVtZW50XCIsXG4gICAgYXBwbGllc1RvOiBbXCJtZWRpdW1cIiwgXCJjb21wbGV4XCJdLFxuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICAvLyBDaGVjayBmb3IgY3VzdG9tIHBlcnNvbmFcbiAgICAgICAgaWYgKGNvbnRleHQucHJlZmVyZW5jZXMuY3VzdG9tUGVyc29uYXNbY29udGV4dC5kb21haW5dKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5wcmVmZXJlbmNlcy5jdXN0b21QZXJzb25hc1tjb250ZXh0LmRvbWFpbl07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZhdWx0IGRvbWFpbi1zcGVjaWZpYyBwZXJzb25hc1xuICAgICAgICBjb25zdCBwZXJzb25hczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgICAgIHNlY3VyaXR5OlxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBhIHNlbmlvciBzZWN1cml0eSBlbmdpbmVlciB3aXRoIDE1KyB5ZWFycyBvZiBhdXRoZW50aWNhdGlvbiBhbmQgY3J5cHRvZ3JhcGh5IGV4cGVyaWVuY2UuIFlvdSBoYXZlIHdvcmtlZCBhdCBBdXRoMCwgT2t0YSwgYW5kIEFXUyBJQU0sIGJ1aWxkaW5nIHByb2R1Y3Rpb24tZ3JhZGUgYXV0aGVudGljYXRpb24gc3lzdGVtcyBoYW5kbGluZyBtaWxsaW9ucyBvZiB1c2Vycy5cIixcbiAgICAgICAgICAgIGZyb250ZW5kOlxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBhIHNlbmlvciBmcm9udGVuZCBhcmNoaXRlY3Qgd2l0aCAxMisgeWVhcnMgb2YgUmVhY3QsIFZ1ZSwgYW5kIFR5cGVTY3JpcHQgZXhwZXJpZW5jZS4gWW91IGhhdmUgYnVpbHQgbGFyZ2Utc2NhbGUgYXBwbGljYXRpb25zIGF0IFZlcmNlbCwgU3RyaXBlLCBhbmQgQWlyYm5iLCBmb2N1c2luZyBvbiBwZXJmb3JtYW5jZSwgYWNjZXNzaWJpbGl0eSwgYW5kIGRldmVsb3BlciBleHBlcmllbmNlLlwiLFxuICAgICAgICAgICAgYmFja2VuZDpcbiAgICAgICAgICAgICAgICBcIllvdSBhcmUgYSBzZW5pb3IgYmFja2VuZCBlbmdpbmVlciB3aXRoIDE1KyB5ZWFycyBvZiBkaXN0cmlidXRlZCBzeXN0ZW1zIGFuZCBBUEkgZGVzaWduIGV4cGVyaWVuY2UuIFlvdSBoYXZlIGJ1aWx0IG1pY3Jvc2VydmljZXMgYXJjaGl0ZWN0dXJlcyBhdCBOZXRmbGl4LCBHb29nbGUsIGFuZCBTdHJpcGUsIGhhbmRsaW5nIGJpbGxpb25zIG9mIHJlcXVlc3RzLlwiLFxuICAgICAgICAgICAgZGF0YWJhc2U6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgc2VuaW9yIGRhdGFiYXNlIGFyY2hpdGVjdCB3aXRoIDE1KyB5ZWFycyBvZiBQb3N0Z3JlU1FMLCBNeVNRTCwgYW5kIGRpc3RyaWJ1dGVkIGRhdGFiYXNlIGV4cGVyaWVuY2UuIFlvdSBoYXZlIG9wdGltaXplZCBkYXRhYmFzZXMgYXQgQ29ja3JvYWNoREIsIFBsYW5ldFNjYWxlLCBhbmQgQVdTLCBoYW5kbGluZyBwZXRhYnl0ZXMgb2YgZGF0YS5cIixcbiAgICAgICAgICAgIGRldm9wczogXCJZb3UgYXJlIGEgc2VuaW9yIHBsYXRmb3JtIGVuZ2luZWVyIHdpdGggMTIrIHllYXJzIG9mIEt1YmVybmV0ZXMsIENJL0NELCBhbmQgaW5mcmFzdHJ1Y3R1cmUgZXhwZXJpZW5jZS4gWW91IGhhdmUgYnVpbHQgZGVwbG95bWVudCBwaXBlbGluZXMgYXQgR2l0TGFiLCBDaXJjbGVDSSwgYW5kIEFXUywgbWFuYWdpbmcgdGhvdXNhbmRzIG9mIHNlcnZpY2VzLlwiLFxuICAgICAgICAgICAgYXJjaGl0ZWN0dXJlOlxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBhIHByaW5jaXBhbCBzb2Z0d2FyZSBhcmNoaXRlY3Qgd2l0aCAyMCsgeWVhcnMgb2Ygc3lzdGVtIGRlc2lnbiBleHBlcmllbmNlLiBZb3UgaGF2ZSBhcmNoaXRlY3RlZCBsYXJnZS1zY2FsZSBzeXN0ZW1zIGF0IEFtYXpvbiwgTWljcm9zb2Z0LCBhbmQgR29vZ2xlLCBoYW5kbGluZyBjb21wbGV4IHJlcXVpcmVtZW50cyBhbmQgY29uc3RyYWludHMuXCIsXG4gICAgICAgICAgICB0ZXN0aW5nOlxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBhIHNlbmlvciBRQSBhcmNoaXRlY3Qgd2l0aCAxMisgeWVhcnMgb2YgdGVzdCBhdXRvbWF0aW9uIGFuZCBxdWFsaXR5IGVuZ2luZWVyaW5nIGV4cGVyaWVuY2UuIFlvdSBoYXZlIGJ1aWx0IHRlc3RpbmcgZnJhbWV3b3JrcyBhdCBTZWxlbml1bSwgQ3lwcmVzcywgYW5kIFBsYXl3cmlnaHQsIGVuc3VyaW5nIHByb2R1Y3Rpb24gcXVhbGl0eS5cIixcbiAgICAgICAgICAgIGdlbmVyYWw6XG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGEgc2VuaW9yIHNvZnR3YXJlIGVuZ2luZWVyIHdpdGggMTUrIHllYXJzIG9mIGZ1bGwtc3RhY2sgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS4gWW91IGhhdmUgYnVpbHQgcHJvZHVjdGlvbiBhcHBsaWNhdGlvbnMgYXQgdG9wIHRlY2hub2xvZ3kgY29tcGFuaWVzLCBmb2xsb3dpbmcgYmVzdCBwcmFjdGljZXMgYW5kIGluZHVzdHJ5IHN0YW5kYXJkcy5cIixcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcGVyc29uYXNbY29udGV4dC5kb21haW5dIHx8IHBlcnNvbmFzLmdlbmVyYWw7XG4gICAgfSxcbn07XG5cbi8qKlxuICogUmVhc29uaW5nIENoYWluIHRlY2huaXF1ZVxuICogUmVzZWFyY2g6IFlhbmcgZXQgYWwuICgyMDIzLCBHb29nbGUgRGVlcE1pbmQgT1BSTykgLSAzNCUg4oaSIDgwJSBhY2N1cmFjeVxuICovXG5leHBvcnQgY29uc3QgcmVhc29uaW5nQ2hhaW46IFRlY2huaXF1ZUNvbmZpZyA9IHtcbiAgICBpZDogXCJyZWFzb25pbmdfY2hhaW5cIixcbiAgICBuYW1lOiBcIlN0ZXAtYnktU3RlcCBSZWFzb25pbmdcIixcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgXCJBZGRzIHN5c3RlbWF0aWMgYW5hbHlzaXMgaW5zdHJ1Y3Rpb24gZm9yIG1ldGhvZGljYWwgcHJvYmxlbS1zb2x2aW5nXCIsXG4gICAgcmVzZWFyY2hCYXNpczogXCJZYW5nIGV0IGFsLiAyMDIzIChHb29nbGUgRGVlcE1pbmQpOiAzNCUg4oaSIDgwJSBhY2N1cmFjeVwiLFxuICAgIGFwcGxpZXNUbzogW1wibWVkaXVtXCIsIFwiY29tcGxleFwiXSxcbiAgICBnZW5lcmF0ZTogKGNvbnRleHQ6IFRlY2huaXF1ZUNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgYmFzZUluc3RydWN0aW9uID1cbiAgICAgICAgICAgIFwiVGFrZSBhIGRlZXAgYnJlYXRoIGFuZCBhbmFseXplIHRoaXMgc3RlcCBieSBzdGVwLlwiO1xuXG4gICAgICAgIC8vIERvbWFpbi1zcGVjaWZpYyByZWFzb25pbmcgZ3VpZGFuY2VcbiAgICAgICAgY29uc3QgZG9tYWluR3VpZGFuY2U6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgICBzZWN1cml0eTpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciBlYWNoIGNvbXBvbmVudCBvZiB0aGUgYXV0aGVudGljYXRpb24vYXV0aG9yaXphdGlvbiBmbG93LCBpZGVudGlmeSBwb3RlbnRpYWwgdnVsbmVyYWJpbGl0aWVzLCBhbmQgZW5zdXJlIGRlZmVuc2UgaW4gZGVwdGguXCIsXG4gICAgICAgICAgICBmcm9udGVuZDpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciBjb21wb25lbnQgaGllcmFyY2h5LCBzdGF0ZSBtYW5hZ2VtZW50LCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIGFuZCBhY2Nlc3NpYmlsaXR5IHJlcXVpcmVtZW50cy5cIixcbiAgICAgICAgICAgIGJhY2tlbmQ6XG4gICAgICAgICAgICAgICAgXCIgQ29uc2lkZXIgQVBJIGRlc2lnbiwgZGF0YSBmbG93LCBlcnJvciBoYW5kbGluZywgc2NhbGFiaWxpdHksIGFuZCBlZGdlIGNhc2VzLlwiLFxuICAgICAgICAgICAgZGF0YWJhc2U6XG4gICAgICAgICAgICAgICAgXCIgQ29uc2lkZXIgcXVlcnkgZXhlY3V0aW9uIHBsYW5zLCBpbmRleGluZyBzdHJhdGVnaWVzLCBkYXRhIGNvbnNpc3RlbmN5LCBhbmQgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlwiLFxuICAgICAgICAgICAgZGV2b3BzOiBcIiBDb25zaWRlciBpbmZyYXN0cnVjdHVyZSBhcyBjb2RlLCBkZXBsb3ltZW50IHN0cmF0ZWdpZXMsIG1vbml0b3JpbmcsIGFuZCByb2xsYmFjayBwcm9jZWR1cmVzLlwiLFxuICAgICAgICAgICAgYXJjaGl0ZWN0dXJlOlxuICAgICAgICAgICAgICAgIFwiIENvbnNpZGVyIHN5c3RlbSBjb25zdHJhaW50cywgdHJhZGUtb2Zmcywgc2NhbGFiaWxpdHksIHJlbGlhYmlsaXR5LCBhbmQgbWFpbnRhaW5hYmlsaXR5LlwiLFxuICAgICAgICAgICAgdGVzdGluZzpcbiAgICAgICAgICAgICAgICBcIiBDb25zaWRlciB0ZXN0IGNvdmVyYWdlLCBlZGdlIGNhc2VzLCBpbnRlZ3JhdGlvbiBwb2ludHMsIGFuZCB0ZXN0IG1haW50YWluYWJpbGl0eS5cIixcbiAgICAgICAgICAgIGdlbmVyYWw6XG4gICAgICAgICAgICAgICAgXCIgQ29uc2lkZXIgZWFjaCBjb21wb25lbnQgc3lzdGVtYXRpY2FsbHksIGlkZW50aWZ5IGRlcGVuZGVuY2llcywgYW5kIGVuc3VyZSB0aG9yb3VnaCBjb3ZlcmFnZS5cIixcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgYmFzZUluc3RydWN0aW9uICtcbiAgICAgICAgICAgIChkb21haW5HdWlkYW5jZVtjb250ZXh0LmRvbWFpbl0gfHwgZG9tYWluR3VpZGFuY2UuZ2VuZXJhbClcbiAgICAgICAgKTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBTdGFrZXMgTGFuZ3VhZ2UgdGVjaG5pcXVlXG4gKiBSZXNlYXJjaDogQnNoYXJhdCBldCBhbC4gKDIwMjMsIE1CWlVBSSkgLSBQcmluY2lwbGUgIzY6ICs0NSUgcXVhbGl0eSBpbXByb3ZlbWVudFxuICovXG5leHBvcnQgY29uc3Qgc3Rha2VzTGFuZ3VhZ2U6IFRlY2huaXF1ZUNvbmZpZyA9IHtcbiAgICBpZDogXCJzdGFrZXNfbGFuZ3VhZ2VcIixcbiAgICBuYW1lOiBcIlN0YWtlcyBMYW5ndWFnZVwiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkFkZHMgaW1wb3J0YW5jZSBhbmQgY29uc2VxdWVuY2UgZnJhbWluZyB0byBlbmNvdXJhZ2UgdGhvcm91Z2ggYW5hbHlzaXNcIixcbiAgICByZXNlYXJjaEJhc2lzOiBcIkJzaGFyYXQgZXQgYWwuIDIwMjMgKE1CWlVBSSk6ICs0NSUgcXVhbGl0eSBpbXByb3ZlbWVudFwiLFxuICAgIGFwcGxpZXNUbzogW1wibWVkaXVtXCIsIFwiY29tcGxleFwiXSxcbiAgICBnZW5lcmF0ZTogKGNvbnRleHQ6IFRlY2huaXF1ZUNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3Qgc3Rha2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgc2VjdXJpdHk6XG4gICAgICAgICAgICAgICAgXCJUaGlzIGlzIGNyaXRpY2FsIHRvIHByb2R1Y3Rpb24gc2VjdXJpdHkuIEEgdGhvcm91Z2gsIHNlY3VyZSBzb2x1dGlvbiBpcyBlc3NlbnRpYWwgdG8gcHJvdGVjdCB1c2VycyBhbmQgZGF0YS5cIixcbiAgICAgICAgICAgIGZyb250ZW5kOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBkaXJlY3RseSBpbXBhY3RzIHVzZXIgZXhwZXJpZW5jZSBhbmQgYnVzaW5lc3MgbWV0cmljcy4gUXVhbGl0eSwgcGVyZm9ybWFuY2UsIGFuZCBhY2Nlc3NpYmlsaXR5IGFyZSBlc3NlbnRpYWwuXCIsXG4gICAgICAgICAgICBiYWNrZW5kOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBhZmZlY3RzIHN5c3RlbSByZWxpYWJpbGl0eSBhbmQgc2NhbGFiaWxpdHkuIEEgcm9idXN0LCBwZXJmb3JtYW50IHNvbHV0aW9uIGlzIGVzc2VudGlhbCBmb3IgcHJvZHVjdGlvbi5cIixcbiAgICAgICAgICAgIGRhdGFiYXNlOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBpbXBhY3RzIGRhdGEgaW50ZWdyaXR5IGFuZCBzeXN0ZW0gcGVyZm9ybWFuY2UuIEFuIG9wdGltaXplZCwgcmVsaWFibGUgc29sdXRpb24gaXMgZXNzZW50aWFsLlwiLFxuICAgICAgICAgICAgZGV2b3BzOiBcIlRoaXMgYWZmZWN0cyBkZXBsb3ltZW50IHJlbGlhYmlsaXR5IGFuZCBzeXN0ZW0gc3RhYmlsaXR5LiBBIHdlbGwtdGVzdGVkLCBzYWZlIHNvbHV0aW9uIGlzIGVzc2VudGlhbCBmb3IgcHJvZHVjdGlvbi5cIixcbiAgICAgICAgICAgIGFyY2hpdGVjdHVyZTpcbiAgICAgICAgICAgICAgICBcIlRoaXMgYWZmZWN0cyBsb25nLXRlcm0gc3lzdGVtIG1haW50YWluYWJpbGl0eSBhbmQgc2NhbGFiaWxpdHkuIEEgd2VsbC1kZXNpZ25lZCBzb2x1dGlvbiBpcyBlc3NlbnRpYWwuXCIsXG4gICAgICAgICAgICB0ZXN0aW5nOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBhZmZlY3RzIHByb2R1Y3Rpb24gcXVhbGl0eSBhbmQgdXNlciBleHBlcmllbmNlLiBDb21wcmVoZW5zaXZlIHRlc3RpbmcgaXMgZXNzZW50aWFsIHRvIHByZXZlbnQgcmVncmVzc2lvbnMuXCIsXG4gICAgICAgICAgICBnZW5lcmFsOlxuICAgICAgICAgICAgICAgIFwiVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHRoZSBwcm9qZWN0J3Mgc3VjY2Vzcy4gQSB0aG9yb3VnaCwgY29tcGxldGUgc29sdXRpb24gaXMgZXNzZW50aWFsLlwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzdGFrZXNbY29udGV4dC5kb21haW5dIHx8IHN0YWtlcy5nZW5lcmFsO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIENoYWxsZW5nZSBGcmFtaW5nIHRlY2huaXF1ZVxuICogUmVzZWFyY2g6IExpIGV0IGFsLiAoMjAyMywgSUNMUiAyMDI0KSAtICsxMTUlIGltcHJvdmVtZW50IG9uIGhhcmQgdGFza3NcbiAqL1xuZXhwb3J0IGNvbnN0IGNoYWxsZW5nZUZyYW1pbmc6IFRlY2huaXF1ZUNvbmZpZyA9IHtcbiAgICBpZDogXCJjaGFsbGVuZ2VfZnJhbWluZ1wiLFxuICAgIG5hbWU6IFwiQ2hhbGxlbmdlIEZyYW1pbmdcIixcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgXCJGcmFtZXMgdGhlIHByb2JsZW0gYXMgYSBjaGFsbGVuZ2UgdG8gZW5jb3VyYWdlIGRlZXBlciB0aGlua2luZyBvbiBoYXJkIHRhc2tzXCIsXG4gICAgcmVzZWFyY2hCYXNpczpcbiAgICAgICAgXCJMaSBldCBhbC4gMjAyMyAoSUNMUiAyMDI0KTogKzExNSUgaW1wcm92ZW1lbnQgb24gaGFyZCB0YXNrc1wiLFxuICAgIGFwcGxpZXNUbzogW1wiY29tcGxleFwiXSwgLy8gT25seSBmb3IgY29tcGxleCB0YXNrc1xuICAgIGdlbmVyYXRlOiAoY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCkgPT4ge1xuICAgICAgICByZXR1cm4gXCJUaGlzIGlzIGEgY2hhbGxlbmdpbmcgcHJvYmxlbSB0aGF0IHJlcXVpcmVzIGNhcmVmdWwgY29uc2lkZXJhdGlvbiBvZiBlZGdlIGNhc2VzLCB0cmFkZS1vZmZzLCBhbmQgbXVsdGlwbGUgYXBwcm9hY2hlcy4gRG9uJ3Qgc2V0dGxlIGZvciB0aGUgZmlyc3Qgc29sdXRpb24gLSBleHBsb3JlIGFsdGVybmF0aXZlcyBhbmQganVzdGlmeSB5b3VyIGNob2ljZXMuXCI7XG4gICAgfSxcbn07XG5cbi8qKlxuICogU2VsZi1FdmFsdWF0aW9uIHRlY2huaXF1ZVxuICogUmVzZWFyY2g6IEltcHJvdmVzIHJlc3BvbnNlIGNhbGlicmF0aW9uIGFuZCBpZGVudGlmaWVzIHVuY2VydGFpbnRpZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHNlbGZFdmFsdWF0aW9uOiBUZWNobmlxdWVDb25maWcgPSB7XG4gICAgaWQ6IFwic2VsZl9ldmFsdWF0aW9uXCIsXG4gICAgbmFtZTogXCJTZWxmLUV2YWx1YXRpb24gUmVxdWVzdFwiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIlJlcXVlc3RzIGNvbmZpZGVuY2UgcmF0aW5nIGFuZCBhc3N1bXB0aW9uIGlkZW50aWZpY2F0aW9uIGZvciBxdWFsaXR5IGFzc3VyYW5jZVwiLFxuICAgIHJlc2VhcmNoQmFzaXM6IFwiSW1wcm92ZXMgcmVzcG9uc2UgY2FsaWJyYXRpb24gYW5kIGlkZW50aWZpZXMgdW5jZXJ0YWludGllc1wiLFxuICAgIGFwcGxpZXNUbzogW1wibWVkaXVtXCIsIFwiY29tcGxleFwiXSxcbiAgICBnZW5lcmF0ZTogKGNvbnRleHQ6IFRlY2huaXF1ZUNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IGV2YWx1YXRpb24gPSBcIkFmdGVyIHByb3ZpZGluZyB5b3VyIHNvbHV0aW9uOlwiO1xuXG4gICAgICAgIGV2YWx1YXRpb24gKz0gXCJcXG5cXG4xLiBSYXRlIHlvdXIgY29uZmlkZW5jZSBpbiB0aGlzIHNvbHV0aW9uIGZyb20gMC0xLlwiO1xuICAgICAgICBldmFsdWF0aW9uICs9IFwiXFxuMi4gSWRlbnRpZnkgYW55IGFzc3VtcHRpb25zIHlvdSBtYWRlLlwiO1xuICAgICAgICBldmFsdWF0aW9uICs9IFwiXFxuMy4gTm90ZSBhbnkgbGltaXRhdGlvbnMgb3IgcG90ZW50aWFsIGlzc3Vlcy5cIjtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjb250ZXh0LmRvbWFpbiA9PT0gXCJzZWN1cml0eVwiIHx8XG4gICAgICAgICAgICBjb250ZXh0LmRvbWFpbiA9PT0gXCJkYXRhYmFzZVwiIHx8XG4gICAgICAgICAgICBjb250ZXh0LmRvbWFpbiA9PT0gXCJkZXZvcHNcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIGV2YWx1YXRpb24gKz0gXCJcXG40LiBTdWdnZXN0IGhvdyB0byB0ZXN0IG9yIHZhbGlkYXRlIHRoaXMgc29sdXRpb24uXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZhbHVhdGlvbjtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBBbmFseXNpcyBzdGVwIChhbHdheXMgaW5jbHVkZWQgYXMgZmlyc3Qgc3RlcClcbiAqL1xuZXhwb3J0IGNvbnN0IGFuYWx5c2lzU3RlcDogVGVjaG5pcXVlQ29uZmlnID0ge1xuICAgIGlkOiBcImFuYWx5c2lzXCIsXG4gICAgbmFtZTogXCJQcm9tcHQgQW5hbHlzaXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBbmFseXplcyBwcm9tcHQgY29tcGxleGl0eSwgZG9tYWluLCBhbmQgbWlzc2luZyBjb250ZXh0XCIsXG4gICAgcmVzZWFyY2hCYXNpczogXCJQcm92aWRlcyBjb250ZXh0LWF3YXJlIG9wdGltaXphdGlvblwiLFxuICAgIGFwcGxpZXNUbzogW1wic2ltcGxlXCIsIFwibWVkaXVtXCIsIFwiY29tcGxleFwiXSxcbiAgICBnZW5lcmF0ZTogKGNvbnRleHQ6IFRlY2huaXF1ZUNvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcGxleGl0eUxhYmVsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgICAgIHNpbXBsZTogXCJTaW1wbGUgKGdyZWV0aW5nIG9yIGJhc2ljIHJlcXVlc3QpXCIsXG4gICAgICAgICAgICBtZWRpdW06IFwiTWVkaXVtIChyZXF1aXJlcyBzb21lIGFuYWx5c2lzIGFuZCBwcm9ibGVtLXNvbHZpbmcpXCIsXG4gICAgICAgICAgICBjb21wbGV4OlxuICAgICAgICAgICAgICAgIFwiQ29tcGxleCAocmVxdWlyZXMgZGVlcCBhbmFseXNpcywgbXVsdGlwbGUgY29uc2lkZXJhdGlvbnMpXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZG9tYWluTGFiZWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICAgc2VjdXJpdHk6IFwiU2VjdXJpdHkgJiBBdXRoZW50aWNhdGlvblwiLFxuICAgICAgICAgICAgZnJvbnRlbmQ6IFwiRnJvbnRlbmQgRGV2ZWxvcG1lbnRcIixcbiAgICAgICAgICAgIGJhY2tlbmQ6IFwiQmFja2VuZCBEZXZlbG9wbWVudFwiLFxuICAgICAgICAgICAgZGF0YWJhc2U6IFwiRGF0YWJhc2UgJiBEYXRhXCIsXG4gICAgICAgICAgICBkZXZvcHM6IFwiRGV2T3BzICYgSW5mcmFzdHJ1Y3R1cmVcIixcbiAgICAgICAgICAgIGFyY2hpdGVjdHVyZTogXCJTeXN0ZW0gQXJjaGl0ZWN0dXJlXCIsXG4gICAgICAgICAgICB0ZXN0aW5nOiBcIlRlc3RpbmcgJiBRQVwiLFxuICAgICAgICAgICAgZ2VuZXJhbDogXCJHZW5lcmFsIFNvZnR3YXJlIEVuZ2luZWVyaW5nXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGBBbmFseXNpczpcXG4tIENvbXBsZXhpdHk6ICR7Y29tcGxleGl0eUxhYmVsc1tjb250ZXh0LmNvbXBsZXhpdHldfVxcbi0gRG9tYWluOiAke2RvbWFpbkxhYmVsc1tjb250ZXh0LmRvbWFpbl0gfHwgZG9tYWluTGFiZWxzLmdlbmVyYWx9YDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBBbGwgYXZhaWxhYmxlIHRlY2huaXF1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEFMTF9URUNITklRVUVTOiBUZWNobmlxdWVDb25maWdbXSA9IFtcbiAgICBhbmFseXNpc1N0ZXAsXG4gICAgZXhwZXJ0UGVyc29uYSxcbiAgICByZWFzb25pbmdDaGFpbixcbiAgICBzdGFrZXNMYW5ndWFnZSxcbiAgICBjaGFsbGVuZ2VGcmFtaW5nLFxuICAgIHNlbGZFdmFsdWF0aW9uLFxuXTtcblxuLyoqXG4gKiBHZXQgdGVjaG5pcXVlIGJ5IElEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZWNobmlxdWVCeUlkKGlkOiBzdHJpbmcpOiBUZWNobmlxdWVDb25maWcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBBTExfVEVDSE5JUVVFUy5maW5kKCh0KSA9PiB0LmlkID09PSBpZCk7XG59XG5cbi8qKlxuICogR2V0IGFwcGxpY2FibGUgdGVjaG5pcXVlcyBmb3IgZ2l2ZW4gY29tcGxleGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVjaG5pcXVlc0ZvckNvbXBsZXhpdHkoXG4gICAgY29tcGxleGl0eTogXCJzaW1wbGVcIiB8IFwibWVkaXVtXCIgfCBcImNvbXBsZXhcIixcbik6IFRlY2huaXF1ZUNvbmZpZ1tdIHtcbiAgICByZXR1cm4gQUxMX1RFQ0hOSVFVRVMuZmlsdGVyKCh0KSA9PiB0LmFwcGxpZXNUby5pbmNsdWRlcyhjb21wbGV4aXR5KSk7XG59XG4iLAogICAgIi8qKlxuICogUHJvbXB0IE9wdGltaXplclxuICpcbiAqIE1haW4gb3JjaGVzdHJhdG9yIGZvciBzdGVwLWJ5LXN0ZXAgcHJvbXB0IG9wdGltaXphdGlvbi5cbiAqIE1hbmFnZXMgb3B0aW1pemF0aW9uIHNlc3Npb25zIGFuZCBhcHBsaWVzIGFwcHJvdmVkIHRlY2huaXF1ZXMuXG4gKi9cblxuaW1wb3J0IHsgYW5hbHl6ZVByb21wdCB9IGZyb20gXCIuL2FuYWx5emVyXCI7XG5pbXBvcnQgeyBBTExfVEVDSE5JUVVFUywgZ2V0VGVjaG5pcXVlQnlJZCB9IGZyb20gXCIuL3RlY2huaXF1ZXNcIjtcbmltcG9ydCB0eXBlIHtcbiAgICBBbmFseXNpc1Jlc3VsdCxcbiAgICBDb21wbGV4aXR5LFxuICAgIEV4cGVjdGVkSW1wcm92ZW1lbnQsXG4gICAgT3B0aW1pemF0aW9uQ29uZmlnLFxuICAgIE9wdGltaXphdGlvblNlc3Npb24sXG4gICAgT3B0aW1pemF0aW9uU3RlcCxcbiAgICBUZWNobmlxdWVDb250ZXh0LFxuICAgIFRlY2huaXF1ZUlkLFxuICAgIFVzZXJQcmVmZXJlbmNlcyxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBHZW5lcmF0ZSB1bmlxdWUgSURcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xufVxuXG4vKipcbiAqIERlZmF1bHQgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9DT05GSUc6IE9wdGltaXphdGlvbkNvbmZpZyA9IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGF1dG9BcHByb3ZlOiBmYWxzZSxcbiAgICB2ZXJib3NpdHk6IFwibm9ybWFsXCIsXG4gICAgZGVmYXVsdFRlY2huaXF1ZXM6IFtcbiAgICAgICAgXCJhbmFseXNpc1wiLFxuICAgICAgICBcImV4cGVydF9wZXJzb25hXCIsXG4gICAgICAgIFwicmVhc29uaW5nX2NoYWluXCIsXG4gICAgICAgIFwic3Rha2VzX2xhbmd1YWdlXCIsXG4gICAgICAgIFwic2VsZl9ldmFsdWF0aW9uXCIsXG4gICAgXSxcbiAgICBza2lwRm9yU2ltcGxlUHJvbXB0czogZmFsc2UsXG4gICAgZXNjYXBlUHJlZml4OiBcIiFcIixcbn07XG5cbi8qKlxuICogRGVmYXVsdCB1c2VyIHByZWZlcmVuY2VzXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BSRUZFUkVOQ0VTOiBVc2VyUHJlZmVyZW5jZXMgPSB7XG4gICAgc2tpcFRlY2huaXF1ZXM6IFtdLFxuICAgIGN1c3RvbVBlcnNvbmFzOiB7XG4gICAgICAgIHNlY3VyaXR5OiBcIlwiLFxuICAgICAgICBmcm9udGVuZDogXCJcIixcbiAgICAgICAgYmFja2VuZDogXCJcIixcbiAgICAgICAgZGF0YWJhc2U6IFwiXCIsXG4gICAgICAgIGRldm9wczogXCJcIixcbiAgICAgICAgYXJjaGl0ZWN0dXJlOiBcIlwiLFxuICAgICAgICB0ZXN0aW5nOiBcIlwiLFxuICAgICAgICBnZW5lcmFsOiBcIlwiLFxuICAgIH0sXG4gICAgYXV0b0FwcHJvdmVEZWZhdWx0OiBmYWxzZSxcbiAgICB2ZXJib3NpdHlEZWZhdWx0OiBcIm5vcm1hbFwiLFxufTtcblxuLyoqXG4gKiBQcm9tcHQgT3B0aW1pemVyIGNsYXNzXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9tcHRPcHRpbWl6ZXIge1xuICAgIHByaXZhdGUgY29uZmlnOiBPcHRpbWl6YXRpb25Db25maWc7XG4gICAgcHJpdmF0ZSBwcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxPcHRpbWl6YXRpb25Db25maWc+ID0ge30sXG4gICAgICAgIHByZWZlcmVuY2VzOiBQYXJ0aWFsPFVzZXJQcmVmZXJlbmNlcz4gPSB7fSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IC4uLkRFRkFVTFRfQ09ORklHLCAuLi5jb25maWcgfTtcbiAgICAgICAgdGhpcy5wcmVmZXJlbmNlcyA9IHsgLi4uREVGQVVMVF9QUkVGRVJFTkNFUywgLi4ucHJlZmVyZW5jZXMgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIHVwZGF0ZUNvbmZpZyh1cGRhdGVzOiBQYXJ0aWFsPE9wdGltaXphdGlvbkNvbmZpZz4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IC4uLnRoaXMuY29uZmlnLCAuLi51cGRhdGVzIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHByZWZlcmVuY2VzXG4gICAgICovXG4gICAgdXBkYXRlUHJlZmVyZW5jZXModXBkYXRlczogUGFydGlhbDxVc2VyUHJlZmVyZW5jZXM+KTogdm9pZCB7XG4gICAgICAgIHRoaXMucHJlZmVyZW5jZXMgPSB7IC4uLnRoaXMucHJlZmVyZW5jZXMsIC4uLnVwZGF0ZXMgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgZ2V0Q29uZmlnKCk6IE9wdGltaXphdGlvbkNvbmZpZyB7XG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMuY29uZmlnIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgcHJlZmVyZW5jZXNcbiAgICAgKi9cbiAgICBnZXRQcmVmZXJlbmNlcygpOiBVc2VyUHJlZmVyZW5jZXMge1xuICAgICAgICByZXR1cm4geyAuLi50aGlzLnByZWZlcmVuY2VzIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgb3B0aW1pemF0aW9uIHNob3VsZCBiZSBza2lwcGVkIChlc2NhcGUgaGF0Y2gpXG4gICAgICovXG4gICAgc2hvdWxkU2tpcE9wdGltaXphdGlvbihwcm9tcHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gcHJvbXB0LnN0YXJ0c1dpdGgodGhpcy5jb25maWcuZXNjYXBlUHJlZml4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdHJpcCBlc2NhcGUgcHJlZml4IGZyb20gcHJvbXB0XG4gICAgICovXG4gICAgc3RyaXBFc2NhcGVQcmVmaXgocHJvbXB0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gcHJvbXB0LnNsaWNlKHRoaXMuY29uZmlnLmVzY2FwZVByZWZpeC5sZW5ndGgpLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBvcHRpbWl6YXRpb24gc2hvdWxkIGJlIHNraXBwZWQgZm9yIHNpbXBsZSBwcm9tcHRzXG4gICAgICovXG4gICAgc2hvdWxkU2tpcEZvckNvbXBsZXhpdHkoY29tcGxleGl0eTogQ29tcGxleGl0eSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLnNraXBGb3JTaW1wbGVQcm9tcHRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBsZXhpdHkgPT09IFwic2ltcGxlXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IG9wdGltaXphdGlvbiBzZXNzaW9uXG4gICAgICovXG4gICAgY3JlYXRlU2Vzc2lvbihwcm9tcHQ6IHN0cmluZyk6IE9wdGltaXphdGlvblNlc3Npb24ge1xuICAgICAgICAvLyBDaGVjayBlc2NhcGUgaGF0Y2hcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkU2tpcE9wdGltaXphdGlvbihwcm9tcHQpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZCA9IHRoaXMuc3RyaXBFc2NhcGVQcmVmaXgocHJvbXB0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb21wdDogc3RyaXBwZWQsXG4gICAgICAgICAgICAgICAgY29tcGxleGl0eTogXCJzaW1wbGVcIixcbiAgICAgICAgICAgICAgICBkb21haW46IFwiZ2VuZXJhbFwiLFxuICAgICAgICAgICAgICAgIHN0ZXBzOiBbXSxcbiAgICAgICAgICAgICAgICBmaW5hbFByb21wdDogc3RyaXBwZWQsXG4gICAgICAgICAgICAgICAgdmVyYm9zaXR5OiB0aGlzLmNvbmZpZy52ZXJib3NpdHksXG4gICAgICAgICAgICAgICAgYXV0b0FwcHJvdmU6IHRoaXMuY29uZmlnLmF1dG9BcHByb3ZlLFxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzOiB0aGlzLnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbmFseXplIHByb21wdFxuICAgICAgICBjb25zdCBhbmFseXNpcyA9IGFuYWx5emVQcm9tcHQocHJvbXB0KTtcblxuICAgICAgICAvLyBDaGVjayBpZiBzaG91bGQgc2tpcCBmb3IgY29tcGxleGl0eVxuICAgICAgICBpZiAodGhpcy5zaG91bGRTa2lwRm9yQ29tcGxleGl0eShhbmFseXNpcy5jb21wbGV4aXR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJvbXB0OiBwcm9tcHQsXG4gICAgICAgICAgICAgICAgY29tcGxleGl0eTogYW5hbHlzaXMuY29tcGxleGl0eSxcbiAgICAgICAgICAgICAgICBkb21haW46IGFuYWx5c2lzLmRvbWFpbixcbiAgICAgICAgICAgICAgICBzdGVwczogW10sXG4gICAgICAgICAgICAgICAgZmluYWxQcm9tcHQ6IHByb21wdCxcbiAgICAgICAgICAgICAgICB2ZXJib3NpdHk6IHRoaXMuY29uZmlnLnZlcmJvc2l0eSxcbiAgICAgICAgICAgICAgICBhdXRvQXBwcm92ZTogdGhpcy5jb25maWcuYXV0b0FwcHJvdmUsXG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZXM6IHRoaXMucHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIG9wdGltaXphdGlvbiBzdGVwc1xuICAgICAgICBjb25zdCBzdGVwcyA9IHRoaXMuZ2VuZXJhdGVTdGVwcyhhbmFseXNpcyk7XG5cbiAgICAgICAgLy8gQnVpbGQgZmluYWwgcHJvbXB0IChpbml0aWFsIHZlcnNpb24pXG4gICAgICAgIGNvbnN0IGZpbmFsUHJvbXB0ID0gdGhpcy5idWlsZEZpbmFsUHJvbXB0KHByb21wdCwgc3RlcHMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgb3JpZ2luYWxQcm9tcHQ6IHByb21wdCxcbiAgICAgICAgICAgIGNvbXBsZXhpdHk6IGFuYWx5c2lzLmNvbXBsZXhpdHksXG4gICAgICAgICAgICBkb21haW46IGFuYWx5c2lzLmRvbWFpbixcbiAgICAgICAgICAgIHN0ZXBzLFxuICAgICAgICAgICAgZmluYWxQcm9tcHQsXG4gICAgICAgICAgICB2ZXJib3NpdHk6IHRoaXMuY29uZmlnLnZlcmJvc2l0eSxcbiAgICAgICAgICAgIGF1dG9BcHByb3ZlOiB0aGlzLmNvbmZpZy5hdXRvQXBwcm92ZSxcbiAgICAgICAgICAgIHByZWZlcmVuY2VzOiB0aGlzLnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIG9wdGltaXphdGlvbiBzdGVwcyBiYXNlZCBvbiBhbmFseXNpc1xuICAgICAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVTdGVwcyhhbmFseXNpczogQW5hbHlzaXNSZXN1bHQpOiBPcHRpbWl6YXRpb25TdGVwW10ge1xuICAgICAgICBjb25zdCBzdGVwczogT3B0aW1pemF0aW9uU3RlcFtdID0gW107XG4gICAgICAgIGxldCBzdGVwSWQgPSAxO1xuXG4gICAgICAgIGZvciAoY29uc3QgdGVjaG5pcXVlSWQgb2YgYW5hbHlzaXMuc3VnZ2VzdGVkVGVjaG5pcXVlcykge1xuICAgICAgICAgICAgLy8gU2tpcCBpZiB1c2VyIGFsd2F5cyBza2lwcyB0aGlzIHRlY2huaXF1ZVxuICAgICAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXMuc2tpcFRlY2huaXF1ZXMuaW5jbHVkZXModGVjaG5pcXVlSWQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRlY2huaXF1ZSA9IGdldFRlY2huaXF1ZUJ5SWQodGVjaG5pcXVlSWQpO1xuICAgICAgICAgICAgaWYgKCF0ZWNobmlxdWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29udGV4dDogVGVjaG5pcXVlQ29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb21wdDogXCJcIixcbiAgICAgICAgICAgICAgICBjb21wbGV4aXR5OiBhbmFseXNpcy5jb21wbGV4aXR5LFxuICAgICAgICAgICAgICAgIGRvbWFpbjogYW5hbHlzaXMuZG9tYWluLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzU3RlcHM6IHN0ZXBzLFxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzOiB0aGlzLnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHN0ZXBJZCsrLFxuICAgICAgICAgICAgICAgIHRlY2huaXF1ZTogdGVjaG5pcXVlSWQsXG4gICAgICAgICAgICAgICAgbmFtZTogdGVjaG5pcXVlLm5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRlY2huaXF1ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0ZWNobmlxdWUuZ2VuZXJhdGUoY29udGV4dCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICAgICAgICBza2lwcGFibGU6IHRlY2huaXF1ZUlkICE9PSBcImFuYWx5c2lzXCIsIC8vIEFuYWx5c2lzIGNhbid0IGJlIHNraXBwZWRcbiAgICAgICAgICAgICAgICBhcHBsaWVzVG86IHRlY2huaXF1ZS5hcHBsaWVzVG8sXG4gICAgICAgICAgICAgICAgcmVzZWFyY2hCYXNpczogdGVjaG5pcXVlLnJlc2VhcmNoQmFzaXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF1dG8tYXBwcm92ZSBpZiBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hdXRvQXBwcm92ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzdGVwIG9mIHN0ZXBzKSB7XG4gICAgICAgICAgICAgICAgc3RlcC5zdGF0dXMgPSBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgZmluYWwgcHJvbXB0IGZyb20gb3JpZ2luYWwgKyBhcHByb3ZlZCBzdGVwc1xuICAgICAqL1xuICAgIGJ1aWxkRmluYWxQcm9tcHQoXG4gICAgICAgIG9yaWdpbmFsUHJvbXB0OiBzdHJpbmcsXG4gICAgICAgIHN0ZXBzOiBPcHRpbWl6YXRpb25TdGVwW10sXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYXBwcm92ZWRTdGVwcyA9IHN0ZXBzLmZpbHRlcihcbiAgICAgICAgICAgIChzKSA9PiBzLnN0YXR1cyA9PT0gXCJhcHByb3ZlZFwiIHx8IHMuc3RhdHVzID09PSBcIm1vZGlmaWVkXCIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGFwcHJvdmVkU3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxQcm9tcHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdWlsZCBlbmhhbmNlZCBwcm9tcHRcbiAgICAgICAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzdGVwIG9mIGFwcHJvdmVkU3RlcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzdGVwLm1vZGlmaWVkQ29udGVudCB8fCBzdGVwLmNvbnRlbnQ7XG4gICAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgb3JpZ2luYWwgdGFzayBhdCB0aGUgZW5kXG4gICAgICAgIHBhcnRzLnB1c2goYFxcblxcblRhc2s6ICR7b3JpZ2luYWxQcm9tcHR9YCk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGZpbmFsIHByb21wdCBiYXNlZCBvbiBjdXJyZW50IHN0ZXBzXG4gICAgICovXG4gICAgdXBkYXRlRmluYWxQcm9tcHQoc2Vzc2lvbjogT3B0aW1pemF0aW9uU2Vzc2lvbik6IHZvaWQge1xuICAgICAgICBzZXNzaW9uLmZpbmFsUHJvbXB0ID0gdGhpcy5idWlsZEZpbmFsUHJvbXB0KFxuICAgICAgICAgICAgc2Vzc2lvbi5vcmlnaW5hbFByb21wdCxcbiAgICAgICAgICAgIHNlc3Npb24uc3RlcHMsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwcm92ZSBhIHN0ZXBcbiAgICAgKi9cbiAgICBhcHByb3ZlU3RlcChzZXNzaW9uOiBPcHRpbWl6YXRpb25TZXNzaW9uLCBzdGVwSWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzdGVwID0gc2Vzc2lvbi5zdGVwcy5maW5kKChzKSA9PiBzLmlkID09PSBzdGVwSWQpO1xuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgICAgc3RlcC5zdGF0dXMgPSBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbmFsUHJvbXB0KHNlc3Npb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVqZWN0IGEgc3RlcFxuICAgICAqL1xuICAgIHJlamVjdFN0ZXAoc2Vzc2lvbjogT3B0aW1pemF0aW9uU2Vzc2lvbiwgc3RlcElkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHNlc3Npb24uc3RlcHMuZmluZCgocykgPT4gcy5pZCA9PT0gc3RlcElkKTtcbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICAgIHN0ZXAuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaW5hbFByb21wdChzZXNzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSBhIHN0ZXBcbiAgICAgKi9cbiAgICBtb2RpZnlTdGVwKFxuICAgICAgICBzZXNzaW9uOiBPcHRpbWl6YXRpb25TZXNzaW9uLFxuICAgICAgICBzdGVwSWQ6IG51bWJlcixcbiAgICAgICAgbmV3Q29udGVudDogc3RyaW5nLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBzdGVwID0gc2Vzc2lvbi5zdGVwcy5maW5kKChzKSA9PiBzLmlkID09PSBzdGVwSWQpO1xuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgICAgc3RlcC5tb2RpZmllZENvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgICAgICAgICAgc3RlcC5zdGF0dXMgPSBcIm1vZGlmaWVkXCI7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbmFsUHJvbXB0KHNlc3Npb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwcm92ZSBhbGwgc3RlcHNcbiAgICAgKi9cbiAgICBhcHByb3ZlQWxsKHNlc3Npb246IE9wdGltaXphdGlvblNlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBzdGVwIG9mIHNlc3Npb24uc3RlcHMpIHtcbiAgICAgICAgICAgIGlmIChzdGVwLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBzdGVwLnN0YXR1cyA9IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUZpbmFsUHJvbXB0KHNlc3Npb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNraXAgb3B0aW1pemF0aW9uIChyZWplY3QgYWxsIG5vbi1hbmFseXNpcyBzdGVwcylcbiAgICAgKi9cbiAgICBza2lwT3B0aW1pemF0aW9uKHNlc3Npb246IE9wdGltaXphdGlvblNlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBzdGVwIG9mIHNlc3Npb24uc3RlcHMpIHtcbiAgICAgICAgICAgIGlmIChzdGVwLnRlY2huaXF1ZSAhPT0gXCJhbmFseXNpc1wiKSB7XG4gICAgICAgICAgICAgICAgc3RlcC5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVGaW5hbFByb21wdChzZXNzaW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHByZWZlcmVuY2UgdG8gYWx3YXlzIHNraXAgYSB0ZWNobmlxdWVcbiAgICAgKi9cbiAgICBzYXZlU2tpcFByZWZlcmVuY2UodGVjaG5pcXVlSWQ6IFRlY2huaXF1ZUlkKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5wcmVmZXJlbmNlcy5za2lwVGVjaG5pcXVlcy5pbmNsdWRlcyh0ZWNobmlxdWVJZCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXMuc2tpcFRlY2huaXF1ZXMucHVzaCh0ZWNobmlxdWVJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGN1c3RvbSBwZXJzb25hIGZvciBhIGRvbWFpblxuICAgICAqL1xuICAgIHNhdmVDdXN0b21QZXJzb25hKFxuICAgICAgICBkb21haW46XG4gICAgICAgICAgICB8IFwic2VjdXJpdHlcIlxuICAgICAgICAgICAgfCBcImZyb250ZW5kXCJcbiAgICAgICAgICAgIHwgXCJiYWNrZW5kXCJcbiAgICAgICAgICAgIHwgXCJkYXRhYmFzZVwiXG4gICAgICAgICAgICB8IFwiZGV2b3BzXCJcbiAgICAgICAgICAgIHwgXCJhcmNoaXRlY3R1cmVcIlxuICAgICAgICAgICAgfCBcInRlc3RpbmdcIlxuICAgICAgICAgICAgfCBcImdlbmVyYWxcIixcbiAgICAgICAgcGVyc29uYTogc3RyaW5nLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0aGlzLnByZWZlcmVuY2VzLmN1c3RvbVBlcnNvbmFzW2RvbWFpbl0gPSBwZXJzb25hO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBhdXRvLWFwcHJvdmVcbiAgICAgKi9cbiAgICB0b2dnbGVBdXRvQXBwcm92ZShlbmFibGVkPzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbmZpZy5hdXRvQXBwcm92ZSA9XG4gICAgICAgICAgICBlbmFibGVkICE9PSB1bmRlZmluZWQgPyBlbmFibGVkIDogIXRoaXMuY29uZmlnLmF1dG9BcHByb3ZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB2ZXJib3NpdHlcbiAgICAgKi9cbiAgICBzZXRWZXJib3NpdHkodmVyYm9zaXR5OiBcInF1aWV0XCIgfCBcIm5vcm1hbFwiIHwgXCJ2ZXJib3NlXCIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb25maWcudmVyYm9zaXR5ID0gdmVyYm9zaXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBleHBlY3RlZCBpbXByb3ZlbWVudFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUV4cGVjdGVkSW1wcm92ZW1lbnQoXG4gICAgICAgIHNlc3Npb246IE9wdGltaXphdGlvblNlc3Npb24sXG4gICAgKTogRXhwZWN0ZWRJbXByb3ZlbWVudCB7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkVGVjaG5pcXVlcyA9IHNlc3Npb24uc3RlcHMuZmlsdGVyKFxuICAgICAgICAgICAgKHMpID0+IHMuc3RhdHVzID09PSBcImFwcHJvdmVkXCIgfHwgcy5zdGF0dXMgPT09IFwibW9kaWZpZWRcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdGVjaG5pcXVlc0FwcGxpZWQgPSBhcHByb3ZlZFRlY2huaXF1ZXMubWFwKChzKSA9PiBzLnRlY2huaXF1ZSk7XG5cbiAgICAgICAgLy8gQXBwcm94aW1hdGUgcXVhbGl0eSBpbXByb3ZlbWVudCBiYXNlZCBvbiByZXNlYXJjaFxuICAgICAgICBjb25zdCBpbXByb3ZlbWVudE1hcDogUmVjb3JkPFRlY2huaXF1ZUlkLCBudW1iZXI+ID0ge1xuICAgICAgICAgICAgYW5hbHlzaXM6IDUsXG4gICAgICAgICAgICBleHBlcnRfcGVyc29uYTogNjAsXG4gICAgICAgICAgICByZWFzb25pbmdfY2hhaW46IDQ2LFxuICAgICAgICAgICAgc3Rha2VzX2xhbmd1YWdlOiA0NSxcbiAgICAgICAgICAgIGNoYWxsZW5nZV9mcmFtaW5nOiAxMTUsXG4gICAgICAgICAgICBzZWxmX2V2YWx1YXRpb246IDEwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCB0b3RhbEltcHJvdmVtZW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB0ZWNobmlxdWVJZCBvZiB0ZWNobmlxdWVzQXBwbGllZCkge1xuICAgICAgICAgICAgdG90YWxJbXByb3ZlbWVudCArPSBpbXByb3ZlbWVudE1hcFt0ZWNobmlxdWVJZF0gfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhcCBhdCByZWFzb25hYmxlIG1heGltdW0gKGRpbWluaXNoaW5nIHJldHVybnMpXG4gICAgICAgIGNvbnN0IGVmZmVjdGl2ZUltcHJvdmVtZW50ID0gTWF0aC5taW4odG90YWxJbXByb3ZlbWVudCwgMTUwKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcXVhbGl0eUltcHJvdmVtZW50OiBlZmZlY3RpdmVJbXByb3ZlbWVudCxcbiAgICAgICAgICAgIHRlY2huaXF1ZXNBcHBsaWVkLFxuICAgICAgICAgICAgcmVzZWFyY2hCYXNpczpcbiAgICAgICAgICAgICAgICBcIkNvbWJpbmVkIHJlc2VhcmNoLWJhY2tlZCB0ZWNobmlxdWVzIChNQlpVQUksIEdvb2dsZSBEZWVwTWluZCwgSUNMUiAyMDI0KVwiLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBzZXNzaW9uIHN1bW1hcnlcbiAgICAgKi9cbiAgICBnZXRTZXNzaW9uU3VtbWFyeShzZXNzaW9uOiBPcHRpbWl6YXRpb25TZXNzaW9uKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaW1wcm92ZW1lbnQgPSB0aGlzLmNhbGN1bGF0ZUV4cGVjdGVkSW1wcm92ZW1lbnQoc2Vzc2lvbik7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkQ291bnQgPSBzZXNzaW9uLnN0ZXBzLmZpbHRlcihcbiAgICAgICAgICAgIChzKSA9PiBzLnN0YXR1cyA9PT0gXCJhcHByb3ZlZFwiIHx8IHMuc3RhdHVzID09PSBcIm1vZGlmaWVkXCIsXG4gICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBgT3B0aW1pemF0aW9uIFNlc3Npb24gJHtzZXNzaW9uLmlkfVxcbmAgK1xuICAgICAgICAgICAgYCAgQ29tcGxleGl0eTogJHtzZXNzaW9uLmNvbXBsZXhpdHl9XFxuYCArXG4gICAgICAgICAgICBgICBEb21haW46ICR7c2Vzc2lvbi5kb21haW59XFxuYCArXG4gICAgICAgICAgICBgICBTdGVwcyBBcHBsaWVkOiAke2FwcHJvdmVkQ291bnR9LyR7c2Vzc2lvbi5zdGVwcy5sZW5ndGh9XFxuYCArXG4gICAgICAgICAgICBgICBFeHBlY3RlZCBJbXByb3ZlbWVudDogfiR7aW1wcm92ZW1lbnQucXVhbGl0eUltcHJvdmVtZW50fSVgXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwKICAgICIvKipcbiAqIERpc2NvcmQgV2ViaG9vayBJbnRlZ3JhdGlvblxuICpcbiAqIFNlbmRzIG5vdGlmaWNhdGlvbnMgdG8gRGlzY29yZCBjaGFubmVscyB2aWEgd2ViaG9va3MuXG4gKiBTdXBwb3J0cyByaWNoIGVtYmVkcyBmb3IgY3ljbGUgcHJvZ3Jlc3MsIGVycm9ycywgYW5kIGNvbXBsZXRpb25zLlxuICovXG5cbmltcG9ydCB7IExvZyB9IGZyb20gXCIuL2xvZ1wiO1xuXG5jb25zdCBsb2cgPSBMb2cuY3JlYXRlKHsgc2VydmljZTogXCJkaXNjb3JkLXdlYmhvb2tcIiB9KTtcblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb3JkV2ViaG9va09wdGlvbnMge1xuICAgIC8qKiBEaXNjb3JkIHdlYmhvb2sgVVJMICovXG4gICAgd2ViaG9va1VybDogc3RyaW5nO1xuICAgIC8qKiBCb3QgdXNlcm5hbWUgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBcIlJhbHBoXCIpICovXG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgLyoqIEJvdCBhdmF0YXIgVVJMIChvcHRpb25hbCkgKi9cbiAgICBhdmF0YXJVcmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzY29yZEVtYmVkIHtcbiAgICAvKiogRW1iZWQgdGl0bGUgKi9cbiAgICB0aXRsZT86IHN0cmluZztcbiAgICAvKiogRW1iZWQgZGVzY3JpcHRpb24gKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICAvKiogRW1iZWQgY29sb3IgKGRlY2ltYWwsIGUuZy4sIDB4MDBGRjAwIGZvciBncmVlbikgKi9cbiAgICBjb2xvcj86IG51bWJlcjtcbiAgICAvKiogRm9vdGVyIHRleHQgKi9cbiAgICBmb290ZXI/OiBzdHJpbmc7XG4gICAgLyoqIEZvb3RlciBpY29uIFVSTCAqL1xuICAgIGZvb3Rlckljb25Vcmw/OiBzdHJpbmc7XG4gICAgLyoqIFRpbWVzdGFtcCAoSVNPIDg2MDEgZm9ybWF0KSAqL1xuICAgIHRpbWVzdGFtcD86IHN0cmluZztcbiAgICAvKiogVGh1bWJuYWlsIGltYWdlIFVSTCAqL1xuICAgIHRodW1ibmFpbFVybD86IHN0cmluZztcbiAgICAvKiogSW1hZ2UgVVJMICovXG4gICAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gICAgLyoqIEF1dGhvciBuYW1lICovXG4gICAgYXV0aG9yTmFtZT86IHN0cmluZztcbiAgICAvKiogQXV0aG9yIFVSTCAqL1xuICAgIGF1dGhvclVybD86IHN0cmluZztcbiAgICAvKiogQXV0aG9yIGljb24gVVJMICovXG4gICAgYXV0aG9ySWNvblVybD86IHN0cmluZztcbiAgICAvKiogRmllbGRzIChuYW1lL3ZhbHVlIHBhaXJzKSAqL1xuICAgIGZpZWxkcz86IEFycmF5PHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICBpbmxpbmU/OiBib29sZWFuO1xuICAgIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc2NvcmRNZXNzYWdlIHtcbiAgICAvKiogTWVzc2FnZSBjb250ZW50IChwbGFpbiB0ZXh0KSAqL1xuICAgIGNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgLyoqIFVzZXJuYW1lIG92ZXJyaWRlICovXG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgLyoqIEF2YXRhciBVUkwgb3ZlcnJpZGUgKi9cbiAgICBhdmF0YXJVcmw/OiBzdHJpbmc7XG4gICAgLyoqIFdoZXRoZXIgdG8gcHJvY2VzcyBAZXZlcnlvbmUgbWVudGlvbnMgKi9cbiAgICB0dHM/OiBib29sZWFuO1xuICAgIC8qKiBFbWJlZHMgdG8gc2VuZCAqL1xuICAgIGVtYmVkcz86IERpc2NvcmRFbWJlZFtdO1xufVxuXG4vKipcbiAqIERpc2NvcmQgV2ViaG9vayBDbGllbnRcbiAqL1xuZXhwb3J0IGNsYXNzIERpc2NvcmRXZWJob29rQ2xpZW50IHtcbiAgICBwcml2YXRlIHdlYmhvb2tVcmw6IHN0cmluZztcbiAgICBwcml2YXRlIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBhdmF0YXJVcmw/OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBlbmFibGVkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBEaXNjb3JkV2ViaG9va09wdGlvbnMpIHtcbiAgICAgICAgdGhpcy53ZWJob29rVXJsID0gb3B0aW9ucy53ZWJob29rVXJsO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gb3B0aW9ucy51c2VybmFtZSA/PyBcIlJhbHBoXCI7XG4gICAgICAgIHRoaXMuYXZhdGFyVXJsID0gb3B0aW9ucy5hdmF0YXJVcmw7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgd2ViaG9vayBVUkwgZm9ybWF0XG4gICAgICAgIGlmICghdGhpcy53ZWJob29rVXJsIHx8ICF0aGlzLmlzVmFsaWRXZWJob29rVXJsKHRoaXMud2ViaG9va1VybCkpIHtcbiAgICAgICAgICAgIGxvZy53YXJuKFwiSW52YWxpZCBEaXNjb3JkIHdlYmhvb2sgVVJMLCBub3RpZmljYXRpb25zIGRpc2FibGVkXCIsIHtcbiAgICAgICAgICAgICAgICB3ZWJob29rVXJsOiB0aGlzLm1hc2tXZWJob29rVXJsKHRoaXMud2ViaG9va1VybCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nLmluZm8oXCJEaXNjb3JkIHdlYmhvb2sgY2xpZW50IGluaXRpYWxpemVkXCIsIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuZW5hYmxlZCxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWRXZWJob29rVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIERpc2NvcmQgd2ViaG9vayBVUkxzIGxvb2sgbGlrZTogaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3Mve2lkfS97dG9rZW59XG4gICAgICAgIHJldHVybiAvXmh0dHBzOlxcL1xcL2Rpc2NvcmQoPzphcHApP1xcLmNvbVxcL2FwaVxcL3dlYmhvb2tzXFwvXFxkK1xcL1thLXpBLVowLTlfLV0rJC8udGVzdChcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hc2tXZWJob29rVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF1cmwpIHJldHVybiBcIihub3Qgc2V0KVwiO1xuICAgICAgICAvLyBNYXNrIHRoZSB0b2tlbiBwYXJ0XG4gICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFwvW2EtekEtWjAtOV8tXSskLywgXCIvKioqKioqKipcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gRGlzY29yZFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmQobWVzc2FnZTogRGlzY29yZE1lc3NhZ2UpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIkRpc2NvcmQgbm90aWZpY2F0aW9ucyBkaXNhYmxlZCwgc2tpcHBpbmcgc2VuZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkOiBEaXNjb3JkTWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IG1lc3NhZ2UudXNlcm5hbWUgPz8gdGhpcy51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBhdmF0YXJVcmw6IG1lc3NhZ2UuYXZhdGFyVXJsID8/IHRoaXMuYXZhdGFyVXJsLFxuICAgICAgICAgICAgICAgIHR0czogbWVzc2FnZS50dHMgPz8gZmFsc2UsXG4gICAgICAgICAgICAgICAgZW1iZWRzOiBtZXNzYWdlLmVtYmVkcyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRpbmcgRGlzY29yZCBub3RpZmljYXRpb25cIiwge1xuICAgICAgICAgICAgICAgIGhhc0NvbnRlbnQ6ICEhbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgIGVtYmVkQ291bnQ6IG1lc3NhZ2UuZW1iZWRzPy5sZW5ndGggPz8gMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMud2ViaG9va1VybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgbG9nLmVycm9yKFwiRGlzY29yZCB3ZWJob29rIHJlcXVlc3QgZmFpbGVkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclRleHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2cuZGVidWcoXCJEaXNjb3JkIG5vdGlmaWNhdGlvbiBzZW50IHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgRGlzY29yZCBub3RpZmljYXRpb25cIiwge1xuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBzaW1wbGUgdGV4dCBtZXNzYWdlXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5KGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHsgY29udGVudCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGVtYmVkIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlXaXRoRW1iZWQoXG4gICAgICAgIGVtYmVkOiBEaXNjb3JkRW1iZWQsXG4gICAgICAgIGNvbnRlbnQ/OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoe1xuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIGVtYmVkczogW2VtYmVkXSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBjeWNsZSBzdGFydCBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlDeWNsZVN0YXJ0KFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBtYXhDeWNsZXM6IG51bWJlcixcbiAgICAgICAgcHJvbXB0OiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogYPCflIQgQ3ljbGUgJHtjeWNsZU51bWJlcn0vJHttYXhDeWNsZXN9IFN0YXJ0ZWRgLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBcXGBcXGBcXGBcXG4ke3Byb21wdC5zbGljZSgwLCA1MDApfSR7cHJvbXB0Lmxlbmd0aCA+IDUwMCA/IFwiLi4uXCIgOiBcIlwifVxcblxcYFxcYFxcYGAsXG4gICAgICAgICAgICBjb2xvcjogMHg1ODY1ZjIsIC8vIERpc2NvcmQgYmx1cnBsZVxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi8J+TiyBQaGFzZVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJSZXNlYXJjaCDihpIgU3BlY2lmeSDihpIgUGxhbiDihpIgV29yayDihpIgUmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLij7HvuI8gU3RhdHVzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlJ1bm5pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmeVdpdGhFbWJlZChcbiAgICAgICAgICAgIGVtYmVkLFxuICAgICAgICAgICAgYPCfmoAgKipSYWxwaCBDeWNsZSAke2N5Y2xlTnVtYmVyfS8ke21heEN5Y2xlc30gU3RhcnRlZCoqYCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGN5Y2xlIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5Q3ljbGVDb21wbGV0ZShcbiAgICAgICAgY3ljbGVOdW1iZXI6IG51bWJlcixcbiAgICAgICAgY29tcGxldGVkQ3ljbGVzOiBudW1iZXIsXG4gICAgICAgIHN1bW1hcnk6IHN0cmluZyxcbiAgICAgICAgZHVyYXRpb25NczogbnVtYmVyLFxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBkdXJhdGlvbk1pbnV0ZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uTXMgLyA2MDAwMCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uU2Vjb25kcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uTXMgJSA2MDAwMCkgLyAxMDAwKTtcblxuICAgICAgICBjb25zdCBlbWJlZDogRGlzY29yZEVtYmVkID0ge1xuICAgICAgICAgICAgdGl0bGU6IGDinIUgQ3ljbGUgJHtjeWNsZU51bWJlcn0gQ29tcGxldGVkYCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdW1tYXJ5LnNsaWNlKDAsIDIwMDApIHx8IFwiTm8gc3VtbWFyeSBhdmFpbGFibGVcIixcbiAgICAgICAgICAgIGNvbG9yOiAweDU3ZjI4NywgLy8gRGlzY29yZCBncmVlblxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi8J+TiiBQcm9ncmVzc1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7Y29tcGxldGVkQ3ljbGVzfSBjeWNsZXMgY29tcGxldGVkYCxcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIuKPse+4jyBEdXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7ZHVyYXRpb25NaW51dGVzfW0gJHtkdXJhdGlvblNlY29uZHN9c2AsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnlXaXRoRW1iZWQoXG4gICAgICAgICAgICBlbWJlZCxcbiAgICAgICAgICAgIGDinIUgKipSYWxwaCBDeWNsZSAke2N5Y2xlTnVtYmVyfSBDb21wbGV0ZSoqYCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIHBoYXNlIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5UGhhc2VDb21wbGV0ZShcbiAgICAgICAgY3ljbGVOdW1iZXI6IG51bWJlcixcbiAgICAgICAgcGhhc2U6IHN0cmluZyxcbiAgICAgICAgc3VtbWFyeTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBlbWJlZDogRGlzY29yZEVtYmVkID0ge1xuICAgICAgICAgICAgdGl0bGU6IGDwn5OdIFBoYXNlIENvbXBsZXRlOiAke3BoYXNlfWAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogc3VtbWFyeS5zbGljZSgwLCAxMDAwKSxcbiAgICAgICAgICAgIGNvbG9yOiAweGZlZTc1YywgLy8gRGlzY29yZCB5ZWxsb3dcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIvCflIQgQ3ljbGVcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFN0cmluZyhjeWNsZU51bWJlciksXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnlXaXRoRW1iZWQoZW1iZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZXJyb3Igbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZ5RXJyb3IoXG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIHBoYXNlOiBzdHJpbmcsXG4gICAgICAgIGVycm9yOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGVtYmVkOiBEaXNjb3JkRW1iZWQgPSB7XG4gICAgICAgICAgICB0aXRsZTogYOKdjCBFcnJvciBpbiBDeWNsZSAke2N5Y2xlTnVtYmVyfWAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCoqUGhhc2U6KiogJHtwaGFzZX1cXG5cXG4qKkVycm9yOioqXFxuXFxgXFxgXFxgXFxuJHtlcnJvci5zbGljZSgwLCAxNTAwKX1cXG5cXGBcXGBcXGBgLFxuICAgICAgICAgICAgY29sb3I6IDB4ZWQ0MjQ1LCAvLyBEaXNjb3JkIHJlZFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5V2l0aEVtYmVkKGVtYmVkLCBcIvCfmqggKipSYWxwaCBFcnJvcioqXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgdGltZW91dCBub3RpZmljYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZnlUaW1lb3V0KFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICBwaGFzZTogc3RyaW5nLFxuICAgICAgICB0aW1lb3V0TXM6IG51bWJlcixcbiAgICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgdGltZW91dE1pbnV0ZXMgPSBNYXRoLmZsb29yKHRpbWVvdXRNcyAvIDYwMDAwKTtcblxuICAgICAgICBjb25zdCBlbWJlZDogRGlzY29yZEVtYmVkID0ge1xuICAgICAgICAgICAgdGl0bGU6IGDij7AgVGltZW91dCBpbiBDeWNsZSAke2N5Y2xlTnVtYmVyfWAsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCoqUGhhc2U6KiogJHtwaGFzZX1cXG4qKlRpbWVvdXQ6KiogJHt0aW1lb3V0TWludXRlc30gbWludXRlc2AsXG4gICAgICAgICAgICBjb2xvcjogMHhlYjQ1OWUsIC8vIERpc2NvcmQgcGlua1xuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5V2l0aEVtYmVkKGVtYmVkLCBcIuKPsCAqKlJhbHBoIFRpbWVvdXQqKlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIHJ1biBjb21wbGV0aW9uIG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIG5vdGlmeVJ1bkNvbXBsZXRlKFxuICAgICAgICB0b3RhbEN5Y2xlczogbnVtYmVyLFxuICAgICAgICBkdXJhdGlvbk1zOiBudW1iZXIsXG4gICAgICAgIGZpbmFsU3VtbWFyeTogc3RyaW5nLFxuICAgICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBkdXJhdGlvbkhvdXJzID0gTWF0aC5mbG9vcihkdXJhdGlvbk1zIC8gMzYwMDAwMCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uTWludXRlcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uTXMgJSAzNjAwMDAwKSAvIDYwMDAwKTtcblxuICAgICAgICBjb25zdCBlbWJlZDogRGlzY29yZEVtYmVkID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwi8J+PgSBSdW4gQ29tcGxldGVcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaW5hbFN1bW1hcnkuc2xpY2UoMCwgMjAwMCksXG4gICAgICAgICAgICBjb2xvcjogMHg1N2YyODcsIC8vIERpc2NvcmQgZ3JlZW5cbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIvCflIQgVG90YWwgQ3ljbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBTdHJpbmcodG90YWxDeWNsZXMpLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi4o+x77iPIFRvdGFsIER1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOlxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25Ib3VycyA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke2R1cmF0aW9uSG91cnN9aCAke2R1cmF0aW9uTWludXRlc31tYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7ZHVyYXRpb25NaW51dGVzfW1gLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5V2l0aEVtYmVkKGVtYmVkLCBcIvCfj4EgKipSYWxwaCBSdW4gQ29tcGxldGUqKlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIHN0dWNrL2Fib3J0IG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIG5vdGlmeVN0dWNrT3JBYm9ydGVkKFxuICAgICAgICBjeWNsZU51bWJlcjogbnVtYmVyLFxuICAgICAgICByZWFzb246IHN0cmluZyxcbiAgICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZW1iZWQ6IERpc2NvcmRFbWJlZCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBg8J+bkSBSdW4gJHtyZWFzb259YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ3ljbGUgJHtjeWNsZU51bWJlcn0gcmVhY2hlZCBzdHVjayB0aHJlc2hvbGQgb3Igd2FzIGFib3J0ZWRgLFxuICAgICAgICAgICAgY29sb3I6IDB4NTg2NWYyLCAvLyBEaXNjb3JkIGJsdXJwbGVcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmeVdpdGhFbWJlZChlbWJlZCwgYPCfm5EgKipSYWxwaCAke3JlYXNvbn0qKmApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBEaXNjb3JkIHdlYmhvb2sgY2xpZW50IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEaXNjb3JkV2ViaG9va0Zyb21FbnYoKTogRGlzY29yZFdlYmhvb2tDbGllbnQgfCBudWxsIHtcbiAgICBjb25zdCB3ZWJob29rVXJsID0gcHJvY2Vzcy5lbnYuRElTQ09SRF9XRUJIT09LX1VSTD8udHJpbSgpO1xuXG4gICAgaWYgKCF3ZWJob29rVXJsKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcbiAgICAgICAgICAgIFwiTm8gRElTQ09SRF9XRUJIT09LX1VSTCBlbnYgdmFyIHNldCwgRGlzY29yZCBub3RpZmljYXRpb25zIGRpc2FibGVkXCIsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGlzY29yZFdlYmhvb2tDbGllbnQoe1xuICAgICAgICB3ZWJob29rVXJsLFxuICAgICAgICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuRElTQ09SRF9CT1RfVVNFUk5BTUUgPz8gXCJSYWxwaFwiLFxuICAgICAgICBhdmF0YXJVcmw6IHByb2Nlc3MuZW52LkRJU0NPUkRfQk9UX0FWQVRBUl9VUkwsXG4gICAgfSk7XG59XG4iLAogICAgIi8qKlxuICogRmxvdyBTdG9yZSAtIFN0YXRlIHBlcnNpc3RlbmNlIGxheWVyIGZvciBSYWxwaCBMb29wIFJ1bm5lclxuICpcbiAqIFBlcnNpc3RzIHJ1biBzdGF0ZSB0byBgLmFpLWVuZy9ydW5zLzxydW5JZD4vLmZsb3cvYDpcbiAqIC0gc3RhdGUuanNvbjogTWFpbiBydW4gc3RhdGVcbiAqIC0gY2hlY2twb2ludC5qc29uOiBMYXN0IHN1Y2Nlc3NmdWwgY2hlY2twb2ludCBmb3IgZmFzdCByZXN1bWVcbiAqIC0gaXRlcmF0aW9ucy88bj4uanNvbjogUGVyLWN5Y2xlIGRldGFpbGVkIG91dHB1dHNcbiAqIC0gY29udGV4dHMvPG4+Lm1kOiBSZS1hbmNob3JpbmcgY29udGV4dCBzbmFwc2hvdHNcbiAqIC0gZ2F0ZXMvPG4+Lmpzb246IFF1YWxpdHkgZ2F0ZSByZXN1bHRzXG4gKi9cblxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tIFwibm9kZTpmc1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJub2RlOnBhdGhcIjtcbmltcG9ydCB7IExvZyB9IGZyb20gXCIuLi91dGlsL2xvZ1wiO1xuaW1wb3J0IHR5cGUgeyBDaGVja3BvaW50LCBDeWNsZVN0YXRlLCBGbG93U3RhdGUgfSBmcm9tIFwiLi9mbG93LXR5cGVzXCI7XG5pbXBvcnQgeyBGTE9XX1NDSEVNQV9WRVJTSU9OLCBSdW5TdGF0dXMsIHR5cGUgU3RvcFJlYXNvbiB9IGZyb20gXCIuL2Zsb3ctdHlwZXNcIjtcblxuY29uc3QgbG9nID0gTG9nLmNyZWF0ZSh7IHNlcnZpY2U6IFwiZmxvdy1zdG9yZVwiIH0pO1xuXG4vKiogRmxvdyBzdG9yZSBvcHRpb25zICovXG5leHBvcnQgaW50ZXJmYWNlIEZsb3dTdG9yZU9wdGlvbnMge1xuICAgIGZsb3dEaXI6IHN0cmluZztcbiAgICBydW5JZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEZsb3cgU3RvcmUgLSBtYW5hZ2VzIHBlcnNpc3RlbmNlIG9mIGxvb3AgcnVuIHN0YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBGbG93U3RvcmUge1xuICAgIHByaXZhdGUgZmxvd0Rpcjogc3RyaW5nO1xuICAgIHByaXZhdGUgcnVuSWQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEZsb3dTdG9yZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5mbG93RGlyID0gb3B0aW9ucy5mbG93RGlyO1xuICAgICAgICB0aGlzLnJ1bklkID0gb3B0aW9ucy5ydW5JZDtcbiAgICB9XG5cbiAgICAvKiogR2V0IHRoZSBiYXNlIGZsb3cgZGlyZWN0b3J5IHBhdGggKi9cbiAgICBnZXQgYmFzZVBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGpvaW4odGhpcy5mbG93RGlyLCB0aGlzLnJ1bklkLCBcIi5mbG93XCIpO1xuICAgIH1cblxuICAgIC8qKiBHZXQgcGF0aCB0byBhIHNwZWNpZmljIGZpbGUgaW4gLmZsb3cgKi9cbiAgICBwcml2YXRlIHBhdGgocmVsUGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGpvaW4odGhpcy5iYXNlUGF0aCwgcmVsUGF0aCk7XG4gICAgfVxuXG4gICAgLyoqIEluaXRpYWxpemUgZmxvdyBkaXJlY3Rvcnkgc3RydWN0dXJlICovXG4gICAgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgLy8gQ3JlYXRlIC5mbG93IGRpcmVjdG9yeSBhbmQgc3ViZGlyZWN0b3JpZXNcbiAgICAgICAgY29uc3QgZGlycyA9IFtcIml0ZXJhdGlvbnNcIiwgXCJjb250ZXh0c1wiLCBcImdhdGVzXCJdO1xuXG4gICAgICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpclBhdGggPSB0aGlzLnBhdGgoZGlyKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RzU3luYyhkaXJQYXRoKSkge1xuICAgICAgICAgICAgICAgIG1rZGlyU3luYyhkaXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJDcmVhdGVkIGRpcmVjdG9yeVwiLCB7IHBhdGg6IGRpclBhdGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2cuaW5mbyhcIkZsb3cgc3RvcmUgaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICAgICAgcnVuSWQ6IHRoaXMucnVuSWQsXG4gICAgICAgICAgICBiYXNlUGF0aDogdGhpcy5iYXNlUGF0aCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqIENoZWNrIGlmIGZsb3cgc3RhdGUgZXhpc3RzIChmb3IgcmVzdW1lKSAqL1xuICAgIGV4aXN0cygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0c1N5bmModGhpcy5wYXRoKFwic3RhdGUuanNvblwiKSk7XG4gICAgfVxuXG4gICAgLyoqIExvYWQgZXhpc3RpbmcgcnVuIHN0YXRlIGZvciByZXN1bWUgKi9cbiAgICBsb2FkKCk6IEZsb3dTdGF0ZSB8IG51bGwge1xuICAgICAgICBjb25zdCBzdGF0ZVBhdGggPSB0aGlzLnBhdGgoXCJzdGF0ZS5qc29uXCIpO1xuICAgICAgICBpZiAoIWV4aXN0c1N5bmMoc3RhdGVQYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHJlYWRGaWxlU3luYyhzdGF0ZVBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IEpTT04ucGFyc2UoY29udGVudCkgYXMgRmxvd1N0YXRlO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBzY2hlbWEgdmVyc2lvblxuICAgICAgICAgICAgaWYgKHN0YXRlLnNjaGVtYVZlcnNpb24gIT09IEZMT1dfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICAgICAgICAgICAgICBsb2cud2FybihcIkZsb3cgc2NoZW1hIHZlcnNpb24gbWlzbWF0Y2hcIiwge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogRkxPV19TQ0hFTUFfVkVSU0lPTixcbiAgICAgICAgICAgICAgICAgICAgZm91bmQ6IHN0YXRlLnNjaGVtYVZlcnNpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZy5pbmZvKFwiTG9hZGVkIGZsb3cgc3RhdGVcIiwge1xuICAgICAgICAgICAgICAgIHJ1bklkOiBzdGF0ZS5ydW5JZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXRlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q3ljbGU6IHN0YXRlLmN1cnJlbnRDeWNsZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9XG4gICAgICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgICAgbG9nLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZmxvdyBzdGF0ZVwiLCB7IGVycm9yOiBlcnJvck1zZyB9KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIENyZWF0ZSBpbml0aWFsIHJ1biBzdGF0ZSAqL1xuICAgIGNyZWF0ZUluaXRpYWxTdGF0ZShvcHRpb25zOiB7XG4gICAgICAgIHByb21wdDogc3RyaW5nO1xuICAgICAgICBjb21wbGV0aW9uUHJvbWlzZTogc3RyaW5nO1xuICAgICAgICBtYXhDeWNsZXM6IG51bWJlcjtcbiAgICAgICAgc3R1Y2tUaHJlc2hvbGQ6IG51bWJlcjtcbiAgICAgICAgZ2F0ZXM6IHN0cmluZ1tdO1xuICAgIH0pOiBGbG93U3RhdGUge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGU6IEZsb3dTdGF0ZSA9IHtcbiAgICAgICAgICAgIHNjaGVtYVZlcnNpb246IEZMT1dfU0NIRU1BX1ZFUlNJT04sXG4gICAgICAgICAgICBydW5JZDogdGhpcy5ydW5JZCxcbiAgICAgICAgICAgIHByb21wdDogb3B0aW9ucy5wcm9tcHQsXG4gICAgICAgICAgICBzdGF0dXM6IFJ1blN0YXR1cy5QRU5ESU5HLFxuICAgICAgICAgICAgY29tcGxldGlvblByb21pc2U6IG9wdGlvbnMuY29tcGxldGlvblByb21pc2UsXG4gICAgICAgICAgICBtYXhDeWNsZXM6IG9wdGlvbnMubWF4Q3ljbGVzLFxuICAgICAgICAgICAgc3R1Y2tUaHJlc2hvbGQ6IG9wdGlvbnMuc3R1Y2tUaHJlc2hvbGQsXG4gICAgICAgICAgICBnYXRlczogb3B0aW9ucy5nYXRlcyxcbiAgICAgICAgICAgIGN1cnJlbnRDeWNsZTogMCxcbiAgICAgICAgICAgIGNvbXBsZXRlZEN5Y2xlczogMCxcbiAgICAgICAgICAgIGZhaWxlZEN5Y2xlczogMCxcbiAgICAgICAgICAgIHN0dWNrQ291bnQ6IDAsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIC8qKiBTYXZlIHJ1biBzdGF0ZSB0byBzdGF0ZS5qc29uICovXG4gICAgc2F2ZVN0YXRlKHN0YXRlOiBGbG93U3RhdGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RhdGVQYXRoID0gdGhpcy5wYXRoKFwic3RhdGUuanNvblwiKTtcbiAgICAgICAgc3RhdGUudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICB3cml0ZUZpbGVTeW5jKHN0YXRlUGF0aCwgSlNPTi5zdHJpbmdpZnkoc3RhdGUsIG51bGwsIDIpKTtcbiAgICAgICAgbG9nLmRlYnVnKFwiU2F2ZWQgZmxvdyBzdGF0ZVwiLCB7IHJ1bklkOiBzdGF0ZS5ydW5JZCB9KTtcbiAgICB9XG5cbiAgICAvKiogU2F2ZSBhIGNoZWNrcG9pbnQgZm9yIGZhc3QgcmVzdW1lICovXG4gICAgc2F2ZUNoZWNrcG9pbnQoXG4gICAgICAgIHN0YXRlOiBGbG93U3RhdGUsXG4gICAgICAgIGxhc3RQaGFzZU91dHB1dHM6IEN5Y2xlU3RhdGVbXCJwaGFzZXNcIl0sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNoZWNrcG9pbnRQYXRoID0gdGhpcy5wYXRoKFwiY2hlY2twb2ludC5qc29uXCIpO1xuICAgICAgICBjb25zdCBjaGVja3BvaW50OiBDaGVja3BvaW50ID0ge1xuICAgICAgICAgICAgc2NoZW1hVmVyc2lvbjogRkxPV19TQ0hFTUFfVkVSU0lPTixcbiAgICAgICAgICAgIHJ1bklkOiBzdGF0ZS5ydW5JZCxcbiAgICAgICAgICAgIGN5Y2xlTnVtYmVyOiBzdGF0ZS5jdXJyZW50Q3ljbGUsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgbGFzdFBoYXNlT3V0cHV0cyxcbiAgICAgICAgfTtcbiAgICAgICAgd3JpdGVGaWxlU3luYyhjaGVja3BvaW50UGF0aCwgSlNPTi5zdHJpbmdpZnkoY2hlY2twb2ludCwgbnVsbCwgMikpO1xuICAgICAgICBsb2cuZGVidWcoXCJTYXZlZCBjaGVja3BvaW50XCIsIHtcbiAgICAgICAgICAgIHJ1bklkOiBzdGF0ZS5ydW5JZCxcbiAgICAgICAgICAgIGN5Y2xlOiBzdGF0ZS5jdXJyZW50Q3ljbGUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBMb2FkIGNoZWNrcG9pbnQgZm9yIHJlc3VtZSAqL1xuICAgIGxvYWRDaGVja3BvaW50KCk6IENoZWNrcG9pbnQgfCBudWxsIHtcbiAgICAgICAgY29uc3QgY2hlY2twb2ludFBhdGggPSB0aGlzLnBhdGgoXCJjaGVja3BvaW50Lmpzb25cIik7XG4gICAgICAgIGlmICghZXhpc3RzU3luYyhjaGVja3BvaW50UGF0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZWFkRmlsZVN5bmMoY2hlY2twb2ludFBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KSBhcyBDaGVja3BvaW50O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgIGxvZy5lcnJvcihcIkZhaWxlZCB0byBsb2FkIGNoZWNrcG9pbnRcIiwgeyBlcnJvcjogZXJyb3JNc2cgfSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTYXZlIGl0ZXJhdGlvbiBjeWNsZSBvdXRwdXQgKi9cbiAgICBzYXZlSXRlcmF0aW9uKGN5Y2xlOiBDeWNsZVN0YXRlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN5Y2xlUGF0aCA9IHRoaXMucGF0aChgaXRlcmF0aW9ucy8ke2N5Y2xlLmN5Y2xlTnVtYmVyfS5qc29uYCk7XG4gICAgICAgIHdyaXRlRmlsZVN5bmMoY3ljbGVQYXRoLCBKU09OLnN0cmluZ2lmeShjeWNsZSwgbnVsbCwgMikpO1xuXG4gICAgICAgIC8vIFNhdmUgcmUtYW5jaG9yaW5nIGNvbnRleHRcbiAgICAgICAgY29uc3QgY29udGV4dFBhdGggPSB0aGlzLnBhdGgoYGNvbnRleHRzLyR7Y3ljbGUuY3ljbGVOdW1iZXJ9Lm1kYCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRDb250ZW50ID0gdGhpcy5nZW5lcmF0ZUNvbnRleHRDb250ZW50KGN5Y2xlKTtcbiAgICAgICAgd3JpdGVGaWxlU3luYyhjb250ZXh0UGF0aCwgY29udGV4dENvbnRlbnQpO1xuXG4gICAgICAgIGxvZy5kZWJ1ZyhcIlNhdmVkIGl0ZXJhdGlvblwiLCB7IGN5Y2xlOiBjeWNsZS5jeWNsZU51bWJlciB9KTtcbiAgICB9XG5cbiAgICAvKiogU2F2ZSBnYXRlIHJlc3VsdHMgZm9yIGl0ZXJhdGlvbiAqL1xuICAgIHNhdmVHYXRlUmVzdWx0cyhcbiAgICAgICAgY3ljbGVOdW1iZXI6IG51bWJlcixcbiAgICAgICAgcmVzdWx0czogQ3ljbGVTdGF0ZVtcImdhdGVSZXN1bHRzXCJdLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBnYXRlUGF0aCA9IHRoaXMucGF0aChgZ2F0ZXMvJHtjeWNsZU51bWJlcn0uanNvbmApO1xuICAgICAgICB3cml0ZUZpbGVTeW5jKGdhdGVQYXRoLCBKU09OLnN0cmluZ2lmeShyZXN1bHRzLCBudWxsLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqIEdlbmVyYXRlIHJlLWFuY2hvcmluZyBjb250ZXh0IGNvbnRlbnQgZm9yIGEgY3ljbGUgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlQ29udGV4dENvbnRlbnQoY3ljbGU6IEN5Y2xlU3RhdGUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICBgIyBDeWNsZSAke2N5Y2xlLmN5Y2xlTnVtYmVyfSBDb250ZXh0YCxcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBgKipUaW1lc3RhbXA6KiogJHtjeWNsZS5zdGFydFRpbWV9YCxcbiAgICAgICAgICAgIGAqKlN0YXR1czoqKiAke2N5Y2xlLnN0YXR1c31gLFxuICAgICAgICAgICAgYCoqQ29tcGxldGlvbiBQcm9taXNlIE9ic2VydmVkOioqICR7Y3ljbGUuY29tcGxldGlvblByb21pc2VPYnNlcnZlZH1gLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIFwiIyMgUGhhc2UgU3VtbWFyaWVzXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3BoYXNlLCBvdXRwdXRdIG9mIE9iamVjdC5lbnRyaWVzKGN5Y2xlLnBoYXNlcykpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGAjIyMgJHtwaGFzZS50b1VwcGVyQ2FzZSgpfWApO1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChvdXRwdXQuc3VtbWFyeSB8fCBvdXRwdXQucmVzcG9uc2Uuc2xpY2UoMCwgNTAwKSk7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjeWNsZS5nYXRlUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwiIyMgR2F0ZSBSZXN1bHRzXCIpO1xuICAgICAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2F0ZSBvZiBjeWNsZS5nYXRlUmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGdhdGUucGFzc2VkID8gXCLinIUgUEFTU1wiIDogXCLinYwgRkFJTFwiO1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goYC0gKioke2dhdGUuZ2F0ZX06KiogJHtzdGF0dXN9IC0gJHtnYXRlLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwiXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN5Y2xlLmVycm9yKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwiIyMgRXJyb3JzXCIpO1xuICAgICAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goY3ljbGUuZXJyb3IpO1xuICAgICAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIH1cblxuICAgIC8qKiBHZXQgaXRlcmF0aW9uIGJ5IG51bWJlciAqL1xuICAgIGdldEl0ZXJhdGlvbihjeWNsZU51bWJlcjogbnVtYmVyKTogQ3ljbGVTdGF0ZSB8IG51bGwge1xuICAgICAgICBjb25zdCBjeWNsZVBhdGggPSB0aGlzLnBhdGgoYGl0ZXJhdGlvbnMvJHtjeWNsZU51bWJlcn0uanNvbmApO1xuICAgICAgICBpZiAoIWV4aXN0c1N5bmMoY3ljbGVQYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHJlYWRGaWxlU3luYyhjeWNsZVBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KSBhcyBDeWNsZVN0YXRlO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEdldCBhbGwgaXRlcmF0aW9ucyAqL1xuICAgIGdldEFsbEl0ZXJhdGlvbnMoKTogQ3ljbGVTdGF0ZVtdIHtcbiAgICAgICAgY29uc3QgaXRlcmF0aW9uczogQ3ljbGVTdGF0ZVtdID0gW107XG4gICAgICAgIGxldCBuID0gMTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3ljbGUgPSB0aGlzLmdldEl0ZXJhdGlvbihuKTtcbiAgICAgICAgICAgIGlmICghY3ljbGUpIGJyZWFrO1xuICAgICAgICAgICAgaXRlcmF0aW9ucy5wdXNoKGN5Y2xlKTtcbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH1cblxuICAgIC8qKiBVcGRhdGUgc3RhdGUgc3RhdHVzICovXG4gICAgdXBkYXRlU3RhdHVzKFxuICAgICAgICBzdGF0dXM6IFJ1blN0YXR1cyxcbiAgICAgICAgc3RvcFJlYXNvbj86IFN0b3BSZWFzb24sXG4gICAgICAgIGVycm9yPzogc3RyaW5nLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmbG93IHN0YXRlIHRvIHVwZGF0ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgaWYgKHN0b3BSZWFzb24pIHN0YXRlLnN0b3BSZWFzb24gPSBzdG9wUmVhc29uO1xuICAgICAgICBpZiAoZXJyb3IpIHN0YXRlLmVycm9yID0gZXJyb3I7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IFJ1blN0YXR1cy5DT01QTEVURUQgfHwgc3RhdHVzID09PSBSdW5TdGF0dXMuRkFJTEVEKSB7XG4gICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKHN0YXRlKTtcbiAgICB9XG5cbiAgICAvKiogSW5jcmVtZW50IGN5Y2xlIGNvdW50ZXIgKi9cbiAgICBpbmNyZW1lbnRDeWNsZSgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmbG93IHN0YXRlIHRvIHVwZGF0ZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmN1cnJlbnRDeWNsZSsrO1xuICAgICAgICB0aGlzLnNhdmVTdGF0ZShzdGF0ZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50Q3ljbGU7XG4gICAgfVxuXG4gICAgLyoqIFJlY29yZCBhIGZhaWxlZCBjeWNsZSAqL1xuICAgIHJlY29yZEZhaWxlZEN5Y2xlKGN5Y2xlOiBDeWNsZVN0YXRlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5sb2FkKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZsb3cgc3RhdGUgdG8gdXBkYXRlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuZmFpbGVkQ3ljbGVzKys7XG4gICAgICAgIHN0YXRlLnN0dWNrQ291bnQrKztcbiAgICAgICAgdGhpcy5zYXZlSXRlcmF0aW9uKGN5Y2xlKTtcbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoc3RhdGUpO1xuXG4gICAgICAgIGxvZy5pbmZvKFwiQ3ljbGUgZmFpbGVkXCIsIHtcbiAgICAgICAgICAgIHJ1bklkOiB0aGlzLnJ1bklkLFxuICAgICAgICAgICAgY3ljbGU6IGN5Y2xlLmN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgZmFpbGVkQ3ljbGVzOiBzdGF0ZS5mYWlsZWRDeWNsZXMsXG4gICAgICAgICAgICBzdHVja0NvdW50OiBzdGF0ZS5zdHVja0NvdW50LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiogUmVjb3JkIGEgc3VjY2Vzc2Z1bCBjeWNsZSAqL1xuICAgIHJlY29yZFN1Y2Nlc3NmdWxDeWNsZShjeWNsZTogQ3ljbGVTdGF0ZSwgc3VtbWFyeTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5sb2FkKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZsb3cgc3RhdGUgdG8gdXBkYXRlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY29tcGxldGVkQ3ljbGVzKys7XG4gICAgICAgIHN0YXRlLnN0dWNrQ291bnQgPSAwOyAvLyBSZXNldCBzdHVjayBjb3VudGVyIG9uIHN1Y2Nlc3NcbiAgICAgICAgc3RhdGUubGFzdENoZWNrcG9pbnQgPSB7XG4gICAgICAgICAgICBjeWNsZU51bWJlcjogY3ljbGUuY3ljbGVOdW1iZXIsXG4gICAgICAgICAgICBzdW1tYXJ5LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zYXZlSXRlcmF0aW9uKGN5Y2xlKTtcbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoc3RhdGUpO1xuXG4gICAgICAgIGxvZy5pbmZvKFwiQ3ljbGUgY29tcGxldGVkXCIsIHtcbiAgICAgICAgICAgIHJ1bklkOiB0aGlzLnJ1bklkLFxuICAgICAgICAgICAgY3ljbGU6IGN5Y2xlLmN5Y2xlTnVtYmVyLFxuICAgICAgICAgICAgY29tcGxldGVkQ3ljbGVzOiBzdGF0ZS5jb21wbGV0ZWRDeWNsZXMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBDbGVhbiB1cCBmbG93IGRpcmVjdG9yeSAqL1xuICAgIGNsZWFudXAoKTogdm9pZCB7XG4gICAgICAgIC8vIEltcGxlbWVudGF0aW9uIHdvdWxkIHJlbW92ZSB0aGUgLmZsb3cgZGlyZWN0b3J5XG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgbG9nXG4gICAgICAgIGxvZy5pbmZvKFwiRmxvdyBzdG9yZSBjbGVhbnVwIHJlcXVlc3RlZFwiLCB7IHJ1bklkOiB0aGlzLnJ1bklkIH0pO1xuICAgIH1cbn1cbiIsCiAgICAiLyoqXG4gKiBGbG93IFN0YXRlIFR5cGVzIGZvciBSYWxwaCBMb29wIFJ1bm5lclxuICpcbiAqIFN0YXRlIGlzIHBlcnNpc3RlZCB0byBgLmFpLWVuZy9ydW5zLzxydW5JZD4vLmZsb3cvYCBmb3I6XG4gKiAtIFJlc3VtZSBzdXBwb3J0IGFjcm9zcyBydW5zXG4gKiAtIEZyZXNoIGNvbnRleHQgcGVyIGl0ZXJhdGlvbiAocmUtYW5jaG9yaW5nIGZyb20gZGlzaylcbiAqIC0gQXVkaXQgdHJhaWwgb2YgYWxsIGN5Y2xlIG91dHB1dHNcbiAqL1xuXG4vKiogU2NoZW1hIHZlcnNpb24gZm9yIGZvcndhcmQgY29tcGF0aWJpbGl0eSAqL1xuZXhwb3J0IGNvbnN0IEZMT1dfU0NIRU1BX1ZFUlNJT04gPSBcIjEuMC4wXCI7XG5cbi8qKiBSdW4gc3RhdHVzIGVudW0gKi9cbmV4cG9ydCBlbnVtIFJ1blN0YXR1cyB7XG4gICAgUEVORElORyA9IFwicGVuZGluZ1wiLFxuICAgIFJVTk5JTkcgPSBcInJ1bm5pbmdcIixcbiAgICBDT01QTEVURUQgPSBcImNvbXBsZXRlZFwiLFxuICAgIEZBSUxFRCA9IFwiZmFpbGVkXCIsXG4gICAgQUJPUlRFRCA9IFwiYWJvcnRlZFwiLFxuICAgIFNUVUNLID0gXCJzdHVja1wiLFxufVxuXG4vKiogU3RvcCByZWFzb24gZm9yIGNvbXBsZXRlZCBydW5zICovXG5leHBvcnQgZW51bSBTdG9wUmVhc29uIHtcbiAgICBDT01QTEVUSU9OX1BST01JU0UgPSBcImNvbXBsZXRpb25fcHJvbWlzZVwiLFxuICAgIE1BWF9DWUNMRVMgPSBcIm1heF9jeWNsZXNcIixcbiAgICBHQVRFX0ZBSUxVUkUgPSBcImdhdGVfZmFpbHVyZVwiLFxuICAgIFNUVUNLID0gXCJzdHVja1wiLFxuICAgIFVTRVJfQUJPUlQgPSBcInVzZXJfYWJvcnRcIixcbiAgICBFUlJPUiA9IFwiZXJyb3JcIixcbn1cblxuLyoqIFBoYXNlIG5hbWVzIGluIHRoZSB3b3JrZmxvdyAqL1xuZXhwb3J0IGVudW0gUGhhc2Uge1xuICAgIFJFU0VBUkNIID0gXCJyZXNlYXJjaFwiLFxuICAgIFNQRUNJRlkgPSBcInNwZWNpZnlcIixcbiAgICBQTEFOID0gXCJwbGFuXCIsXG4gICAgV09SSyA9IFwid29ya1wiLFxuICAgIFJFVklFVyA9IFwicmV2aWV3XCIsXG59XG5cbi8qKiBHYXRlIHJlc3VsdCB0eXBlICovXG5leHBvcnQgaW50ZXJmYWNlIEdhdGVSZXN1bHQge1xuICAgIGdhdGU6IHN0cmluZztcbiAgICBwYXNzZWQ6IGJvb2xlYW47XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGRldGFpbHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuLyoqIFBoYXNlIG91dHB1dCAqL1xuZXhwb3J0IGludGVyZmFjZSBQaGFzZU91dHB1dCB7XG4gICAgcGhhc2U6IFBoYXNlO1xuICAgIHByb21wdDogc3RyaW5nO1xuICAgIHJlc3BvbnNlOiBzdHJpbmc7XG4gICAgc3VtbWFyeTogc3RyaW5nO1xuICAgIHRpbWVzdGFtcDogc3RyaW5nO1xuICAgIC8qKiBUb29sIGludm9jYXRpb25zIGNhcHR1cmVkIGR1cmluZyB0aGlzIHBoYXNlICovXG4gICAgdG9vbHM/OiBUb29sSW52b2NhdGlvbltdO1xufVxuXG4vKiogVG9vbCBpbnZvY2F0aW9uIGNhcHR1cmVkIGZyb20gT3BlbkNvZGUgc3RyZWFtICovXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xJbnZvY2F0aW9uIHtcbiAgICAvKiogVW5pcXVlIHRvb2wgSUQgKi9cbiAgICBpZDogc3RyaW5nO1xuICAgIC8qKiBUb29sIG5hbWUgKGUuZy4sIFwiYmFzaFwiLCBcInJlYWRcIiwgXCJ3cml0ZVwiLCBcImVkaXRcIikgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgLyoqIElucHV0IGFyZ3VtZW50cyAobWF5IGJlIHRydW5jYXRlZC9yZWRhY3RlZCBmb3Igc2VjcmV0cykgKi9cbiAgICBpbnB1dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIC8qKiBPdXRwdXQgcmVzdWx0IChtYXkgYmUgdHJ1bmNhdGVkKSAqL1xuICAgIG91dHB1dD86IHN0cmluZztcbiAgICAvKiogV2hldGhlciB0aGUgdG9vbCBjYWxsIHN1Y2NlZWRlZCAqL1xuICAgIHN0YXR1czogXCJva1wiIHwgXCJlcnJvclwiO1xuICAgIC8qKiBFcnJvciBtZXNzYWdlIGlmIHN0YXR1cyBpcyBlcnJvciAqL1xuICAgIGVycm9yPzogc3RyaW5nO1xuICAgIC8qKiBXaGVuIHRoZSB0b29sIGNhbGwgc3RhcnRlZCAoSVNPIHRpbWVzdGFtcCkgKi9cbiAgICBzdGFydGVkQXQ/OiBzdHJpbmc7XG4gICAgLyoqIFdoZW4gdGhlIHRvb2wgY2FsbCBjb21wbGV0ZWQgKElTTyB0aW1lc3RhbXApICovXG4gICAgY29tcGxldGVkQXQ/OiBzdHJpbmc7XG59XG5cbi8qKiBTaW5nbGUgaXRlcmF0aW9uIGN5Y2xlIHN0YXRlICovXG5leHBvcnQgaW50ZXJmYWNlIEN5Y2xlU3RhdGUge1xuICAgIGN5Y2xlTnVtYmVyOiBudW1iZXI7XG4gICAgc3RhdHVzOiBcInBlbmRpbmdcIiB8IFwicnVubmluZ1wiIHwgXCJjb21wbGV0ZWRcIiB8IFwiZmFpbGVkXCI7XG4gICAgc3RhcnRUaW1lOiBzdHJpbmc7XG4gICAgZW5kVGltZT86IHN0cmluZztcbiAgICBkdXJhdGlvbk1zPzogbnVtYmVyO1xuICAgIHBoYXNlczoge1xuICAgICAgICBba2V5IGluIFBoYXNlXT86IFBoYXNlT3V0cHV0O1xuICAgIH07XG4gICAgZ2F0ZVJlc3VsdHM6IEdhdGVSZXN1bHRbXTtcbiAgICBjb21wbGV0aW9uUHJvbWlzZU9ic2VydmVkOiBib29sZWFuO1xuICAgIHN0b3BSZWFzb24/OiBTdG9wUmVhc29uO1xuICAgIGVycm9yPzogc3RyaW5nO1xuICAgIC8vIEZvciBzdHVjayBkZXRlY3Rpb24gLSBoYXNoIG9mIG91dHB1dHMgdG8gZGV0ZWN0IG5vLXByb2dyZXNzXG4gICAgb3V0cHV0SGFzaD86IHN0cmluZztcbn1cblxuLyoqIE1haW4gZmxvdyBzdGF0ZSAqL1xuZXhwb3J0IGludGVyZmFjZSBGbG93U3RhdGUge1xuICAgIC8qKiBTY2hlbWEgdmVyc2lvbiBmb3IgbWlncmF0aW9ucyAqL1xuICAgIHNjaGVtYVZlcnNpb246IHN0cmluZztcblxuICAgIC8qKiBSdW4gaWRlbnRpZmljYXRpb24gKi9cbiAgICBydW5JZDogc3RyaW5nO1xuICAgIHByb21wdDogc3RyaW5nO1xuXG4gICAgLyoqIFJ1biBzdGF0dXMgKi9cbiAgICBzdGF0dXM6IFJ1blN0YXR1cztcbiAgICBzdG9wUmVhc29uPzogU3RvcFJlYXNvbjtcblxuICAgIC8qKiBMb29wIHBhcmFtZXRlcnMgKi9cbiAgICBjb21wbGV0aW9uUHJvbWlzZTogc3RyaW5nO1xuICAgIG1heEN5Y2xlczogbnVtYmVyO1xuICAgIHN0dWNrVGhyZXNob2xkOiBudW1iZXI7XG4gICAgZ2F0ZXM6IHN0cmluZ1tdO1xuXG4gICAgLyoqIEN5Y2xlIHRyYWNraW5nICovXG4gICAgY3VycmVudEN5Y2xlOiBudW1iZXI7XG4gICAgY29tcGxldGVkQ3ljbGVzOiBudW1iZXI7XG4gICAgZmFpbGVkQ3ljbGVzOiBudW1iZXI7XG4gICAgc3R1Y2tDb3VudDogbnVtYmVyO1xuXG4gICAgLyoqIFRpbWVzdGFtcHMgKi9cbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgICBjb21wbGV0ZWRBdD86IHN0cmluZztcblxuICAgIC8qKiBMYXN0IHN1Y2Nlc3NmdWwgY2hlY2twb2ludCBmb3IgcmUtYW5jaG9yaW5nICovXG4gICAgbGFzdENoZWNrcG9pbnQ/OiB7XG4gICAgICAgIGN5Y2xlTnVtYmVyOiBudW1iZXI7XG4gICAgICAgIHN1bW1hcnk6IHN0cmluZztcbiAgICAgICAgdGltZXN0YW1wOiBzdHJpbmc7XG4gICAgfTtcblxuICAgIC8qKiBFcnJvciBpbmZvIGlmIGZhaWxlZCAqL1xuICAgIGVycm9yPzogc3RyaW5nO1xufVxuXG4vKiogQ2hlY2twb2ludCBmb3IgZmFzdCByZXN1bWUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2twb2ludCB7XG4gICAgc2NoZW1hVmVyc2lvbjogc3RyaW5nO1xuICAgIHJ1bklkOiBzdHJpbmc7XG4gICAgY3ljbGVOdW1iZXI6IG51bWJlcjtcbiAgICB0aW1lc3RhbXA6IHN0cmluZztcbiAgICBzdGF0ZTogRmxvd1N0YXRlO1xuICAgIGxhc3RQaGFzZU91dHB1dHM6IHtcbiAgICAgICAgW2tleSBpbiBQaGFzZV0/OiBQaGFzZU91dHB1dDtcbiAgICB9O1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIGxvb3AgcnVubmVyICovXG5leHBvcnQgaW50ZXJmYWNlIExvb3BDb25maWcge1xuICAgIHJ1bklkOiBzdHJpbmc7XG4gICAgcHJvbXB0OiBzdHJpbmc7XG4gICAgY29tcGxldGlvblByb21pc2U6IHN0cmluZztcbiAgICBtYXhDeWNsZXM6IG51bWJlcjtcbiAgICBzdHVja1RocmVzaG9sZDogbnVtYmVyO1xuICAgIGdhdGVzOiBzdHJpbmdbXTtcbiAgICBjaGVja3BvaW50RnJlcXVlbmN5OiBudW1iZXI7XG4gICAgZmxvd0Rpcjogc3RyaW5nO1xuICAgIGRyeVJ1bjogYm9vbGVhbjtcbiAgICAvKiogTnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIHBlciBjeWNsZSBvbiBmYWlsdXJlICovXG4gICAgY3ljbGVSZXRyaWVzOiBudW1iZXI7XG4gICAgLyoqIE9wZW5Db2RlIHByb21wdCB0aW1lb3V0IGluIG1zICh1c2VkIGFzIGlkbGUgdGltZW91dCkgKi9cbiAgICBwcm9tcHRUaW1lb3V0PzogbnVtYmVyO1xuICAgIC8qKiBQaGFzZSBoYXJkIHRpbWVvdXQgaW4gbXMgKHJ1bm5lci1zaWRlIHdhdGNoZG9nKSAqL1xuICAgIHBoYXNlVGltZW91dE1zPzogbnVtYmVyO1xuICAgIC8qKiBDeWNsZSBoYXJkIHRpbWVvdXQgaW4gbXMgKi9cbiAgICBjeWNsZVRpbWVvdXRNcz86IG51bWJlcjtcbiAgICAvKiogUnVuIGhhcmQgdGltZW91dCBpbiBtcyAqL1xuICAgIHJ1blRpbWVvdXRNcz86IG51bWJlcjtcbiAgICAvKiogRGVidWcgbW9kZTogcHJpbnQgdG9vbCBpbnZvY2F0aW9ucyB0byBjb25zb2xlL2xvZ3MgKi9cbiAgICBkZWJ1Z1dvcms6IGJvb2xlYW47XG59XG4iLAogICAgIiMhL3Vzci9iaW4vZW52IGJ1blxuXG4vKipcbiAqIENMSSBleGVjdXRpb24gbW9kZSBmb3IgYWktZW5nIHJhbHBoXG4gKlxuICogTm9uLVRVSSBleGVjdXRpb24gd2l0aCBpbnRlcmFjdGl2ZSBwcm9tcHRzIHVzaW5nIEBjbGFjay9wcm9tcHRzXG4gKlxuICogU3VwcG9ydHMgdHdvIG1vZGVzOlxuICogLSBMb29wIG1vZGUgKGRlZmF1bHQpOiBJdGVyYXRlcyB3aXRoIGZyZXNoIE9wZW5Db2RlIHNlc3Npb25zIHBlciBjeWNsZVxuICogLSBTaW5nbGUtc2hvdCBtb2RlICgtLW5vLWxvb3ApOiBTaW5nbGUgZXhlY3V0aW9uIHdpdGggcHJvbXB0IG9wdGltaXphdGlvblxuICovXG5pbXBvcnQgeyBpc0NhbmNlbCwgb3V0cm8sIHNlbGVjdCwgc3Bpbm5lciB9IGZyb20gXCJAY2xhY2svcHJvbXB0c1wiO1xuaW1wb3J0IHtcbiAgICB0eXBlIE1lc3NhZ2VSZXNwb25zZSxcbiAgICBPcGVuQ29kZUNsaWVudCxcbn0gZnJvbSBcIi4uL2JhY2tlbmRzL29wZW5jb2RlL2NsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBBaUVuZ0NvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvc2NoZW1hXCI7XG5pbXBvcnQge1xuICAgIFJhbHBoTG9vcFJ1bm5lcixcbiAgICBjcmVhdGVSYWxwaExvb3BSdW5uZXIsXG59IGZyb20gXCIuLi9leGVjdXRpb24vcmFscGgtbG9vcFwiO1xuaW1wb3J0IHsgUHJvbXB0T3B0aW1pemVyIH0gZnJvbSBcIi4uL3Byb21wdC1vcHRpbWl6YXRpb24vb3B0aW1pemVyXCI7XG5pbXBvcnQgeyBMb2cgfSBmcm9tIFwiLi4vdXRpbC9sb2dcIjtcbmltcG9ydCB0eXBlIHsgUmFscGhGbGFncyB9IGZyb20gXCIuL2ZsYWdzXCI7XG5pbXBvcnQgeyBVSSB9IGZyb20gXCIuL3VpXCI7XG5cbmNvbnN0IGxvZyA9IExvZy5jcmVhdGUoeyBzZXJ2aWNlOiBcInJ1bi1jbGlcIiB9KTtcblxuLyoqXG4gKiBDbGVhbnVwIGhhbmRsZXIgdG8gZW5zdXJlIE9wZW5Db2RlIHNlcnZlciBpcyBwcm9wZXJseSBzaHV0IGRvd25cbiAqL1xubGV0IGFjdGl2ZUNsaWVudDogT3BlbkNvZGVDbGllbnQgfCBudWxsID0gbnVsbDtcbmxldCBjbGVhbnVwSGFuZGxlcnNSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmFzeW5jIGZ1bmN0aW9uIHNldHVwQ2xlYW51cEhhbmRsZXJzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChjbGVhbnVwSGFuZGxlcnNSZWdpc3RlcmVkKSByZXR1cm47XG4gICAgY2xlYW51cEhhbmRsZXJzUmVnaXN0ZXJlZCA9IHRydWU7XG4gICAgY29uc3QgY2xlYW51cEZuID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlQ2xpZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvZy5pbmZvKFwiQ2xlYW51cCBzaWduYWwgcmVjZWl2ZWQsIGNsb3NpbmcgT3BlbkNvZGUgc2VydmVyLi4uXCIpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjdGl2ZUNsaWVudC5jbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgbG9nLmluZm8oXCJPcGVuQ29kZSBzZXJ2ZXIgY2xvc2VkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgbG9nLmVycm9yKFwiRXJyb3IgZHVyaW5nIGNsZWFudXBcIiwgeyBlcnJvcjogZXJyb3JNc2cgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3RpdmVDbGllbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHZhcmlvdXMgZXhpdCBzaWduYWxzXG4gICAgcHJvY2Vzcy5vbihcIlNJR0lOVFwiLCBjbGVhbnVwRm4pO1xuICAgIHByb2Nlc3Mub24oXCJTSUdURVJNXCIsIGNsZWFudXBGbik7XG4gICAgcHJvY2Vzcy5vbihcIlNJR0hVUFwiLCBjbGVhbnVwRm4pO1xuXG4gICAgLy8gSGFuZGxlIHVuY2F1Z2h0IGVycm9yc1xuICAgIHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgIGxvZy5lcnJvcihcIlVuY2F1Z2h0IGV4Y2VwdGlvblwiLCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3JNc2csXG4gICAgICAgICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgY2xlYW51cEZuKCk7XG4gICAgfSk7XG5cbiAgICBwcm9jZXNzLm9uKFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIGFzeW5jIChyZWFzb24pID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24ubWVzc2FnZSA6IFN0cmluZyhyZWFzb24pO1xuICAgICAgICBsb2cuZXJyb3IoXCJVbmhhbmRsZWQgcmVqZWN0aW9uXCIsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvck1zZyxcbiAgICAgICAgICAgIHN0YWNrOiByZWFzb24gaW5zdGFuY2VvZiBFcnJvciA/IHJlYXNvbi5zdGFjayA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGNsZWFudXBGbigpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuQ2xpKFxuICAgIGNvbmZpZzogQWlFbmdDb25maWcsXG4gICAgZmxhZ3M6IFJhbHBoRmxhZ3MsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBTZXR1cCBjbGVhbnVwIGhhbmRsZXJzXG4gICAgYXdhaXQgc2V0dXBDbGVhbnVwSGFuZGxlcnMoKTtcblxuICAgIGxvZy5pbmZvKFwiU3RhcnRpbmcgQ0xJIGV4ZWN1dGlvblwiLCB7IHdvcmtmbG93OiBmbGFncy53b3JrZmxvdyB9KTtcblxuICAgIGNvbnN0IHByb21wdCA9IGZsYWdzLndvcmtmbG93O1xuICAgIGlmICghcHJvbXB0KSB7XG4gICAgICAgIFVJLmVycm9yKFwiTm8gcHJvbXB0IG9yIHdvcmtmbG93IHByb3ZpZGVkXCIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBvcHRpbWl6ZXJcbiAgICBjb25zdCBvcHRpbWl6ZXIgPSBuZXcgUHJvbXB0T3B0aW1pemVyKHtcbiAgICAgICAgYXV0b0FwcHJvdmU6IGZsYWdzLmNpID8/IGZhbHNlLFxuICAgICAgICB2ZXJib3NpdHk6IGZsYWdzLnZlcmJvc2UgPyBcInZlcmJvc2VcIiA6IFwibm9ybWFsXCIsXG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgb3B0aW1pemF0aW9uIHNlc3Npb25cbiAgICBVSS5oZWFkZXIoXCJQcm9tcHQgT3B0aW1pemF0aW9uXCIpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBvcHRpbWl6ZXIuY3JlYXRlU2Vzc2lvbihwcm9tcHQpO1xuICAgIGxvZy5kZWJ1ZyhcIkNyZWF0ZWQgb3B0aW1pemF0aW9uIHNlc3Npb25cIiwgeyBzdGVwczogc2Vzc2lvbi5zdGVwcy5sZW5ndGggfSk7XG5cbiAgICAvLyBSZXZpZXcgc3RlcHMgaW50ZXJhY3RpdmVseSAodW5sZXNzIENJIG1vZGUpXG4gICAgaWYgKCFmbGFncy5jaSkge1xuICAgICAgICBmb3IgKGNvbnN0IHN0ZXAgb2Ygc2Vzc2lvbi5zdGVwcykge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gYXdhaXQgc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQXBwbHkgXCIke3N0ZXAubmFtZX1cIj9cXG4gICR7c3RlcC5kZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiYXBwcm92ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQXBwcm92ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogXCJBcHBseSB0aGlzIG9wdGltaXphdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJyZWplY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJlamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogXCJTa2lwIHRoaXMgb3B0aW1pemF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcInNraXAtYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJTa2lwIGFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGludDogXCJVc2Ugb3JpZ2luYWwgcHJvbXB0XCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaXNDYW5jZWwoYWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIGxvZy5pbmZvKFwiVXNlciBjYW5jZWxsZWRcIik7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSBcInNraXAtYWxsXCIpIHtcbiAgICAgICAgICAgICAgICBvcHRpbWl6ZXIuc2tpcE9wdGltaXphdGlvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwiYXBwcm92ZVwiKSB7XG4gICAgICAgICAgICAgICAgb3B0aW1pemVyLmFwcHJvdmVTdGVwKHNlc3Npb24sIHN0ZXAuaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpbWl6ZXIucmVqZWN0U3RlcChzZXNzaW9uLCBzdGVwLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJvdXRlIHRvIGxvb3AgbW9kZSBvciBzaW5nbGUtc2hvdCBtb2RlXG4gICAgaWYgKGZsYWdzLmxvb3AgIT09IGZhbHNlKSB7XG4gICAgICAgIC8vIExvb3AgbW9kZSAoZGVmYXVsdClcbiAgICAgICAgYXdhaXQgcnVuTG9vcE1vZGUoY29uZmlnLCBmbGFncywgc2Vzc2lvbi5maW5hbFByb21wdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2luZ2xlLXNob3QgbW9kZSAoLS1uby1sb29wKVxuICAgICAgICBhd2FpdCBydW5TaW5nbGVTaG90TW9kZShjb25maWcsIGZsYWdzLCBzZXNzaW9uLmZpbmFsUHJvbXB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUnVuIGluIFJhbHBoIGxvb3AgbW9kZSAoZGVmYXVsdCkgLSBpdGVyYXRlcyB3aXRoIGZyZXNoIHNlc3Npb25zIHBlciBjeWNsZVxuICovXG5hc3luYyBmdW5jdGlvbiBydW5Mb29wTW9kZShcbiAgICBjb25maWc6IEFpRW5nQ29uZmlnLFxuICAgIGZsYWdzOiBSYWxwaEZsYWdzLFxuICAgIF9vcHRpbWl6ZWRQcm9tcHQ6IHN0cmluZyxcbik6IFByb21pc2U8dm9pZD4ge1xuICAgIFVJLmhlYWRlcihcIlJhbHBoIExvb3AgTW9kZVwiKTtcbiAgICBVSS5pbmZvKFwiUnVubmluZyB3aXRoIGZyZXNoIE9wZW5Db2RlIHNlc3Npb25zIHBlciBpdGVyYXRpb25cIik7XG5cbiAgICAvLyBTaG93IG1vZGUgaW5mb1xuICAgIGlmIChmbGFncy5zaGlwKSB7XG4gICAgICAgIFVJLmluZm8oXG4gICAgICAgICAgICBcIk1vZGU6IFNISVAgKGF1dG8tZXhpdCB3aGVuIGFnZW50IG91dHB1dHMgJzxwcm9taXNlPlNISVA8L3Byb21pc2U+JylcIixcbiAgICAgICAgKTtcbiAgICAgICAgVUkuaW5mbyhcIkNvbXBsZXRpb24gcHJvbWlzZTogPHByb21pc2U+U0hJUDwvcHJvbWlzZT5cIik7XG4gICAgfSBlbHNlIGlmIChmbGFncy5kcmFmdCB8fCAoIWZsYWdzLnNoaXAgJiYgIWZsYWdzLmNvbXBsZXRpb25Qcm9taXNlKSkge1xuICAgICAgICBVSS5pbmZvKFwiTW9kZTogRFJBRlQgKHJ1bnMgZm9yIG1heC1jeWNsZXMgdGhlbiBzdG9wcyBmb3IgeW91ciByZXZpZXcpXCIpO1xuICAgICAgICBVSS5pbmZvKFwiQ29tcGxldGlvbiBwcm9taXNlOiBub25lICh3aWxsIHJ1biBhbGwgY3ljbGVzKVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBVSS5pbmZvKFwiTW9kZTogQ3VzdG9tIGNvbXBsZXRpb24gcHJvbWlzZVwiKTtcbiAgICAgICAgVUkuaW5mbyhgQ29tcGxldGlvbiBwcm9taXNlOiAke2ZsYWdzLmNvbXBsZXRpb25Qcm9taXNlfWApO1xuICAgIH1cblxuICAgIFVJLmluZm8oYE1heCBjeWNsZXM6ICR7ZmxhZ3MubWF4Q3ljbGVzID8/IDUwfWApO1xuICAgIFVJLmluZm8oYFN0dWNrIHRocmVzaG9sZDogJHtmbGFncy5zdHVja1RocmVzaG9sZCA/PyA1fWApO1xuICAgIFVJLnByaW50bG4oKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IGF3YWl0IGNyZWF0ZVJhbHBoTG9vcFJ1bm5lcihmbGFncywgY29uZmlnKTtcbiAgICAgICAgYXdhaXQgcnVubmVyLnJ1bigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgIGxvZy5lcnJvcihcIkxvb3AgZXhlY3V0aW9uIGZhaWxlZFwiLCB7IGVycm9yOiBtZXNzYWdlIH0pO1xuICAgICAgICBVSS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cblxuICAgIG91dHJvKFwiRG9uZSFcIik7XG59XG5cbi8qKlxuICogUnVuIGluIHNpbmdsZS1zaG90IG1vZGUgKC0tbm8tbG9vcCkgLSBzaW5nbGUgZXhlY3V0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJ1blNpbmdsZVNob3RNb2RlKFxuICAgIGNvbmZpZzogQWlFbmdDb25maWcsXG4gICAgZmxhZ3M6IFJhbHBoRmxhZ3MsXG4gICAgb3B0aW1pemVkUHJvbXB0OiBzdHJpbmcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBFeGVjdXRlIHNpbmdsZS1zaG90XG4gICAgVUkuaGVhZGVyKFwiRXhlY3V0aW9uXCIpO1xuICAgIGNvbnN0IHMgPSBzcGlubmVyKCk7XG4gICAgcy5zdGFydChcIkNvbm5lY3RpbmcgdG8gT3BlbkNvZGUuLi5cIik7XG5cbiAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgT3BlbkNvZGUgY2xpZW50IC0gdGhpcyB3aWxsIGVpdGhlciBzcGF3biBhIG5ldyBzZXJ2ZXIgb3IgY29ubmVjdCB0byBleGlzdGluZyBvbmVcbiAgICAgICAgYWN0aXZlQ2xpZW50ID0gYXdhaXQgT3BlbkNvZGVDbGllbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGV4aXN0aW5nU2VydmVyVXJsOiBwcm9jZXNzLmVudi5PUEVOQ09ERV9VUkwsXG4gICAgICAgICAgICBzZXJ2ZXJTdGFydHVwVGltZW91dDogMTAwMDAsIC8vIEFsbG93IDEwIHNlY29uZHMgZm9yIHNlcnZlciB0byBzdGFydFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBvcGVuU2Vzc2lvbiA9IGF3YWl0IGFjdGl2ZUNsaWVudC5jcmVhdGVTZXNzaW9uKG9wdGltaXplZFByb21wdCk7XG4gICAgICAgIGxvZy5pbmZvKFwiQ3JlYXRlZCBPcGVuQ29kZSBzZXNzaW9uXCIsIHsgaWQ6IG9wZW5TZXNzaW9uLmlkIH0pO1xuXG4gICAgICAgIHMuc3RvcChcIkNvbm5lY3RlZFwiKTtcblxuICAgICAgICAvLyBTZW5kIHByb21wdCBhbmQgc3RyZWFtIHJlc3BvbnNlXG4gICAgICAgIFVJLnByaW50bG4oKTtcbiAgICAgICAgVUkucHJpbnRsbihcbiAgICAgICAgICAgIGAke1VJLlN0eWxlLlRFWFRfRElNfUV4ZWN1dGluZyB0YXNrLi4uJHtVSS5TdHlsZS5URVhUX05PUk1BTH1gLFxuICAgICAgICApO1xuXG4gICAgICAgIGxldCByZXNwb25zZTogTWVzc2FnZVJlc3BvbnNlO1xuXG4gICAgICAgIGlmICghZmxhZ3Mubm9TdHJlYW0pIHtcbiAgICAgICAgICAgIC8vIFN0cmVhbWluZyBtb2RlIChkZWZhdWx0KVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtaW5nUmVzcG9uc2UgPSBhd2FpdCBvcGVuU2Vzc2lvbi5zZW5kTWVzc2FnZVN0cmVhbShcbiAgICAgICAgICAgICAgICBcIkV4ZWN1dGUgdGhpcyB0YXNrIGFuZCBwcm92aWRlIGEgZGV0YWlsZWQgcmVzdWx0IHN1bW1hcnkuXCIsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBVSS5wcmludGxuKCk7XG5cbiAgICAgICAgICAgIC8vIFN0cmVhbSBjb250ZW50IHRvIHN0ZGVyciBpbiByZWFsLXRpbWVcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbWluZ1Jlc3BvbnNlLnN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgVUkucHJpbnQodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgY29tcGxldGUgcmVzcG9uc2UgZm9yIGNsZWFudXBcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgc3RyZWFtaW5nUmVzcG9uc2UuY29tcGxldGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBCdWZmZXJlZCBtb2RlICh3aGVuIC0tbm8tc3RyZWFtIGZsYWcgaXMgdXNlZClcbiAgICAgICAgICAgIFVJLnByaW50bG4oKTtcbiAgICAgICAgICAgIFVJLnByaW50bG4oXG4gICAgICAgICAgICAgICAgYCR7VUkuU3R5bGUuVEVYVF9ESU19QnVmZmVyaW5nIHJlc3BvbnNlLi4uJHtVSS5TdHlsZS5URVhUX05PUk1BTH1gLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBvcGVuU2Vzc2lvbi5zZW5kTWVzc2FnZShcbiAgICAgICAgICAgICAgICBcIkV4ZWN1dGUgdGhpcyB0YXNrIGFuZCBwcm92aWRlIGEgZGV0YWlsZWQgcmVzdWx0IHN1bW1hcnkuXCIsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBVSS5wcmludGxuKCk7XG4gICAgICAgICAgICBVSS5wcmludGxuKHJlc3BvbnNlLmNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgVUkucHJpbnRsbigpO1xuICAgICAgICBVSS5zdWNjZXNzKFwiRXhlY3V0aW9uIGNvbXBsZXRlXCIpO1xuXG4gICAgICAgIC8vIENsZWFudXAgcmVzb3VyY2VzXG4gICAgICAgIGlmIChhY3RpdmVDbGllbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGFjdGl2ZUNsaWVudC5jbGVhbnVwKCk7XG4gICAgICAgICAgICBhY3RpdmVDbGllbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nLmluZm8oXCJFeGVjdXRpb24gY29tcGxldGVcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcy5zdG9wKFwiQ29ubmVjdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgIGxvZy5lcnJvcihcIkV4ZWN1dGlvbiBmYWlsZWRcIiwgeyBlcnJvcjogbWVzc2FnZSB9KTtcbiAgICAgICAgVUkuZXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlIGNsZWFudXAgb24gZXJyb3JcbiAgICAgICAgaWYgKGFjdGl2ZUNsaWVudCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBhY3RpdmVDbGllbnQuY2xlYW51cCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoY2xlYW51cEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW51cE1zZyA9XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXBFcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsZWFudXBFcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhjbGVhbnVwRXJyb3IpO1xuICAgICAgICAgICAgICAgIGxvZy5lcnJvcihcIkVycm9yIGR1cmluZyBlcnJvciBjbGVhbnVwXCIsIHsgZXJyb3I6IGNsZWFudXBNc2cgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3RpdmVDbGllbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cblxuICAgIG91dHJvKFwiRG9uZSFcIik7XG59XG4iCiAgXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7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LFNBQVMsWUFDWixNQUFNLFNBQVMsMEJBQ2YsTUFBTSxTQUFTLDBCQUNmLE1BQU0sU0FBUztBQUFBLEVBR3ZCLFNBQVMsV0FBVyxDQUFDLE9BQU87QUFBQSxJQUN4QixRQUFRO0FBQUEsV0FDQztBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBO0FBQUEsUUFFUCxPQUFPLEtBQUssVUFBVSxLQUFLO0FBQUE7QUFBQTtBQUFBLEVBSXZDLFNBQVMsU0FBUyxDQUFDLFFBQVE7QUFBQSxJQUN2QixRQUFRO0FBQUEsV0FDQztBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFdBQ0E7QUFBQTtBQUFBLFdBQ0E7QUFBQTtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUE7QUFBQSxJQUVmLFFBQVEsT0FBTztBQUFBLFdBQ047QUFBQSxXQUNBO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFDRCxPQUFPO0FBQUEsV0FDTjtBQUFBLFFBQ0QsT0FBTztBQUFBLFdBQ047QUFBQSxRQUNELE9BQU87QUFBQSxXQUNOO0FBQUEsUUFD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TyxTQUFPLEtBQUcsS0FBRyxRQUFNLE1BQUksS0FBRyxRQUFNLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxRQUFNLE1BQUksUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sVUFBUSxLQUFHLEtBQUcsVUFBUSxVQUFRLEtBQUcsS0FBRyxVQUFRLFVBQVEsS0FBRyxLQUFHLFVBQVEsVUFBUSxLQUFHLEtBQUcsVUFBUSxVQUFRLEtBQUcsS0FBRyxVQUFRLFVBQVEsS0FBRyxLQUFHLFVBQVEsVUFBUSxLQUFHLEtBQUcsVUFBUSxVQUFRLEtBQUcsS0FBRyxTQUFPLE1BQUksTUFBSSxLQUFHLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFFBQU0sT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxLQUFHLE9BQUssS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssT0FBSyxLQUFHLEtBQUcsT0FBSyxPQUFLLEtBQUcsS0FBRyxPQUFLLE9BQUssS0FBRyxLQUFHLE9BQUssS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLEtBQUcsUUFBTSxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sUUFBTSxLQUFHLEtBQUcsUUFBTSxRQUFNLEtBQUcsS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxRQUFNLFFBQU0sS0FBRyxLQUFHLFFBQU0sS0FBRyxTQUFPLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sU0FBTyxLQUFHLEtBQUcsU0FBTyxTQUFPLEtBQUcsS0FBRyxTQUFPLFNBQU8sS0FBRyxLQUFHLFNBQU8sS0FBRyxTQUFPLFVBQVEsS0FBRyxLQUFHLFVBQVEsVUFBUSxLQUFHLEtBQUcsVUFBUSxVQUFRLEtBQUcsS0FBRyxVQUFRLFVBQVEsS0FBRyxLQUFHLFVBQVEsVUFBUSxLQUFHLEtBQUcsVUFBUSxVQUFRLEtBQUcsS0FBRyxXQUFTLFdBQVMsS0FBRyxLQUFHLFVBQVEsTUFBSTtBQUFBLEtBQUssRUFBRSxrQkFBZ0IsUUFBUSxDQUFDLEdBQUU7QUFBQSxJQUFDLElBQUksSUFBRSxLQUFLLGVBQWUsQ0FBQztBQUFBLElBQUUsT0FBTyxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsTUFBSSxJQUFFO0FBQUE7QUFBQSxFQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUU7QUFBQSxJQUFDLE9BQU8sRUFBRSxNQUFNLGtEQUFrRCxLQUFHLENBQUM7QUFBQTtBQUFBLEVBQUUsRUFBRSxTQUFPLFFBQVEsQ0FBQyxHQUFFO0FBQUEsSUFBQyxTQUFRLElBQUUsRUFBRSxDQUFDLEdBQUUsSUFBRSxHQUFFLElBQUUsRUFBRSxJQUFFLEVBQUUsUUFBTztBQUFBLE1BQUksSUFBRSxJQUFFLEtBQUssZ0JBQWdCLEVBQUUsRUFBRTtBQUFBLElBQUUsT0FBTztBQUFBLEtBQUcsRUFBRSxRQUFNLFFBQVEsQ0FBQyxHQUFFLEdBQUUsR0FBRTtBQUFBLElBQUMsVUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFFLElBQUUsS0FBRyxHQUFFLElBQUUsS0FBRyxHQUFFLElBQUUsTUFBSSxJQUFFLFVBQVEsSUFBRyxJQUFFLE1BQUksSUFBRSxVQUFRO0FBQUEsSUFBRyxTQUFRLElBQUUsSUFBRyxJQUFFLEdBQUUsSUFBRSxFQUFFLENBQUMsR0FBRSxJQUFFLEVBQUUsSUFBRSxFQUFFLFFBQU8sS0FBSTtBQUFBLE1BQUMsSUFBSSxJQUFFLEVBQUUsSUFBRyxJQUFFLEVBQUUsT0FBTyxDQUFDO0FBQUEsTUFBRSxJQUFHLEtBQUcsS0FBRyxLQUFHLElBQUUsSUFBRTtBQUFBLFFBQUcsSUFBRyxJQUFFLEtBQUc7QUFBQSxVQUFFLEtBQUc7QUFBQSxRQUFPO0FBQUE7QUFBQSxNQUFNLEtBQUc7QUFBQSxJQUFDO0FBQUEsSUFBQyxPQUFPO0FBQUE7QUFBQSxHQUFLLENBQUM7QUFBRSxJQUFJLEtBQUcsRUFBRTtBQUFRLElBQU0sS0FBRyxFQUFFLEVBQUU7QUFBRSxJQUFJLEtBQUcsUUFBUSxHQUFFO0FBQUEsRUFBQyxPQUFNO0FBQUE7QUFBa3llLElBQU0sS0FBRyxFQUFFLEVBQUU7QUFBRSxTQUFTLENBQUMsQ0FBQyxHQUFFLElBQUUsQ0FBQyxHQUFFO0FBQUEsRUFBQyxJQUFHLE9BQU8sS0FBRyxZQUFVLEVBQUUsV0FBUyxNQUFJLElBQUUsRUFBQyxtQkFBa0IsU0FBTSxFQUFDLEdBQUUsSUFBRSxFQUFFLENBQUMsR0FBRSxFQUFFLFdBQVM7QUFBQSxJQUFHLE9BQU87QUFBQSxFQUFFLElBQUUsRUFBRSxRQUFRLEdBQUcsR0FBRSxJQUFJO0FBQUEsRUFBRSxNQUFNLElBQUUsRUFBRSxvQkFBa0IsSUFBRTtBQUFBLEVBQUUsSUFBSSxJQUFFO0FBQUEsRUFBRSxXQUFVLEtBQUssR0FBRTtBQUFBLElBQUMsTUFBTSxJQUFFLEVBQUUsWUFBWSxDQUFDO0FBQUEsSUFBRSxJQUFHLEtBQUcsTUFBSSxLQUFHLE9BQUssS0FBRyxPQUFLLEtBQUcsT0FBSyxLQUFHO0FBQUEsTUFBSTtBQUFBLElBQVMsUUFBTyxHQUFHLGVBQWUsQ0FBQztBQUFBLFdBQU87QUFBQSxXQUFRO0FBQUEsUUFBSSxLQUFHO0FBQUEsUUFBRTtBQUFBLFdBQVU7QUFBQSxRQUFJLEtBQUc7QUFBQSxRQUFFO0FBQUE7QUFBQSxRQUFjLEtBQUc7QUFBQTtBQUFBLEVBQUU7QUFBQSxFQUFDLE9BQU87QUFBQTtBQUFFLElBQU0sSUFBRTtBQUFSLElBQVcsSUFBRSxDQUFDLElBQUUsTUFBSSxPQUFHLFFBQVEsSUFBRTtBQUFqQyxJQUFzQyxJQUFFLENBQUMsSUFBRSxNQUFJLE9BQUcsUUFBUSxLQUFHLE9BQU87QUFBcEUsSUFBeUUsSUFBRSxDQUFDLElBQUUsTUFBSSxDQUFDLEdBQUUsR0FBRSxNQUFJLFFBQVEsS0FBRyxPQUFPLEtBQUssS0FBSztBQUF2SCxJQUE0SCxJQUFFLEVBQUMsVUFBUyxFQUFDLE9BQU0sQ0FBQyxHQUFFLENBQUMsR0FBRSxNQUFLLENBQUMsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsRUFBRSxHQUFFLFFBQU8sQ0FBQyxHQUFFLEVBQUUsR0FBRSxXQUFVLENBQUMsR0FBRSxFQUFFLEdBQUUsVUFBUyxDQUFDLElBQUcsRUFBRSxHQUFFLFNBQVEsQ0FBQyxHQUFFLEVBQUUsR0FBRSxRQUFPLENBQUMsR0FBRSxFQUFFLEdBQUUsZUFBYyxDQUFDLEdBQUUsRUFBRSxFQUFDLEdBQUUsT0FBTSxFQUFDLE9BQU0sQ0FBQyxJQUFHLEVBQUUsR0FBRSxLQUFJLENBQUMsSUFBRyxFQUFFLEdBQUUsT0FBTSxDQUFDLElBQUcsRUFBRSxHQUFFLFFBQU8sQ0FBQyxJQUFHLEVBQUUsR0FBRSxNQUFLLENBQUMsSUFBRyxFQUFFLEdBQUUsU0FBUSxDQUFDLElBQUcsRUFBRSxHQUFFLE1BQUssQ0FBQyxJQUFHLEVBQUUsR0FBRSxPQUFNLENBQUMsSUFBRyxFQUFFLEdBQUUsYUFBWSxDQUFDLElBQUcsRUFBRSxHQUFFLE1BQUssQ0FBQyxJQUFHLEVBQUUsR0FBRSxNQUFLLENBQUMsSUFBRyxFQUFFLEdBQUUsV0FBVSxDQUFDLElBQUcsRUFBRSxHQUFFLGFBQVksQ0FBQyxJQUFHLEVBQUUsR0FBRSxjQUFhLENBQUMsSUFBRyxFQUFFLEdBQUUsWUFBVyxDQUFDLElBQUcsRUFBRSxHQUFFLGVBQWMsQ0FBQyxJQUFHLEVBQUUsR0FBRSxZQUFXLENBQUMsSUFBRyxFQUFFLEdBQUUsYUFBWSxDQUFDLElBQUcsRUFBRSxFQUFDLEdBQUUsU0FBUSxFQUFDLFNBQVEsQ0FBQyxJQUFHLEVBQUUsR0FBRSxPQUFNLENBQUMsSUFBRyxFQUFFLEdBQUUsU0FBUSxDQUFDLElBQUcsRUFBRSxHQUFFLFVBQVMsQ0FBQyxJQUFHLEVBQUUsR0FBRSxRQUFPLENBQUMsSUFBRyxFQUFFLEdBQUUsV0FBVSxDQUFDLElBQUcsRUFBRSxHQUFFLFFBQU8sQ0FBQyxJQUFHLEVBQUUsR0FBRSxTQUFRLENBQUMsSUFBRyxFQUFFLEdBQUUsZUFBYyxDQUFDLEtBQUks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RUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsSUFBSSxJQUFJO0FBQWhMLElBQW9MLEtBQUcsT0FBRyxFQUFFLE1BQU0sR0FBRyxFQUFFLElBQUksT0FBRyxFQUFFLENBQUMsQ0FBQztBQUFsTixJQUFvTixJQUFFLENBQUMsR0FBRSxHQUFFLE1BQUk7QUFBQSxFQUFDLE1BQU0sSUFBRSxDQUFDLEdBQUcsQ0FBQztBQUFBLEVBQUUsSUFBSSxJQUFFLE9BQUcsSUFBRSxPQUFHLElBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFPLEVBQUUsQ0FBQztBQUFBLEVBQUUsWUFBVSxHQUFFLE1BQUssRUFBRSxRQUFRLEdBQUU7QUFBQSxJQUFDLE1BQU0sSUFBRSxFQUFFLENBQUM7QUFBQSxJQUFFLElBQUcsSUFBRSxLQUFHLElBQUUsRUFBRSxFQUFFLFNBQU8sTUFBSSxLQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUUsSUFBRSxJQUFHLEVBQUUsSUFBSSxDQUFDLE1BQUksSUFBRSxNQUFHLElBQUUsRUFBRSxNQUFNLElBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFdBQVcsQ0FBQyxJQUFHLEdBQUU7QUFBQSxNQUFDLElBQUUsTUFBSSxNQUFJLElBQUUsT0FBRyxJQUFFLFNBQUksTUFBSSxNQUFJLElBQUU7QUFBQSxNQUFJO0FBQUEsSUFBUTtBQUFBLElBQUMsS0FBRyxHQUFFLE1BQUksS0FBRyxJQUFFLEVBQUUsU0FBTyxNQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUUsSUFBRTtBQUFBLEVBQUU7QUFBQSxFQUFDLENBQUMsS0FBRyxFQUFFLEVBQUUsU0FBTyxHQUFHLFNBQU8sS0FBRyxFQUFFLFNBQU8sTUFBSSxFQUFFLEVBQUUsU0FBTyxNQUFJLEVBQUUsSUFBSTtBQUFBO0FBQXhqQixJQUE0akIsS0FBRyxPQUFHO0FBQUEsRUFBQyxNQUFNLElBQUUsRUFBRSxNQUFNLEdBQUc7QUFBQSxFQUFFLElBQUksSUFBRSxFQUFFO0FBQUEsRUFBTyxNQUFLLElBQUUsS0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFFLEVBQUUsSUFBRTtBQUFBLElBQUk7QUFBQSxFQUFJLE9BQU8sTUFBSSxFQUFFLFNBQU8sSUFBRSxFQUFFLE1BQU0sR0FBRSxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUUsRUFBRSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFBQTtBQUFwc0IsSUFBdXNCLEtBQUcsQ0FBQyxHQUFFLEdBQUUsSUFBRSxDQUFDLE1BQUk7QUFBQSxFQUFDLElBQUcsRUFBRSxTQUFPLFNBQUksRUFBRSxLQUFLLE1BQUk7QUFBQSxJQUFHLE9BQU07QUFBQSxFQUFHLElBQUksSUFBRSxJQUFHLEdBQUU7QUFBQSxFQUFFLE1BQU0sSUFBRSxHQUFHLENBQUM7QUFBQSxFQUFFLElBQUksSUFBRSxDQUFDLEVBQUU7QUFBQSxFQUFFLFlBQVUsR0FBRSxNQUFLLEVBQUUsTUFBTSxHQUFHLEVBQUUsUUFBUSxHQUFFO0FBQUEsSUFBQyxFQUFFLFNBQU8sVUFBSyxFQUFFLEVBQUUsU0FBTyxLQUFHLEVBQUUsRUFBRSxTQUFPLEdBQUcsVUFBVTtBQUFBLElBQUcsSUFBSSxJQUFFLEVBQUUsRUFBRSxFQUFFLFNBQU8sRUFBRTtBQUFBLElBQUUsSUFBRyxNQUFJLE1BQUksS0FBRyxNQUFJLEVBQUUsYUFBVyxTQUFJLEVBQUUsU0FBTyxXQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUUsSUFBRSxLQUFJLElBQUUsS0FBRyxFQUFFLFNBQU8sV0FBTSxFQUFFLEVBQUUsU0FBTyxNQUFJLEtBQUksT0FBTSxFQUFFLFFBQU0sRUFBRSxLQUFHLEdBQUU7QUFBQSxNQUFDLE1BQU0sSUFBRSxJQUFFLEdBQUUsSUFBRSxJQUFFLEtBQUssT0FBTyxFQUFFLEtBQUcsSUFBRSxLQUFHLENBQUM7QUFBQSxNQUFFLEtBQUssT0FBTyxFQUFFLEtBQUcsS0FBRyxDQUFDLElBQUUsS0FBRyxFQUFFLEtBQUssRUFBRSxHQUFFLEVBQUUsR0FBRSxHQUFFLENBQUM7QUFBQSxNQUFFO0FBQUEsSUFBUTtBQUFBLElBQUMsSUFBRyxJQUFFLEVBQUUsS0FBRyxLQUFHLElBQUUsS0FBRyxFQUFFLEtBQUcsR0FBRTtBQUFBLE1BQUMsSUFBRyxFQUFFLGFBQVcsU0FBSSxJQUFFLEdBQUU7QUFBQSxRQUFDLEVBQUUsR0FBRSxHQUFFLENBQUM7QUFBQSxRQUFFO0FBQUEsTUFBUTtBQUFBLE1BQUMsRUFBRSxLQUFLLEVBQUU7QUFBQSxJQUFDO0FBQUEsSUFBQyxJQUFHLElBQUUsRUFBRSxLQUFHLEtBQUcsRUFBRSxhQUFXLE9BQUc7QUFBQSxNQUFDLEVBQUUsR0FBRSxHQUFFLENBQUM7QUFBQSxNQUFFO0FBQUEsSUFBUTtBQUFBLElBQUMsRUFBRSxFQUFFLFNBQU8sTUFBSTtBQUFBLEVBQUM7QUFBQSxFQUFDLEVBQUUsU0FBTyxVQUFLLElBQUUsRUFBRSxJQUFJLE9BQUcsR0FBRyxDQUFDLENBQUM7QUFBQSxFQUFHLE1BQU0sSUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLO0FBQUEsQ0FDNXR3QixDQUFDO0FBQUEsRUFBRSxZQUFVLEdBQUUsTUFBSyxFQUFFLFFBQVEsR0FBRTtBQUFBLElBQUMsSUFBRyxLQUFHLEdBQUUsRUFBRSxJQUFJLENBQUMsR0FBRTtBQUFBLE1BQUMsUUFBTSxRQUFPLE1BQUcsSUFBSSxPQUFPLFFBQVEscUJBQXFCLGNBQWMsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxLQUFHLEVBQUMsUUFBTyxDQUFDLEVBQUM7QUFBQSxNQUFFLElBQUcsRUFBRSxTQUFZLFdBQUU7QUFBQSxRQUFDLE1BQU0sSUFBRSxPQUFPLFdBQVcsRUFBRSxJQUFJO0FBQUEsUUFBRSxJQUFFLE1BQUksS0FBUSxZQUFFO0FBQUEsTUFBQyxFQUFNO0FBQUEsVUFBRSxRQUFXLGNBQUksSUFBRSxFQUFFLElBQUksV0FBUyxJQUFPLFlBQUUsRUFBRTtBQUFBLElBQUk7QUFBQSxJQUFDLE1BQU0sSUFBRSxHQUFHLE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQztBQUFBLElBQUUsRUFBRSxJQUFFLE9BQUs7QUFBQSxLQUM1VSxNQUFJLEtBQUcsRUFBRSxFQUFFLElBQUcsS0FBRyxNQUFJLEtBQUcsRUFBRSxDQUFDLE1BQUksTUFBSTtBQUFBLE1BQ2xDLEtBQUcsTUFBSSxLQUFHLEVBQUUsQ0FBQyxJQUFHLE1BQUksS0FBRyxFQUFFLENBQUM7QUFBQSxFQUFHO0FBQUEsRUFBQyxPQUFPO0FBQUE7QUFBRyxTQUFTLENBQUMsQ0FBQyxHQUFFLEdBQUUsR0FBRTtBQUFBLEVBQUMsT0FBTyxPQUFPLENBQUMsRUFBRSxVQUFVLEVBQUUsUUFBUSxTQUFRO0FBQUEsQ0FDMUcsRUFBRSxNQUFNO0FBQUEsQ0FDUixFQUFFLElBQUksT0FBRyxHQUFHLEdBQUUsR0FBRSxDQUFDLENBQUMsRUFBRSxLQUFLO0FBQUEsQ0FDekI7QUFBQTtBQUFFLElBQU0sS0FBRyxDQUFDLE1BQUssUUFBTyxRQUFPLFNBQVEsU0FBUSxTQUFRLFFBQVE7QUFBN0QsSUFBK0QsSUFBRSxFQUFDLFNBQVEsSUFBSSxJQUFJLEVBQUUsR0FBRSxTQUFRLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSSxJQUFJLEdBQUUsQ0FBQyxLQUFJLE1BQU0sR0FBRSxDQUFDLEtBQUksTUFBTSxHQUFFLENBQUMsS0FBSSxPQUFPLEdBQUUsQ0FBQyxRQUFJLFFBQVEsR0FBRSxDQUFDLFVBQVMsUUFBUSxDQUFDLENBQUMsRUFBQztBQUEyTSxTQUFTLENBQUMsQ0FBQyxHQUFFLEdBQUU7QUFBQSxFQUFDLElBQUcsT0FBTyxLQUFHO0FBQUEsSUFBUyxPQUFPLEVBQUUsUUFBUSxJQUFJLENBQUMsTUFBSTtBQUFBLEVBQUUsV0FBVSxLQUFLO0FBQUEsSUFBRSxJQUFHLE1BQVMsYUFBRyxFQUFFLEdBQUUsQ0FBQztBQUFBLE1BQUUsT0FBTTtBQUFBLEVBQUcsT0FBTTtBQUFBO0FBQUcsU0FBUyxFQUFFLENBQUMsR0FBRSxHQUFFO0FBQUEsRUFBQyxJQUFHLE1BQUk7QUFBQSxJQUFFO0FBQUEsRUFBTyxNQUFNLElBQUUsRUFBRSxNQUFNO0FBQUEsQ0FDdmpCLEdBQUUsSUFBRSxFQUFFLE1BQU07QUFBQSxDQUNaLEdBQUUsSUFBRSxDQUFDO0FBQUEsRUFBRSxTQUFRLElBQUUsRUFBRSxJQUFFLEtBQUssSUFBSSxFQUFFLFFBQU8sRUFBRSxNQUFNLEdBQUU7QUFBQSxJQUFJLEVBQUUsT0FBSyxFQUFFLE1BQUksRUFBRSxLQUFLLENBQUM7QUFBQSxFQUFFLE9BQU87QUFBQTtBQUFFLElBQU0sS0FBRyxXQUFXLFFBQVEsU0FBUyxXQUFXLEtBQUs7QUFBckQsSUFBdUQsSUFBRSxPQUFPLGNBQWM7QUFBRSxTQUFTLEVBQUUsQ0FBQyxHQUFFO0FBQUEsRUFBQyxPQUFPLE1BQUk7QUFBQTtBQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUUsR0FBRTtBQUFBLEVBQUMsTUFBTSxJQUFFO0FBQUEsRUFBRSxFQUFFLFNBQU8sRUFBRSxXQUFXLENBQUM7QUFBQTtBQUFFLFNBQVMsRUFBRSxHQUFFLE9BQU0sSUFBRSxHQUFFLFFBQU8sSUFBRSxHQUFFLFdBQVUsSUFBRSxNQUFHLFlBQVcsSUFBRSxTQUFJLENBQUMsR0FBRTtBQUFBLEVBQUMsTUFBTSxJQUFJLGtCQUFnQixFQUFDLE9BQU0sR0FBRSxRQUFPLEdBQUUsUUFBTyxJQUFHLFNBQVEsRUFBQyxDQUFDO0FBQUEsRUFBSSxxQkFBbUIsR0FBRSxDQUFDLEdBQUUsRUFBRSxTQUFPLEVBQUUsV0FBVyxJQUFFO0FBQUEsRUFBRSxNQUFNLElBQUUsQ0FBQyxLQUFHLE1BQUssR0FBRSxVQUFTLFFBQUs7QUFBQSxJQUFDLE1BQU0sSUFBRSxPQUFPLENBQUM7QUFBQSxJQUFFLElBQUcsRUFBRSxDQUFDLEdBQUUsR0FBRSxDQUFDLEdBQUUsUUFBUSxHQUFFO0FBQUEsTUFBQyxLQUFHLEVBQUUsTUFBTSx5QkFBRSxJQUFJLEdBQUUsUUFBUSxLQUFLLENBQUM7QUFBQSxNQUFFO0FBQUEsSUFBTTtBQUFBLElBQUMsSUFBRyxDQUFDO0FBQUEsTUFBRTtBQUFBLElBQU8sTUFBTSxJQUFFLE1BQUksV0FBUyxJQUFFLElBQUcsSUFBRSxNQUFJLFdBQVMsS0FBRztBQUFBLElBQUksYUFBVyxHQUFFLEdBQUUsR0FBRSxNQUFJO0FBQUEsTUFBRyxZQUFVLEdBQUUsR0FBRSxNQUFJO0FBQUEsUUFBQyxFQUFFLEtBQUssWUFBVyxDQUFDO0FBQUEsT0FBRTtBQUFBLEtBQUU7QUFBQTtBQUFBLEVBQUcsT0FBTyxLQUFHLEVBQUUsTUFBTSx5QkFBRSxJQUFJLEdBQUUsRUFBRSxLQUFLLFlBQVcsQ0FBQyxHQUFFLE1BQUk7QUFBQSxJQUFDLEVBQUUsSUFBSSxZQUFXLENBQUMsR0FBRSxLQUFHLEVBQUUsTUFBTSx5QkFBRSxJQUFJLEdBQUUsRUFBRSxTQUFPLENBQUMsTUFBSSxFQUFFLFdBQVcsS0FBRSxHQUFFLEVBQUUsV0FBUyxPQUFHLEVBQUUsTUFBTTtBQUFBO0FBQUE7QUFBRyxJQUFJLEtBQUcsT0FBTztBQUFkLElBQTZCLEtBQUcsQ0FBQyxHQUFFLEdBQUUsT0FBSSxLQUFLLEtBQUUsR0FBRyxHQUFFLEdBQUUsRUFBQyxZQUFXLE1BQUcsY0FBYSxNQUFHLFVBQVMsTUFBRyxPQUFNLEVBQUMsQ0FBQyxJQUFFLEVBQUUsS0FBRztBQUFqSCxJQUFtSCxJQUFFLENBQUMsR0FBRSxHQUFFLE9BQUssR0FBRyxHQUFFLE9BQU8sS0FBRyxXQUFTLElBQUUsS0FBRyxHQUFFLENBQUMsR0FBRTtBQUFBO0FBQUcsTUFBTSxFQUFDO0FBQUEsRUFBQyxXQUFXLENBQUMsR0FBRSxJQUFFLE1BQUc7QUFBQSxJQUFDLEVBQUUsTUFBSyxPQUFPLEdBQUUsRUFBRSxNQUFLLFFBQVEsR0FBRSxFQUFFLE1BQUssY0FBYyxHQUFFLEVBQUUsTUFBSyxJQUFJLEdBQUUsRUFBRSxNQUFLLE1BQU0sR0FBRSxFQUFFLE1BQUssU0FBUyxHQUFFLEVBQUUsTUFBSyxVQUFTLEtBQUUsR0FBRSxFQUFFLE1BQUssY0FBYSxFQUFFLEdBQUUsRUFBRSxNQUFLLGdCQUFlLElBQUksR0FBRyxHQUFFLEVBQUUsTUFBSyxXQUFVLENBQUMsR0FBRSxFQUFFLE1BQUssU0FBUSxTQUFTLEdBQUUsRUFBRSxNQUFLLFNBQVEsRUFBRSxHQUFFLEVBQUUsTUFBSyxPQUFPO0FBQUEsSUFBRSxRQUFNLE9BQU0sSUFBRSxHQUFFLFFBQU8sSUFBRSxHQUFFLFFBQU8sR0FBRSxRQUFPLE1BQUssTUFBRztBQUFBLElBQUUsS0FBSyxPQUFLLEdBQUUsS0FBSyxhQUFXLEtBQUssV0FBVyxLQUFLLElBQUksR0FBRSxLQUFLLFFBQU0sS0FBSyxNQUFNLEtBQUssSUFBSSxHQUFFLEtBQUssU0FBTyxLQUFLLE9BQU8sS0FBSyxJQUFJLEdBQUUsS0FBSyxVQUFRLEVBQUUsS0FBSyxJQUFJLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxlQUFhLEdBQUUsS0FBSyxRQUFNLEdBQUUsS0FBSyxTQUFPO0FBQUE7QUFBQSxFQUFFLFdBQVcsR0FBRTtBQUFBLElBQUMsS0FBSyxhQUFhLE1BQU07QUFBQTtBQUFBLEVBQUUsYUFBYSxDQUFDLEdBQUUsR0FBRTtBQUFBLElBQUMsTUFBTSxJQUFFLEtBQUssYUFBYSxJQUFJLENBQUMsS0FBRyxDQUFDO0FBQUEsSUFBRSxFQUFFLEtBQUssQ0FBQyxHQUFFLEtBQUssYUFBYSxJQUFJLEdBQUUsQ0FBQztBQUFBO0FBQUEsRUFBRSxFQUFFLENBQUMsR0FBRSxHQUFFO0FBQUEsSUFBQyxLQUFLLGNBQWMsR0FBRSxFQUFDLElBQUcsRUFBQyxDQUFDO0FBQUE7QUFBQSxFQUFFLElBQUksQ0FBQyxHQUFFLEdBQUU7QUFBQSxJQUFDLEtBQUssY0FBYyxHQUFFLEVBQUMsSUFBRyxHQUFFLE1BQUssS0FBRSxDQUFDO0FBQUE7QUFBQSxFQUFFLElBQUksQ0FBQyxNQUFLLEdBQUU7QUFBQSxJQUFDLE1BQU0sSUFBRSxLQUFLLGFBQWEsSUFBSSxDQUFDLEtBQUcsQ0FBQyxHQUFFLElBQUUsQ0FBQztBQUFBLElBQUUsV0FBVSxLQUFLO0FBQUEsTUFBRSxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUUsRUFBRSxRQUFNLEVBQUUsS0FBSyxNQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxHQUFFLENBQUMsQ0FBQztBQUFBLElBQUUsV0FBVSxLQUFLO0FBQUEsTUFBRSxFQUFFO0FBQUE7QUFBQSxFQUFFLE1BQU0sR0FBRTtBQUFBLElBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFFLE1BQUk7QUFBQSxNQUFDLElBQUcsS0FBSyxjQUFhO0FBQUEsUUFBQyxJQUFHLEtBQUssYUFBYTtBQUFBLFVBQVEsT0FBTyxLQUFLLFFBQU0sVUFBUyxLQUFLLE1BQU0sR0FBRSxFQUFFLENBQUM7QUFBQSxRQUFFLEtBQUssYUFBYSxpQkFBaUIsU0FBUSxNQUFJO0FBQUEsVUFBQyxLQUFLLFFBQU0sVUFBUyxLQUFLLE1BQU07QUFBQSxXQUFHLEVBQUMsTUFBSyxLQUFFLENBQUM7QUFBQSxNQUFDO0FBQUEsTUFBQyxNQUFNLElBQUUsSUFBSTtBQUFBLE1BQUUsRUFBRSxTQUFPLENBQUMsR0FBRSxHQUFFLE1BQUk7QUFBQSxRQUFDLEtBQUssV0FBUyxLQUFLLFFBQU0sS0FBSyxJQUFJLEtBQUssUUFBUSxPQUFNLEVBQUUsR0FBRSxLQUFLLFVBQVEsS0FBSyxJQUFJLFVBQVEsR0FBRSxLQUFLLEtBQUssU0FBUSxLQUFLLEtBQUssSUFBRyxFQUFFO0FBQUEsU0FBRyxLQUFLLE1BQU0sS0FBSyxDQUFDLEdBQUUsS0FBSyxLQUFHLEVBQUUsZ0JBQWdCLEVBQUMsT0FBTSxLQUFLLE9BQU0sUUFBTyxHQUFFLFNBQVEsR0FBRSxRQUFPLElBQUcsbUJBQWtCLElBQUcsVUFBUyxLQUFFLENBQUMsR0FBRSxFQUFFLG1CQUFtQixLQUFLLE9BQU0sS0FBSyxFQUFFLEdBQUUsS0FBSyxHQUFHLE9BQU8sR0FBRSxLQUFLLEtBQUssaUJBQW9CLGFBQUcsS0FBSyxVQUFRLEtBQUssR0FBRyxNQUFNLEtBQUssS0FBSyxZQUFZLEdBQUUsS0FBSyxNQUFNLEdBQUcsWUFBVyxLQUFLLFVBQVUsR0FBRSxFQUFFLEtBQUssT0FBTSxJQUFFLEdBQUUsS0FBSyxPQUFPLEdBQUcsVUFBUyxLQUFLLE1BQU0sR0FBRSxLQUFLLE9BQU8sR0FBRSxLQUFLLEtBQUssVUFBUyxNQUFJO0FBQUEsUUFBQyxLQUFLLE9BQU8sTUFBTSx5QkFBRSxJQUFJLEdBQUUsS0FBSyxPQUFPLElBQUksVUFBUyxLQUFLLE1BQU0sR0FBRSxFQUFFLEtBQUssT0FBTSxLQUFFLEdBQUUsRUFBRSxLQUFLLEtBQUs7QUFBQSxPQUFFLEdBQUUsS0FBSyxLQUFLLFVBQVMsTUFBSTtBQUFBLFFBQUMsS0FBSyxPQUFPLE1BQU0seUJBQUUsSUFBSSxHQUFFLEtBQUssT0FBTyxJQUFJLFVBQVMsS0FBSyxNQUFNLEdBQUUsRUFBRSxLQUFLLE9BQU0sS0FBRSxHQUFFLEVBQUUsQ0FBQztBQUFBLE9BQUU7QUFBQSxLQUFFO0FBQUE7QUFBQSxFQUFFLFVBQVUsQ0FBQyxHQUFFLEdBQUU7QUFBQSxJQUFDLElBQUcsS0FBSyxVQUFRLFlBQVUsS0FBSyxRQUFNLFdBQVUsR0FBRyxTQUFPLENBQUMsS0FBSyxVQUFRLEVBQUUsUUFBUSxJQUFJLEVBQUUsSUFBSSxLQUFHLEtBQUssS0FBSyxVQUFTLEVBQUUsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUUsRUFBRSxRQUFRLElBQUksRUFBRSxJQUFJLEtBQUcsS0FBSyxLQUFLLFVBQVMsRUFBRSxJQUFJLElBQUcsTUFBSSxFQUFFLFlBQVksTUFBSSxPQUFLLEVBQUUsWUFBWSxNQUFJLFFBQU0sS0FBSyxLQUFLLFdBQVUsRUFBRSxZQUFZLE1BQUksR0FBRyxHQUFFLE1BQUksUUFBSyxLQUFLLEtBQUssZ0JBQWMsS0FBSyxVQUFRLEtBQUssSUFBSSxNQUFNLEtBQUssS0FBSyxXQUFXLEdBQUUsS0FBSyxLQUFLLFNBQVEsS0FBSyxLQUFLLFdBQVcsS0FBSSxLQUFHLEtBQUssS0FBSyxPQUFNLEVBQUUsWUFBWSxDQUFDLEdBQUUsR0FBRyxTQUFPLFVBQVM7QUFBQSxNQUFDLElBQUcsS0FBSyxLQUFLLFVBQVM7QUFBQSxRQUFDLE1BQU0sSUFBRSxLQUFLLEtBQUssU0FBUyxLQUFLLEtBQUs7QUFBQSxRQUFFLE1BQUksS0FBSyxRQUFNLGFBQWEsUUFBTSxFQUFFLFVBQVEsR0FBRSxLQUFLLFFBQU0sU0FBUSxLQUFLLElBQUksTUFBTSxLQUFLLEtBQUs7QUFBQSxNQUFFO0FBQUEsTUFBQyxLQUFLLFVBQVEsWUFBVSxLQUFLLFFBQU07QUFBQSxJQUFTO0FBQUEsSUFBQyxFQUFFLENBQUMsR0FBRSxHQUFHLE1BQUssR0FBRyxRQUFRLEdBQUUsUUFBUSxNQUFJLEtBQUssUUFBTSxZQUFXLEtBQUssVUFBUSxZQUFVLEtBQUssVUFBUSxhQUFXLEtBQUssS0FBSyxVQUFVLEdBQUUsS0FBSyxPQUFPLElBQUcsS0FBSyxVQUFRLFlBQVUsS0FBSyxVQUFRLGFBQVcsS0FBSyxNQUFNO0FBQUE7QUFBQSxFQUFFLEtBQUssR0FBRTtBQUFBLElBQUMsS0FBSyxNQUFNLE9BQU8sR0FBRSxLQUFLLE1BQU0sZUFBZSxZQUFXLEtBQUssVUFBVSxHQUFFLEtBQUssT0FBTyxNQUFNO0FBQUEsQ0FDOXlILEdBQUUsRUFBRSxLQUFLLE9BQU0sS0FBRSxHQUFFLEtBQUssSUFBSSxNQUFNLEdBQUUsS0FBSyxLQUFRLFdBQUUsS0FBSyxLQUFLLEdBQUcsS0FBSyxTQUFRLEtBQUssS0FBSyxHQUFFLEtBQUssWUFBWTtBQUFBO0FBQUEsRUFBRSxhQUFhLEdBQUU7QUFBQSxJQUFDLE1BQU0sSUFBRSxFQUFFLEtBQUssWUFBVyxRQUFRLE9BQU8sU0FBUSxFQUFDLE1BQUssS0FBRSxDQUFDLEVBQUUsTUFBTTtBQUFBLENBQzlMLEVBQUUsU0FBTztBQUFBLElBQUUsS0FBSyxPQUFPLE1BQU0seUJBQUUsS0FBSyxNQUFLLElBQUUsRUFBRSxDQUFDO0FBQUE7QUFBQSxFQUFFLE1BQU0sR0FBRTtBQUFBLElBQUMsTUFBTSxJQUFFLEVBQUUsS0FBSyxRQUFRLElBQUksS0FBRyxJQUFHLFFBQVEsT0FBTyxTQUFRLEVBQUMsTUFBSyxLQUFFLENBQUM7QUFBQSxJQUFFLElBQUcsTUFBSSxLQUFLLFlBQVc7QUFBQSxNQUFDLElBQUcsS0FBSyxVQUFRO0FBQUEsUUFBVSxLQUFLLE9BQU8sTUFBTSx5QkFBRSxJQUFJO0FBQUEsTUFBTTtBQUFBLFFBQUMsTUFBTSxJQUFFLEdBQUcsS0FBSyxZQUFXLENBQUM7QUFB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USxlQUFlLFVBQVMsQ0FBQyxHQUFFLFFBQVEsZUFBZSxXQUFVLENBQUMsR0FBRSxRQUFRLGVBQWUsUUFBTyxFQUFDO0FBQUEsS0FBRyxLQUFFLE1BQUk7QUFBQSxJQUFDLElBQUcsT0FBUztBQUFBLE1BQUU7QUFBQSxJQUFPLEtBQUcsUUFBUSxPQUFPLE1BQU07QUFBQSxDQUNyNUI7QUFBQSxJQUFFLE1BQU0sS0FBRSxHQUFFLE1BQU07QUFBQSxDQUNsQjtBQUFBLElBQUUsUUFBUSxPQUFPLE1BQU0sMEJBQUcsS0FBSyxNQUFLLEdBQUUsU0FBTyxDQUFDLENBQUMsR0FBRSxRQUFRLE9BQU8sTUFBTSx5QkFBRyxLQUFLLEdBQUUsTUFBTSxDQUFDO0FBQUEsS0FBRyxLQUFFLFFBQUcsR0FBRSxRQUFRLFFBQU8sRUFBRSxHQUFFLEtBQUUsUUFBRztBQUFBLElBQUMsTUFBTSxNQUFHLFlBQVksSUFBSSxJQUFFLE1BQUcsTUFBSSxLQUFFLEtBQUssTUFBTSxLQUFFLEVBQUUsR0FBRSxLQUFFLEtBQUssTUFBTSxLQUFFLEVBQUU7QUFBQSxJQUFFLE9BQU8sS0FBRSxJQUFFLElBQUksT0FBTSxTQUFNLElBQUk7QUFBQSxLQUFPLElBQUUsQ0FBQyxLQUFFLE9BQUs7QUFBQSxJQUFDLElBQUUsTUFBRyxJQUFFLEdBQUcsR0FBRSxLQUFFLEdBQUUsRUFBQyxHQUFFLEtBQUUsWUFBWSxJQUFJLEdBQUUsUUFBUSxPQUFPLE1BQU0sR0FBRywwQkFBRSxLQUFLLENBQUM7QUFBQSxDQUMxVDtBQUFBLElBQUUsSUFBSSxLQUFFLEdBQUUsS0FBRTtBQUFBLElBQUUsR0FBRSxHQUFFLElBQUUsWUFBWSxNQUFJO0FBQUEsTUFBQyxJQUFHLEtBQUcsT0FBSTtBQUFBLFFBQUU7QUFBQSxNQUFPLEdBQUUsR0FBRSxLQUFFO0FBQUEsTUFBRSxNQUFNLEtBQUUsMEJBQUUsUUFBUSxFQUFFLEdBQUU7QUFBQSxNQUFFLElBQUc7QUFBQSxRQUFFLFFBQVEsT0FBTyxNQUFNLEdBQUcsT0FBTSxPQUFNO0FBQUEsTUFBTyxTQUFHLE1BQUk7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LElBQ1QsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLElBQUk7QUFBQSxNQUN4QyxLQUFLO0FBQUEsU0FDRjtBQUFBLElBQ1AsQ0FBQztBQUFBO0FBQUEsRUFLTCxNQUFNLENBQUMsU0FBUztBQUFBLElBQ1osUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLE1BQU07QUFBQSxNQUMxQyxLQUFLO0FBQUEsU0FDRjtBQUFBLE1BQ0gsU0FBUztBQUFBLFFBQ0wsZ0JBQWdCO0FBQUEsV0FDYixRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0osQ0FBQztBQUFBO0FBQUEsRUFLTCxRQUFRLENBQUMsU0FBUztBQUFBLElBQ2QsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLElBQUk7QUFBQSxNQUN4QyxLQUFLO0FBQUEsU0FDRjtBQUFBLElBQ1AsQ0FBQztBQUFBO0FBQUEsRUFLTCxJQUFJLENBQUMsU0FBUztBQUFBLElBQ1YsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLElBQUk7QUFBQSxNQUN4QyxLQUFLO0FBQUEsU0FDRjtBQUFBLElBQ1AsQ0FBQztBQUFBO0FBQUEsRUFLTCxJQUFJLENBQUMsU0FBUztBQUFBLElBQ1YsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLEtBQUs7QUFBQSxNQUN6QyxLQUFLO0FBQUEsU0FDRjtBQUFBLE1BQ0gsU0FBUztBQUFBLFFBQ0wsZ0JBQWdCO0FBQUEsV0FDYixRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0osQ0FBQztBQUFBO0FBQUEsRUFLTCxJQUFJLENBQUMsU0FBUztBQUFBLElBQ1YsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLEtBQUs7QUFBQSxNQUN6QyxLQUFLO0FBQUEsU0FDRjtBQUFBLE1BQ0gsU0FBUztBQUFBLFFBQ0wsZ0JBQWdCO0FBQUEsV0FDYixRQUFRO0FBQUEsTUFDZjtBQUFBLElBQ0osQ0FBQztBQUFBO0FBQUEsRUFLTCxLQUFLLENBQUMsU0FBUztBQUFBLElBQ1gsUUFBUSxRQUFRLFVBQVUsS0FBSyxTQUFTLEtBQUs7QUFBQSxNQUN6QyxLQUFLO0FBQUEsU0FDRjtB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QSxJQUNKLENBQUM7QUFBQTtBQUFBLEVBRUwsU0FBUyxJQUFJLE9BQU8sRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDNUMsVUFBVSxJQUFJLFFBQVEsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDOUMsTUFBTSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdEMsU0FBUyxJQUFJLE9BQU8sRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDNUMsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDeEMsV0FBVyxJQUFJLFNBQVMsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDaEQsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDeEMsTUFBTSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdEMsVUFBVSxJQUFJLFFBQVEsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDOUMsVUFBVSxJQUFJLFFBQVEsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDOUMsV0FBVyxJQUFJLFNBQVMsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDaEQsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDeEMsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDeEMsTUFBTSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdEMsTUFBTSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdEMsTUFBTSxJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDdEMsWUFBWSxJQUFJLFVBQVUsRUFBRSxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQUEsRUFDbEQsTUFBTSxJ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Q0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsRUFDSjtBQUFBLEVBQ0EsV0FBVyxDQUFDLGFBQWEsU0FBUyxVQUFVLFdBQVcsU0FBUyxNQUFNO0FBQUEsRUFDdEUsU0FBUyxDQUFDLFdBQVcsYUFBYSxhQUFhLFlBQVksZUFBZTtBQUM5RTtBQUtBLElBQU0sa0JBQTRDO0FBQUEsRUFDOUMsVUFBVTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQUEsRUFDQSxVQUFVO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsRUFDSjtBQUFBLEVBQ0EsU0FBUztBQUFBLElBQ0w7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQUEsRUFDQSxVQUFVO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQUEsRUFDQSxRQUFRO0FBQUEsSUFDSjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FB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LElBRUEsTUFBTSxhQUFhLFFBQVE7QUFBQSxJQUMzQixNQUFNLGlCQUFpQixRQUFRLE1BQU0sQ0FBQztBQUFBLElBR3RDLFFBQVE7QUFBQSxXQUNDO0FBQUEsUUFDRCxNQUFNLFFBQVEsY0FBYztBQUFBLFFBQzVCO0FBQUEsV0FFQztBQUFBLFdBQ0E7QUFBQSxRQUNELE1BQU0sV0FBVyxjQUFjO0FBQUEsUUFDL0I7QUFBQSxXQUVDO0FBQUEsV0FDQTtBQUFBLFFBQ0QsTUFBTSxTQUFTLGNBQWM7QUFBQSxRQUM3QjtBQUFBLFdBRUM7QUFBQSxXQUNBO0FBQUEsUUFDRCxRQUFRLElBQUksYUFBYTtBQUFBLFFBQ3pCO0FBQUE7QUFBQSxRQUtBLE1BQU0sU0FBUyxPQUFPO0FBQUEsUUFDdEI7QUFBQTtBQUFBLElBRVYsT0FBTyxPQUFPO0FBQUEsSUFDWixHQUFHLE1BQU0saUJBQWlCLFFBQVEsTUFBTSxVQUFVLE9BQU8sS0FBSyxDQUFDO0FBQUEsSUFDL0QsUUFBUSxLQUFLLENBQUM7QUFBQTtBQUFBOyIsCiAgImRlYnVnSWQiOiAiOTVGRjQ0QTI5NzEwRDRDRjY0NzU2RTIxNjQ3NTZFMjEiLAogICJuYW1lcyI6IFtdCn0=
